"use strict";(self.webpackChunkTP=self.webpackChunkTP||[]).push([[14],{8014:(nt,g,r)=>{r.r(g),r.d(g,{MisTurnosModule:()=>et});var d=r(6814),u=r(5920),l=r(8537),t=r(4946),x=r(2333),_=r(2425),f=r(5723),p=r(95);function h(o,a){if(1&o&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Oqu(e.toUpperCase())}}function m(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"td",13),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,c=t.oxw();return t.KtG(c.mostrarAcciones(n))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,i=t.oxw().$implicit;t.xp6(1),t.hij(" ",("id"===e?i[e].substring(0,5):"especialista"===e?i.especialista.apellido:"especialidad"===e?i.especialista.especialidad:i[e]).toUpperCase()," ")}}function b(o,a){if(1&o&&(t.TgZ(0,"tr",11),t.YNc(1,m,2,1,"td",12),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.obtenerColumnas(e.turnos))}}function C(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.cancelarTurno())}),t._uU(1,"CANCELAR TURNO"),t.qZA()}}function v(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.verResenia())}),t._uU(1,"VER RESE\xd1A"),t.qZA()}}function M(o,a){1&o&&(t.TgZ(0,"button",26),t._uU(1,"ENCUESTA"),t.qZA())}function T(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.calificarAtencion())}),t._uU(1,"CALIFICAR"),t.qZA()}}function w(o,a){if(1&o&&(t.TgZ(0,"div",22),t.YNc(1,C,2,0,"button",23),t.YNc(2,v,2,0,"button",23),t.YNc(3,M,2,0,"button",24),t.YNc(4,T,2,0,"button",23),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.evaluar(e.turno,"cancelar")),t.xp6(1),t.Q6J("ngIf",e.evaluar(e.turno,"resenia")),t.xp6(1),t.Q6J("ngIf",e.evaluar(e.turno,"encuesta")),t.xp6(1),t.Q6J("ngIf",e.evaluar(e.turno,"calificar"))}}function O(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",27)(1,"textarea",28),t.NdJ("ngModelChange",function(n){t.CHM(e);const c=t.oxw(2);return t.KtG(c.comentario=n)}),t.qZA(),t.TgZ(2,"button",25),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.cancelar(n.turno))}),t._uU(3,"ENVIAR"),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngModel",e.comentario)}}function Z(o,a){if(1&o&&(t.TgZ(0,"div",29)(1,"span",30),t._uU(2),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(""!=e.turno.resenia?e.turno.resenia:e.turno.comentario)}}function P(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",27)(1,"textarea",31),t.NdJ("ngModelChange",function(n){t.CHM(e);const c=t.oxw(2);return t.KtG(c.comentario=n)}),t.qZA(),t.TgZ(2,"button",25),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.calificarA(n.turno))}),t._uU(3,"ENVIAR"),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(1),t.MGl("placeholder","Detalle su experiencia en cuanto a la atencion del especialista ",e.turno.especialista.apellido,"..."),t.Q6J("ngModel",e.comentario)}}function A(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",15)(2,"span",16),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.closeModal())}),t._uU(3,"\xd7"),t.qZA(),t.TgZ(4,"h2",17),t._uU(5,"ACCIONES DISPONIBLES PARA ESTE TURNO"),t.qZA(),t.TgZ(6,"p",18),t._uU(7),t.qZA(),t.YNc(8,w,5,4,"div",19),t.YNc(9,O,4,1,"div",20),t.YNc(10,Z,3,1,"div",21),t.YNc(11,P,4,2,"div",20),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(7),t.HOy("",e.turno.id.substring(0,5)," - ",e.turno.fecha," - ",e.turno.especialista.apellido," - ",e.turno.especialista.especialidad,""),t.xp6(1),t.Q6J("ngIf",e.botones),t.xp6(1),t.Q6J("ngIf",!e.botones&&e.reseniaTxt),t.xp6(1),t.Q6J("ngIf",!e.botones&&e.resenia),t.xp6(1),t.Q6J("ngIf",!e.botones&&e.calificar)}}let k=(()=>{class o{constructor(e,i){this.firestore=e,this.toast=i,this.turnos=[],this.busqueda="",this.comentario="",this.modal=!1,this.fechaActual=new Date,this.botones=!0,this.resenia=!1,this.reseniaTxt=!1,this.calificar=!1,l.C.traerFs("turnos",this.firestore,"fecha").subscribe(n=>{this.turnos=[],n.forEach(c=>{c.paciente.dni===this.paciente.dni&&this.turnos.push(c)})})}ngOnInit(){}obtenerColumnas(e){let i=[];return 0!==e.length&&Object.keys(e[0]).forEach(n=>{"especialista"==n?(i.push("especialista"),i.push("especialidad")):"paciente"!=n&&"resenia"!=n&&"comentario"!=n&&i.push(n)}),i}filtrarTurnos(){const e=this.busqueda.toLowerCase().trim();return""===e?this.turnos:this.turnos.filter(i=>i.especialista.apellido?.toString().toLowerCase().includes(e)||i.especialista.especialidad?.toString().toLowerCase().includes(e))}mostrarAcciones(e){this.modal=!0,this.turno=e}closeModal(){this.modal=!1,this.resenia=!1,this.turno=!1,this.botones=!0,this.reseniaTxt=!1,this.comentario=""}construirFecha(e){const i=e.split("/");return new Date(+i[2],+i[1]-1,+i[0])}evaluar(e,i){let n=!1;switch(i){case"cancelar":this.fechaActual<this.construirFecha(e.fecha)&&"realizado"!=e.estado&&"cancelado"!=e.estado&&(n=!0);break;case"encuesta":"realizado"==e.estado&&""!=e.resenia&&(n=!0);break;case"calificar":"realizado"==e.estado&&""==e.comentario&&(n=!0);break;case"resenia":(""!=e.resenia||""!=e.comentario)&&(n=!0)}return n}cancelarTurno(){this.botones=!1,this.reseniaTxt=!0}verResenia(){this.botones=!1,this.resenia=!0}completarEncuesta(){}calificarAtencion(){this.botones=!1,this.calificar=!0}calificarA(e){""!=this.comentario?(e.comentario=this.comentario,l.C.actualizarFs("turnos",e,this.firestore).then(()=>{this.toast.info("Turno calificado..."),this.closeModal()})):this.toast.error("Debe completar el campo...")}cancelar(e){""!=this.comentario?(e.estado="cancelado",e.comentario=this.comentario,l.C.actualizarFs("turnos",e,this.firestore).then(()=>{this.toast.info("Turno cancelado..."),this.closeModal()})):this.toast.error("Debe completar el campo...")}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(f.gg),t.Y36(_._W))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-paciente"]],inputs:{paciente:"paciente"},decls:15,vars:4,consts:[[1,"contenedor"],[1,"input-contenedor"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 8 8",1,"lupa"],["fill","#ffffff","d","M3.5 0C1.57 0 0 1.57 0 3.5S1.57 7 3.5 7c.59 0 1.17-.14 1.66-.41a1 1 0 0 0 .13.13l1 1a1.02 1.02 0 1 0 1.44-1.44l-1-1a1 1 0 0 0-.16-.13c.27-.49.44-1.06.44-1.66c0-1.93-1.57-3.5-3.5-3.5zm0 1C4.89 1 6 2.11 6 3.5c0 .66-.24 1.27-.66 1.72l-.03.03a1 1 0 0 0-.13.13c-.44.4-1.04.63-1.69.63c-1.39 0-2.5-1.11-2.5-2.5s1.11-2.5 2.5-2.5z"],["type","text","placeholder","Buscar por especialista o especialidad...",1,"buscador",3,"ngModel","ngModelChange"],[1,"table-contenedor"],[4,"ngFor","ngForOf"],[1,"table-contenedor",2,"overflow","auto"],[2,"overflow-y","auto"],["style","cursor: pointer;",4,"ngFor","ngForOf"],["class","modal-ventana",4,"ngIf"],[2,"cursor","pointer"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"modal-ventana"],[1,"modal-content-ventana"],[1,"close",3,"click"],[1,"py-5",2,"text-align","center"],[1,"py-2","turno"],["class","btns py-5",4,"ngIf"],["class","textarea py-2",4,"ngIf"],["class","resenia py-4",4,"ngIf"],[1,"btns","py-5"],["class","accion",3,"click",4,"ngIf"],["class","accion",4,"ngIf"],[1,"accion",3,"click"],[1,"accion"],[1,"textarea","py-2"],["placeholder","Ingrese el motivo por el cual cancela...",3,"ngModel","ngModelChange"],[1,"resenia","py-4"],[2,"width","90%"],[3,"ngModel","placeholder","ngModelChange"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t.O4$(),t.TgZ(2,"svg",2),t._UZ(3,"path",3),t.qZA(),t.kcU(),t.TgZ(4,"input",4),t.NdJ("ngModelChange",function(s){return n.busqueda=s}),t.qZA()(),t.TgZ(5,"div",5)(6,"table")(7,"thead")(8,"tr"),t.YNc(9,h,2,1,"th",6),t.qZA()()()(),t.TgZ(10,"div",7)(11,"table")(12,"tbody",8),t.YNc(13,b,2,1,"tr",9),t.qZA()()(),t.YNc(14,A,12,8,"div",10),t.qZA()),2&i&&(t.xp6(4),t.Q6J("ngModel",n.busqueda),t.xp6(5),t.Q6J("ngForOf",n.obtenerColumnas(n.turnos)),t.xp6(4),t.Q6J("ngForOf",n.filtrarTurnos()),t.xp6(1),t.Q6J("ngIf",n.modal))},dependencies:[d.sg,d.O5,p.Fj,p.JJ,p.On],styles:['.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:10px;width:100%;height:100%}.input-contenedor[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;gap:15px}.buscador[_ngcontent-%COMP%]{width:67%;padding:10px;box-shadow:#ccdbe8 3px 3px 6px inset,#ffffff80 -3px -3px 6px 1px inset;border:none;border-radius:10px}.buscador[_ngcontent-%COMP%]:focus{outline:none}.table-contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:70%;max-height:72%;border-radius:10px}table[_ngcontent-%COMP%]{width:100%;font-weight:100;border-collapse:collapse;overflow:hidden;box-shadow:0 0 20px #0000001a;border-radius:10px;table-layout:fixed;text-align:center}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{background-color:#fff3;padding:15px;color:#000}th[_ngcontent-%COMP%]{color:#fff}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#2d6a4f}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ffffff4d}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:hover:before{content:"";position:absolute;inset:-9999px 0;z-index:-1}@media (max-width: 600px){table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{display:block;width:100%}}.lupa[_ngcontent-%COMP%]{width:2.1%}[_ngcontent-%COMP%]::-webkit-scrollbar{width:20px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px gray;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#2D6A4F;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#1c4231}.modal-ventana[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal-content-ventana[_ngcontent-%COMP%]{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:40%;height:auto;max-height:80%;border-radius:10px}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700;cursor:pointer}.close[_ngcontent-%COMP%]:hover{color:#000}.turno[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:center;font-weight:700;font-size:20px}.btns[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.accion[_ngcontent-%COMP%]{padding:15px;border-radius:10px;border:none}.accion[_ngcontent-%COMP%]:hover{box-shadow:#0000002b 0 -23px 25px inset,#00000026 0 -36px 30px inset,#0000001a 0 -79px 40px inset,#0000000f 0 2px 1px,#00000017 0 4px 2px,#00000017 0 8px 4px,#00000017 0 16px 8px,#00000017 0 32px 16px;color:#fff}.accion[_ngcontent-%COMP%]:active{box-shadow:#0000001a 0 -23px 25px inset,#00000026 0 -36px 30px inset,#0000001a 0 -79px 40px inset,#0000000f 0 2px 1px,#00000017 0 4px 2px,#00000017 0 8px 4px,#00000017 0 16px 8px,#00000017 0 32px 16px}button[_ngcontent-%COMP%]{padding:.4%;border:none;border-radius:10px;width:auto;background-color:#94e1af;font-size:18px;border:2px solid #94e1af;box-shadow:4px 4px 10px #00000080}.textarea[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;max-height:75%;width:100%;gap:10px}.textarea[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:98%;height:100%}.resenia[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;font-size:20px;width:100%;white-space:pre-wrap}']})}return o})();function E(o,a){if(1&o&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Oqu(e.toUpperCase())}}function y(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"td",13),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,c=t.oxw();return t.KtG(c.mostrarAcciones(n))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit,i=t.oxw().$implicit;t.xp6(1),t.hij(" ",("id"===e?i[e].substring(0,5):"realizado"===e?i[e]?"si":"no":"paciente"===e?i.paciente.apellido:"especialidad"===e?i.especialista.especialidad:i[e]).toUpperCase()," ")}}function N(o,a){if(1&o&&(t.TgZ(0,"tr",11),t.YNc(1,y,2,1,"td",12),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.obtenerColumnas(e.turnos))}}function J(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.aceptarTurno(n.turno))}),t._uU(1,"ACEPTAR TURNO"),t.qZA()}}function I(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.rechazarTurno())}),t._uU(1,"RECHAZAR TURNO"),t.qZA()}}function q(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.cancelarTurno())}),t._uU(1,"CANCELAR TURNO"),t.qZA()}}function F(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.finalizarTurno())}),t._uU(1,"FINALIZAR TURNO"),t.qZA()}}function U(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.verResenia())}),t._uU(1,"VER RESE\xd1A"),t.qZA()}}function z(o,a){if(1&o&&(t.TgZ(0,"div",22),t.YNc(1,J,2,0,"button",23),t.YNc(2,I,2,0,"button",23),t.YNc(3,q,2,0,"button",23),t.YNc(4,F,2,0,"button",23),t.YNc(5,U,2,0,"button",23),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.evaluar(e.turno,"aceptar")),t.xp6(1),t.Q6J("ngIf",e.evaluar(e.turno,"can-rec")),t.xp6(1),t.Q6J("ngIf",e.evaluar(e.turno,"can-rec")),t.xp6(1),t.Q6J("ngIf",e.evaluar(e.turno,"finalizar")),t.xp6(1),t.Q6J("ngIf",e.evaluar(e.turno,"resenia"))}}function Q(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",25)(1,"textarea",26),t.NdJ("ngModelChange",function(n){t.CHM(e);const c=t.oxw(2);return t.KtG(c.comentario=n)}),t.qZA(),t.TgZ(2,"button",24),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.actualizar(n.turno,"cancelado"))}),t._uU(3,"ENVIAR"),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngModel",e.comentario)}}function Y(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",25)(1,"textarea",27),t.NdJ("ngModelChange",function(n){t.CHM(e);const c=t.oxw(2);return t.KtG(c.comentario=n)}),t.qZA(),t.TgZ(2,"button",24),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.actualizar(n.turno,"rechazado"))}),t._uU(3,"ENVIAR"),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngModel",e.comentario)}}function R(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",25)(1,"textarea",28),t.NdJ("ngModelChange",function(n){t.CHM(e);const c=t.oxw(2);return t.KtG(c.comentario=n)}),t.qZA(),t.TgZ(2,"button",24),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.actualizar(n.turno,"finalizado"))}),t._uU(3,"ENVIAR"),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngModel",e.comentario)}}function G(o,a){if(1&o&&(t.TgZ(0,"div",29)(1,"span",30),t._uU(2),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(e.turno.resenia)}}function H(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",15)(2,"span",16),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.closeModal())}),t._uU(3,"\xd7"),t.qZA(),t.TgZ(4,"h2",17),t._uU(5,"ACCIONES DISPONIBLES PARA ESTE TURNO"),t.qZA(),t.TgZ(6,"p",18),t._uU(7),t.qZA(),t.YNc(8,z,6,5,"div",19),t.YNc(9,Q,4,1,"div",20),t.YNc(10,Y,4,1,"div",20),t.YNc(11,R,4,1,"div",20),t.YNc(12,G,3,1,"div",21),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(7),t.xDo("",e.turno.id.substring(0,5).toUpperCase()," - ",e.turno.fecha," - ",e.turno.paciente.dni," - ",e.turno.paciente.apellido," - ",e.turno.estado.toUpperCase(),""),t.xp6(1),t.Q6J("ngIf",e.botones),t.xp6(1),t.Q6J("ngIf",!e.botones&&!e.resenia&&e.cancelar),t.xp6(1),t.Q6J("ngIf",!e.botones&&!e.resenia&&e.rechazar),t.xp6(1),t.Q6J("ngIf",!e.botones&&!e.resenia&&e.finalizar),t.xp6(1),t.Q6J("ngIf",!e.botones&&e.resenia)}}let j=(()=>{class o{constructor(e,i){this.firestore=e,this.toast=i,this.turnos=[],this.busqueda="",this.comentario="",this.modal=!1,this.fechaActual=new Date,this.botones=!0,this.resenia=!1,this.cancelar=!1,this.rechazar=!1,this.finalizar=!1,l.C.traerFs("turnos",this.firestore,"fecha").subscribe(n=>{this.turnos=[],n.forEach(c=>{c.especialista.dni===this.especialista.dni&&this.turnos.push(c)})})}ngOnInit(){}obtenerColumnas(e){let i=[];return 0!==e.length&&Object.keys(e[0]).forEach(n=>{"especialista"==n?i.push("especialidad"):"resenia"!=n&&"comentario"!=n&&i.push(n)}),i}mostrarAcciones(e){this.modal=!0,this.turno=e}closeModal(){this.modal=!1,this.resenia=!1,this.turno=!1,this.botones=!0,this.rechazar=!1,this.finalizar=!1,this.cancelar=!1}construirFecha(e){const i=e.split("/");return new Date(+i[2],+i[1]-1,+i[0])}filtrarTurnos(){const e=this.busqueda.toLowerCase().trim();return""===e?this.turnos:this.turnos.filter(i=>i.paciente.apellido?.toString().toLowerCase().includes(e)||i.especialista.especialidad?.toString().toLowerCase().includes(e))}evaluar(e,i){let n=!1;switch(i){case"can-rec":this.fechaActual<this.construirFecha(e.fecha)&&"aceptado"!==e.estado&&"realizado"!==e.estado&&"rechazado"!==e.estado&&"cancelado"!==e.estado&&"finalizado"!==e.estado&&(n=!0);break;case"aceptar":"pendiente"===e.estado&&(n=!0);break;case"finalizar":"aceptado"===e.estado&&(n=!0);break;case"resenia":""!=e.resenia&&(n=!0)}return n}cancelarTurno(){this.botones=!1,this.cancelar=!0}verResenia(){this.botones=!1,this.resenia=!0}rechazarTurno(){this.botones=!1,this.rechazar=!0}aceptarTurno(e){e.estado="aceptado",l.C.actualizarFs("turnos",e,this.firestore).then(()=>{this.toast.info("Turno aceptado..."),this.closeModal()})}finalizarTurno(){this.botones=!1,this.finalizar=!0}actualizar(e,i){""!=this.comentario?(e.estado=i,e.resenia=this.comentario,l.C.actualizarFs("turnos",e,this.firestore).then(()=>{this.toast.info("Turno"+i+"..."),this.closeModal()})):this.toast.error("Debe completar el campo...")}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(f.gg),t.Y36(_._W))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-especialista"]],inputs:{especialista:"especialista"},decls:15,vars:4,consts:[[1,"contenedor"],[1,"input-contenedor"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 8 8",1,"lupa"],["fill","#ffffff","d","M3.5 0C1.57 0 0 1.57 0 3.5S1.57 7 3.5 7c.59 0 1.17-.14 1.66-.41a1 1 0 0 0 .13.13l1 1a1.02 1.02 0 1 0 1.44-1.44l-1-1a1 1 0 0 0-.16-.13c.27-.49.44-1.06.44-1.66c0-1.93-1.57-3.5-3.5-3.5zm0 1C4.89 1 6 2.11 6 3.5c0 .66-.24 1.27-.66 1.72l-.03.03a1 1 0 0 0-.13.13c-.44.4-1.04.63-1.69.63c-1.39 0-2.5-1.11-2.5-2.5s1.11-2.5 2.5-2.5z"],["type","text","placeholder","Buscar por especialista o especialidad...",1,"buscador",3,"ngModel","ngModelChange"],[1,"table-contenedor"],[4,"ngFor","ngForOf"],[1,"table-contenedor",2,"overflow","auto"],[2,"overflow-y","auto"],["style","cursor: pointer;",4,"ngFor","ngForOf"],["class","modal-ventana",4,"ngIf"],[2,"cursor","pointer"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"modal-ventana"],[1,"modal-content-ventana"],[1,"close",3,"click"],[1,"py-5",2,"text-align","center"],[1,"py-2","turno"],["class","btns py-5",4,"ngIf"],["class","textarea py-2",4,"ngIf"],["class","resenia py-4",4,"ngIf"],[1,"btns","py-5"],["class","accion",3,"click",4,"ngIf"],[1,"accion",3,"click"],[1,"textarea","py-2"],["placeholder","Ingrese el motivo por el cual cancela...",3,"ngModel","ngModelChange"],["placeholder","Ingrese el motivo por el cual rechaza...",3,"ngModel","ngModelChange"],["placeholder","Ingrese el diagnostico de la consulta y su rese\xf1a...",3,"ngModel","ngModelChange"],[1,"resenia","py-4"],[2,"width","90%"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t.O4$(),t.TgZ(2,"svg",2),t._UZ(3,"path",3),t.qZA(),t.kcU(),t.TgZ(4,"input",4),t.NdJ("ngModelChange",function(s){return n.busqueda=s}),t.qZA()(),t.TgZ(5,"div",5)(6,"table")(7,"thead")(8,"tr"),t.YNc(9,E,2,1,"th",6),t.qZA()()()(),t.TgZ(10,"div",7)(11,"table")(12,"tbody",8),t.YNc(13,N,2,1,"tr",9),t.qZA()()(),t.YNc(14,H,13,10,"div",10),t.qZA()),2&i&&(t.xp6(4),t.Q6J("ngModel",n.busqueda),t.xp6(5),t.Q6J("ngForOf",n.obtenerColumnas(n.turnos)),t.xp6(4),t.Q6J("ngForOf",n.filtrarTurnos()),t.xp6(1),t.Q6J("ngIf",n.modal))},dependencies:[d.sg,d.O5,p.Fj,p.JJ,p.On],styles:['.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:10px;width:100%;height:100%}.input-contenedor[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;gap:15px}.buscador[_ngcontent-%COMP%]{width:67%;padding:10px;box-shadow:#ccdbe8 3px 3px 6px inset,#ffffff80 -3px -3px 6px 1px inset;border:none;border-radius:10px}.buscador[_ngcontent-%COMP%]:focus{outline:none}.table-contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:70%;max-height:72%;border-radius:10px}table[_ngcontent-%COMP%]{width:100%;font-weight:100;border-collapse:collapse;overflow:hidden;box-shadow:0 0 20px #0000001a;border-radius:10px;table-layout:fixed;text-align:center}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{background-color:#fff3;padding:15px;color:#000}th[_ngcontent-%COMP%]{color:#fff}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e6091}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ffffff4d}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:hover:before{content:"";position:absolute;inset:-9999px 0;z-index:-1}@media (max-width: 600px){table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{display:block;width:100%}}.lupa[_ngcontent-%COMP%]{width:2.1%}[_ngcontent-%COMP%]::-webkit-scrollbar{width:20px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px gray;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#2D6A4F;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#1c4231}.modal-ventana[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal-content-ventana[_ngcontent-%COMP%]{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:40%;height:auto;max-height:80%;border-radius:10px}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700;cursor:pointer}.close[_ngcontent-%COMP%]:hover{color:#000}.turno[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:center;font-weight:700;font-size:20px}.btns[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.accion[_ngcontent-%COMP%]{padding:15px;border-radius:10px;border:none}.accion[_ngcontent-%COMP%]:hover{box-shadow:#0000002b 0 -23px 25px inset,#00000026 0 -36px 30px inset,#0000001a 0 -79px 40px inset,#0000000f 0 2px 1px,#00000017 0 4px 2px,#00000017 0 8px 4px,#00000017 0 16px 8px,#00000017 0 32px 16px;color:#fff}.accion[_ngcontent-%COMP%]:active{box-shadow:#0000001a 0 -23px 25px inset,#00000026 0 -36px 30px inset,#0000001a 0 -79px 40px inset,#0000000f 0 2px 1px,#00000017 0 4px 2px,#00000017 0 8px 4px,#00000017 0 16px 8px,#00000017 0 32px 16px}button[_ngcontent-%COMP%]{padding:.4%;border:none;border-radius:10px;width:auto;background-color:#94e1af;font-size:18px;border:2px solid #94e1af;box-shadow:4px 4px 10px #00000080}.textarea[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;max-height:75%;width:100%;gap:10px}.textarea[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:98%;height:100%}.resenia[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;font-size:20px;width:100%;white-space:pre-wrap}']})}return o})();function K(o,a){1&o&&(t.TgZ(0,"li",8)(1,"a",18),t._uU(2,"Usuarios"),t.qZA()())}function S(o,a){if(1&o&&(t.TgZ(0,"li",8)(1,"a",19),t._uU(2,"Mis Turnos"),t.qZA()()),2&o){const e=t.oxw();t.ekj("activo","/mis-turnos"===e.rutaActual)}}function L(o,a){1&o&&(t.TgZ(0,"button",20),t._uU(1,"LOGIN"),t.qZA())}function D(o,a){1&o&&(t.TgZ(0,"button",21),t._uU(1,"REGISTRO"),t.qZA())}function B(o,a){if(1&o&&(t.TgZ(0,"button"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.user.email.split("@")[0].toUpperCase())}}function $(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.cerrarSesion())}),t._uU(1,"LOGOUT"),t.qZA()}}function V(o,a){if(1&o&&(t.TgZ(0,"div",23),t._UZ(1,"app-paciente",24),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("paciente",e.user)}}function X(o,a){if(1&o&&(t.TgZ(0,"div",23),t._UZ(1,"app-especialista",25),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("especialista",e.user)}}const W=[{path:"",component:(()=>{class o{constructor(e,i,n,c){this.auth=e,this.toast=i,this.firestore=n,this.router=c,this.admins=[],this.pacientes=[],this.especialistas=[],this.router.events.subscribe(s=>{s instanceof u.m2&&(this.rutaActual=s.url)})}ngOnInit(){l.C.traerFs("usuarios",this.firestore).subscribe(e=>{let i,n,c;e.forEach(s=>{"administrador"===s.perfil?this.admins.push(s):"especialista"===s.perfil?this.especialistas.push(s):this.pacientes.push(s)}),this.admins.forEach(s=>{this.auth.get_user()?.email===s.email&&(i=s)}),this.user=this.auth.get_user()?.emailVerified||i?this.auth.get_user():null,this.especialistas.forEach(s=>{s.email===this.auth.get_user()?.email&&(c=s)}),this.pacientes.forEach(s=>{s.email===this.auth.get_user()?.email&&(n=s)}),this.user=n??c??null})}cerrarSesion(){this.toast.info("Cerrando sesion","Espera..."),this.auth.logout()?.then(()=>{setTimeout(()=>{this.toast.success("Cerraste sesion","Todo normal"),this.router.navigateByUrl("home"),this.user=null},2e3)})}estaEnArrayEmail(e,i){let n=!1;return i&&e.forEach(c=>{c.email===i.email&&(n=!0)}),n}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(x.e),t.Y36(_._W),t.Y36(f.gg),t.Y36(u.F0))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-mis-turnos"]],decls:20,vars:8,consts:[[1,"contenedor"],[1,"navbar","navbar-expand-xxl"],[1,"container-fluid"],["src","assets/medico.png","width","2%","routerLink","/home",1,"navbar-brand",2,"cursor","pointer"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarsExampleXxl","aria-controls","navbarsExampleXxl","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleXxl",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-xl-0"],[1,"nav-item"],["href","/home",1,"nav-link","active"],["class","nav-item",4,"ngIf"],["class","nav-item",3,"activo",4,"ngIf"],["routerLink","/login",4,"ngIf"],["style","margin-left: 10px;","routerLink","/registro",4,"ngIf"],[4,"ngIf"],["style","margin-left: 10px;",3,"click",4,"ngIf"],[2,"height","90%"],["style","width: 100%; height: 100%;",4,"ngIf"],["routerLink","/usuarios",1,"nav-link","active"],["routerLink","/mis-turnos",1,"nav-link","active"],["routerLink","/login"],["routerLink","/registro",2,"margin-left","10px"],[2,"margin-left","10px",3,"click"],[2,"width","100%","height","100%"],[3,"paciente"],[3,"especialista"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"nav",1)(2,"div",2),t._UZ(3,"img",3),t.TgZ(4,"button",4),t._UZ(5,"span",5),t.qZA(),t.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),t._uU(10,"Home"),t.qZA()(),t.YNc(11,K,3,0,"li",10),t.YNc(12,S,3,2,"li",11),t.qZA(),t.YNc(13,L,2,0,"button",12),t.YNc(14,D,2,0,"button",13),t.YNc(15,B,2,1,"button",14),t.YNc(16,$,2,0,"button",15),t.qZA()()(),t.TgZ(17,"div",16),t.YNc(18,V,2,1,"div",17),t.YNc(19,X,2,1,"div",17),t.qZA()()),2&i&&(t.xp6(11),t.Q6J("ngIf",n.estaEnArrayEmail(n.admins,n.user)),t.xp6(1),t.Q6J("ngIf",n.estaEnArrayEmail(n.pacientes,n.user)||n.estaEnArrayEmail(n.especialistas,n.user)),t.xp6(1),t.Q6J("ngIf",!n.user),t.xp6(1),t.Q6J("ngIf",!n.user),t.xp6(1),t.Q6J("ngIf",n.user),t.xp6(1),t.Q6J("ngIf",n.user),t.xp6(2),t.Q6J("ngIf","paciente"===n.user.perfil),t.xp6(1),t.Q6J("ngIf","especialista"===n.user.perfil))},dependencies:[d.O5,u.rH,k,j],styles:[".contenedor[_ngcontent-%COMP%]{width:100vw;height:100vh;background-color:#94e1af}.navbar[_ngcontent-%COMP%]{background-color:#d8f3dc;font-size:20px}button[_ngcontent-%COMP%]:hover{background-color:#78d1b6;transform:scale(1.05);color:#fff}button[_ngcontent-%COMP%]{padding:.4%;border:none;border-radius:10px;width:auto;background-color:#94e1af;font-size:18px;border:2px solid #94e1af;box-shadow:4px 4px 10px #00000080}button[_ngcontent-%COMP%]:active{background-color:#537e62}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}a[_ngcontent-%COMP%]{cursor:pointer}.activo[_ngcontent-%COMP%]{background-color:#94e1af;color:#fff;border-radius:10px}"]})}return o})()}];let tt=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(W),u.Bz]})}return o})(),et=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[d.ez,tt,p.u5]})}return o})()}}]);