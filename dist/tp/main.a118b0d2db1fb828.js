"use strict";(self.webpackChunkTP=self.webpackChunkTP||[]).push([[179],{7247:(pn,ft,K)=>{K.d(ft,{nm:()=>ti});var p=K(8186),Me=(K(4946),K(8726),K(3182),K(5861)),ae=K(534),R=K(4537),et=K(9058),ze=K(7879);const de=new Map,ue={activated:!1,tokenObservers:[]},je={initialized:!1,enabled:!1};function ot(Re){return de.get(Re)||Object.assign({},ue)}function Ot(){return je}const Dt="https://content-firebaseappcheck.googleapis.com/v1",an="exchangeDebugToken",xt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class tt{constructor(xe,Ve,mt,Pt,dn){if(this.operation=xe,this.retryPolicy=Ve,this.getWaitDuration=mt,this.lowerBound=Pt,this.upperBound=dn,this.pending=null,this.nextErrorWaitInterval=Pt,Pt>dn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(xe){var Ve=this;return(0,Me.Z)(function*(){Ve.stop();try{Ve.pending=new et.BH,yield function Ze(Re){return new Promise(xe=>{setTimeout(xe,Re)})}(Ve.getNextRun(xe)),Ve.pending.resolve(),yield Ve.pending.promise,Ve.pending=new et.BH,yield Ve.operation(),Ve.pending.resolve(),yield Ve.pending.promise,Ve.process(!0).catch(()=>{})}catch(mt){Ve.retryPolicy(mt)?Ve.process(!1).catch(()=>{}):Ve.stop()}})()}getNextRun(xe){if(xe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ve=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ve}}}const dt=new et.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ut(Re){if(!ot(Re).activated)throw dt.create("use-before-activation",{appName:Re.name})}function gr(Re,xe){return It.apply(this,arguments)}function It(){return(It=(0,Me.Z)(function*({url:Re,body:xe},Ve){const mt={"Content-Type":"application/json"},Pt=Ve.getImmediate({optional:!0});if(Pt){const ii=yield Pt.getHeartbeatsHeader();ii&&(mt["X-Firebase-Client"]=ii)}const dn={method:"POST",body:JSON.stringify(xe),headers:mt};let Wn,xn;try{Wn=yield fetch(Re,dn)}catch(ii){throw dt.create("fetch-network-error",{originalErrorMessage:ii?.message})}if(200!==Wn.status)throw dt.create("fetch-status-error",{httpStatus:Wn.status});try{xn=yield Wn.json()}catch(ii){throw dt.create("fetch-parse-error",{originalErrorMessage:ii?.message})}const rr=xn.ttl.match(/^([\d.]+)(s)$/);if(!rr||!rr[2]||isNaN(Number(rr[1])))throw dt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${xn.ttl}`});const Ti=1e3*Number(rr[1]),yi=Date.now();return{token:xn.token,expireTimeMillis:yi+Ti,issuedAtTimeMillis:yi}})).apply(this,arguments)}function Lt(Re,xe){const{projectId:Ve,appId:mt,apiKey:Pt}=Re.options;return{url:`${Dt}/projects/${Ve}/apps/${mt}:${an}?key=${Pt}`,body:{debug_token:xe}}}const An="firebase-app-check-database",He=1,Je="firebase-app-check-store";let De=null;function zt(){return(zt=(0,Me.Z)(function*(Re,xe){const mt=(yield function ve(){return De||(De=new Promise((Re,xe)=>{try{const Ve=indexedDB.open(An,He);Ve.onsuccess=mt=>{Re(mt.target.result)},Ve.onerror=mt=>{var Pt;xe(dt.create("storage-open",{originalErrorMessage:null===(Pt=mt.target.error)||void 0===Pt?void 0:Pt.message}))},Ve.onupgradeneeded=mt=>{0===mt.oldVersion&&mt.target.result.createObjectStore(Je,{keyPath:"compositeKey"})}}catch(Ve){xe(dt.create("storage-open",{originalErrorMessage:Ve?.message}))}}),De)}()).transaction(Je,"readwrite"),dn=mt.objectStore(Je).put({compositeKey:Re,value:xe});return new Promise((Wn,xn)=>{dn.onsuccess=rr=>{Wn()},mt.onerror=rr=>{var Ti;xn(dt.create("storage-set",{originalErrorMessage:null===(Ti=rr.target.error)||void 0===Ti?void 0:Ti.message}))}})})).apply(this,arguments)}const lr=new ze.Yd("@firebase/app-check");function nr(Re,xe){return(0,et.hl)()?function _e(Re,xe){return function _t(Re,xe){return zt.apply(this,arguments)}(function Rn(Re){return`${Re.options.appId}-${Re.name}`}(Re),xe)}(Re,xe).catch(Ve=>{lr.warn(`Failed to write token to IndexedDB. Error: ${Ve}`)}):Promise.resolve()}function En(){return Ot().enabled}function gi(){return cr.apply(this,arguments)}function cr(){return(cr=(0,Me.Z)(function*(){const Re=Ot();if(Re.enabled&&Re.token)return Re.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Bn={error:"UNKNOWN_ERROR"};function On(Re){return et.US.encodeString(JSON.stringify(Re),!1)}function yr(Re){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,Me.Z)(function*(Re,xe=!1){const Ve=Re.app;ut(Ve);const mt=ot(Ve);let dn,Pt=mt.token;if(Pt&&!ji(Pt)&&(mt.token=void 0,Pt=void 0),!Pt){const rr=yield mt.cachedTokenPromise;rr&&(ji(rr)?Pt=rr:yield nr(Ve,void 0))}if(!xe&&Pt&&ji(Pt))return{token:Pt.token};let xn,Wn=!1;if(En()){mt.exchangeTokenPromise||(mt.exchangeTokenPromise=gr(Lt(Ve,yield gi()),Re.heartbeatServiceProvider).finally(()=>{mt.exchangeTokenPromise=void 0}),Wn=!0);const rr=yield mt.exchangeTokenPromise;return yield nr(Ve,rr),mt.token=rr,{token:rr.token}}try{mt.exchangeTokenPromise||(mt.exchangeTokenPromise=mt.provider.getToken().finally(()=>{mt.exchangeTokenPromise=void 0}),Wn=!0),Pt=yield ot(Ve).exchangeTokenPromise}catch(rr){"appCheck/throttled"===rr.code?lr.warn(rr.message):lr.error(rr),dn=rr}return Pt?dn?xn=ji(Pt)?{token:Pt.token,internalError:dn}:Oi(dn):(xn={token:Pt.token},mt.token=Pt,yield nr(Ve,Pt)):xn=Oi(dn),Wn&&function Kt(Re,xe){const Ve=ot(Re).tokenObservers;for(const mt of Ve)try{"EXTERNAL"===mt.type&&null!=xe.error?mt.error(xe.error):mt.next(xe)}catch{}}(Ve,xn),xn})).apply(this,arguments)}function ei(Re){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,Me.Z)(function*(Re){const xe=Re.app;ut(xe);const{provider:Ve}=ot(xe);if(En()){const mt=yield gi(),{token:Pt}=yield gr(Lt(xe,mt),Re.heartbeatServiceProvider);return{token:Pt}}{const{token:mt}=yield Ve.getToken();return{token:mt}}})).apply(this,arguments)}function di(Re,xe){const Ve=ot(Re),mt=Ve.tokenObservers.filter(Pt=>Pt.next!==xe);0===mt.length&&Ve.tokenRefresher&&Ve.tokenRefresher.isRunning()&&Ve.tokenRefresher.stop(),Ve.tokenObservers=mt}function _r(Re){const{app:xe}=Re,Ve=ot(xe);let mt=Ve.tokenRefresher;mt||(mt=function hi(Re){const{app:xe}=Re;return new tt((0,Me.Z)(function*(){let mt;if(mt=ot(xe).token?yield yr(Re,!0):yield yr(Re),mt.error)throw mt.error;if(mt.internalError)throw mt.internalError}),()=>!0,()=>{const Ve=ot(xe);if(Ve.token){let mt=Ve.token.issuedAtTimeMillis+.5*(Ve.token.expireTimeMillis-Ve.token.issuedAtTimeMillis)+3e5;return mt=Math.min(mt,Ve.token.expireTimeMillis-3e5),Math.max(0,mt-Date.now())}return 0},xt.RETRIAL_MIN_WAIT,xt.RETRIAL_MAX_WAIT)}(Re),Ve.tokenRefresher=mt),!mt.isRunning()&&Ve.isTokenAutoRefreshEnabled&&mt.start()}function ji(Re){return Re.expireTimeMillis-Date.now()>0}function Oi(Re){return{token:On(Bn),error:Re}}class zr{constructor(xe,Ve){this.app=xe,this.heartbeatServiceProvider=Ve}_delete(){const{tokenObservers:xe}=ot(this.app);for(const Ve of xe)di(this.app,Ve.next);return Promise.resolve()}}const Zt="app-check-internal";!function Nn(){(0,ae._registerComponent)(new R.wA("app-check",Re=>function ri(Re,xe){return new zr(Re,xe)}(Re.getProvider("app").getImmediate(),Re.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Re,xe,Ve)=>{Re.getProvider(Zt).initialize()})),(0,ae._registerComponent)(new R.wA(Zt,Re=>function wr(Re){return{getToken:xe=>yr(Re,xe),getLimitedUseToken:()=>ei(Re),addTokenListener:xe=>function kr(Re,xe,Ve,mt){const{app:Pt}=Re,dn=ot(Pt);if(dn.tokenObservers=[...dn.tokenObservers,{next:Ve,error:mt,type:xe}],dn.token&&ji(dn.token)){const xn=dn.token;Promise.resolve().then(()=>{Ve({token:xn.token}),_r(Re)}).catch(()=>{})}dn.cachedTokenPromise.then(()=>_r(Re))}(Re,"INTERNAL",xe),removeTokenListener:xe=>di(Re.app,xe)}}(Re.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)("@firebase/app-check","0.8.0")}();class ti{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window},8726:(pn,ft,K)=>{K.d(ft,{Ot:()=>Se,ZF:()=>Bt,hX:()=>ot,z6:()=>Me});var p=K(3182),he=K(4946),Ee=K(8186);class Se{constructor(tt){return tt}}class Me{constructor(){return(0,p.C6)()}}const et=new he.OlP("angularfire2._apps"),ze={provide:Se,useFactory:function R(be){return be&&1===be.length?be[0]:new Se((0,p.Mq)())},deps:[[new he.FiY,et]]},de={provide:Me,deps:[[new he.FiY,et]]};function ue(be){return(tt,Ze)=>{const gt=tt.runOutsideAngular(()=>be(Ze));return new Se(gt)}}let je=(()=>{class be{constructor(Ze){(0,p.KN)("angularfire",Ee.q4.full,"core"),(0,p.KN)("angularfire",Ee.q4.full,"app"),(0,p.KN)("angular",he.q4F.full,Ze.toString())}}return be.\u0275fac=function(Ze){return new(Ze||be)(he.LFG(he.Lbi))},be.\u0275mod=he.oAB({type:be}),be.\u0275inj=he.cJS({providers:[ze,de]}),be})();function ot(be,...tt){return{ngModule:je,providers:[{provide:et,useFactory:ue(be),multi:!0,deps:[he.R0b,he.zs3,Ee.HU,...tt]}]}}const Bt=(0,Ee.u3)(p.ZF,!0)},5609:(pn,ft,K)=>{K.d(ft,{gx:()=>gu,dh:()=>mu,Xb:()=>Al,v0:()=>_p,AR:()=>zc,w$:()=>zu,e5:()=>Mm,w7:()=>nu});var p=K(8186),he=K(4946),Ee=K(8726),Se=K(3182),Me=K(7247),ae=K(5861),R=K(9058),et=K(534),ze=K(7582),de=K(7879),ue=K(4537);const xt=function At(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},be=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ze=new de.Yd("@firebase/auth");function dt(T,...h){Ze.logLevel<=de.in.ERROR&&Ze.error(`Auth (${et.SDK_VERSION}): ${T}`,...h)}function ct(T,...h){throw gr(T,...h)}function ut(T,...h){return gr(T,...h)}function gr(T,...h){if("string"!=typeof T){const g=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=T.name),T._errorFactory.create(g,...C)}return be.create(T,...h)}function It(T,h,...g){if(!T)throw gr(h,...g)}function Et(T){const h="INTERNAL ASSERTION FAILED: "+T;throw dt(h),new Error(h)}function bn(T,h){T||Et(h)}function Lt(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function He(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class De{constructor(h,g){this.shortDelay=h,this.longDelay=g,bn(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function Je(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function An(){return"http:"===He()||"https:"===He()}()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ve(T,h){bn(T.emulator,"Emulator should always be set here");const{url:g}=T.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class oe{static initialize(h,g,C){this.fetchImpl=h,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},We=new De(3e4,6e4);function pt(T,h){return T.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:T.tenantId}):h}function _t(T,h,g,C){return zt.apply(this,arguments)}function zt(){return(zt=(0,ae.Z)(function*(T,h,g,C,W={}){return tr(T,W,(0,ae.Z)(function*(){let se={},Fe={};C&&("GET"===h?Fe=C:se={body:JSON.stringify(C)});const lt=(0,R.xO)(Object.assign({key:T.config.apiKey},Fe)).slice(1),Qt=yield T._getAdditionalHeaders();return Qt["Content-Type"]="application/json",T.languageCode&&(Qt["X-Firebase-Locale"]=T.languageCode),oe.fetch()(ar(T,T.config.apiHost,g,lt),Object.assign({method:h,headers:Qt,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function tr(T,h,g){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,ae.Z)(function*(T,h,g){T._canInitEmulator=!1;const C=Object.assign(Object.assign({},_e),h);try{const W=new kn(T),se=yield Promise.race([g(),W.promise]);W.clearNetworkTimeout();const Fe=yield se.json();if("needConfirmation"in Fe)throw nr(T,"account-exists-with-different-credential",Fe);if(se.ok&&!("errorMessage"in Fe))return Fe;{const lt=se.ok?Fe.errorMessage:Fe.error.message,[Qt,hn]=lt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qt)throw nr(T,"credential-already-in-use",Fe);if("EMAIL_EXISTS"===Qt)throw nr(T,"email-already-in-use",Fe);if("USER_DISABLED"===Qt)throw nr(T,"user-disabled",Fe);const wn=C[Qt]||Qt.toLowerCase().replace(/[_\s]+/g,"-");if(hn)throw function vn(T,h,g){const C=Object.assign(Object.assign({},xt()),{[h]:g});return new R.LL("auth","Firebase",C).create(h,{appName:T.name})}(T,wn,hn);ct(T,wn)}}catch(W){if(W instanceof R.ZR)throw W;ct(T,"network-request-failed",{message:String(W)})}})).apply(this,arguments)}function Rn(T,h,g,C){return lr.apply(this,arguments)}function lr(){return(lr=(0,ae.Z)(function*(T,h,g,C,W={}){const se=yield _t(T,h,g,C,W);return"mfaPendingCredential"in se&&ct(T,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function ar(T,h,g,C){const W=`${h}${g}?${C}`;return T.config.emulator?ve(T.config,W):`${T.config.apiScheme}://${W}`}class kn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(ut(this.auth,"network-request-failed")),We.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nr(T,h,g){const C={appName:T.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const W=ut(T,h,C);return W.customData._tokenResponse=g,W}function hr(){return(hr=(0,ae.Z)(function*(T,h){return _t(T,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function sr(){return(sr=(0,ae.Z)(function*(T,h){return _t(T,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Bn(T){if(T)try{const h=new Date(Number(T));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Gr(){return(Gr=(0,ae.Z)(function*(T,h=!1){const g=(0,R.m9)(T),C=yield g.getIdToken(h),W=Dr(C);It(W&&W.exp&&W.auth_time&&W.iat,g.auth,"internal-error");const se="object"==typeof W.firebase?W.firebase:void 0,Fe=se?.sign_in_provider;return{claims:W,token:C,authTime:Bn(ei(W.auth_time)),issuedAtTime:Bn(ei(W.iat)),expirationTime:Bn(ei(W.exp)),signInProvider:Fe||null,signInSecondFactor:se?.sign_in_second_factor||null}})).apply(this,arguments)}function ei(T){return 1e3*Number(T)}function Dr(T){const[h,g,C]=T.split(".");if(void 0===h||void 0===g||void 0===C)return dt("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,R.tV)(g);return W?JSON.parse(W):(dt("Failed to decode base64 JWT payload"),null)}catch(W){return dt("Caught error parsing JWT payload as JSON",W?.toString()),null}}function di(T,h){return _r.apply(this,arguments)}function _r(){return(_r=(0,ae.Z)(function*(T,h,g=!1){if(g)return h;try{return yield h}catch(C){throw C instanceof R.ZR&&function hi({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}(C)&&T.auth.currentUser===T&&(yield T.auth.signOut()),C}})).apply(this,arguments)}class Kt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const W=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,ae.Z)(function*(){yield g.iteration()}),C)}iteration(){var h=this;return(0,ae.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&h.schedule(!0))}h.schedule()})()}}class ji{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bn(this.lastLoginAt),this.creationTime=Bn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Oi(T){return zr.apply(this,arguments)}function zr(){return zr=(0,ae.Z)(function*(T){var h;const g=T.auth,C=yield T.getIdToken(),W=yield di(T,function cr(T,h){return sr.apply(this,arguments)}(g,{idToken:C}));It(W?.users.length,g,"internal-error");const se=W.users[0];T._notifyReloadListener(se);const Fe=null!==(h=se.providerUserInfo)&&void 0!==h&&h.length?function bi(T){return T.map(h=>{var{providerId:g}=h,C=(0,ze._T)(h,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(se.providerUserInfo):[],lt=function yn(T,h){return[...T.filter(C=>!h.some(W=>W.providerId===C.providerId)),...h]}(T.providerData,Fe),wn=!!T.isAnonymous&&!(T.email&&se.passwordHash||lt?.length),Br={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:lt,metadata:new ji(se.createdAt,se.lastLoginAt),isAnonymous:wn};Object.assign(T,Br)}),zr.apply(this,arguments)}function wr(){return(wr=(0,ae.Z)(function*(T){const h=(0,R.m9)(T);yield Oi(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Cn(){return(Cn=(0,ae.Z)(function*(T,h){const g=yield tr(T,{},(0,ae.Z)(function*(){const C=(0,R.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:W,apiKey:se}=T.config,Fe=ar(T,W,"/v1/token",`key=${se}`),lt=yield T._getAdditionalHeaders();return lt["Content-Type"]="application/x-www-form-urlencoded",oe.fetch()(Fe,{method:"POST",headers:lt,body:C})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class vr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){It(h.idToken,"internal-error"),It(typeof h.idToken<"u","internal-error"),It(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function kr(T){const h=Dr(T);return It(h,"internal-error"),It(typeof h.exp<"u","internal-error"),It(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var C=this;return(0,ae.Z)(function*(){return It(!C.accessToken||C.refreshToken,h,"user-token-expired"),g||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(h,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var C=this;return(0,ae.Z)(function*(){const{accessToken:W,refreshToken:se,expiresIn:Fe}=yield function wi(T,h){return Cn.apply(this,arguments)}(h,g);C.updateTokensAndExpiration(W,se,Number(Fe))})()}updateTokensAndExpiration(h,g,C){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,g){const{refreshToken:C,accessToken:W,expirationTime:se}=g,Fe=new vr;return C&&(It("string"==typeof C,"internal-error",{appName:h}),Fe.refreshToken=C),W&&(It("string"==typeof W,"internal-error",{appName:h}),Fe.accessToken=W),se&&(It("number"==typeof se,"internal-error",{appName:h}),Fe.expirationTime=se),Fe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new vr,this.toJSON())}_performRefresh(){return Et("not implemented")}}function Hn(T,h){It("string"==typeof T||typeof T>"u","internal-error",{appName:h})}class Fr{constructor(h){var{uid:g,auth:C,stsTokenManager:W}=h,se=(0,ze._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new ji(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,ae.Z)(function*(){const C=yield di(g,g.stsTokenManager.getToken(g.auth,h));return It(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(h){return function yr(T){return Gr.apply(this,arguments)}(this,h)}reload(){return function ri(T){return wr.apply(this,arguments)}(this)}_assign(h){this!==h&&(It(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new Fr(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){It(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var C=this;return(0,ae.Z)(function*(){let W=!1;h.idToken&&h.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(h),W=!0),g&&(yield Oi(C)),yield C.auth._persistUserIfCurrent(C),W&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var h=this;return(0,ae.Z)(function*(){const g=yield h.getIdToken();return yield di(h,function mn(T,h){return hr.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var C,W,se,Fe,lt,Qt,hn,wn;const Br=null!==(C=g.displayName)&&void 0!==C?C:void 0,Js=null!==(W=g.email)&&void 0!==W?W:void 0,da=null!==(se=g.phoneNumber)&&void 0!==se?se:void 0,hs=null!==(Fe=g.photoURL)&&void 0!==Fe?Fe:void 0,yu=null!==(lt=g.tenantId)&&void 0!==lt?lt:void 0,Jc=null!==(Qt=g._redirectEventId)&&void 0!==Qt?Qt:void 0,Ol=null!==(hn=g.createdAt)&&void 0!==hn?hn:void 0,Md=null!==(wn=g.lastLoginAt)&&void 0!==wn?wn:void 0,{uid:Pl,emailVerified:Rd,isAnonymous:kl,providerData:xd,stsTokenManager:Nd}=g;It(Pl&&Nd,h,"internal-error");const Tp=vr.fromJSON(this.name,Nd);It("string"==typeof Pl,h,"internal-error"),Hn(Br,h.name),Hn(Js,h.name),It("boolean"==typeof Rd,h,"internal-error"),It("boolean"==typeof kl,h,"internal-error"),Hn(da,h.name),Hn(hs,h.name),Hn(yu,h.name),Hn(Jc,h.name),Hn(Ol,h.name),Hn(Md,h.name);const Od=new Fr({uid:Pl,auth:h,email:Js,emailVerified:Rd,displayName:Br,isAnonymous:kl,photoURL:hs,phoneNumber:da,tenantId:yu,stsTokenManager:Tp,createdAt:Ol,lastLoginAt:Md});return xd&&Array.isArray(xd)&&(Od.providerData=xd.map(Xc=>Object.assign({},Xc))),Jc&&(Od._redirectEventId=Jc),Od}static _fromIdTokenResponse(h,g,C=!1){return(0,ae.Z)(function*(){const W=new vr;W.updateFromServerResponse(g);const se=new Fr({uid:g.localId,auth:h,stsTokenManager:W,isAnonymous:C});return yield Oi(se),se})()}}const Te=new Map;function J(T){bn(T instanceof Function,"Expected a class definition");let h=Te.get(T);return h?(bn(h instanceof T,"Instance stored in cache mismatched with class"),h):(h=new T,Te.set(T,h),h)}const ne=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ae.Z)(function*(){return!0})()}_set(g,C){var W=this;return(0,ae.Z)(function*(){W.storage[g]=C})()}_get(g){var C=this;return(0,ae.Z)(function*(){const W=C.storage[g];return void 0===W?null:W})()}_remove(g){var C=this;return(0,ae.Z)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return T.type="NONE",T})();function ee(T,h,g){return`firebase:${T}:${h}:${g}`}class Oe{constructor(h,g,C){this.persistence=h,this.auth=g,this.userKey=C;const{config:W,name:se}=this.auth;this.fullUserKey=ee(this.userKey,W.apiKey,se),this.fullPersistenceKey=ee("persistence",W.apiKey,se),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,ae.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?Fr._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,ae.Z)(function*(){if(g.persistence===h)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,C="authUser"){return(0,ae.Z)(function*(){if(!g.length)return new Oe(J(ne),h,C);const W=(yield Promise.all(g.map(function(){var hn=(0,ae.Z)(function*(wn){if(yield wn._isAvailable())return wn});return function(wn){return hn.apply(this,arguments)}}()))).filter(hn=>hn);let se=W[0]||J(ne);const Fe=ee(C,h.config.apiKey,h.name);let lt=null;for(const hn of g)try{const wn=yield hn._get(Fe);if(wn){const Br=Fr._fromJSON(h,wn);hn!==se&&(lt=Br),se=hn;break}}catch{}const Qt=W.filter(hn=>hn._shouldAllowMigration);return se._shouldAllowMigration&&Qt.length?(se=Qt[0],lt&&(yield se._set(Fe,lt.toJSON())),yield Promise.all(g.map(function(){var hn=(0,ae.Z)(function*(wn){if(wn!==se)try{yield wn._remove(Fe)}catch{}});return function(wn){return hn.apply(this,arguments)}}())),new Oe(se,h,C)):new Oe(se,h,C)})()}}function yt(T){const h=T.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Jn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if($t(h))return"Firefox";if(h.includes("silk/"))return"Silk";if($r(h))return"Blackberry";if(Er(h))return"Webos";if(ln(h))return"Safari";if((h.includes("chrome/")||Mn(h))&&!h.includes("edge/"))return"Chrome";if(Fn(h))return"Android";{const C=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function $t(T=(0,R.z$)()){return/firefox\//i.test(T)}function ln(T=(0,R.z$)()){const h=T.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Mn(T=(0,R.z$)()){return/crios\//i.test(T)}function Jn(T=(0,R.z$)()){return/iemobile/i.test(T)}function Fn(T=(0,R.z$)()){return/android/i.test(T)}function $r(T=(0,R.z$)()){return/blackberry/i.test(T)}function Er(T=(0,R.z$)()){return/webos/i.test(T)}function mi(T=(0,R.z$)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function bt(T=(0,R.z$)()){return mi(T)||Fn(T)||Er(T)||$r(T)||/windows phone/i.test(T)||Jn(T)}function Nn(T,h=[]){let g;switch(T){case"Browser":g=yt((0,R.z$)());break;case"Worker":g=`${yt((0,R.z$)())}-${T}`;break;default:g=T}const C=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${et.SDK_VERSION}/${C}`}function ti(T,h){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,ae.Z)(function*(T,h){return _t(T,"GET","/v2/recaptchaConfig",pt(T,h))})).apply(this,arguments)}function fs(T){return void 0!==T&&void 0!==T.enterprise}class as{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Ai(T){return new Promise((h,g)=>{const C=document.createElement("script");C.setAttribute("src",T),C.onload=h,C.onerror=W=>{const se=ut("internal-error");se.customData=W,g(se)},C.type="text/javascript",C.charset="UTF-8",function br(){var T,h;return null!==(h=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==h?h:document}().appendChild(C)})}function Mi(T){return`__${T}${Math.floor(1e6*Math.random())}`}class Zr{constructor(h){this.type="recaptcha-enterprise",this.auth=Re(h)}verify(h="verify",g=!1){var C=this;return(0,ae.Z)(function*(){function se(){return se=(0,ae.Z)(function*(lt){if(!g){if(null==lt.tenantId&&null!=lt._agentRecaptchaConfig)return lt._agentRecaptchaConfig.siteKey;if(null!=lt.tenantId&&void 0!==lt._tenantRecaptchaConfigs[lt.tenantId])return lt._tenantRecaptchaConfigs[lt.tenantId].siteKey}return new Promise(function(){var Qt=(0,ae.Z)(function*(hn,wn){ti(lt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Br=>{if(void 0!==Br.recaptchaKey){const Js=new as(Br);return null==lt.tenantId?lt._agentRecaptchaConfig=Js:lt._tenantRecaptchaConfigs[lt.tenantId]=Js,hn(Js.siteKey)}wn(new Error("recaptcha Enterprise site key undefined"))}).catch(Br=>{wn(Br)})});return function(hn,wn){return Qt.apply(this,arguments)}}())}),se.apply(this,arguments)}function Fe(lt,Qt,hn){const wn=window.grecaptcha;fs(wn)?wn.enterprise.ready(()=>{wn.enterprise.execute(lt,{action:h}).then(Br=>{Qt(Br)}).catch(()=>{Qt("NO_RECAPTCHA")})}):hn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((lt,Qt)=>{(function W(lt){return se.apply(this,arguments)})(C.auth).then(hn=>{if(!g&&fs(window.grecaptcha))Fe(hn,lt,Qt);else{if(typeof window>"u")return void Qt(new Error("RecaptchaVerifier is only supported in browser"));Ai("https://www.google.com/recaptcha/enterprise.js?render="+hn).then(()=>{Fe(hn,lt,Qt)}).catch(wn=>{Qt(wn)})}}).catch(hn=>{Qt(hn)})})})()}}function pi(T,h,g){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,ae.Z)(function*(T,h,g,C=!1){const W=new Zr(T);let se;try{se=yield W.verify(g)}catch{se=yield W.verify(g,!0)}const Fe=Object.assign({},h);return Object.assign(Fe,C?{captchaResp:se}:{captchaResponse:se}),Object.assign(Fe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Fe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Fe})).apply(this,arguments)}class Ii{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const C=se=>new Promise((Fe,lt)=>{try{Fe(h(se))}catch(Qt){lt(Qt)}});C.onAbort=g,this.queue.push(C);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,ae.Z)(function*(){if(g.auth.currentUser===h)return;const C=[];try{for(const W of g.queue)yield W(h),W.onAbort&&C.push(W.onAbort)}catch(W){C.reverse();for(const se of C)try{se()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:W?.message})}})()}}class Is{constructor(h,g,C,W){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=C,this.config=W,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xe(this),this.idTokenSubscription=new xe(this),this.beforeStateQueue=new Ii(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=be,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=W.sdkClientVersion}_initializeWithPersistence(h,g){var C=this;return g&&(this._popupRedirectResolver=J(g)),this._initializationPromise=this.queue((0,ae.Z)(function*(){var W,se;if(!C._deleted&&(C.persistenceManager=yield Oe.create(C,h),!C._deleted)){if(null!==(W=C._popupRedirectResolver)&&void 0!==W&&W._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(g),C.lastNotifiedUid=(null===(se=C.currentUser)||void 0===se?void 0:se.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,ae.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,ae.Z)(function*(){var C;const W=yield g.assertedPersistence.getCurrentUser();let se=W,Fe=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const lt=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,Qt=se?._redirectEventId,hn=yield g.tryRedirectSignIn(h);(!lt||lt===Qt)&&hn?.user&&(se=hn.user,Fe=!0)}if(!se)return g.directlySetCurrentUser(null);if(!se._redirectEventId){if(Fe)try{yield g.beforeStateQueue.runMiddleware(se)}catch(lt){se=W,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(lt))}return se?g.reloadAndSetCurrentUserOrClear(se):g.directlySetCurrentUser(null)}return It(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===se._redirectEventId?g.directlySetCurrentUser(se):g.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(h){var g=this;return(0,ae.Z)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,ae.Z)(function*(){try{yield Oi(h)}catch(C){if("auth/network-request-failed"!==C?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function at(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var h=this;return(0,ae.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,ae.Z)(function*(){const C=h?(0,R.m9)(h):null;return C&&It(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(h,g=!1){var C=this;return(0,ae.Z)(function*(){if(!C._deleted)return h&&It(C.tenantId===h.tenantId,C,"tenant-id-mismatch"),g||(yield C.beforeStateQueue.runMiddleware(h)),C.queue((0,ae.Z)(function*(){yield C.directlySetCurrentUser(h),C.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,ae.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,ae.Z)(function*(){yield g.assertedPersistence.setPersistence(J(h))}))}initializeRecaptchaConfig(){var h=this;return(0,ae.Z)(function*(){const g=yield ti(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new as(g);null==h.tenantId?h._agentRecaptchaConfig=C:h._tenantRecaptchaConfigs[h.tenantId]=C,C.emailPasswordEnabled&&new Zr(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new R.LL("auth","Firebase",h())}onAuthStateChanged(h,g,C){return this.registerStateListener(this.authStateSubscription,h,g,C)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,C){return this.registerStateListener(this.idTokenSubscription,h,g,C)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var C=this;return(0,ae.Z)(function*(){const W=yield C.getOrInitRedirectPersistenceManager(g);return null===h?W.removeCurrentUser():W.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,ae.Z)(function*(){if(!g.redirectPersistenceManager){const C=h&&J(h)||g._popupRedirectResolver;It(C,g,"argument-error"),g.redirectPersistenceManager=yield Oe.create(g,[J(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,ae.Z)(function*(){var C,W;return g._isInitialized&&(yield g.queue((0,ae.Z)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===h?g._currentUser:(null===(W=g.redirectUser)||void 0===W?void 0:W._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,ae.Z)(function*(){if(h===g.currentUser)return g.queue((0,ae.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,C,W){if(this._deleted)return()=>{};const se="function"==typeof g?g:g.next.bind(g),Fe=this._isInitialized?Promise.resolve():this._initializationPromise;return It(Fe,this,"internal-error"),Fe.then(()=>se(this.currentUser)),"function"==typeof g?h.addObserver(g,C,W):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,ae.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return It(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Nn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,ae.Z)(function*(){var g;const C={"X-Client-Version":h.clientVersion};h.app.options.appId&&(C["X-Firebase-gmpid"]=h.app.options.appId);const W=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();W&&(C["X-Firebase-Client"]=W);const se=yield h._getAppCheckToken();return se&&(C["X-Firebase-AppCheck"]=se),C})()}_getAppCheckToken(){var h=this;return(0,ae.Z)(function*(){var g;const C=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return C?.error&&function gt(T,...h){Ze.logLevel<=de.in.WARN&&Ze.warn(`Auth (${et.SDK_VERSION}): ${T}`,...h)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function Re(T){return(0,R.m9)(T)}class xe{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,R.ne)(g=>this.observer=g)}get next(){return It(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function dn(T){const h=T.indexOf(":");return h<0?"":T.substr(0,h+1)}function xn(T){if(!T)return null;const h=Number(T);return isNaN(h)?null:h}class Ti{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return Et("not implemented")}_getIdTokenResponse(h){return Et("not implemented")}_linkToIdToken(h,g){return Et("not implemented")}_getReauthenticationResolver(h){return Et("not implemented")}}function Mr(T,h){return ps.apply(this,arguments)}function ps(){return(ps=(0,ae.Z)(function*(T,h){return _t(T,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ts(T,h){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,ae.Z)(function*(T,h){return Rn(T,"POST","/v1/accounts:signInWithPassword",pt(T,h))})).apply(this,arguments)}function co(){return(co=(0,ae.Z)(function*(T,h){return _t(T,"POST","/v1/accounts:sendOobCode",pt(T,h))})).apply(this,arguments)}function cs(){return(cs=(0,ae.Z)(function*(T,h){return function us(T,h){return co.apply(this,arguments)}(T,h)})).apply(this,arguments)}function Ui(){return(Ui=(0,ae.Z)(function*(T,h){return Rn(T,"POST","/v1/accounts:signInWithEmailLink",pt(T,h))})).apply(this,arguments)}function Ds(){return(Ds=(0,ae.Z)(function*(T,h){return Rn(T,"POST","/v1/accounts:signInWithEmailLink",pt(T,h))})).apply(this,arguments)}class jn extends Ti{constructor(h,g,C,W=null){super("password",C),this._email=h,this._password=g,this._tenantId=W}static _fromEmailAndPassword(h,g){return new jn(h,g,"password")}static _fromEmailAndCode(h,g,C=null){return new jn(h,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,ae.Z)(function*(){var C;switch(g.signInMethod){case"password":const W={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=h._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const se=yield pi(h,W,"signInWithPassword");return Ts(h,se)}return Ts(h,W).catch(function(){var se=(0,ae.Z)(function*(Fe){if("auth/missing-recaptcha-token"===Fe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const lt=yield pi(h,W,"signInWithPassword");return Ts(h,lt)}return Promise.reject(Fe)});return function(Fe){return se.apply(this,arguments)}}());case"emailLink":return function ho(T,h){return Ui.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:ct(h,"internal-error")}})()}_linkToIdToken(h,g){var C=this;return(0,ae.Z)(function*(){switch(C.signInMethod){case"password":return Mr(h,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Ji(T,h){return Ds.apply(this,arguments)}(h,{idToken:g,email:C._email,oobCode:C._password});default:ct(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function fr(T,h){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,ae.Z)(function*(T,h){return Rn(T,"POST","/v1/accounts:signInWithIdp",pt(T,h))})).apply(this,arguments)}class ke{constructor(h){var g,C,W,se,Fe,lt;const Qt=(0,R.zd)((0,R.pd)(h)),hn=null!==(g=Qt.apiKey)&&void 0!==g?g:null,wn=null!==(C=Qt.oobCode)&&void 0!==C?C:null,Br=function pe(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=Qt.mode)&&void 0!==W?W:null);It(hn&&wn&&Br,"argument-error"),this.apiKey=hn,this.operation=Br,this.code=wn,this.continueUrl=null!==(se=Qt.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(Fe=Qt.languageCode)&&void 0!==Fe?Fe:null,this.tenantId=null!==(lt=Qt.tenantId)&&void 0!==lt?lt:null}static parseLink(h){const g=function we(T){const h=(0,R.zd)((0,R.pd)(T)).link,g=h?(0,R.zd)((0,R.pd)(h)).deep_link_id:null,C=(0,R.zd)((0,R.pd)(T)).deep_link_id;return(C?(0,R.zd)((0,R.pd)(C)).link:null)||C||g||h||T}(h);try{return new ke(g)}catch{return null}}}let Vt=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(g,C){return jn._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const W=ke.parseLink(C);return It(W,"argument-error"),jn._fromEmailAndCode(g,W.code,W.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class Yt{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class St extends Yt{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}function _i(T,h){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,ae.Z)(function*(T,h){return Rn(T,"POST","/v1/accounts:signUp",pt(T,h))})).apply(this,arguments)}class pr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,C,W=!1){return(0,ae.Z)(function*(){const se=yield Fr._fromIdTokenResponse(h,C,W),Fe=Gi(C);return new pr({user:se,providerId:Fe,_tokenResponse:C,operationType:g})})()}static _forOperation(h,g,C){return(0,ae.Z)(function*(){yield h._updateTokensIfNecessary(C,!0);const W=Gi(C);return new pr({user:h,providerId:W,_tokenResponse:C,operationType:g})})()}}function Gi(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}class oi extends R.ZR{constructor(h,g,C,W){var se;super(g.code,g.message),this.operationType=C,this.user=W,Object.setPrototypeOf(this,oi.prototype),this.customData={appName:h.name,tenantId:null!==(se=h.tenantId)&&void 0!==se?se:void 0,_serverResponse:g.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(h,g,C,W){return new oi(h,g,C,W)}}function ms(T,h,g,C){return("reauthenticate"===h?g._getReauthenticationResolver(T):g._getIdTokenResponse(T)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?oi._fromErrorAndOperation(T,se,h,C):se})}function Fi(){return(Fi=(0,ae.Z)(function*(T,h,g=!1){const C=yield di(T,h._linkToIdToken(T.auth,yield T.getIdToken()),g);return pr._forOperation(T,"link",C)})).apply(this,arguments)}function $o(){return($o=(0,ae.Z)(function*(T,h,g=!1){const{auth:C}=T,W="reauthenticate";try{const se=yield di(T,ms(C,W,h,T),g);It(se.idToken,C,"internal-error");const Fe=Dr(se.idToken);It(Fe,C,"internal-error");const{sub:lt}=Fe;return It(T.uid===lt,C,"user-mismatch"),pr._forOperation(T,W,se)}catch(se){throw"auth/user-not-found"===se?.code&&ct(C,"user-mismatch"),se}})).apply(this,arguments)}function Os(T,h){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,ae.Z)(function*(T,h,g=!1){const C="signIn",W=yield ms(T,C,h),se=yield pr._fromIdTokenResponse(T,C,W);return g||(yield T._updateCurrentUser(se.user)),se})).apply(this,arguments)}function Ho(){return(Ho=(0,ae.Z)(function*(T,h){return Os(Re(T),h)})).apply(this,arguments)}function fo(T,h,g){return Ps.apply(this,arguments)}function Ps(){return Ps=(0,ae.Z)(function*(T,h,g){var C;const W=Re(T),se={returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"};let Fe;if(null!==(C=W._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const hn=yield pi(W,se,"signUpPassword");Fe=_i(W,hn)}else Fe=_i(W,se).catch(function(){var hn=(0,ae.Z)(function*(wn){if("auth/missing-recaptcha-token"===wn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Br=yield pi(W,se,"signUpPassword");return _i(W,Br)}return Promise.reject(wn)});return function(wn){return hn.apply(this,arguments)}}());const lt=yield Fe.catch(hn=>Promise.reject(hn)),Qt=yield pr._fromIdTokenResponse(W,"signIn",lt);return yield W._updateCurrentUser(Qt.user),Qt}),Ps.apply(this,arguments)}function ts(T,h,g){return function Xr(T,h){return Ho.apply(this,arguments)}((0,R.m9)(T),Vt.credential(h,g))}function Ca(T,h){return qo.apply(this,arguments)}function qo(){return qo=(0,ae.Z)(function*(T,h){const g=(0,R.m9)(T),W={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};h&&function es(T,h,g){var C;It((null===(C=g.url)||void 0===C?void 0:C.length)>0,T,"invalid-continue-uri"),It(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(It(g.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(It(g.android.packageName.length>0,T,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}(g.auth,W,h);const{email:se}=yield function ki(T,h){return cs.apply(this,arguments)}(g.auth,W);se!==T.email&&(yield T.reload())}),qo.apply(this,arguments)}function te(T){return(0,R.m9)(T).signOut()}const Ft="__sak";class qe{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ft,"1"),this.storage.removeItem(Ft),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const qs=(()=>{class T extends qe{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wt(){const T=(0,R.z$)();return ln(T)||mi(T)}()&&function Zt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=bt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const W=this.storage.getItem(C),se=this.localCache[C];W!==se&&g(C,se,W)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((lt,Qt,hn)=>{this.notifyListeners(lt,hn)});const W=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const lt=this.storage.getItem(W);if(g.newValue!==lt)null!==g.newValue?this.storage.setItem(W,g.newValue):this.storage.removeItem(W);else if(this.localCache[W]===g.newValue&&!C)return}const se=()=>{const lt=this.storage.getItem(W);!C&&this.localCache[W]===lt||this.notifyListeners(W,lt)},Fe=this.storage.getItem(W);!function Be(){return(0,R.w1)()&&10===document.documentMode}()||Fe===g.newValue||g.newValue===g.oldValue?se():setTimeout(se,10)}notifyListeners(g,C){this.localCache[g]=C;const W=this.listeners[g];if(W)for(const se of Array.from(W))se(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var W=()=>super._set,se=this;return(0,ae.Z)(function*(){yield W().call(se,g,C),se.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,W=this;return(0,ae.Z)(function*(){const se=yield C().call(W,g);return W.localCache[g]=JSON.stringify(se),se})()}_remove(g){var C=()=>super._remove,W=this;return(0,ae.Z)(function*(){yield C().call(W,g),delete W.localCache[g]})()}}return T.type="LOCAL",T})(),rs=(()=>{class T extends qe{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return T.type="SESSION",T})();let Wo=(()=>{class T{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(se=>se.isListeningto(g));if(C)return C;const W=new T(g);return this.receivers.push(W),W}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,ae.Z)(function*(){const W=g,{eventId:se,eventType:Fe,data:lt}=W.data,Qt=C.handlersMap[Fe];if(!Qt?.size)return;W.ports[0].postMessage({status:"ack",eventId:se,eventType:Fe});const hn=Array.from(Qt).map(function(){var Br=(0,ae.Z)(function*(Js){return Js(W.origin,lt)});return function(Js){return Br.apply(this,arguments)}}()),wn=yield function ea(T){return Promise.all(T.map(function(){var h=(0,ae.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return h.apply(this,arguments)}}()))}(hn);W.ports[0].postMessage({status:"done",eventId:se,eventType:Fe,response:wn})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function Ao(T="",h=10){let g="";for(let C=0;C<h;C++)g+=Math.floor(10*Math.random());return T+g}class so{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,C=50){var W=this;return(0,ae.Z)(function*(){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let Fe,lt;return new Promise((Qt,hn)=>{const wn=Ao("",20);se.port1.start();const Br=setTimeout(()=>{hn(new Error("unsupported_event"))},C);lt={messageChannel:se,onMessage(Js){const da=Js;if(da.data.eventId===wn)switch(da.data.status){case"ack":clearTimeout(Br),Fe=setTimeout(()=>{hn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Fe),Qt(da.data.response);break;default:clearTimeout(Br),clearTimeout(Fe),hn(new Error("invalid_response"))}}},W.handlers.add(lt),se.port1.addEventListener("message",lt.onMessage),W.target.postMessage({eventType:h,eventId:wn,data:g},[se.port2])}).finally(()=>{lt&&W.removeMessageHandler(lt)})})()}}function rn(){return window}function Mt(){return typeof rn().WorkerGlobalScope<"u"&&"function"==typeof rn().importScripts}function Lr(){return(Lr=(0,ae.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ks="firebaseLocalStorageDb",Ha="firebaseLocalStorage",_n="fbase_key";class kt{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ws(T,h){return T.transaction([Ha],h?"readwrite":"readonly").objectStore(Ha)}function oo(){const T=indexedDB.open(ks,1);return new Promise((h,g)=>{T.addEventListener("error",()=>{g(T.error)}),T.addEventListener("upgradeneeded",()=>{const C=T.result;try{C.createObjectStore(Ha,{keyPath:_n})}catch(W){g(W)}}),T.addEventListener("success",(0,ae.Z)(function*(){const C=T.result;C.objectStoreNames.contains(Ha)?h(C):(C.close(),yield function is(){const T=indexedDB.deleteDatabase(ks);return new kt(T).toPromise()}(),h(yield oo()))}))})}function Ga(T,h,g){return za.apply(this,arguments)}function za(){return(za=(0,ae.Z)(function*(T,h,g){const C=Ws(T,!0).put({[_n]:h,value:g});return new kt(C).toPromise()})).apply(this,arguments)}function Fa(){return(Fa=(0,ae.Z)(function*(T,h){const g=Ws(T,!1).get(h),C=yield new kt(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function tc(T,h){const g=Ws(T,!0).delete(h);return new kt(g).toPromise()}const Rt=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,ae.Z)(function*(){return g.db||(g.db=yield oo()),g.db})()}_withRetries(g){var C=this;return(0,ae.Z)(function*(){let W=0;for(;;)try{const se=yield C._openDb();return yield g(se)}catch(se){if(W++>3)throw se;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,ae.Z)(function*(){return Mt()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,ae.Z)(function*(){g.receiver=Wo._getInstance(function nn(){return Mt()?self:null}()),g.receiver._subscribe("keyChanged",function(){var C=(0,ae.Z)(function*(W,se){return{keyProcessed:(yield g._poll()).includes(se.key)}});return function(W,se){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,ae.Z)(function*(W,se){return["keyChanged"]});return function(W,se){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,ae.Z)(function*(){var C,W;if(g.activeServiceWorker=yield function ur(){return Lr.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new so(g.activeServiceWorker);const se=yield g.sender._send("ping",{},800);se&&null!==(C=se[0])&&void 0!==C&&C.fulfilled&&null!==(W=se[0])&&void 0!==W&&W.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,ae.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Wr(){var T;return(null===(T=navigator?.serviceWorker)||void 0===T?void 0:T.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ae.Z)(function*(){try{if(!indexedDB)return!1;const g=yield oo();return yield Ga(g,Ft,"1"),yield tc(g,Ft),!0}catch{}return!1})()}_withPendingWrite(g){var C=this;return(0,ae.Z)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var W=this;return(0,ae.Z)(function*(){return W._withPendingWrite((0,ae.Z)(function*(){return yield W._withRetries(se=>Ga(se,g,C)),W.localCache[g]=C,W.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,ae.Z)(function*(){const W=yield C._withRetries(se=>function ka(T,h){return Fa.apply(this,arguments)}(se,g));return C.localCache[g]=W,W})()}_remove(g){var C=this;return(0,ae.Z)(function*(){return C._withPendingWrite((0,ae.Z)(function*(){return yield C._withRetries(W=>tc(W,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,ae.Z)(function*(){const C=yield g._withRetries(Fe=>{const lt=Ws(Fe,!1).getAll();return new kt(lt).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const W=[],se=new Set;for(const{fbase_key:Fe,value:lt}of C)se.add(Fe),JSON.stringify(g.localCache[Fe])!==JSON.stringify(lt)&&(g.notifyListeners(Fe,lt),W.push(Fe));for(const Fe of Object.keys(g.localCache))g.localCache[Fe]&&!se.has(Fe)&&(g.notifyListeners(Fe,null),W.push(Fe));return W})()}notifyListeners(g,C){this.localCache[g]=C;const W=this.listeners[g];if(W)for(const se of Array.from(W))se(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,ae.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})();Mi("rcb"),new De(3e4,6e4);class sa extends Ti{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return fr(h,this._buildIdpRequest())}_linkToIdToken(h,g){return fr(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return fr(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function bu(T){return Os(T.auth,new sa(T),T.bypassAuthState)}function Zs(T){const{auth:h,user:g}=T;return It(g,h,"internal-error"),function xi(T,h){return $o.apply(this,arguments)}(g,new sa(T),T.bypassAuthState)}function Ms(T){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,ae.Z)(function*(T){const{auth:h,user:g}=T;return It(g,h,"internal-error"),function Do(T,h){return Fi.apply(this,arguments)}(g,new sa(T),T.bypassAuthState)})).apply(this,arguments)}class Zi{constructor(h,g,C,W,se=!1){this.auth=h,this.resolver=C,this.user=W,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,ae.Z)(function*(C,W){h.pendingPromise={resolve:C,reject:W};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(se){h.reject(se)}});return function(C,W){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,ae.Z)(function*(){const{urlResponse:C,sessionId:W,postBody:se,tenantId:Fe,error:lt,type:Qt}=h;if(lt)return void g.reject(lt);const hn={auth:g.auth,requestUri:C,sessionId:W,tenantId:Fe||void 0,postBody:se||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Qt)(hn))}catch(wn){g.reject(wn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return bu;case"linkViaPopup":case"linkViaRedirect":return Ms;case"reauthViaPopup":case"reauthViaRedirect":return Zs;default:ct(this.auth,"internal-error")}}resolve(h){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new De(2e3,1e4);const bl="pendingRedirect",qi=new Map;class ic extends Zi{constructor(h,g,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,ae.Z)(function*(){let C=qi.get(g.auth._key());if(!C){try{const se=(yield function Sa(T,h){return Au.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;C=()=>Promise.resolve(se)}catch(W){C=()=>Promise.reject(W)}qi.set(g.auth._key(),C)}return g.bypassAuthState||qi.set(g.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,C=this;return(0,ae.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(C,h);if("unknown"!==h.type){if(h.eventId){const W=yield C.auth._redirectUserForId(h.eventId);if(W)return C.user=W,g().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,ae.Z)(function*(){})()}cleanUp(){}}function Au(){return(Au=(0,ae.Z)(function*(T,h){const g=function lu(T){return ee(bl,T.config.apiKey,T.name)}(h),C=function cu(T){return J(T._redirectPersistence)}(T);if(!(yield C._isAvailable()))return!1;const W="true"===(yield C._get(g));return yield C._remove(g),W})).apply(this,arguments)}function Di(T,h){qi.set(T._key(),h)}function Mu(T,h){return xo.apply(this,arguments)}function xo(){return(xo=(0,ae.Z)(function*(T,h,g=!1){const C=Re(T),W=function Ks(T,h){return h?J(h):(It(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}(C,h),Fe=yield new ic(C,W,g).execute();return Fe&&!g&&(delete Fe.user._redirectEventId,yield C._persistUserIfCurrent(Fe.user),yield C._setRedirectUser(null,h)),Fe})).apply(this,arguments)}class ua{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(g=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function oc(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ya(T);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var C;if(h.error&&!Ya(h)){const W=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(ut(this.auth,W))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const C=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(No(h))}saveEventToCache(h){this.cachedEventUids.add(No(h)),this.lastProcessedEventTime=Date.now()}}function No(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(h=>h).join("-")}function Ya({type:T,error:h}){return"unknown"===T&&"auth/no-auth-event"===h?.code}function Ru(){return(Ru=(0,ae.Z)(function*(T,h={}){return _t(T,"GET","/v1/projects",h)})).apply(this,arguments)}const ca=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ra=/^https?/;function Ja(){return Ja=(0,ae.Z)(function*(T){if(T.config.emulator)return;const{authorizedDomains:h}=yield function Qa(T){return Ru.apply(this,arguments)}(T);for(const g of h)try{if(Va(g))return}catch{}ct(T,"unauthorized-domain")}),Ja.apply(this,arguments)}function Va(T){const h=Lt(),{protocol:g,hostname:C}=new URL(h);if(T.startsWith("chrome-extension://")){const Fe=new URL(T);return""===Fe.hostname&&""===C?"chrome-extension:"===g&&T.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Fe.hostname===C}if(!Ra.test(g))return!1;if(ca.test(T))return C===T;const W=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(C)}const Lc=new De(3e4,6e4);function la(){const T=rn().___jsl;if(T?.H)for(const h of Object.keys(T.H))if(T.H[h].r=T.H[h].r||[],T.H[h].L=T.H[h].L||[],T.H[h].r=[...T.H[h].L],T.CP)for(let g=0;g<T.CP.length;g++)T.CP[g]=null}let du=null;const Id=new De(5e3,15e3),Vc="__/auth/iframe",Uc="emulator/auth/iframe",I={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B(T){const h=T.config;It(h.authDomain,T,"auth-domain-config-required");const g=h.emulator?ve(h,Uc):`https://${T.config.authDomain}/${Vc}`,C={apiKey:h.apiKey,appName:T.name,v:et.SDK_VERSION},W=N.get(T.config.apiHost);W&&(C.eid=W);const se=T._getFrameworks();return se.length&&(C.fw=se.join(",")),`${g}?${(0,R.xO)(C).slice(1)}`}function Ne(){return Ne=(0,ae.Z)(function*(T){const h=yield function Xa(T){return du=du||function Hu(T){return new Promise((h,g)=>{var C,W,se;function Fe(){la(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{la(),g(ut(T,"network-request-failed"))},timeout:Lc.get()})}if(null!==(W=null===(C=rn().gapi)||void 0===C?void 0:C.iframes)&&void 0!==W&&W.Iframe)h(gapi.iframes.getContext());else{if(null===(se=rn().gapi)||void 0===se||!se.load){const lt=Mi("iframefcb");return rn()[lt]=()=>{gapi.load?Fe():g(ut(T,"network-request-failed"))},Ai(`https://apis.google.com/js/api.js?onload=${lt}`).catch(Qt=>g(Qt))}Fe()}}).catch(h=>{throw du=null,h})}(T),du}(T),g=rn().gapi;return It(g,T,"internal-error"),h.open({where:document.body,url:B(T),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I,dontclear:!0},C=>new Promise(function(){var W=(0,ae.Z)(function*(se,Fe){yield C.restyle({setHideOnLeave:!1});const lt=ut(T,"network-request-failed"),Qt=rn().setTimeout(()=>{Fe(lt)},Id.get());function hn(){rn().clearTimeout(Qt),se(C)}C.ping(hn).then(hn,()=>{Fe(lt)})});return function(se,Fe){return W.apply(this,arguments)}}()))}),Ne.apply(this,arguments)}const Ue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class un{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ds="__/auth/handler",xa="emulator/auth/handler",ac=encodeURIComponent("fac");function hu(T,h,g,C,W,se){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,ae.Z)(function*(T,h,g,C,W,se){It(T.config.authDomain,T,"auth-domain-config-required"),It(T.config.apiKey,T,"invalid-api-key");const Fe={apiKey:T.config.apiKey,appName:T.name,authType:g,redirectUrl:C,v:et.SDK_VERSION,eventId:W};if(h instanceof Yt){h.setDefaultLanguage(T.languageCode),Fe.providerId=h.providerId||"",(0,R.xb)(h.getCustomParameters())||(Fe.customParameters=JSON.stringify(h.getCustomParameters()));for(const[wn,Br]of Object.entries(se||{}))Fe[wn]=Br}if(h instanceof St){const wn=h.getScopes().filter(Br=>""!==Br);wn.length>0&&(Fe.scopes=wn.join(","))}T.tenantId&&(Fe.tid=T.tenantId);const lt=Fe;for(const wn of Object.keys(lt))void 0===lt[wn]&&delete lt[wn];const Qt=yield T._getAppCheckToken(),hn=Qt?`#${ac}=${encodeURIComponent(Qt)}`:"";return`${function eu({config:T}){return T.emulator?ve(T,xa):`https://${T.authDomain}/${ds}`}(T)}?${(0,R.xO)(lt).slice(1)}${hn}`})).apply(this,arguments)}const Bc="webStorageSupport",vm=class _m{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rs,this._completeRedirectFn=Mu,this._overrideRedirectResult=Di}_openPopup(h,g,C,W){var se=this;return(0,ae.Z)(function*(){var Fe;bn(null===(Fe=se.eventManagers[h._key()])||void 0===Fe?void 0:Fe.manager,"_initialize() not called before _openPopup()");const lt=yield hu(h,g,C,Lt(),W);return function Yn(T,h,g,C=500,W=600){const se=Math.max((window.screen.availHeight-W)/2,0).toString(),Fe=Math.max((window.screen.availWidth-C)/2,0).toString();let lt="";const Qt=Object.assign(Object.assign({},Ue),{width:C.toString(),height:W.toString(),top:se,left:Fe}),hn=(0,R.z$)().toLowerCase();g&&(lt=Mn(hn)?"_blank":g),$t(hn)&&(h=h||"http://localhost",Qt.scrollbars="yes");const wn=Object.entries(Qt).reduce((Js,[da,hs])=>`${Js}${da}=${hs},`,"");if(function st(T=(0,R.z$)()){var h;return mi(T)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(hn)&&"_self"!==lt)return function yo(T,h){const g=document.createElement("a");g.href=T,g.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(h||"",lt),new un(null);const Br=window.open(h||"",lt,wn);It(Br,T,"popup-blocked");try{Br.focus()}catch{}return new un(Br)}(h,lt,Ao())})()}_openRedirect(h,g,C,W){var se=this;return(0,ae.Z)(function*(){return yield se._originValidation(h),function Vn(T){rn().location.href=T}(yield hu(h,g,C,Lt(),W)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:W,promise:se}=this.eventManagers[g];return W?Promise.resolve(W):(bn(se,"If manager is not set, promise should be"),se)}const C=this.initAndGetManager(h);return this.eventManagers[g]={promise:C},C.catch(()=>{delete this.eventManagers[g]}),C}initAndGetManager(h){var g=this;return(0,ae.Z)(function*(){const C=yield function ce(T){return Ne.apply(this,arguments)}(h),W=new ua(h);return C.register("authEvent",se=>(It(se?.authEvent,h,"invalid-auth-event"),{status:W.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:W},g.iframes[h._key()]=C,W})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(Bc,{type:Bc},W=>{var se;const Fe=null===(se=W?.[0])||void 0===se?void 0:se[Bc];void 0!==Fe&&g(!!Fe),ct(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Fc(T){return Ja.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return bt()||ln()||mi()}};var xu="@firebase/auth";class fu{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,ae.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(C=>{h(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){It(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const pu=(0,R.Pz)("authIdTokenMaxAge")||300;let xh=null;const cc=T=>function(){var h=(0,ae.Z)(function*(g){const C=g&&(yield g.getIdTokenResult()),W=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(W&&W>pu)return;const se=C?.token;xh!==se&&(xh=se,yield fetch(T,{method:se?"POST":"DELETE",headers:se?{Authorization:`Bearer ${se}`}:{}}))});return function(g){return h.apply(this,arguments)}}();function mp(T=(0,et.getApp)()){const h=(0,et._getProvider)(T,"auth");if(h.isInitialized())return h.getImmediate();const g=function Ve(T,h){const g=(0,et._getProvider)(T,"auth");if(g.isInitialized()){const W=g.getImmediate(),se=g.getOptions();if((0,R.vZ)(se,h??{}))return W;ct(W,"already-initialized")}return g.initialize({options:h})}(T,{popupRedirectResolver:vm,persistence:[Rt,qs,rs]}),C=(0,R.Pz)("authTokenSyncURL");if(C){const se=cc(C);(function y(T,h,g){(0,R.m9)(T).beforeAuthStateChanged(h,g)})(g,se,()=>se(g.currentUser)),function U(T,h,g,C){(0,R.m9)(T).onIdTokenChanged(h,g,C)}(g,Fe=>se(Fe))}const W=(0,R.q4)("auth");return W&&function Pt(T,h,g){const C=Re(T);It(C._canInitEmulator,C,"emulator-config-failed"),It(/^https?:\/\//.test(h),C,"invalid-emulator-scheme");const W=!!g?.disableWarnings,se=dn(h),{host:Fe,port:lt}=function Wn(T){const h=dn(T),g=/(\/\/)?([^?#/]+)/.exec(T.substr(h.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(C);if(W){const se=W[1];return{host:se,port:xn(C.substr(se.length+1))}}{const[se,Fe]=C.split(":");return{host:se,port:xn(Fe)}}}(h);C.config.emulator={url:`${se}//${Fe}${null===lt?"":`:${lt}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Fe,port:lt,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function rr(){function T(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}(g,`http://${W}`),g}!function $c(T){(0,et._registerComponent)(new ue.wA("auth",(h,{options:g})=>{const C=h.getProvider("app").getImmediate(),W=h.getProvider("heartbeat"),se=h.getProvider("app-check-internal"),{apiKey:Fe,authDomain:lt}=C.options;It(Fe&&!Fe.includes(":"),"invalid-api-key",{appName:C.name});const Qt={apiKey:Fe,authDomain:lt,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nn(T)},hn=new Is(C,W,se,Qt);return function mt(T,h){const g=h?.persistence||[],C=(Array.isArray(g)?g:[g]).map(J);h?.errorMap&&T._updateErrorMap(h.errorMap),T._initializeWithPersistence(C,h?.popupRedirectResolver)}(hn,g),hn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,C)=>{h.getProvider("auth-internal").initialize()})),(0,et._registerComponent)(new ue.wA("auth-internal",h=>{const g=Re(h.getProvider("auth").getImmediate());return new fu(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,et.registerVersion)(xu,"0.23.2",function jc(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(T)),(0,et.registerVersion)(xu,"0.23.2","esm2017")}("Browser");class gu{constructor(h){return h}}class mu{constructor(){return(0,p.vb)("auth")}}const ao=new he.OlP("angularfire2.auth-instances");function Cl(T){return(h,g)=>{const C=h.runOutsideAngular(()=>T(g));return new gu(C)}}const Gc={provide:mu,deps:[[new he.FiY,ao]]},Nh={provide:gu,useFactory:function Td(T,h){const g=(0,p.JM)("auth",T,h);return g&&new gu(g)},deps:[[new he.FiY,ao],Ee.Ot]};let Dd=(()=>{class T{constructor(){(0,Se.KN)("angularfire",p.q4.full,"auth")}}return T.\u0275fac=function(g){return new(g||T)},T.\u0275mod=he.oAB({type:T}),T.\u0275inj=he.cJS({providers:[Nh,Gc]}),T})();function zc(T,...h){return{ngModule:Dd,providers:[{provide:ao,useFactory:Cl(T),multi:!0,deps:[he.R0b,he.zs3,p.HU,Ee.z6,[new he.FiY,Me.nm],...h]}]}}const Al=(0,p.u3)(fo,!0),_p=(0,p.u3)(mp,!0),zu=(0,p.u3)(Ca,!0),Mm=(0,p.u3)(ts,!0),nu=(0,p.u3)(te,!0)},2788:(pn,ft,K)=>{K.d(ft,{Q1:()=>He,TE:()=>De});var p=K(5592),he=K(2096),Ee=K(2459),Se=K(6321),Me=K(9360),ae=K(8251),et=K(7398),ze=K(4664),de=K(8186),ue=K(4946),je=K(6304),ot=K(3106),Ae=K(8153),Ot=K(4537);class Dt{constructor(oe,_e,We){this._delegate=oe,this.task=_e,this.ref=We}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Bt{constructor(oe,_e){this._delegate=oe,this._ref=_e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Dt(this._delegate.snapshot,this,this._ref)}then(oe,_e){return this._delegate.then(We=>{if(oe)return oe(new Dt(We,this,this._ref))},_e)}on(oe,_e,We,pt){let _t;return _e&&(_t="function"==typeof _e?zt=>_e(new Dt(zt,this,this._ref)):{next:_e.next?zt=>_e.next(new Dt(zt,this,this._ref)):void 0,complete:_e.complete||void 0,error:_e.error||void 0}),this._delegate.on(oe,_t,We||void 0,pt||void 0)}}class At{constructor(oe,_e){this._delegate=oe,this._service=_e}get prefixes(){return this._delegate.prefixes.map(oe=>new an(oe,this._service))}get items(){return this._delegate.items.map(oe=>new an(oe,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class an{constructor(oe,_e){this._delegate=oe,this.storage=_e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(oe){const _e=(0,Ae.g6)(this._delegate,oe);return new an(_e,this.storage)}get root(){return new an(this._delegate.root,this.storage)}get parent(){const oe=this._delegate.parent;return null==oe?null:new an(oe,this.storage)}put(oe,_e){return this._throwIfRoot("put"),new Bt((0,Ae.B0)(this._delegate,oe,_e),this)}putString(oe,_e=Ae.bm.RAW,We){this._throwIfRoot("putString");const pt=(0,Ae.qm)(_e,oe),_t=Object.assign({},We);return null==_t.contentType&&null!=pt.contentType&&(_t.contentType=pt.contentType),new Bt(new Ae.IX(this._delegate,new Ae.UJ(pt.data,!0),_t),this)}listAll(){return(0,Ae.aF)(this._delegate).then(oe=>new At(oe,this.storage))}list(oe){return(0,Ae.pb)(this._delegate,oe||void 0).then(_e=>new At(_e,this.storage))}getMetadata(){return(0,Ae.sd)(this._delegate)}updateMetadata(oe){return(0,Ae.Ym)(this._delegate,oe)}getDownloadURL(){return(0,Ae.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Ae.oq)(this._delegate)}_throwIfRoot(oe){if(""===this._delegate._location.path)throw(0,Ae.y4)(oe)}}class xt{constructor(oe,_e){this.app=oe,this._delegate=_e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(oe){if(be(oe))throw(0,Ae.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new an((0,Ae.iH)(this._delegate,oe),this)}refFromURL(oe){if(!be(oe))throw(0,Ae.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ae.gE.makeFromUrl(oe,this._delegate.host)}catch{throw(0,Ae.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new an((0,Ae.iH)(this._delegate,oe),this)}setMaxUploadRetryTime(oe){this._delegate.maxUploadRetryTime=oe}setMaxOperationRetryTime(oe){this._delegate.maxOperationRetryTime=oe}useEmulator(oe,_e,We={}){(0,Ae.a1)(this._delegate,oe,_e,We)}}function be(ve){return/^[A-Za-z]+:\/\//.test(ve)}function dt(ve,{instanceIdentifier:oe}){const _e=ve.getProvider("app-compat").getImmediate(),We=ve.getProvider("storage").getImmediate({identifier:oe});return new xt(_e,We)}!function ct(ve){const oe={TaskState:Ae.$Y,TaskEvent:Ae.FN,StringFormat:Ae.bm,Storage:xt,Reference:an};ve.INTERNAL.registerComponent(new Ot.wA("storage-compat",dt,"PUBLIC").setServiceProps(oe).setMultipleInstances(!0)),ve.registerVersion("@firebase/storage-compat","0.3.2")}(ot.Z);var ut=K(7247),vn=K(7142);function gr(ve){const oe=function $n(ve){return new p.y(oe=>{const _e=zt=>oe.next(zt);_e(ve.snapshot);const _t=ve.on("state_changed",_e);return ve.then(zt=>{_e(zt),oe.complete()},zt=>{_e(ve.snapshot),(zt=>{oe.error(zt)})(zt)}),function(){_t()}}).pipe(function R(ve,oe=Se.z){return(0,Me.e)((_e,We)=>{let pt=null,_t=null,zt=null;const tr=()=>{if(pt){pt.unsubscribe(),pt=null;const Rn=_t;_t=null,We.next(Rn)}};function Qn(){const Rn=zt+ve,lr=oe.now();if(lr<Rn)return pt=this.schedule(void 0,Rn-lr),void We.add(pt);tr()}_e.subscribe((0,ae.x)(We,Rn=>{_t=Rn,zt=oe.now(),pt||(pt=oe.schedule(Qn,ve),We.add(pt))},()=>{tr(),We.complete()},void 0,()=>{_t=pt=null}))})}(0))}(ve);return{task:ve,then:ve.then.bind(ve),catch:ve.catch.bind(ve),pause:ve.pause.bind(ve),cancel:ve.cancel.bind(ve),resume:ve.resume.bind(ve),snapshotChanges:()=>oe,percentageChanges:()=>oe.pipe((0,et.U)(_e=>_e.bytesTransferred/_e.totalBytes*100))}}function It(ve){return{getDownloadURL:()=>(0,he.of)(void 0).pipe(de.fc,(0,ze.w)(()=>ve.getDownloadURL()),de.iC),getMetadata:()=>(0,he.of)(void 0).pipe(de.fc,(0,ze.w)(()=>ve.getMetadata()),de.iC),delete:()=>(0,Ee.D)(ve.delete()),child:oe=>It(ve.child(oe)),updateMetadata:oe=>(0,Ee.D)(ve.updateMetadata(oe)),put:(oe,_e)=>gr(ve.put(oe,_e)),putString:(oe,_e,We)=>gr(ve.putString(oe,_e,We)),list:oe=>(0,Ee.D)(ve.list(oe)),listAll:()=>(0,Ee.D)(ve.listAll())}}const Et=new ue.OlP("angularfire2.storageBucket"),bn=new ue.OlP("angularfire2.storage.maxUploadRetryTime"),Lt=new ue.OlP("angularfire2.storage.maxOperationRetryTime"),An=new ue.OlP("angularfire2.storage.use-emulator");let He=(()=>{class ve{constructor(_e,We,pt,_t,zt,tr,Qn,Rn,lr,ar){const kn=(0,je.on)(_e,zt,We);this.storage=(0,je.cc)(`${kn.name}.storage.${pt}`,"AngularFireStorage",kn.name,()=>{const nr=zt.runOutsideAngular(()=>kn.storage(pt||void 0)),mn=lr;return mn&&nr.useEmulator(...mn),Qn&&nr.setMaxUploadRetryTime(Qn),Rn&&nr.setMaxOperationRetryTime(Rn),nr},[Qn,Rn])}ref(_e){return It(this.storage.ref(_e))}refFromURL(_e){return It(this.storage.refFromURL(_e))}upload(_e,We,pt){return It(this.storage.ref(_e)).put(We,pt)}}return ve.\u0275fac=function(_e){return new(_e||ve)(ue.LFG(je.Dh),ue.LFG(je.xv,8),ue.LFG(Et,8),ue.LFG(ue.Lbi),ue.LFG(ue.R0b),ue.LFG(de.HU),ue.LFG(bn,8),ue.LFG(Lt,8),ue.LFG(An,8),ue.LFG(ut.nm,8))},ve.\u0275prov=ue.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"any"}),ve})(),at=(()=>{class ve{}return ve.\u0275fac=function(_e){return new(_e||ve)},ve.\u0275mod=ue.oAB({type:ve}),ve.\u0275inj=ue.cJS({}),ve})(),De=(()=>{class ve{constructor(){vn.Z.registerVersion("angularfire",de.q4.full,"gcs-compat")}}return ve.\u0275fac=function(_e){return new(_e||ve)},ve.\u0275mod=ue.oAB({type:ve}),ve.\u0275inj=ue.cJS({providers:[He],imports:[at]}),ve})()},6304:(pn,ft,K)=>{K.d(ft,{Dh:()=>et,cc:()=>Ae,hO:()=>ot,on:()=>de,xv:()=>ze});var p=K(4946),he=K(7142),Ee=K(8186);pn=K.hmd(pn);class R{constructor(an){return an}}const et=new p.OlP("angularfire2.app.options"),ze=new p.OlP("angularfire2.app.name");function de(At,an,xt){const tt="object"==typeof xt&&xt||{};tt.name=tt.name||"string"==typeof xt&&xt||"[DEFAULT]";const gt=he.Z.apps.filter(dt=>dt&&dt.name===tt.name)[0]||an.runOutsideAngular(()=>he.Z.initializeApp(At,tt));try{JSON.stringify(At)!==JSON.stringify(gt.options)&&ue("error",`${gt.name} Firebase App already initialized with different options${pn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new R(gt)}const ue=(At,...an)=>{(0,p.X6Q)()&&typeof console<"u"&&console[At](...an)},je={provide:R,useFactory:de,deps:[et,p.R0b,[new p.FiY,ze]]};let ot=(()=>{class At{constructor(xt){he.Z.registerVersion("angularfire",Ee.q4.full,"core"),he.Z.registerVersion("angularfire",Ee.q4.full,"app-compat"),he.Z.registerVersion("angular",p.q4F.full,xt.toString())}static initializeApp(xt,be){return{ngModule:At,providers:[{provide:et,useValue:xt},{provide:ze,useValue:be}]}}}return At.\u0275fac=function(xt){return new(xt||At)(p.LFG(p.Lbi))},At.\u0275mod=p.oAB({type:At}),At.\u0275inj=p.cJS({providers:[je]}),At})();function Ae(At,an,xt,be,tt){const[,Ze,gt]=globalThis.\u0275AngularfireInstanceCache.find(dt=>dt[0]===At)||[];if(Ze)return function Ot(At,an){try{return At.toString()===an.toString()}catch{return At===an}}(tt,gt)||(Bt("error",`${an} was already initialized on the ${xt} Firebase App with different settings.${Dt?" You may need to reload as Firebase is not HMR aware.":""}`),Bt("warn",{is:tt,was:gt})),Ze;{const dt=be();return globalThis.\u0275AngularfireInstanceCache.push([At,dt,tt]),dt}}const Dt=!!pn.hot,Bt=(At,...an)=>{(0,p.X6Q)()&&typeof console<"u"&&console[At](...an)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5723:(pn,ft,K)=>{K.d(ft,{gg:()=>md,ET:()=>mE,hJ:()=>h_,BS:()=>d_,JU:()=>g_,ad:()=>y_,Cm:()=>hE,r7:()=>E_});var Ae,p=K(8186),he=K(4946),Ee=K(5609),Se=K(8726),Me=K(3182),ae=K(7247),R=K(5861),et=K(534),ze=K(4537),de=K(7879),ue=K(9058),je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ot={},Ot=Ot||{},Dt=je||self;function Bt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function At(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var xt="closure_uid_"+(1e9*Math.random()>>>0),be=0;function tt(i,e,n){return i.call.apply(i.bind,arguments)}function Ze(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function gt(i,e,n){return(gt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tt:Ze).apply(null,arguments)}function dt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function ct(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,l){for(var f=Array(arguments.length-2),b=2;b<arguments.length;b++)f[b-2]=arguments[b];return e.prototype[u].apply(o,f)}}function ut(){this.s=this.s,this.o=this.o}ut.prototype.s=!1,ut.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function an(i){Object.prototype.hasOwnProperty.call(i,xt)&&i[xt]||(i[xt]=++be)}(this)},ut.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $n=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function gr(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function It(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Bt(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=o[f]}else i.push(o)}}function Et(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Et.prototype.h=function(){this.defaultPrevented=!0};var bn=function(){if(!Dt.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Dt.addEventListener("test",()=>{},e),Dt.removeEventListener("test",()=>{},e)}catch{}return i}();function Lt(i){return/^[\s\xa0]*$/.test(i)}function An(){var i=Dt.navigator;return i&&(i=i.userAgent)?i:""}function He(i){return-1!=An().indexOf(i)}function Je(i){return Je[" "](i),i}Je[" "]=function(){};var zt,i,De=He("Opera"),ve=He("Trident")||He("MSIE"),oe=He("Edge"),_e=oe||ve,We=He("Gecko")&&!(-1!=An().toLowerCase().indexOf("webkit")&&!He("Edge"))&&!(He("Trident")||He("MSIE"))&&!He("Edge"),pt=-1!=An().toLowerCase().indexOf("webkit")&&!He("Edge");function _t(){var i=Dt.document;return i?i.documentMode:void 0}e:{var tr="",Qn=(i=An(),We?/rv:([^\);]+)(\)|;)/.exec(i):oe?/Edge\/([\d\.]+)/.exec(i):ve?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):pt?/WebKit\/(\S+)/.exec(i):De?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Qn&&(tr=Qn?Qn[1]:""),ve){var Rn=_t();if(null!=Rn&&Rn>parseFloat(tr)){zt=String(Rn);break e}}zt=tr}var kn=Dt.document&&ve&&(_t()||parseInt(zt,10))||void 0;function nr(i,e){if(Et.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(We){e:{try{Je(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:mn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&nr.$.h.call(this)}}ct(nr,Et);var mn={2:"touch",3:"pen",4:"mouse"};nr.prototype.h=function(){nr.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var hr="closure_listenable_"+(1e6*Math.random()|0),En=0;function gi(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++En,this.fa=this.ia=!1}function cr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function sr(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function On(i){const e={};for(const n in i)e[n]=i[n];return e}const yr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gr(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<yr.length;l++)n=yr[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function ei(i){this.src=i,this.g={},this.h=0}function Dr(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=$n(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(cr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function kr(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==o)return u}return-1}ei.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=kr(i,e,o,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new gi(e,this.src,l,!!o,u)).ia=n,i.push(e)),e};var di="closure_lm_"+(1e6*Math.random()|0),_r={};function hi(i,e,n,o,u){if(o&&o.once)return Oi(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)hi(i,e[l],n,o,u);return null}return n=Cn(n),i&&i[hr]?i.O(e,n,At(o)?!!o.capture:!!o,u):Kt(i,e,n,!1,o,u)}function Kt(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=At(u)?!!u.capture:!!u,b=bi(i);if(b||(i[di]=b=new ei(i)),(n=b.add(e,n,o,f,l)).proxy)return n;if(o=function ji(){const e=yn;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)bn||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(wr(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function Oi(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Oi(i,e[l],n,o,u);return null}return n=Cn(n),i&&i[hr]?i.P(e,n,At(o)?!!o.capture:!!o,u):Kt(i,e,n,!0,o,u)}function zr(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)zr(i,e[l],n,o,u);else o=At(o)?!!o.capture:!!o,n=Cn(n),i&&i[hr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=kr(l=i.g[e],n,o,u))&&(cr(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=bi(i))&&(e=i.g[e.toString()],i=-1,e&&(i=kr(e,n,o,u)),(n=-1<i?e[i]:null)&&ri(n))}function ri(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[hr])Dr(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(wr(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=bi(e))?(Dr(n,i),0==n.h&&(n.src=null,e[di]=null)):cr(i)}}}function wr(i){return i in _r?_r[i]:_r[i]="on"+i}function yn(i,e){if(i.fa)i=!0;else{e=new nr(e,this);var n=i.listener,o=i.la||i.src;i.ia&&ri(i),i=n.call(o,e)}return i}function bi(i){return(i=i[di])instanceof ei?i:null}var wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cn(i){return"function"==typeof i?i:(i[wi]||(i[wi]=function(e){return i.handleEvent(e)}),i[wi])}function vr(){ut.call(this),this.i=new ei(this),this.S=this,this.J=null}function Hn(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new Et(e,i);else if(e instanceof Et)e.target=e.target||i;else{var u=e;Gr(e=new Et(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=Fr(f,o,!0,e)&&u}if(u=Fr(f=e.g=i,o,!0,e)&&u,u=Fr(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=Fr(f=e.g=n[l],o,!1,e)&&u}function Fr(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var b=f.listener,k=f.la||f.src;f.ia&&Dr(i.i,f),u=!1!==b.call(k,o)&&u}}return u&&!o.defaultPrevented}ct(vr,ut),vr.prototype[hr]=!0,vr.prototype.removeEventListener=function(i,e,n,o){zr(this,i,e,n,o)},vr.prototype.N=function(){if(vr.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)cr(n[o]);delete i.g[e],i.h--}}this.J=null},vr.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},vr.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var Te=Dt.JSON.stringify;function re(){var i=Jn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var ee=new class J{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Oe,i=>i.reset());class Oe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function yt(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function $t(i){Dt.setTimeout(()=>{throw i},0)}let ln,Mn=!1,Jn=new class ne{constructor(){this.h=this.g=null}add(e,n){const o=ee.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},Fn=()=>{const i=Dt.Promise.resolve(void 0);ln=()=>{i.then($r)}};var $r=()=>{for(var i;i=re();){try{i.h.call(i.g)}catch(n){$t(n)}var e=ee;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Mn=!1};function Er(i,e){vr.call(this),this.h=i||1,this.g=e||Dt,this.j=gt(this.qb,this),this.l=Date.now()}function mi(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Si(i,e,n){if("function"==typeof i)n&&(i=gt(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=gt(i.handleEvent,i)}return 2147483647<Number(e)?-1:Dt.setTimeout(i,e||0)}function st(i){i.g=Si(()=>{i.g=null,i.i&&(i.i=!1,st(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ct(Er,vr),(Ae=Er.prototype).ga=!1,Ae.T=null,Ae.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Hn(this,"tick"),this.ga&&(mi(this),this.start()))}},Ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ae.N=function(){Er.$.N.call(this),mi(this),delete this.g};class Be extends ut{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:st(this)}N(){super.N(),this.g&&(Dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bt(i){ut.call(this),this.h=i,this.g={}}ct(bt,ut);var Zt=[];function Nn(i,e,n,o){Array.isArray(n)||(n&&(Zt[0]=n.toString()),n=Zt);for(var u=0;u<n.length;u++){var l=hi(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function Jt(i){sr(i.g,function(e,n){this.g.hasOwnProperty(n)&&ri(e)},i),i.g={}}function qn(){this.g=!0}function Pi(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function as(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return Te(n)}catch{return e}}(i,n)+(o?" "+o:"")})}bt.prototype.N=function(){bt.$.N.call(this),Jt(this)},bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qn.prototype.Ea=function(){this.g=!1},qn.prototype.info=function(){};var br={},Ai=null;function Mi(){return Ai=Ai||new vr}function fi(i){Et.call(this,br.Ta,i)}function or(i){const e=Mi();Hn(e,new fi(e))}function $i(i,e){Et.call(this,br.STAT_EVENT,i),this.stat=e}function Zr(i){const e=Mi();Hn(e,new $i(e,i))}function pi(i,e){Et.call(this,br.Ua,i),this.size=e}function Vi(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Dt.setTimeout(function(){i()},e)}br.Ta="serverreachability",ct(fi,Et),br.STAT_EVENT="statevent",ct($i,Et),br.Ua="timingevent",ct(pi,Et);var Ii={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Is={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Re(){}function Ve(){}Re.prototype.h=null;var Wn,mt={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Pt(){Et.call(this,"d")}function dn(){Et.call(this,"c")}function xn(){}function rr(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new bt(this),this.P=yi,this.V=new Er(i=_e?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ti}function Ti(){this.i=null,this.g="",this.h=!1}ct(Pt,Et),ct(dn,Et),ct(xn,Re),xn.prototype.g=function(){return new XMLHttpRequest},xn.prototype.i=function(){return{}},Wn=new xn;var yi=45e3,ii={},Mr={};function ps(i,e,n){i.L=1,i.v=Ki(Ji(e)),i.s=n,i.S=!0,Vs(i,null)}function Vs(i,e){i.G=Date.now(),us(i),i.A=Ji(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),we(n.i,"t",o),i.C=0,n=i.l.J,i.h=new Ti,i.g=Ps(i.l,n?e:null,!i.s),0<i.O&&(i.M=new Be(gt(i.Pa,i,i.g),i.O)),Nn(i.U,i.g,"readystatechange",i.nb),e=i.I?On(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),or(),function ti(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",b=l.split("&"),k=0;k<b.length;k++){var H=b[k].split("=");if(1<H.length){var ie=H[0];H=H[1];var Ie=ie.split("_");f=2<=Ie.length&&"type"==Ie[1]?f+(ie+"=")+H+"&":f+(ie+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Io(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Ts(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=Uo(i,n),u==Mr){4==e&&(i.o=4,Zr(14),o=!1),Pi(i.j,i.m,null,"[Incomplete Response]");break}if(u==ii){i.o=4,Zr(15),Pi(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Pi(i.j,i.m,u,null),xs(i,u)}Io(i)&&u!=Mr&&u!=ii&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Zr(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ma(e),e.M=!0,Zr(11))):(Pi(i.j,i.m,n,"[Invalid Chunked Response]"),Us(i),cs(i))}function Uo(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Mr:(n=Number(e.substring(n,o)),isNaN(n)?ii:(o+=1)+n>e.length?Mr:(e=e.slice(o,o+n),i.C=o+n,e))}function us(i){i.Y=Date.now()+i.P,co(i,i.P)}function co(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Vi(gt(i.lb,i),e)}function ki(i){i.B&&(Dt.clearTimeout(i.B),i.B=null)}function cs(i){0==i.l.H||i.J||ya(i.l,i)}function Us(i){ki(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,mi(i.V),Jt(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function xs(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Pr(n.i,i)))if(!i.K&&Pr(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;Hs(n),Kn(n)}ga(n),Zr(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=Vi(gt(n.ib,n),6e3));if(1>=mr(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ro(n,11)}else if((i.K||n.g==i)&&Hs(n),!Lt(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let H=u[e];if(n.V=H[0],H=H[1],2==n.H)if("c"==H[0]){n.K=H[1],n.pa=H[2];const ie=H[3];null!=ie&&(n.ra=ie,n.l.info("VER="+n.ra));const Ie=H[4];null!=Ie&&(n.Ga=Ie,n.l.info("SVER="+n.Ga));const Ye=H[5];null!=Ye&&"number"==typeof Ye&&0<Ye&&(n.L=o=1.5*Ye,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const vt=i.g;if(vt){const Wt=vt.g?vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wt){var l=o.i;l.g||-1==Wt.indexOf("spdy")&&-1==Wt.indexOf("quic")&&-1==Wt.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Xn(l,l.h),l.h=null))}if(o.F){const gn=vt.g?vt.g.getResponseHeader("X-HTTP-Session-Id"):null;gn&&(o.Da=gn,Ln(o.I,o.F,gn))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((o=n).wa=fo(o,o.J?o.pa:null,o.Y),f.K){qr(o.i,f);var b=f,k=o.L;k&&b.setTimeout(k),b.B&&(ki(b),us(b)),o.g=f}else zi(o);0<n.j.length&&ys(n)}else"stop"!=H[0]&&"close"!=H[0]||ro(n,7);else 3==n.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?ro(n,7):qt(n):"noop"!=H[0]&&n.h&&n.h.Aa(H),n.A=0)}or()}catch{}}function Bo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Bt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function lo(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Bt(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function no(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Bt(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(Ae=rr.prototype).setTimeout=function(i){this.P=i},Ae.nb=function(i){i=i.target;const e=this.M;e&&3==Xr(i)?e.l():this.Pa(i)},Ae.Pa=function(i){try{if(i==this.g)e:{const ie=Xr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ie)&&(3!=ie||_e||this.g&&(this.h.h||this.g.ja()||Ho(this.g)))){this.J||4!=ie||7==e||or(),ki(this);var n=this.g.da();this.ca=n;t:if(Io(this)){var o=Ho(this.g);i="";var u=o.length,l=4==Xr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Us(this),cs(this);var f="";break t}this.h.i=new Dt.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function Ir(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,ie,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var b,k=this.g;if((b=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lt(b)){var H=b;break t}}H=null}if(!(n=H)){this.i=!1,this.o=3,Zr(12),Us(this),cs(this);break e}Pi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xs(this,n)}this.S?(Ts(this,ie,f),_e&&this.i&&3==ie&&(Nn(this.U,this.V,"tick",this.mb),this.V.start())):(Pi(this.j,this.m,f,null),xs(this,f)),4==ie&&Us(this),this.i&&!this.J&&(4==ie?ya(this.l,this):(this.i=!1,us(this)))}else(function j(i){const e={};i=(i.g&&2<=Xr(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(Lt(i[o]))continue;var n=yt(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function Bn(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,Zr(12)):(this.o=0,Zr(13)),Us(this),cs(this)}}}catch{}},Ae.mb=function(){if(this.g){var i=Xr(this.g),e=this.g.ja();this.C<e.length&&(ki(this),Ts(this,i,e),this.i&&4!=i&&us(this))}},Ae.cancel=function(){this.J=!0,Us(this)},Ae.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function fs(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(or(),Zr(17)),Us(this),this.o=2,cs(this)):co(this,this.Y-i)};var jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ui(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Ui){this.h=i.h,Ds(this,i.j),this.s=i.s,this.g=i.g,jn(this,i.m),this.l=i.l;var e=i.i,n=new Gn;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),fr(this,n),this.o=i.o}else i&&(e=String(i).match(jo))?(this.h=!1,Ds(this,e[1]||"",!0),this.s=si(e[2]||""),this.g=si(e[3]||"",!0),jn(this,e[4]),this.l=si(e[5]||"",!0),fr(this,e[6]||"",!0),this.o=si(e[7]||"")):(this.h=!1,this.i=new Gn(null,this.h))}function Ji(i){return new Ui(i)}function Ds(i,e,n){i.j=n?si(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function jn(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function fr(i,e,n){e instanceof Gn?(i.i=e,function nt(i,e){e&&!i.j&&($(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(G(this,o),we(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Ns(e,Or)),i.i=new Gn(e,i.h))}function Ln(i,e,n){i.i.set(e,n)}function Ki(i){return Ln(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function si(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ns(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,gs),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function gs(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ui.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ns(e,bs,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ns(e,bs,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Ns(n,"/"==n.charAt(0)?Bs:To,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Ns(n,Xt)),i.join("")};var bs=/[#\/\?@]/g,To=/[#\?:]/g,Bs=/[#\?]/g,Or=/[#\?@]/g,Xt=/#/g;function Gn(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function $(i){i.g||(i.g=new Map,i.h=0,i.i&&function ho(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function G(i,e){$(i),e=ke(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function pe(i,e){return $(i),e=ke(i,e),i.g.has(e)}function we(i,e,n){G(i,e),0<n.length&&(i.i=null,i.g.set(ke(i,e),gr(n)),i.h+=n.length)}function ke(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Yt(i){this.l=i||St,i=Dt.PerformanceNavigationTiming?0<(i=Dt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Dt.g&&Dt.g.Ka&&Dt.g.Ka()&&Dt.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ae=Gn.prototype).add=function(i,e){$(this),this.i=null,i=ke(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Ae.forEach=function(i,e){$(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},Ae.ta=function(){$(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},Ae.Z=function(i){$(this);let e=[];if("string"==typeof i)pe(this,i)&&(e=e.concat(this.g.get(ke(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},Ae.set=function(i,e){return $(this),this.i=null,pe(this,i=ke(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ae.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var u=l;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var St=10;function Pn(i){return!!i.h||!!i.g&&i.g.size>=i.j}function mr(i){return i.h?1:i.g?i.g.size:0}function Pr(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Xn(i,e){i.g?i.g.add(e):i.h=e}function qr(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Tr(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return gr(i.i)}Yt.prototype.cancel=function(){if(this.i=Tr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Yr=class{stringify(i){return Dt.JSON.stringify(i,void 0)}parse(i){return Dt.JSON.parse(i,void 0)}};function Hr(){this.g=new Yr}function Cs(i,e,n){const o=n||"";try{Bo(i,function(u,l){let f=u;At(u)&&(f=Te(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Qr(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function pr(i){this.l=i.fc||null,this.j=i.ob||!1}function Gi(i,e){vr.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=er,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ct(pr,Re),pr.prototype.g=function(){return new Gi(this.l,this.j)},pr.prototype.i=function(i){return function(){return i}}({}),ct(Gi,vr);var er=0;function js(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function oi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ms(i)}function ms(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ae=Gi.prototype).open=function(i,e){if(this.readyState!=er)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ms(this)},Ae.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Dt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,oi(this)),this.readyState=er},Ae.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ms(this)),this.g&&(this.readyState=3,ms(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Dt.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;js(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Ae.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?oi(this):ms(this),3==this.readyState&&js(this)}},Ae.Za=function(i){this.g&&(this.response=this.responseText=i,oi(this))},Ae.Ya=function(i){this.g&&(this.response=i,oi(this))},Ae.ka=function(){this.g&&oi(this)},Ae.setRequestHeader=function(i,e){this.v.append(i,e)},Ae.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ae.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Ci=Dt.JSON.parse;function ai(i){vr.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Xi,this.L=this.M=!1}ct(ai,vr);var Xi="",Do=/^https?$/i,Fi=["POST","PUT"];function Ri(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,xi(i),Os(i)}function xi(i){i.F||(i.F=!0,Hn(i,"complete"),Hn(i,"error"))}function $o(i){if(i.h&&typeof Ot<"u"&&(!i.C[1]||4!=Xr(i)||2!=i.da()))if(i.v&&4==Xr(i))Si(i.La,0,i);else if(Hn(i,"readystatechange"),4==Xr(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var u=String(i.I).match(jo)[1]||null;!u&&Dt.self&&Dt.self.location&&(u=Dt.self.location.protocol.slice(0,-1)),o=!Do.test(u?u.toLowerCase():"")}n=o}if(n)Hn(i,"complete"),Hn(i,"success");else{i.m=6;try{var l=2<Xr(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",xi(i)}}finally{Os(i)}}}function Os(i,e){if(i.g){Rr(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Hn(i,"ready");try{n.onreadystatechange=o}catch{}}}function Rr(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Dt.clearTimeout(i.A),i.A=null)}function Xr(i){return i.g?i.g.readyState:0}function Ho(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Xi:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function z(i){let e="";return sr(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function O(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=z(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Ln(i,e,n))}function X(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function Ce(i){this.Ga=0,this.j=[],this.l=new qn,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=X("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=X("baseRetryDelayMs",5e3,i),this.hb=X("retryDelaySeedMs",1e4,i),this.eb=X("forwardChannelMaxRetries",2,i),this.xa=X("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Yt(i&&i.concurrentRequestLimit),this.Ja=new Hr,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function qt(i){if(Li(i),3==i.H){var e=i.W++,n=Ji(i.I);if(Ln(n,"SID",i.K),Ln(n,"RID",e),Ln(n,"TYPE","terminate"),es(i,n),(e=new rr(i,i.l,e)).L=2,e.v=Ki(Ji(n)),n=!1,Dt.navigator&&Dt.navigator.sendBeacon)try{n=Dt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Dt.Image&&((new Image).src=e.v,n=!0),n||(e.g=Ps(e.l,null),e.g.ha(e.v)),e.G=Date.now(),us(e)}Jo(i)}function Kn(i){i.g&&(ma(i),i.g.cancel(),i.g=null)}function Li(i){Kn(i),i.u&&(Dt.clearTimeout(i.u),i.u=null),Hs(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Dt.clearTimeout(i.m),i.m=null)}function ys(i){if(!Pn(i.i)&&!i.m){i.m=!0;var e=i.Na;ln||Fn(),Mn||(ln(),Mn=!0),Jn.add(e,i),i.C=0}}function bo(i,e){var n;n=e?e.m:i.W++;const o=Ji(i.I);Ln(o,"SID",i.K),Ln(o,"RID",n),Ln(o,"AID",i.V),es(i,o),i.o&&i.s&&O(o,i.o,i.s),n=new rr(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Go(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Xn(i.i,n),ps(n,o,e)}function es(i,e){i.na&&sr(i.na,function(n,o){Ln(e,o,n)}),i.h&&Bo({},function(n,o){Ln(e,o,n)})}function Go(i,e,n){n=Math.min(i.j.length,n);var o=i.h?gt(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let b=!0;for(let k=0;k<n;k++){let H=u[k].g;const ie=u[k].map;if(H-=l,0>H)l=Math.max(0,u[k].g-100),b=!1;else try{Cs(ie,f,"req"+H+"_")}catch{o&&o(ie)}}if(b){o=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function zi(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;ln||Fn(),Mn||(ln(),Mn=!0),Jn.add(e,i),i.A=0}}function ga(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Vi(gt(i.Ma,i),ls(i,i.A)),i.A++,0))}function ma(i){null!=i.B&&(Dt.clearTimeout(i.B),i.B=null)}function Pa(i){i.g=new rr(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Ji(i.wa);Ln(e,"RID","rpc"),Ln(e,"SID",i.K),Ln(e,"AID",i.V),Ln(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Ln(e,"TO",i.qa),Ln(e,"TYPE","xmlhttp"),es(i,e),i.o&&i.s&&O(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=Ki(Ji(e)),n.s=null,n.S=!0,Vs(n,i)}function Hs(i){null!=i.v&&(Dt.clearTimeout(i.v),i.v=null)}function ya(i,e){var n=null;if(i.g==e){Hs(i),ma(i),i.g=null;var o=2}else{if(!Pr(i.i,e))return;n=e.F,qr(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;Hn(o=Mi(),new pi(o,n)),ys(i)}else zi(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function $s(i,e){return!(mr(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Vi(gt(i.Na,i,e),ls(i,i.C)),i.C++,0)))}(i,e)||2==o&&ga(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:ro(i,5);break;case 4:ro(i,10);break;case 3:ro(i,6);break;default:ro(i,2)}}function ls(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function ro(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=gt(i.pb,i);n||(n=new Ui("//www.google.com/images/cleardot.gif"),Dt.location&&"http"==Dt.location.protocol||Ds(n,"https"),Ki(n)),function _i(i,e){const n=new qn;if(Dt.Image){const o=new Image;o.onload=dt(Qr,n,o,"TestLoadImage: loaded",!0,e),o.onerror=dt(Qr,n,o,"TestLoadImage: error",!1,e),o.onabort=dt(Qr,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=dt(Qr,n,o,"TestLoadImage: timeout",!1,e),Dt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Zr(2);i.H=0,i.h&&i.h.za(e),Jo(i),Li(i)}function Jo(i){if(i.H=0,i.ma=[],i.h){const e=Tr(i.i);(0!=e.length||0!=i.j.length)&&(It(i.ma,e),It(i.ma,i.j),i.i.i.length=0,gr(i.j),i.j.length=0),i.h.ya()}}function fo(i,e,n){var o=n instanceof Ui?Ji(n):new Ui(n);if(""!=o.g)e&&(o.g=e+"."+o.g),jn(o,o.m);else{var u=Dt.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new Ui(null);o&&Ds(l,o),e&&(l.g=e),u&&jn(l,u),n&&(l.l=n),o=l}return e=i.Da,(n=i.F)&&e&&Ln(o,n,e),Ln(o,"VER",i.ra),es(i,o),o}function Ps(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ai(n&&i.Ha&&!i.va?new pr({ob:!0}):i.va)).Oa(i.J),e}function ts(){}function _a(){if(ve&&!(10<=Number(kn)))throw Error("Environmental error: no available transport.")}function Sr(i,e){vr.call(this),this.g=new Ce(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Lt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Lt(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Gs(this)}function Co(i){Pt.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function _s(){dn.call(this),this.status=1}function Gs(i){this.g=i}function ns(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function zo(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+o[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function xr(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var l=0|i[u];o&&l==e||(n[u]=l,o=!1)}this.g=n}(Ae=ai.prototype).Oa=function(i){this.M=i},Ae.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Wn.g(),this.C=function xe(i){return i.h||(i.h=i.i())}(this.u?this.u:Wn),this.g.onreadystatechange=gt(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void Ri(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=Dt.FormData&&i instanceof Dt.FormData,!(0<=$n(Fi,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Rr(this),0<this.B&&((this.L=function pa(i){return ve&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gt(this.ua,this)):this.A=Si(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){Ri(this,l)}},Ae.ua=function(){typeof Ot<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hn(this,"timeout"),this.abort(8))},Ae.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Hn(this,"complete"),Hn(this,"abort"),Os(this))},Ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Os(this,!0)),ai.$.N.call(this)},Ae.La=function(){this.s||(this.G||this.v||this.l?$o(this):this.kb())},Ae.kb=function(){$o(this)},Ae.isActive=function(){return!!this.g},Ae.da=function(){try{return 2<Xr(this)?this.g.status:-1}catch{return-1}},Ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ae.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Ci(e)}},Ae.Ia=function(){return this.m},Ae.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ae=Ce.prototype).ra=8,Ae.H=1,Ae.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new rr(this,this.l,i);let l=this.s;if(this.U&&(l?(l=On(l),Gr(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Go(this,u,e),Ln(n=Ji(this.I),"RID",i),Ln(n,"CVER",22),this.F&&Ln(n,"X-HTTP-Session-Id",this.F),es(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(z(l)))+"&"+e:this.o&&O(n,this.o,l)),Xn(this.i,u),this.bb&&Ln(n,"TYPE","init"),this.P?(Ln(n,"$req",e),Ln(n,"SID","null"),u.aa=!0,ps(u,n,null)):ps(u,n,e),this.H=2}}else 3==this.H&&(i?bo(this,i):0==this.j.length||Pn(this.i)||bo(this))},Ae.Ma=function(){if(this.u=null,Pa(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Vi(gt(this.jb,this),i)}},Ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zr(10),Kn(this),Pa(this))},Ae.ib=function(){null!=this.v&&(this.v=null,Kn(this),ga(this),Zr(19))},Ae.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Zr(2)):(this.l.info("Failed to ping google.com"),Zr(1))},Ae.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ae=ts.prototype).Ba=function(){},Ae.Aa=function(){},Ae.za=function(){},Ae.ya=function(){},Ae.isActive=function(){return!0},Ae.Va=function(){},_a.prototype.g=function(i,e){return new Sr(i,e)},ct(Sr,vr),Sr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;Zr(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=fo(i,null,i.Y),ys(i)},Sr.prototype.close=function(){qt(this.g)},Sr.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=Te(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&ys(e)},Sr.prototype.N=function(){this.g.h=null,delete this.j,qt(this.g),delete this.g,Sr.$.N.call(this)},ct(Co,Pt),ct(_s,dn),ct(Gs,ts),Gs.prototype.Ba=function(){Hn(this.g,"a")},Gs.prototype.Aa=function(i){Hn(this.g,new Co(i))},Gs.prototype.za=function(i){Hn(this.g,new _s)},Gs.prototype.ya=function(){Hn(this.g,"b")},ct(ns,function ba(){this.blockSize=-1}),ns.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ns.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)zo(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(o[u++]=i.charCodeAt(l++),u==this.blockSize){zo(this,o),u=0;break}}else for(;l<e;)if(o[u++]=i[l++],u==this.blockSize){zo(this,o),u=0;break}}this.h=u,this.i+=e},ns.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var Ca={};function qo(i){return-128<=i&&128>i?function at(i,e){var n=Ca;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new xr([0|e],0>e?-1:0)}):new xr([0|i],0>i?-1:0)}function zs(i){if(isNaN(i)||!isFinite(i))return io;if(0>i)return Bi(zs(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=va;return new xr(e,0)}var va=4294967296,io=qo(0),So=qo(1),go=qo(16777216);function Ss(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function As(i){return-1==i.h}function Bi(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new xr(n,~i.h).add(So)}function Xo(i,e){return i.add(Bi(e))}function D(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Z(i,e){this.g=i,this.h=e}function P(i,e){if(Ss(e))throw Error("division by zero");if(Ss(i))return new Z(io,io);if(As(i))return e=P(Bi(i),e),new Z(Bi(e.g),Bi(e.h));if(As(e))return e=P(i,Bi(e)),new Z(Bi(e.g),e.h);if(30<i.g.length){if(As(i)||As(e))throw Error("slowDivide_ only works with positive integers.");for(var n=So,o=e;0>=o.X(i);)n=q(n),o=q(o);var u=me(n,1),l=me(o,1);for(o=me(o,2),n=me(n,2);!Ss(o);){var f=l.add(o);0>=f.X(i)&&(u=u.add(n),l=f),o=me(o,1),n=me(n,1)}return e=Xo(i,u.R(e)),new Z(u,e)}for(u=io;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(l=zs(n)).R(e);As(f)||0<f.X(i);)f=(l=zs(n-=o)).R(e);Ss(l)&&(l=So),u=u.add(l),i=Xo(i,f)}return new Z(u,i)}function q(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new xr(n,i.h)}function me(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],l=0;l<o;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new xr(u,i.h)}(Ae=xr.prototype).ea=function(){if(As(this))return-Bi(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:va+o)*e,e*=va}return i},Ae.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Ss(this))return"0";if(As(this))return"-"+Bi(this).toString(i);for(var e=zs(Math.pow(i,6)),n=this,o="";;){var u=P(n,e).g,l=((0<(n=Xo(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(Ss(n=u))return l+o;for(;6>l.length;)l="0"+l;o=l+o}},Ae.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Ae.X=function(i){return As(i=Xo(this,i))?-1:Ss(i)?0:1},Ae.abs=function(){return As(this)?Bi(this):this},Ae.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var l=o+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new xr(n,-2147483648&n[n.length-1]?-1:0)},Ae.R=function(i){if(Ss(this)||Ss(i))return io;if(As(this))return As(i)?Bi(this).R(Bi(i)):Bi(Bi(this).R(i));if(As(i))return Bi(this.R(Bi(i)));if(0>this.X(go)&&0>i.X(go))return zs(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var l=this.D(o)>>>16,f=65535&this.D(o),b=i.D(u)>>>16,k=65535&i.D(u);n[2*o+2*u]+=f*k,D(n,2*o+2*u),n[2*o+2*u+1]+=l*k,D(n,2*o+2*u+1),n[2*o+2*u+1]+=f*b,D(n,2*o+2*u+1),n[2*o+2*u+2]+=l*b,D(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new xr(n,0)},Ae.gb=function(i){return P(this,i).h},Ae.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new xr(n,this.h&i.h)},Ae.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new xr(n,this.h|i.h)},Ae.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new xr(n,this.h^i.h)},_a.prototype.createWebChannel=_a.prototype.g,Sr.prototype.send=Sr.prototype.u,Sr.prototype.open=Sr.prototype.m,Sr.prototype.close=Sr.prototype.close,Ii.NO_ERROR=0,Ii.TIMEOUT=8,Ii.HTTP_ERROR=6,Is.COMPLETE="complete",Ve.EventType=mt,mt.OPEN="a",mt.CLOSE="b",mt.ERROR="c",mt.MESSAGE="d",vr.prototype.listen=vr.prototype.O,ai.prototype.listenOnce=ai.prototype.P,ai.prototype.getLastError=ai.prototype.Sa,ai.prototype.getLastErrorCode=ai.prototype.Ia,ai.prototype.getStatus=ai.prototype.da,ai.prototype.getResponseJson=ai.prototype.Wa,ai.prototype.getResponseText=ai.prototype.ja,ai.prototype.send=ai.prototype.ha,ai.prototype.setWithCredentials=ai.prototype.Oa,ns.prototype.digest=ns.prototype.l,ns.prototype.reset=ns.prototype.reset,ns.prototype.update=ns.prototype.j,xr.prototype.add=xr.prototype.add,xr.prototype.multiply=xr.prototype.R,xr.prototype.modulo=xr.prototype.gb,xr.prototype.compare=xr.prototype.X,xr.prototype.toNumber=xr.prototype.ea,xr.prototype.toString=xr.prototype.toString,xr.prototype.getBits=xr.prototype.D,xr.fromNumber=zs,xr.fromString=function po(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Bi(po(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=zs(Math.pow(e,8)),o=io,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=zs(Math.pow(e,l)),o=o.R(l).add(zs(f))):o=(o=o.R(n)).add(zs(f))}return o};var rt=ot.createWebChannelTransport=function(){return new _a},Ct=ot.getStatEventTarget=function(){return Mi()},Tn=ot.ErrorCode=Ii,ui=ot.EventType=Is,vi=ot.Event=br,U=ot.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},y=ot.FetchXmlHttpFactory=pr,v=ot.WebChannel=Ve,x=ot.XhrIo=ai,L=ot.Md5=ns,te=ot.Integer=xr;const ye="@firebase/firestore";class ge{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ge.UNAUTHENTICATED=new ge(null),ge.GOOGLE_CREDENTIALS=new ge("google-credentials-uid"),ge.FIRST_PARTY=new ge("first-party-uid"),ge.MOCK_USER=new ge("mock-user");let Le="9.23.0";const Xe=new de.Yd("@firebase/firestore");function Gt(){return Xe.logLevel}function it(i,...e){if(Xe.logLevel<=de.in.DEBUG){const n=e.map(Zn);Xe.debug(`Firestore (${Le}): ${i}`,...n)}}function Sn(i,...e){if(Xe.logLevel<=de.in.ERROR){const n=e.map(Zn);Xe.error(`Firestore (${Le}): ${i}`,...n)}}function In(i,...e){if(Xe.logLevel<=de.in.WARN){const n=e.map(Zn);Xe.warn(`Firestore (${Le}): ${i}`,...n)}}function Zn(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Ht(i="Unexpected state"){const e=`FIRESTORE (${Le}) INTERNAL ASSERTION FAILED: `+i;throw Sn(e),new Error(e)}function tn(i,e){i||Ht()}function Ft(i,e){return i}const qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wt extends ue.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ci{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class vs{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ge.UNAUTHENTICATED))}shutdown(){}}class qs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mo{constructor(e){this.t=e,this.currentUser=ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=H=>this.i!==u?(u=this.i,n(H)):Promise.resolve();let f=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new ci,e.enqueueRetryable(()=>l(this.currentUser))};const b=()=>{const H=f;e.enqueueRetryable((0,R.Z)(function*(){yield H.promise,yield l(o.currentUser)}))},k=H=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(H=>k(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?k(H):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new ci)}},0),b()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(tn("string"==typeof o.accessToken),new vs(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return tn(null===e||"string"==typeof e),new ge(e)}}class rs{constructor(e,n,o){this.h=e,this.l=n,this.m=o,this.type="FirstParty",this.user=ge.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ea{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new rs(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ao{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const o=l=>{null!=l.error&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,it("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?u(l):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tn("string"==typeof n.token),this.T=n.token,new Wo(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function rn(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class Vn{static A(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=rn(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function Mt(i,e){return i<e?-1:i>e?1:0}function ur(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class Wr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new wt(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new wt(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new wt(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wt(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wr.fromMillis(Date.now())}static fromDate(e){return Wr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Wr(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class nn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new nn(e)}static min(){return new nn(new Wr(0,0))}static max(){return new nn(new Wr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ks{constructor(e,n,o){void 0===n?n=0:n>e.length&&Ht(),void 0===o?o=e.length-n:o>e.length-n&&Ht(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===ks.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ks?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Un extends ks{construct(e,n,o){return new Un(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new wt(qe.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Un(n)}static emptyPath(){return new Un([])}}const Ha=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends ks{construct(e,n,o){return new _n(e,n,o)}static isValidIdentifier(e){return Ha.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _n(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new wt(qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const b=e[u];if("\\"===b){if(u+1===e.length)throw new wt(qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const k=e[u+1];if("\\"!==k&&"."!==k&&"`"!==k)throw new wt(qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=k,u+=2}else"`"===b?(f=!f,u++):"."!==b||f?(o+=b,u++):(l(),u++)}if(l(),f)throw new wt(qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}class kt{constructor(e){this.path=e}static fromPath(e){return new kt(Un.fromString(e))}static fromName(e){return new kt(Un.fromString(e).popFirst(5))}static empty(){return new kt(Un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Un.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kt(new Un(e.slice()))}}function nc(i){return new Mo(i.readTime,i.key,-1)}class Mo{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Mo(nn.min(),kt.empty(),-1)}static max(){return new Mo(nn.max(),kt.empty(),-1)}}function rc(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=kt.comparator(i.documentKey,e.documentKey),0!==n?n:Mt(i.largestBatchId,e.largestBatchId))}const Rt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ko(i){return au.apply(this,arguments)}function au(){return au=(0,R.Z)(function*(i){if(i.code!==qe.FAILED_PRECONDITION||i.message!==Rt)throw i;it("LocalStore","Unexpectedly lost primary lease")}),au.apply(this,arguments)}class $e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $e((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $e?n:$e.resolve(n)}catch(n){return $e.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$e.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$e.reject(n)}static resolve(e){return new $e((n,o)=>{n(e)})}static reject(e){return new $e((n,o)=>{o(e)})}static waitFor(e){return new $e((n,o)=>{let u=0,l=0,f=!1;e.forEach(b=>{++u,b.next(()=>{++l,f&&l===u&&n()},k=>o(k))}),f=!0,l===u&&n()})}static or(e){let n=$e.resolve(!1);for(const o of e)n=n.next(u=>u?$e.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new $e((o,u)=>{const l=e.length,f=new Array(l);let b=0;for(let k=0;k<l;k++){const H=k;n(e[H]).next(ie=>{f[H]=ie,++b,b===l&&o(f)},ie=>u(ie))}})}static doWhile(e,n){return new $e((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function na(i){return"IndexedDbTransactionError"===i.name}let ss=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>o.writeSequenceNumber(u))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return i.ct=-1,i})();function Ro(i){return null==i}function E(i){return 0===i&&1/i==-1/0}function ic(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Sa(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Au(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Ni{constructor(e,n){this.comparator=e,this.root=n||Ys.EMPTY}insert(e,n){return new Ni(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ys.BLACK,null,null))}remove(e){return new Ni(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ys.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Za(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Za(this.root,e,this.comparator,!1)}getReverseIterator(){return new Za(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Za(this.root,e,this.comparator,!0)}}class Za{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ys{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??Ys.RED,this.left=u??Ys.EMPTY,this.right=l??Ys.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new Ys(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ys.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return Ys.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ys.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ys.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ht();const e=this.left.check();if(e!==this.right.check())throw Ht();return e+(this.isRed()?0:1)}}Ys.EMPTY=null,Ys.RED=!0,Ys.BLACK=!1,Ys.EMPTY=new class{constructor(){this.size=0}get key(){throw Ht()}get value(){throw Ht()}get color(){throw Ht()}get left(){throw Ht()}get right(){throw Ht()}copy(i,e,n,o,u){return this}insert(i,e,n){return new Ys(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Di{constructor(e){this.comparator=e,this.data=new Ni(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cu(this.data.getIterator())}getIteratorFrom(e){return new cu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Di)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Di(this.comparator);return n.data=e,n}}class cu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class aa{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new aa([])}unionWith(e){let n=new Di(_n.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new aa(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ur(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class sc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qs{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new sc("Invalid base64 string: "+u):u}}(e);return new Qs(n)}static fromUint8Array(e){const n=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new Qs(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qs.EMPTY_BYTE_STRING=new Qs("");const wd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Aa(i){if(tn(!!i),"string"==typeof i){let e=0;const n=wd.exec(i);if(tn(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:ws(i.seconds),nanos:ws(i.nanos)}}function ws(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Zo(i){return"string"==typeof i?Qs.fromBase64String(i):Qs.fromUint8Array(i)}function wa(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function kc(i){const e=i.mapValue.fields.__previous_value__;return wa(e)?kc(e):e}function Yo(i){const e=Aa(i.mapValue.fields.__local_write_time__.timestampValue);return new Wr(e.seconds,e.nanos)}class Mu{constructor(e,n,o,u,l,f,b,k,H){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=b,this.longPollingOptions=k,this.useFetchStreams=H}}class xo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xo&&e.projectId===this.projectId&&e.database===this.database}}const Ma={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ia(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?wa(i)?4:du(i)?9007199254740991:10:Ht()}function ua(i,e){if(i===e)return!0;const n=Ia(i);if(n!==Ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Yo(i).isEqual(Yo(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=Aa(o.timestampValue),f=Aa(u.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Zo(i.bytesValue).isEqual(Zo(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return ws(o.geoPointValue.latitude)===ws(u.geoPointValue.latitude)&&ws(o.geoPointValue.longitude)===ws(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ws(o.integerValue)===ws(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=ws(o.doubleValue),f=ws(u.doubleValue);return l===f?E(l)===E(f):isNaN(l)&&isNaN(f)}return!1}(i,e);case 9:return ur(i.arrayValue.values||[],e.arrayValue.values||[],ua);case 10:return function(o,u){const l=o.mapValue.fields||{},f=u.mapValue.fields||{};if(ic(l)!==ic(f))return!1;for(const b in l)if(l.hasOwnProperty(b)&&(void 0===f[b]||!ua(l[b],f[b])))return!1;return!0}(i,e);default:return Ht()}var u}function No(i,e){return void 0!==(i.values||[]).find(n=>ua(n,e))}function Ya(i,e){if(i===e)return 0;const n=Ia(i),o=Ia(e);if(n!==o)return Mt(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(i.booleanValue,e.booleanValue);case 2:return function(u,l){const f=ws(u.integerValue||u.doubleValue),b=ws(l.integerValue||l.doubleValue);return f<b?-1:f>b?1:f===b?0:isNaN(f)?isNaN(b)?0:-1:1}(i,e);case 3:return oc(i.timestampValue,e.timestampValue);case 4:return oc(Yo(i),Yo(e));case 5:return Mt(i.stringValue,e.stringValue);case 6:return function(u,l){const f=Zo(u),b=Zo(l);return f.compareTo(b)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const f=u.split("/"),b=l.split("/");for(let k=0;k<f.length&&k<b.length;k++){const H=Mt(f[k],b[k]);if(0!==H)return H}return Mt(f.length,b.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const f=Mt(ws(u.latitude),ws(l.latitude));return 0!==f?f:Mt(ws(u.longitude),ws(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const f=u.values||[],b=l.values||[];for(let k=0;k<f.length&&k<b.length;++k){const H=Ya(f[k],b[k]);if(H)return H}return Mt(f.length,b.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===Ma.mapValue&&l===Ma.mapValue)return 0;if(u===Ma.mapValue)return 1;if(l===Ma.mapValue)return-1;const f=u.fields||{},b=Object.keys(f),k=l.fields||{},H=Object.keys(k);b.sort(),H.sort();for(let ie=0;ie<b.length&&ie<H.length;++ie){const Ie=Mt(b[ie],H[ie]);if(0!==Ie)return Ie;const Ye=Ya(f[b[ie]],k[H[ie]]);if(0!==Ye)return Ye}return Mt(b.length,H.length)}(i.mapValue,e.mapValue);default:throw Ht()}}function oc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Mt(i,e);const n=Aa(i),o=Aa(e),u=Mt(n.seconds,o.seconds);return 0!==u?u:Mt(n.nanos,o.nanos)}function Qa(i){return Ru(i)}function Ru(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Aa(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Zo(i.bytesValue).toBase64():"referenceValue"in i?kt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const f of o.values||[])l?l=!1:u+=",",u+=Ru(f);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",f=!0;for(const b of u)f?f=!1:l+=",",l+=`${b}:${Ru(o.fields[b])}`;return l+"}"}(i.mapValue):Ht();var e}function Fc(i){return!!i&&"integerValue"in i}function Ja(i){return!!i&&"arrayValue"in i}function Va(i){return!!i&&"nullValue"in i}function Lc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function la(i){return!!i&&"mapValue"in i}function Hu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Sa(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Hu(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hu(i.arrayValue.values[n]);return e}return Object.assign({},i)}function du(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class I{constructor(e){this.value=e}static empty(){return new I({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!la(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(n)}setAll(e){let n=_n.emptyPath(),o={},u=[];e.forEach((f,b)=>{if(!n.isImmediateParentOf(b)){const k=this.getFieldsMap(n);this.applyChanges(k,o,u),o={},u=[],n=b.popLast()}f?o[b.lastSegment()]=Hu(f):u.push(b.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());la(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ua(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];la(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Sa(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new I(Hu(this.value))}}function N(i){const e=[];return Sa(i.fields,(n,o)=>{const u=new _n([n]);if(la(o)){const l=N(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new aa(e)}class B{constructor(e,n,o,u,l,f,b){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=f,this.documentState=b}static newInvalidDocument(e){return new B(e,0,nn.min(),nn.min(),nn.min(),I.empty(),0)}static newFoundDocument(e,n,o,u){return new B(e,1,n,nn.min(),o,u,0)}static newNoDocument(e,n){return new B(e,2,n,nn.min(),nn.min(),I.empty(),0)}static newUnknownDocument(e,n){return new B(e,3,n,nn.min(),nn.min(),I.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(nn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=I.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=I.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof B&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new B(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ce{constructor(e,n){this.position=e,this.inclusive=n}}function Ne(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?kt.comparator(kt.fromName(f.referenceValue),n.key):Ya(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function Ue(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ua(i.position[n],e.position[n]))return!1;return!0}class ht{constructor(e,n="asc"){this.field=e,this.dir=n}}function cn(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class en{}class Ut extends en{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new Bc(e,n,o):"array-contains"===n?new Gu(e,o):"in"===n?new gp(e,o):"not-in"===n?new wm(e,o):"array-contains-any"===n?new Rs(e,o):new Ut(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new _m(e,o):new vm(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ya(n,this.value)):null!==n&&Ia(this.value)===Ia(n)&&this.matchesComparison(Ya(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ht()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class un extends en{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new un(e,n)}matches(e){return Yn(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Yn(i){return"and"===i.op}function ds(i){return function xa(i){for(const e of i.filters)if(e instanceof un)return!1;return!0}(i)&&Yn(i)}function ac(i){if(i instanceof Ut)return i.field.canonicalString()+i.op.toString()+Qa(i.value);if(ds(i))return i.filters.map(e=>ac(e)).join(",");{const e=i.filters.map(n=>ac(n)).join(",");return`${i.op}(${e})`}}function hu(i,e){return i instanceof Ut?(n=i,(o=e)instanceof Ut&&n.op===o.op&&n.field.isEqual(o.field)&&ua(n.value,o.value)):i instanceof un?function(n,o){return o instanceof un&&n.op===o.op&&n.filters.length===o.filters.length&&n.filters.reduce((u,l,f)=>u&&hu(l,o.filters[f]),!0)}(i,e):void Ht();var n,o}function eu(i){return i instanceof Ut?`${(e=i).field.canonicalString()} ${e.op} ${Qa(e.value)}`:i instanceof un?function(e){return e.op.toString()+" {"+e.getFilters().map(eu).join(" ,")+"}"}(i):"Filter";var e}class Bc extends Ut{constructor(e,n,o){super(e,n,o),this.key=kt.fromName(o.referenceValue)}matches(e){const n=kt.comparator(e.key,this.key);return this.matchesComparison(n)}}class _m extends Ut{constructor(e,n){super(e,"in",n),this.keys=Em(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vm extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=Em(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Em(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>kt.fromName(o.referenceValue))}class Gu extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ja(n)&&No(n.arrayValue,this.value)}}class gp extends Ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&No(this.value.arrayValue,n)}}class wm extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(No(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!No(this.value.arrayValue,n)}}class Rs extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ja(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>No(this.value.arrayValue,o))}}class Rh{constructor(e,n=null,o=[],u=[],l=null,f=null,b=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=b,this.dt=null}}function tu(i,e=null,n=[],o=[],u=null,l=null,f=null){return new Rh(i,e,n,o,u,l,f)}function xu(i){const e=Ft(i);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>ac(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Ro(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Qa(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Qa(o)).join(",")),e.dt=n}return e.dt}function _o(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!cn(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!hu(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ue(i.startAt,e.startAt)&&Ue(i.endAt,e.endAt)}function fu(i){return kt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class pu{constructor(e,n=null,o=[],u=[],l=null,f="F",b=null,k=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=b,this.endAt=k,this.wt=null,this._t=null}}function cc(i){return new pu(i)}function mp(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Hc(i){const e=Ft(i);if(null===e.wt){e.wt=[];const n=function gu(i){for(const e of i.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),o=function Oo(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}(e);if(null!==n&&null===o)n.isKeyField()||e.wt.push(new ht(n)),e.wt.push(new ht(_n.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ht(_n.keyField(),l))}}}return e.wt}function ao(i){const e=Ft(i);if(!e._t)if("F"===e.limitType)e._t=tu(e.path,e.collectionGroup,Hc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of Hc(e))n.push(new ht(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new ce(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new ce(e.startAt.position,e.startAt.inclusive):null;e._t=tu(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e._t}function Cl(i,e,n){return new pu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Gc(i,e){return _o(ao(i),ao(e))&&i.limitType===e.limitType}function Nh(i){return`${xu(ao(i))}|lt:${i.limitType}`}function Dd(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(o=>eu(o)).join(", ")}]`),Ro(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Qa(o)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Qa(o)).join(",")),`Target(${n})`}(ao(i))}; limitType=${i.limitType})`}function zc(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):kt.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of Hc(n))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,l,f){const b=Ne(u,l,f);return u.inclusive?b<=0:b<0}(n.startAt,Hc(n),o)||n.endAt&&!function(u,l,f){const b=Ne(u,l,f);return u.inclusive?b>=0:b>0}(n.endAt,Hc(n),o)));var n,o}function Sl(i){return(e,n)=>{let o=!1;for(const u of Hc(i)){const l=Im(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function Im(i,e,n){const o=i.field.isKeyField()?kt.comparator(e.key,n.key):function(u,l,f){const b=l.data.field(u),k=f.data.field(u);return null!==b&&null!==k?Ya(b,k):Ht()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Ht()}}class Ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Sa(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return Au(this.inner)}size(){return this.innerSize}}const Tm=new Ni(kt.comparator);function Po(){return Tm}const yp=new Ni(kt.comparator);function qc(...i){let e=yp;for(const n of i)e=e.insert(n.key,n);return e}function Al(i){let e=yp;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Na(){return Ml()}function Oh(){return Ml()}function Ml(){return new Ua(i=>i.toString(),(i,e)=>i.isEqual(e))}const _p=new Ni(kt.comparator),Wc=new Di(kt.comparator);function Cr(...i){let e=Wc;for(const n of i)e=e.add(n);return e}const Dm=new Di(Mt);function Ph(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:E(e)?"-0":e}}function Ep(i){return{integerValue:""+i}}function bm(i,e){return function S(i){return"number"==typeof i&&Number.isInteger(i)&&!E(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?Ep(e):Ph(i,e)}class Cd{constructor(){this._=void 0}}function Cm(i,e,n){return i instanceof lc?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&wa(u)&&(u=kc(u)),u&&(l.fields.__previous_value__=u),{mapValue:l}}(n,e):i instanceof dc?kh(i,e):i instanceof Kc?Fh(i,e):function(o,u){const l=Rl(o,u),f=wp(l)+wp(o.gt);return Fc(l)&&Fc(o.gt)?Ep(f):Ph(o.serializer,f)}(i,e)}function Sm(i,e,n){return i instanceof dc?kh(i,e):i instanceof Kc?Fh(i,e):n}function Rl(i,e){return i instanceof xl?Fc(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class lc extends Cd{}class dc extends Cd{constructor(e){super(),this.elements=e}}function kh(i,e){const n=Ip(e);for(const o of i.elements)n.some(u=>ua(u,o))||n.push(o);return{arrayValue:{values:n}}}class Kc extends Cd{constructor(e){super(),this.elements=e}}function Fh(i,e){let n=Ip(e);for(const o of i.elements)n=n.filter(u=>!ua(u,o));return{arrayValue:{values:n}}}class xl extends Cd{constructor(e,n){super(),this.serializer=e,this.gt=n}}function wp(i){return ws(i.integerValue||i.doubleValue)}function Ip(i){return Ja(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class F_{constructor(e,n){this.version=e,this.transformResults=n}}class Yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yi}static exists(e){return new Yi(void 0,e)}static updateTime(e){return new Yi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Vh{}function Am(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new fc(i.key,Yi.none()):new Nu(i.key,i.data,Yi.none());{const n=i.data,o=I.empty();let u=new Di(_n.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new nu(i.key,o,new aa(u.toArray()),Yi.none())}}function Mm(i,e,n){i instanceof Nu?function(o,u,l){const f=o.value.clone(),b=Bh(o.fieldTransforms,u,l.transformResults);f.setAll(b),u.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(i,e,n):i instanceof nu?function(o,u,l){if(!Lh(o.precondition,u))return void u.convertToUnknownDocument(l.version);const f=Bh(o.fieldTransforms,u,l.transformResults),b=u.data;b.setAll(Uh(o)),b.setAll(f),u.convertToFoundDocument(l.version,b).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Sd(i,e,n,o){return i instanceof Nu?function(u,l,f,b){if(!Lh(u.precondition,l))return f;const k=u.value.clone(),H=hc(u.fieldTransforms,b,l);return k.setAll(H),l.convertToFoundDocument(l.version,k).setHasLocalMutations(),null}(i,e,n,o):i instanceof nu?function(u,l,f,b){if(!Lh(u.precondition,l))return f;const k=hc(u.fieldTransforms,b,l),H=l.data;return H.setAll(Uh(u)),H.setAll(k),l.convertToFoundDocument(l.version,H).setHasLocalMutations(),null===f?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(ie=>ie.field))}(i,e,n,o):(f=n,Lh(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function Rm(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=Rl(o.transform,u||null);null!=l&&(null===n&&(n=I.empty()),n.set(o.field,l))}return n||null}function Nl(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&ur(n,o,(u,l)=>function k_(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof dc&&o instanceof dc||n instanceof Kc&&o instanceof Kc?ur(n.elements,o.elements,ua):n instanceof xl&&o instanceof xl?ua(n.gt,o.gt):n instanceof lc&&o instanceof lc);var n,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class Nu extends Vh{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class nu extends Vh{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Uh(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Bh(i,e,n){const o=new Map;tn(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,b=e.data.field(l.field);o.set(l.field,Sm(f,b,n[u]))}return o}function hc(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,Cm(l,f,e))}return o}class fc extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ad extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zc{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&Mm(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Sd(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Sd(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=Oh();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let b=this.applyToLocalView(f,l.mutatedFields);b=n.has(u.key)?null:b;const k=Am(f,b);null!==k&&o.set(u.key,k),f.isValidDocument()||f.convertToNoDocument(nn.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Cr())}isEqual(e){return this.batchId===e.batchId&&ur(this.mutations,e.mutations,(n,o)=>Nl(n,o))&&ur(this.baseMutations,e.baseMutations,(n,o)=>Nl(n,o))}}class Yc{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){tn(e.mutations.length===o.length);let u=_p;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new Yc(e,n,o,u)}}class Qc{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class T{constructor(e,n){this.count=e,this.unchangedNames=n}}var h,g;function W(i){if(void 0===i)return Sn("GRPC error has no .code"),qe.UNKNOWN;switch(i){case h.OK:return qe.OK;case h.CANCELLED:return qe.CANCELLED;case h.UNKNOWN:return qe.UNKNOWN;case h.DEADLINE_EXCEEDED:return qe.DEADLINE_EXCEEDED;case h.RESOURCE_EXHAUSTED:return qe.RESOURCE_EXHAUSTED;case h.INTERNAL:return qe.INTERNAL;case h.UNAVAILABLE:return qe.UNAVAILABLE;case h.UNAUTHENTICATED:return qe.UNAUTHENTICATED;case h.INVALID_ARGUMENT:return qe.INVALID_ARGUMENT;case h.NOT_FOUND:return qe.NOT_FOUND;case h.ALREADY_EXISTS:return qe.ALREADY_EXISTS;case h.PERMISSION_DENIED:return qe.PERMISSION_DENIED;case h.FAILED_PRECONDITION:return qe.FAILED_PRECONDITION;case h.ABORTED:return qe.ABORTED;case h.OUT_OF_RANGE:return qe.OUT_OF_RANGE;case h.UNIMPLEMENTED:return qe.UNIMPLEMENTED;case h.DATA_LOSS:return qe.DATA_LOSS;default:return Ht()}}(g=h||(h={}))[g.OK=0]="OK",g[g.CANCELLED=1]="CANCELLED",g[g.UNKNOWN=2]="UNKNOWN",g[g.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",g[g.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",g[g.NOT_FOUND=5]="NOT_FOUND",g[g.ALREADY_EXISTS=6]="ALREADY_EXISTS",g[g.PERMISSION_DENIED=7]="PERMISSION_DENIED",g[g.UNAUTHENTICATED=16]="UNAUTHENTICATED",g[g.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",g[g.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",g[g.ABORTED=10]="ABORTED",g[g.OUT_OF_RANGE=11]="OUT_OF_RANGE",g[g.UNIMPLEMENTED=12]="UNIMPLEMENTED",g[g.INTERNAL=13]="INTERNAL",g[g.UNAVAILABLE=14]="UNAVAILABLE",g[g.DATA_LOSS=15]="DATA_LOSS";class se{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Fe}static getOrCreateInstance(){return null===Fe&&(Fe=new se),Fe}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Fe=null;const Qt=new te([4294967295,4294967295],0);function hn(i){const e=function lt(){return new TextEncoder}().encode(i),n=new L;return n.update(e),new Uint8Array(n.digest())}function wn(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new te([n,o],0),new te([u,l],0)]}class Br{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new Js(`Invalid padding: ${n}`);if(o<0)throw new Js(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Js(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new Js(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=te.fromNumber(this.It)}Et(e,n,o){let u=e.add(n.multiply(te.fromNumber(o)));return 1===u.compare(Qt)&&(u=new te([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=hn(e),[o,u]=wn(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);if(!this.At(f))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new Br(l,u,n);return o.forEach(b=>f.insert(b)),f}insert(e){if(0===this.It)return;const n=hn(e),[o,u]=wn(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);this.Rt(f)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Js extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class da{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,hs.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new da(nn.min(),u,new Ni(Mt),Po(),Cr())}}class hs{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new hs(o,n,Cr(),Cr(),Cr())}}class yu{constructor(e,n,o,u){this.Pt=e,this.removedTargetIds=n,this.key=o,this.bt=u}}class Jc{constructor(e,n){this.targetId=e,this.Vt=n}}class Ol{constructor(e,n,o=Qs.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Md{constructor(){this.St=0,this.Dt=kl(),this.Ct=Qs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Cr(),n=Cr(),o=Cr();return this.Dt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Ht()}}),new hs(this.Ct,this.xt,e,n,o)}Ft(){this.Nt=!1,this.Dt=kl()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Pl{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Po(),this.zt=Rd(),this.Wt=new Ni(Mt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const o=this.Zt(n);switch(e.state){case 0:this.te(n)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(n);break;case 3:this.te(n)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),o.$t(e.resumeToken));break;default:Ht()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((o,u)=>{this.te(u)&&n(u)})}ne(e){var n;const o=e.targetId,u=e.Vt.count,l=this.se(o);if(l){const f=l.target;if(fu(f))if(0===u){const b=new kt(f.path);this.Yt(o,b,B.newNoDocument(b,nn.min()))}else tn(1===u);else{const b=this.ie(o);if(b!==u){const k=this.re(e,b);0!==k&&(this.ee(o),this.Wt=this.Wt.insert(o,2===k?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=se.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(H,ie,Ie){var Ye,vt,Wt,gn,Dn,jr;const Ei={localCacheCount:ie,existenceFilterCount:Ie.count},Jr=Ie.unchangedNames;return Jr&&(Ei.bloomFilter={applied:0===H,hashCount:null!==(Ye=Jr?.hashCount)&&void 0!==Ye?Ye:0,bitmapLength:null!==(gn=null===(Wt=null===(vt=Jr?.bits)||void 0===vt?void 0:vt.bitmap)||void 0===Wt?void 0:Wt.length)&&void 0!==gn?gn:0,padding:null!==(jr=null===(Dn=Jr?.bits)||void 0===Dn?void 0:Dn.padding)&&void 0!==jr?jr:0}),Ei}(k,b,e.Vt))}}}}re(e,n){const{unchangedNames:o,count:u}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:b=0}=o;let k,H;try{k=Zo(l).toUint8Array()}catch(ie){if(ie instanceof sc)return In("Decoding the base64 bloom filter in existence filter failed ("+ie.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ie}try{H=new Br(k,f,b)}catch(ie){return In(ie instanceof Js?"BloomFilter error: ":"Applying bloom filter failed: ",ie),1}return 0===H.It?1:u!==n-this.oe(e.targetId,H)?2:0}oe(e,n){const o=this.Gt.getRemoteKeysForTarget(e);let u=0;return o.forEach(l=>{const f=this.Gt.ue(),b=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;n.vt(b)||(this.Yt(e,l,null),u++)}),u}ce(e){const n=new Map;this.Qt.forEach((l,f)=>{const b=this.se(f);if(b){if(l.current&&fu(b.target)){const k=new kt(b.target.path);null!==this.jt.get(k)||this.ae(f,k)||this.Yt(f,k,B.newNoDocument(k,e))}l.Mt&&(n.set(f,l.Ot()),l.Ft())}});let o=Cr();this.zt.forEach((l,f)=>{let b=!0;f.forEachWhile(k=>{const H=this.se(k);return!H||"TargetPurposeLimboResolution"===H.purpose||(b=!1,!1)}),b&&(o=o.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const u=new da(e,n,this.Wt,this.jt,o);return this.jt=Po(),this.zt=Rd(),this.Wt=new Ni(Mt),u}Jt(e,n){if(!this.te(e))return;const o=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,o),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,o){if(!this.te(e))return;const u=this.Zt(e);this.ae(e,n)?u.Bt(n,1):u.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),o&&(this.jt=this.jt.insert(n,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Md,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Di(Mt),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||it("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Md),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Rd(){return new Ni(kt.comparator)}function kl(){return new Ni(kt.comparator)}const xd={asc:"ASCENDING",desc:"DESCENDING"},Nd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tp={and:"AND",or:"OR"};class Od{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xc(i,e){return i.useProto3Json||Ro(e)?e:{value:e}}function pc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nm(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Pd(i,e){return pc(i,e.toTimestamp())}function Xs(i){return tn(!!i),nn.fromTimestamp(function(e){const n=Aa(e);return new Wr(n.seconds,n.nanos)}(i))}function Dp(i,e){return(n=i,new Un(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function bp(i){const e=Un.fromString(i);return tn($_(e)),e}function Fl(i,e){return Dp(i.databaseId,e.path)}function _u(i,e){const n=bp(e);if(n.get(1)!==i.databaseId.projectId)throw new wt(qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new wt(qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new kt(jh(n))}function gc(i,e){return Dp(i.databaseId,e)}function Ll(i){return new Un(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function jh(i){return tn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Fd(i,e,n){return{name:Fl(i,e),fields:n.value.mapValue.fields}}function Sp(i,e){return{documents:[gc(i,e.path)]}}function Vl(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=gc(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=gc(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(k){if(0!==k.length)return Rp(un.create(k,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(k){if(0!==k.length)return k.map(H=>{return{field:Oa((ie=H).field),direction:B_(ie.dir)};var ie})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=Xc(i,e.limit);var b,k;return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(n.structuredQuery.endAt={before:!(k=e.endAt).inclusive,values:k.position}),n}function $h(i){let e=function kd(i){const e=bp(i);return 4===e.length?Un.emptyPath():jh(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){tn(1===o);const ie=n.from[0];ie.allDescendants?u=ie.collectionId:e=e.child(ie.collectionId)}let l=[];n.where&&(l=function(ie){const Ie=Pm(ie);return Ie instanceof un&&ds(Ie)?Ie.getFilters():[Ie]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(ie=>{return new ht(el((Ie=ie).field),function(Ye){switch(Ye){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ie.direction));var Ie}));let b=null;n.limit&&(b=function(ie){let Ie;return Ie="object"==typeof ie?ie.value:ie,Ro(Ie)?null:Ie}(n.limit));let k=null;var ie;n.startAt&&(k=new ce((ie=n.startAt).values||[],!!ie.before));let H=null;return n.endAt&&(H=function(ie){return new ce(ie.values||[],!ie.before)}(n.endAt)),function xh(i,e,n,o,u,l,f,b){return new pu(i,e,n,o,u,l,f,b)}(e,u,f,l,b,"F",k,H)}function Pm(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=el(e.unaryFilter.field);return Ut.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=el(e.unaryFilter.field);return Ut.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=el(e.unaryFilter.field);return Ut.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=el(e.unaryFilter.field);return Ut.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ht()}}(i):void 0!==i.fieldFilter?Ut.create(el((e=i).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ht()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return un.create(e.compositeFilter.filters.map(n=>Pm(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Ht()}}(e.compositeFilter.op))}(i):Ht();var e}function B_(i){return xd[i]}function Mp(i){return Nd[i]}function km(i){return Tp[i]}function Oa(i){return{fieldPath:i.canonicalString()}}function el(i){return _n.fromServerFormat(i.fieldPath)}function Rp(i){return i instanceof Ut?function(e){if("=="===e.op){if(Lc(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NAN"}};if(Va(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lc(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NOT_NAN"}};if(Va(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(e.field),op:Mp(e.op),value:e.value}}}(i):i instanceof un?function(e){const n=e.getFilters().map(o=>Rp(o));return 1===n.length?n[0]:{compositeFilter:{op:km(e.op),filters:n}}}(i):Ht()}function j_(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $_(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class ru{constructor(e,n,o,u,l=nn.min(),f=nn.min(),b=Qs.EMPTY_BYTE_STRING,k=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=b,this.expectedCount=k}withSequenceNumber(e){return new ru(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ru(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Fm{constructor(e){this.fe=e}}function Ud(i){const e=$h({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Cl(e,e.limit,"L"):e}class tl{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(ws(e.integerValue));else if("doubleValue"in e){const o=ws(e.doubleValue);isNaN(o)?this.ye(n,13):(this.ye(n,15),E(o)?n.pe(0):n.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(n,20),"string"==typeof o?n.Ie(o):(n.Ie(`${o.seconds||""}`),n.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Zo(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(n,45),n.pe(o.latitude||0),n.pe(o.longitude||0)}else"mapValue"in e?du(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Ht()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const o=e.fields||{};this.ye(n,55);for(const u of Object.keys(o))this.Te(u,n),this.me(o[u],n)}Pe(e,n){const o=e.values||[];this.ye(n,50);for(const u of o)this.me(u,n)}ve(e,n){this.ye(n,37),kt.fromName(e).path.forEach(o=>{this.ye(n,60),this.be(o,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}tl.Ve=new tl;class H_{constructor(){this.rn=new Up}addToCollectionParentIndex(e,n){return this.rn.add(n),$e.resolve()}getCollectionParents(e,n){return $e.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return $e.resolve()}deleteFieldIndex(e,n){return $e.resolve()}getDocumentsMatchingTarget(e,n){return $e.resolve(null)}getIndexType(e,n){return $e.resolve(0)}getFieldIndexes(e,n){return $e.resolve([])}getNextCollectionGroupToUpdate(e){return $e.resolve(null)}getMinOffset(e,n){return $e.resolve(Mo.min())}getMinOffsetFromCollectionGroup(e,n){return $e.resolve(Mo.min())}updateCollectionGroup(e,n,o){return $e.resolve()}updateIndexEntries(e,n){return $e.resolve()}}class Up{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Di(Un.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Di(Un.comparator)).toArray()}}new Uint8Array(0);class ha{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ha(e,ha.DEFAULT_COLLECTION_PERCENTILE,ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ha.DEFAULT_COLLECTION_PERCENTILE=10,ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ha.DEFAULT=new ha(41943040,ha.DEFAULT_COLLECTION_PERCENTILE,ha.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ha.DISABLED=new ha(-1,0,0);class Ta{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ta(0)}static Mn(){return new Ta(-1)}}class qm{constructor(){this.changes=new Ua(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,B.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?$e.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Z_{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class wc{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&Sd(o.mutation,u,aa.empty(),Wr.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Cr()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Cr()){const u=Na();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=qc();return l.forEach((b,k)=>{f=f.insert(b,k.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=Na();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Cr()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,b)=>{n.set(f,b)})})}computeViews(e,n,o,u){let l=Po();const f=Ml(),b=Ml();return n.forEach((k,H)=>{const ie=o.get(H.key);u.has(H.key)&&(void 0===ie||ie.mutation instanceof nu)?l=l.insert(H.key,H):void 0!==ie?(f.set(H.key,ie.mutation.getFieldMask()),Sd(ie.mutation,H,ie.mutation.getFieldMask(),Wr.now())):f.set(H.key,aa.empty())}),this.recalculateAndSaveOverlays(e,l).next(k=>(k.forEach((H,ie)=>f.set(H,ie)),n.forEach((H,ie)=>{var Ie;return b.set(H,new Z_(ie,null!==(Ie=f.get(H))&&void 0!==Ie?Ie:null))}),b))}recalculateAndSaveOverlays(e,n){const o=Ml();let u=new Ni((f,b)=>f-b),l=Cr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const b of f)b.keys().forEach(k=>{const H=n.get(k);if(null===H)return;let ie=o.get(k)||aa.empty();ie=b.applyToLocalView(H,ie),o.set(k,ie);const Ie=(u.get(b.batchId)||Cr()).add(k);u=u.insert(b.batchId,Ie)})}).next(()=>{const f=[],b=u.getReverseIterator();for(;b.hasNext();){const k=b.getNext(),H=k.key,ie=k.value,Ie=Oh();ie.forEach(Ye=>{if(!l.has(Ye)){const vt=Am(n.get(Ye),o.get(Ye));null!==vt&&Ie.set(Ye,vt),l=l.add(Ye)}}),f.push(this.documentOverlayCache.saveOverlays(e,H,Ie))}return $e.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return kt.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function mu(i){return null!==i.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):$e.resolve(Na());let b=-1,k=l;return f.next(H=>$e.forEach(H,(ie,Ie)=>(b<Ie.largestBatchId&&(b=Ie.largestBatchId),l.get(ie)?$e.resolve():this.remoteDocumentCache.getEntry(e,ie).next(Ye=>{k=k.insert(ie,Ye)}))).next(()=>this.populateOverlays(e,H,l)).next(()=>this.computeViews(e,k,H,Cr())).next(ie=>({batchId:b,changes:Al(ie)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new kt(n)).next(o=>{let u=qc();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let l=qc();return this.indexManager.getCollectionParents(e,u).next(f=>$e.forEach(f,b=>{const k=(H=n,ie=b.child(u),new pu(ie,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,ie;return this.getDocumentsMatchingCollectionQuery(e,k,o).next(H=>{H.forEach((ie,Ie)=>{l=l.insert(ie,Ie)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(l=>(u=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,u))).next(l=>{u.forEach((b,k)=>{const H=k.getKey();null===l.get(H)&&(l=l.insert(H,B.newInvalidDocument(H)))});let f=qc();return l.forEach((b,k)=>{const H=u.get(b);void 0!==H&&Sd(H.mutation,k,aa.empty(),Wr.now()),zc(n,k)&&(f=f.insert(b,k))}),f})}}class Zm{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return $e.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var o;return this.cs.set(n.id,{id:(o=n).id,version:o.version,createTime:Xs(o.createTime)}),$e.resolve()}getNamedQuery(e,n){return $e.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(o=n).name,query:Ud(o.bundledQuery),readTime:Xs(o.readTime)}),$e.resolve();var o}}class Y_{constructor(){this.overlays=new Ni(kt.comparator),this.ls=new Map}getOverlay(e,n){return $e.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Na();return $e.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.we(e,n,l)}),$e.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.ls.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(o)),$e.resolve()}getOverlaysForCollection(e,n,o){const u=Na(),l=n.length+1,f=new kt(n.child("")),b=this.overlays.getIteratorFrom(f);for(;b.hasNext();){const k=b.getNext().value,H=k.getKey();if(!n.isPrefixOf(H.path))break;H.path.length===l&&k.largestBatchId>o&&u.set(k.getKey(),k)}return $e.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new Ni((H,ie)=>H-ie);const f=this.overlays.getIterator();for(;f.hasNext();){const H=f.getNext().value;if(H.getKey().getCollectionGroup()===n&&H.largestBatchId>o){let ie=l.get(H.largestBatchId);null===ie&&(ie=Na(),l=l.insert(H.largestBatchId,ie)),ie.set(H.getKey(),H)}}const b=Na(),k=l.getIterator();for(;k.hasNext()&&(k.getNext().value.forEach((H,ie)=>b.set(H,ie)),!(b.size()>=u)););return $e.resolve(b)}we(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.ls.get(u.largestBatchId).delete(o.key);this.ls.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new Qc(n,o));let l=this.ls.get(n);void 0===l&&(l=Cr(),this.ls.set(n,l)),this.ls.set(n,l.add(o.key))}}class Kd{constructor(){this.fs=new Di(vo.ds),this.ws=new Di(vo._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const o=new vo(e,n);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.ys(new vo(e,n))}ps(e,n){e.forEach(o=>this.removeReference(o,n))}Is(e){const n=new kt(new Un([])),o=new vo(n,e),u=new vo(n,e+1),l=[];return this.ws.forEachInRange([o,u],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new kt(new Un([])),o=new vo(n,e),u=new vo(n,e+1);let l=Cr();return this.ws.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new vo(e,0),o=this.fs.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class vo{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return kt.comparator(e.key,n.key)||Mt(e.As,n.As)}static _s(e,n){return Mt(e.As,n.As)||kt.comparator(e.key,n.key)}}class Q_{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Di(vo.ds)}checkEmpty(e){return $e.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.vs;this.vs++;const f=new Zc(l,n,o,u);this.mutationQueue.push(f);for(const b of u)this.Rs=this.Rs.add(new vo(b.key,l)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return $e.resolve(f)}lookupMutationBatch(e,n){return $e.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.bs(n+1),l=u<0?0:u;return $e.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new vo(n,0),u=new vo(n,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([o,u],f=>{const b=this.Ps(f.As);l.push(b)}),$e.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Di(Mt);return n.forEach(u=>{const l=new vo(u,0),f=new vo(u,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],b=>{o=o.add(b.As)})}),$e.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;kt.isDocumentKey(l)||(l=l.child(""));const f=new vo(new kt(l),0);let b=new Di(Mt);return this.Rs.forEachWhile(k=>{const H=k.key.path;return!!o.isPrefixOf(H)&&(H.length===u&&(b=b.add(k.As)),!0)},f),$e.resolve(this.Vs(b))}Vs(e){const n=[];return e.forEach(o=>{const u=this.Ps(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){tn(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return $e.forEach(n.mutations,u=>{const l=new vo(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,n){const o=new vo(n,0),u=this.Rs.firstAfterOrEqual(o);return $e.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return $e.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class J_{constructor(e){this.Ds=e,this.docs=new Ni(kt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.Ds(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return $e.resolve(o?o.document.mutableCopy():B.newInvalidDocument(n))}getEntries(e,n){let o=Po();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():B.newInvalidDocument(u))}),$e.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=Po();const f=n.path,b=new kt(f.child("")),k=this.docs.getIteratorFrom(b);for(;k.hasNext();){const{key:H,value:{document:ie}}=k.getNext();if(!f.isPrefixOf(H.path))break;H.path.length>f.length+1||rc(nc(ie),o)<=0||(u.has(ie.key)||zc(n,ie))&&(l=l.insert(ie.key,ie.mutableCopy()))}return $e.resolve(l)}getAllFromCollectionGroup(e,n,o,u){Ht()}Cs(e,n){return $e.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new X_(this)}getSize(e){return $e.resolve(this.size)}}class X_ extends qm{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.os.addEntry(e,u)):this.os.removeEntry(o)}),$e.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class ev{constructor(e){this.persistence=e,this.xs=new Ua(n=>xu(n),_o),this.lastRemoteSnapshotVersion=nn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Kd,this.targetCount=0,this.Ms=Ta.kn()}forEachTarget(e,n){return this.xs.forEach((o,u)=>n(u)),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Ns&&(this.Ns=n),$e.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Ta(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,$e.resolve()}updateTargetData(e,n){return this.Fn(n),$e.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.xs.forEach((f,b)=>{b.sequenceNumber<=n&&null===o.get(b.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,b.targetId)),u++)}),$e.waitFor(l).next(()=>u)}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,n){const o=this.xs.get(n)||null;return $e.resolve(o)}addMatchingKeys(e,n,o){return this.ks.gs(n,o),$e.resolve()}removeMatchingKeys(e,n,o){this.ks.ps(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),$e.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),$e.resolve()}getMatchingKeysForTargetId(e,n){const o=this.ks.Es(n);return $e.resolve(o)}containsKey(e,n){return $e.resolve(this.ks.containsKey(n))}}class ef{constructor(e,n){this.$s={},this.overlays={},this.Os=new ss(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ev(this),this.indexManager=new H_,this.remoteDocumentCache=new J_(o=>this.referenceDelegate.Ls(o)),this.serializer=new Fm(n),this.qs=new Zm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Y_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.$s[e.toKey()];return o||(o=new Q_(n,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,o){it("MemoryPersistence","Starting transaction:",e);const u=new y0(this.Os.next());return this.referenceDelegate.Us(),o(u).next(l=>this.referenceDelegate.Ks(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Gs(e,n){return $e.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,n)))}}class y0 extends Kr{constructor(e){super(),this.currentSequenceNumber=e}}class Gp{constructor(e){this.persistence=e,this.Qs=new Kd,this.js=null}static zs(e){return new Gp(e)}get Ws(){if(this.js)return this.js;throw Ht()}addReference(e,n,o){return this.Qs.addReference(o,n),this.Ws.delete(o.toString()),$e.resolve()}removeReference(e,n,o){return this.Qs.removeReference(o,n),this.Ws.add(o.toString()),$e.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),$e.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(u=>this.Ws.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Ws.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.Ws,o=>{const u=kt.fromPath(o);return this.Hs(e,u).next(l=>{l||n.removeEntry(u,nn.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(o=>{o?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return $e.or([()=>$e.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class sf{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Fi=o,this.Bi=u}static Li(e,n){let o=Cr(),u=Cr();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new sf(e,n.fromCache,o,u)}}class Qd{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.Ki(e,n).next(l=>l||this.Gi(e,n,u,o)).next(l=>l||this.Qi(e,n))}Ki(e,n){if(mp(n))return $e.resolve(null);let o=ao(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=Cl(n,null,"F"),o=ao(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=Cr(...l);return this.Ui.getDocuments(e,f).next(b=>this.indexManager.getMinOffset(e,o).next(k=>{const H=this.ji(n,b);return this.zi(n,H,f,k.readTime)?this.Ki(e,Cl(n,null,"F")):this.Wi(e,H,n,k)}))})))}Gi(e,n,o,u){return mp(n)||u.isEqual(nn.min())?this.Qi(e,n):this.Ui.getDocuments(e,o).next(l=>{const f=this.ji(n,l);return this.zi(n,f,o,u)?this.Qi(e,n):(Gt()<=de.in.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Dd(n)),this.Wi(e,f,n,function tc(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=nn.fromTimestamp(1e9===o?new Wr(n+1,0):new Wr(n,o));return new Mo(u,kt.empty(),e)}(u,-1)))})}ji(e,n){let o=new Di(Sl(e));return n.forEach((u,l)=>{zc(e,l)&&(o=o.add(l))}),o}zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Qi(e,n){return Gt()<=de.in.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Dd(n)),this.Ui.getDocumentsMatchingQuery(e,n,Mo.min())}Wi(e,n,o,u){return this.Ui.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class _0{constructor(e,n,o,u){this.persistence=e,this.Hi=n,this.serializer=u,this.Ji=new Ni(Mt),this.Yi=new Ua(l=>xu(l),_o),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wc(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Ym(i,e){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,R.Z)(function*(i,e){const n=Ft(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.tr(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],b=[];let k=Cr();for(const H of u){f.push(H.batchId);for(const ie of H.mutations)k=k.add(ie.key)}for(const H of l){b.push(H.batchId);for(const ie of H.mutations)k=k.add(ie.key)}return n.localDocuments.getDocuments(o,k).next(H=>({er:H,removedBatchIds:f,addedBatchIds:b}))})})}),Jd.apply(this,arguments)}function qp(i){const e=Ft(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Wp(i,e){const n=Ft(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Gl(i,e,n){return Xd.apply(this,arguments)}function Xd(){return Xd=(0,R.Z)(function*(i,e,n){const o=Ft(i),u=o.Ji.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!na(f))throw f;it("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(u.target)}),Xd.apply(this,arguments)}function al(i,e,n){const o=Ft(i);let u=nn.min(),l=Cr();return o.persistence.runTransaction("Execute query","readonly",f=>function(b,k,H){const ie=Ft(b),Ie=ie.Yi.get(H);return void 0!==Ie?$e.resolve(ie.Ji.get(Ie)):ie.Bs.getTargetData(k,H)}(o,f,ao(e)).next(b=>{if(b)return u=b.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(f,b.targetId).next(k=>{l=k})}).next(()=>o.Hi.getDocumentsMatchingQuery(f,e,n?u:nn.min(),n?l:Cr())).next(b=>(function uf(i,e,n){let o=i.Xi.get(e)||nn.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Xi.set(e,o)}(o,function bd(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),b),{documents:b,ir:l})))}class eh{constructor(){this.activeTargetIds=function vp(){return Dm}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ry{constructor(){this.Hr=new eh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,o){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new eh,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nv{Yr(e){}shutdown(){}}class iy{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){it("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){it("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Yp=null;function sy(){return null===Yp?Yp=268435456+Math.round(2147483648*Math.random()):Yp++,"0x"+Yp.toString(16)}const df={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rv{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ko="WebChannelConnection";class Qp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,o,u,l){const f=sy(),b=this.To(e,n);it("RestConnection",`Sending RPC '${e}' ${f}:`,b,o);const k={};return this.Eo(k,u,l),this.Ao(e,b,k,o).then(H=>(it("RestConnection",`Received RPC '${e}' ${f}: `,H),H),H=>{throw In("RestConnection",`RPC '${e}' ${f} failed with error: `,H,"url: ",b,"request:",o),H})}vo(e,n,o,u,l,f){return this.Io(e,n,o,u,l)}Eo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Le,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}To(e,n){return`${this.mo}/v1/${n}:${df[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,o,u){const l=sy();return new Promise((f,b)=>{const k=new x;k.setWithCredentials(!0),k.listenOnce(ui.COMPLETE,()=>{try{switch(k.getLastErrorCode()){case Tn.NO_ERROR:const ie=k.getResponseJson();it(ko,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(ie)),f(ie);break;case Tn.TIMEOUT:it(ko,`RPC '${e}' ${l} timed out`),b(new wt(qe.DEADLINE_EXCEEDED,"Request time out"));break;case Tn.HTTP_ERROR:const Ie=k.getStatus();if(it(ko,`RPC '${e}' ${l} failed with status:`,Ie,"response text:",k.getResponseText()),Ie>0){let Ye=k.getResponseJson();Array.isArray(Ye)&&(Ye=Ye[0]);const vt=Ye?.error;if(vt&&vt.status&&vt.message){const Wt=function(gn){const Dn=gn.toLowerCase().replace(/_/g,"-");return Object.values(qe).indexOf(Dn)>=0?Dn:qe.UNKNOWN}(vt.status);b(new wt(Wt,vt.message))}else b(new wt(qe.UNKNOWN,"Server responded with status "+k.getStatus()))}else b(new wt(qe.UNAVAILABLE,"Connection failed."));break;default:Ht()}}finally{it(ko,`RPC '${e}' ${l} completed.`)}});const H=JSON.stringify(u);it(ko,`RPC '${e}' ${l} sending request:`,u),k.send(n,"POST",H,o,15)})}Ro(e,n,o){const u=sy(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=rt(),b=Ct(),k={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(k.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(k.xmlHttpFactory=new y({})),this.Eo(k.initMessageHeaders,n,o),k.encodeInitMessageHeaders=!0;const ie=l.join("");it(ko,`Creating RPC '${e}' stream ${u}: ${ie}`,k);const Ie=f.createWebChannel(ie,k);let Ye=!1,vt=!1;const Wt=new rv({ro:Dn=>{vt?it(ko,`Not sending because RPC '${e}' stream ${u} is closed:`,Dn):(Ye||(it(ko,`Opening RPC '${e}' stream ${u} transport.`),Ie.open(),Ye=!0),it(ko,`RPC '${e}' stream ${u} sending:`,Dn),Ie.send(Dn))},oo:()=>Ie.close()}),gn=(Dn,jr,Ei)=>{Dn.listen(jr,Jr=>{try{Ei(Jr)}catch(uo){setTimeout(()=>{throw uo},0)}})};return gn(Ie,v.EventType.OPEN,()=>{vt||it(ko,`RPC '${e}' stream ${u} transport opened.`)}),gn(Ie,v.EventType.CLOSE,()=>{vt||(vt=!0,it(ko,`RPC '${e}' stream ${u} transport closed`),Wt.wo())}),gn(Ie,v.EventType.ERROR,Dn=>{vt||(vt=!0,In(ko,`RPC '${e}' stream ${u} transport errored:`,Dn),Wt.wo(new wt(qe.UNAVAILABLE,"The operation could not be completed")))}),gn(Ie,v.EventType.MESSAGE,Dn=>{var jr;if(!vt){const Ei=Dn.data[0];tn(!!Ei);const uo=Ei.error||(null===(jr=Ei[0])||void 0===jr?void 0:jr.error);if(uo){it(ko,`RPC '${e}' stream ${u} received error:`,uo);const to=uo.status;let os=function(Nc){const op=h[Nc];if(void 0!==op)return W(op)}(to),Da=uo.message;void 0===os&&(os=qe.INTERNAL,Da="Unknown error status: "+to+" with message "+uo.message),vt=!0,Wt.wo(new wt(os,Da)),Ie.close()}else it(ko,`RPC '${e}' stream ${u} received:`,Ei),Wt._o(Ei)}}),gn(b,vi.STAT_EVENT,Dn=>{Dn.stat===U.PROXY?it(ko,`RPC '${e}' stream ${u} detected buffering proxy`):Dn.stat===U.NOPROXY&&it(ko,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Wt.fo()},0),Wt}}function Wl(){return typeof document<"u"?document:null}function ll(i){return new Od(i,!0)}class dl{constructor(e,n,o=1e3,u=1.5,l=6e4){this.ii=e,this.timerId=n,this.Po=o,this.bo=u,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),u=Math.max(0,n-o);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,u,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class th{constructor(e,n,o,u,l,f,b,k){this.ii=e,this.$o=o,this.Oo=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=b,this.listener=k,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new dl(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,R.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,R.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var o=this;return(0,R.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():n&&n.code===qe.RESOURCE_EXHAUSTED?(Sn(n.toString()),Sn("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):n&&n.code===qe.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Fo===n&&this.Zo(o,u)},o=>{e(()=>{const u=new wt(qe.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(u)})})}Zo(e,n){const o=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(u=>{o(()=>this.tu(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Go(){var e=this;this.state=5,this.qo.No((0,R.Z)(function*(){e.state=0,e.start()}))}tu(e){return it("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(it("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kl extends th{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function V_(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(k=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===k?1:"REMOVE"===k?2:"CURRENT"===k?3:"RESET"===k?4:Ht(),u=e.targetChange.targetIds||[],l=function(k,H){return k.useProto3Json?(tn(void 0===H||"string"==typeof H),Qs.fromBase64String(H||"")):(tn(void 0===H||H instanceof Uint8Array),Qs.fromUint8Array(H||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,b=f&&function(k){const H=void 0===k.code?qe.UNKNOWN:W(k.code);return new wt(H,k.message||"")}(f);n=new Ol(o,u,l,b||null)}else if("documentChange"in e){const o=e.documentChange,u=_u(i,o.document.name),l=Xs(o.document.updateTime),f=o.document.createTime?Xs(o.document.createTime):nn.min(),b=new I({mapValue:{fields:o.document.fields}}),k=B.newFoundDocument(u,l,f,b);n=new yu(o.targetIds||[],o.removedTargetIds||[],k.key,k)}else if("documentDelete"in e){const o=e.documentDelete,u=_u(i,o.document),l=o.readTime?Xs(o.readTime):nn.min(),f=B.newNoDocument(u,l);n=new yu([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=_u(i,o.document);n=new yu([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Ht();{const o=e.filter,{count:u=0,unchangedNames:l}=o,f=new T(u,l);n=new Jc(o.targetId,f)}}var k;return n}(this.serializer,e),o=function(u){if(!("targetChange"in u))return nn.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?nn.min():l.readTime?Xs(l.readTime):nn.min()}(e);return this.listener.nu(n,o)}su(e){const n={};n.database=Ll(this.serializer),n.addTarget=function(u,l){let f;const b=l.target;if(f=fu(b)?{documents:Sp(u,b)}:{query:Vl(u,b)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=Nm(u,l.resumeToken);const k=Xc(u,l.expectedCount);null!==k&&(f.expectedCount=k)}else if(l.snapshotVersion.compareTo(nn.min())>0){f.readTime=pc(u,l.snapshotVersion.toTimestamp());const k=Xc(u,l.expectedCount);null!==k&&(f.expectedCount=k)}return f}(this.serializer,e);const o=function Ap(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ht()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Wo(n)}iu(e){const n={};n.database=Ll(this.serializer),n.removeTarget=e,this.Wo(n)}}class Jp extends th{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(tn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function U_(i,e){return i&&i.length>0?(tn(void 0!==e),i.map(n=>function(o,u){let l=Xs(o.updateTime?o.updateTime:u);return l.isEqual(nn.min())&&(l=Xs(u)),new F_(l,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=Xs(e.commitTime);return this.listener.cu(o,n)}return tn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ll(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function Ld(i,e){let n;if(e instanceof Nu)n={update:Fd(i,e.key,e.value)};else if(e instanceof fc)n={delete:Fl(i,e.key)};else if(e instanceof nu)n={update:Fd(i,e.key,e.data),updateMask:j_(e.fieldMask)};else{if(!(e instanceof Ad))return Ht();n={verify:Fl(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const f=l.transform;if(f instanceof lc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof dc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Kc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof xl)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw Ht()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Pd(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Ht()),n;var u}(this.serializer,o))};this.Wo(n)}}class Xp extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.lu=!1}fu(){if(this.lu)throw new wt(qe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.Io(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new wt(qe.UNKNOWN,u.toString())})}vo(e,n,o,u){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new wt(qe.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class eg{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Sn(n),this.mu=!1):it("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class nh{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(b=>{o.enqueueAndForget((0,R.Z)(function*(){var k;Eu(f)&&(it("RemoteStore","Restarting streams for network reachability change."),yield(k=(0,R.Z)(function*(H){const ie=Ft(H);ie.vu.add(4),yield Zl(ie),ie.bu.set("Unknown"),ie.vu.delete(4),yield rh(ie)}),function(H){return k.apply(this,arguments)})(f))}))}),this.bu=new eg(o,u)}}function rh(i){return ff.apply(this,arguments)}function ff(){return ff=(0,R.Z)(function*(i){if(Eu(i))for(const e of i.Ru)yield e(!0)}),ff.apply(this,arguments)}function Zl(i){return tg.apply(this,arguments)}function tg(){return tg=(0,R.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),tg.apply(this,arguments)}function Yl(i,e){const n=Ft(i);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),rg(n)?uy(n):fl(n).Ko()&&ng(n,e))}function Ql(i,e){const n=Ft(i),o=fl(n);n.Au.delete(e),o.Ko()&&ay(n,e),0===n.Au.size&&(o.Ko()?o.jo():Eu(n)&&n.bu.set("Unknown"))}function ng(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nn.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fl(i).su(e)}function ay(i,e){i.Vu.qt(e),fl(i).iu(e)}function uy(i){i.Vu=new Pl({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),fl(i).start(),i.bu.gu()}function rg(i){return Eu(i)&&!fl(i).Uo()&&i.Au.size>0}function Eu(i){return 0===Ft(i).vu.size}function pf(i){i.Vu=void 0}function iv(i){return gf.apply(this,arguments)}function gf(){return gf=(0,R.Z)(function*(i){i.Au.forEach((e,n)=>{ng(i,e)})}),gf.apply(this,arguments)}function ig(i,e){return Jl.apply(this,arguments)}function Jl(){return Jl=(0,R.Z)(function*(i,e){pf(i),rg(i)?(i.bu.Iu(e),uy(i)):i.bu.set("Unknown")}),Jl.apply(this,arguments)}function sv(i,e,n){return mf.apply(this,arguments)}function mf(){return mf=(0,R.Z)(function*(i,e,n){if(i.bu.set("Online"),e instanceof Ol&&2===e.state&&e.cause)try{yield(o=(0,R.Z)(function*(u,l){const f=l.cause;for(const b of l.targetIds)u.Au.has(b)&&(yield u.remoteSyncer.rejectListen(b,f),u.Au.delete(b),u.Vu.removeTarget(b))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){it("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield yf(i,o)}else if(e instanceof yu?i.Vu.Ht(e):e instanceof Jc?i.Vu.ne(e):i.Vu.Xt(e),!n.isEqual(nn.min()))try{const o=yield qp(i.localStore);n.compareTo(o)>=0&&(yield function(u,l){const f=u.Vu.ce(l);return f.targetChanges.forEach((b,k)=>{if(b.resumeToken.approximateByteSize()>0){const H=u.Au.get(k);H&&u.Au.set(k,H.withResumeToken(b.resumeToken,l))}}),f.targetMismatches.forEach((b,k)=>{const H=u.Au.get(b);if(!H)return;u.Au.set(b,H.withResumeToken(Qs.EMPTY_BYTE_STRING,H.snapshotVersion)),ay(u,b);const ie=new ru(H.target,b,k,H.sequenceNumber);ng(u,ie)}),u.remoteSyncer.applyRemoteEvent(f)}(i,n))}catch(o){it("RemoteStore","Failed to raise snapshot:",o),yield yf(i,o)}var o}),mf.apply(this,arguments)}function yf(i,e,n){return _f.apply(this,arguments)}function _f(){return _f=(0,R.Z)(function*(i,e,n){if(!na(e))throw e;i.vu.add(1),yield Zl(i),i.bu.set("Offline"),n||(n=()=>qp(i.localStore)),i.asyncQueue.enqueueRetryable((0,R.Z)(function*(){it("RemoteStore","Retrying IndexedDB access"),yield n(),i.vu.delete(1),yield rh(i)}))}),_f.apply(this,arguments)}function ov(i,e){return e().catch(n=>yf(i,n,e))}function Xl(i){return hl.apply(this,arguments)}function hl(){return hl=(0,R.Z)(function*(i){const e=Ft(i),n=Dc(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;av(e);)try{const u=yield Wp(e.localStore,o);if(null===u){0===e.Eu.length&&n.jo();break}o=u.batchId,ed(e,u)}catch(u){yield yf(e,u)}td(e)&&cy(e)}),hl.apply(this,arguments)}function av(i){return Eu(i)&&i.Eu.length<10}function ed(i,e){i.Eu.push(e);const n=Dc(i);n.Ko()&&n.ou&&n.uu(e.mutations)}function td(i){return Eu(i)&&!Dc(i).Uo()&&i.Eu.length>0}function cy(i){Dc(i).start()}function ly(i){return sg.apply(this,arguments)}function sg(){return sg=(0,R.Z)(function*(i){Dc(i).hu()}),sg.apply(this,arguments)}function uv(i){return og.apply(this,arguments)}function og(){return og=(0,R.Z)(function*(i){const e=Dc(i);for(const n of i.Eu)e.uu(n.mutations)}),og.apply(this,arguments)}function dy(i,e,n){return vf.apply(this,arguments)}function vf(){return vf=(0,R.Z)(function*(i,e,n){const o=i.Eu.shift(),u=Yc.from(o,e,n);yield ov(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Xl(i)}),vf.apply(this,arguments)}function ag(i,e){return hy.apply(this,arguments)}function hy(){return hy=(0,R.Z)(function*(i,e){var n;e&&Dc(i).ou&&(yield(n=(0,R.Z)(function*(o,u){if(function C(i){switch(i){default:return Ht();case qe.CANCELLED:case qe.UNKNOWN:case qe.DEADLINE_EXCEEDED:case qe.RESOURCE_EXHAUSTED:case qe.INTERNAL:case qe.UNAVAILABLE:case qe.UNAUTHENTICATED:return!1;case qe.INVALID_ARGUMENT:case qe.NOT_FOUND:case qe.ALREADY_EXISTS:case qe.PERMISSION_DENIED:case qe.FAILED_PRECONDITION:case qe.ABORTED:case qe.OUT_OF_RANGE:case qe.UNIMPLEMENTED:case qe.DATA_LOSS:return!0}}(l=u.code)&&l!==qe.ABORTED){const f=o.Eu.shift();Dc(o).Qo(),yield ov(o,()=>o.remoteSyncer.rejectFailedWrite(f.batchId,u)),yield Xl(o)}var l}),function(o,u){return n.apply(this,arguments)})(i,e)),td(i)&&cy(i)}),hy.apply(this,arguments)}function Ef(i,e){return wf.apply(this,arguments)}function wf(){return wf=(0,R.Z)(function*(i,e){const n=Ft(i);n.asyncQueue.verifyOperationInProgress(),it("RemoteStore","RemoteStore received new credentials");const o=Eu(n);n.vu.add(3),yield Zl(n),o&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield rh(n)}),wf.apply(this,arguments)}function cg(){return cg=(0,R.Z)(function*(i,e){const n=Ft(i);e?(n.vu.delete(2),yield rh(n)):e||(n.vu.add(2),yield Zl(n),n.bu.set("Unknown"))}),cg.apply(this,arguments)}function fl(i){return i.Su||(i.Su=function(e,n,o){const u=Ft(e);return u.fu(),new Kl(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:iv.bind(null,i),ao:ig.bind(null,i),nu:sv.bind(null,i)}),i.Ru.push(function(){var e=(0,R.Z)(function*(n){n?(i.Su.Qo(),rg(i)?uy(i):i.bu.set("Unknown")):(yield i.Su.stop(),pf(i))});return function(n){return e.apply(this,arguments)}}())),i.Su}function Dc(i){return i.Du||(i.Du=function(e,n,o){const u=Ft(e);return u.fu(),new Jp(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:ly.bind(null,i),ao:ag.bind(null,i),au:uv.bind(null,i),cu:dy.bind(null,i)}),i.Ru.push(function(){var e=(0,R.Z)(function*(n){n?(i.Du.Qo(),yield Xl(i)):(yield i.Du.stop(),i.Eu.length>0&&(it("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Du}class If{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,b=new If(e,n,f,u,l);return b.start(o),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wt(qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nd(i,e){if(Sn("AsyncQueue",`${e}: ${i}`),na(i))return new wt(qe.UNAVAILABLE,`${e}: ${i}`);throw i}class rd{constructor(e){this.comparator=e?(n,o)=>e(n,o)||kt.comparator(n.key,o.key):(n,o)=>kt.comparator(n.key,o.key),this.keyedMap=qc(),this.sortedSet=new Ni(this.comparator)}static emptySet(e){return new rd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new rd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class cv{constructor(){this.Cu=new Ni(kt.comparator)}track(e){const n=e.doc.key,o=this.Cu.get(n);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(n):1===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Ht():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,o)=>{e.push(o)}),e}}class pl{constructor(e,n,o,u,l,f,b,k,H){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=b,this.excludesMetadataChanges=k,this.hasCachedResults=H}static fromInitialDocuments(e,n,o,u,l){const f=[];return n.forEach(b=>{f.push({type:0,doc:b})}),new pl(e,n,rd.emptySet(n),f,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class fy{constructor(){this.Nu=void 0,this.listeners=[]}}class wu{constructor(){this.queries=new Ua(e=>Nh(e),Gc),this.onlineState="Unknown",this.ku=new Set}}function py(){return py=(0,R.Z)(function*(i,e){const n=Ft(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new fy),u)try{l.Nu=yield n.onListen(o)}catch(f){const b=nd(f,`Initialization of query '${Dd(e.query)}' failed`);return void e.onError(b)}n.queries.set(o,l),l.listeners.push(e),e.Mu(n.onlineState),l.Nu&&e.$u(l.Nu)&&gy(n)}),py.apply(this,arguments)}function Fu(){return Fu=(0,R.Z)(function*(i,e){const n=Ft(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),Fu.apply(this,arguments)}function lg(i,e){const n=Ft(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const b of f.listeners)b.$u(u)&&(o=!0);f.Nu=u}}o&&gy(n)}function lv(i,e,n){const o=Ft(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function gy(i){i.ku.forEach(e=>{e.next()})}class dg{constructor(e,n,o){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new pl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class dv{constructor(e){this.key=e}}class Eo{constructor(e){this.key=e}}class _y{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Cr(),this.mutatedKeys=Cr(),this.tc=Sl(e),this.ec=new rd(this.tc)}get nc(){return this.Yu}sc(e,n){const o=n?n.ic:new cv,u=n?n.ec:this.ec;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,b=!1;const k="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,H="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ie,Ie)=>{const Ye=u.get(ie),vt=zc(this.query,Ie)?Ie:null,Wt=!!Ye&&this.mutatedKeys.has(Ye.key),gn=!!vt&&(vt.hasLocalMutations||this.mutatedKeys.has(vt.key)&&vt.hasCommittedMutations);let Dn=!1;Ye&&vt?Ye.data.isEqual(vt.data)?Wt!==gn&&(o.track({type:3,doc:vt}),Dn=!0):this.rc(Ye,vt)||(o.track({type:2,doc:vt}),Dn=!0,(k&&this.tc(vt,k)>0||H&&this.tc(vt,H)<0)&&(b=!0)):!Ye&&vt?(o.track({type:0,doc:vt}),Dn=!0):Ye&&!vt&&(o.track({type:1,doc:Ye}),Dn=!0,(k||H)&&(b=!0)),Dn&&(vt?(f=f.add(vt),l=gn?l.add(ie):l.delete(ie)):(f=f.delete(ie),l=l.delete(ie)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const ie="F"===this.query.limitType?f.last():f.first();f=f.delete(ie.key),l=l.delete(ie.key),o.track({type:1,doc:ie})}return{ec:f,ic:o,zi:b,mutatedKeys:l}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((H,ie)=>function(Ie,Ye){const vt=Wt=>{switch(Wt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ht()}};return vt(Ie)-vt(Ye)}(H.type,ie.type)||this.tc(H.doc,ie.doc)),this.oc(o);const f=n?this.uc():[],b=0===this.Zu.size&&this.current?1:0,k=b!==this.Xu;return this.Xu=b,0!==l.length||k?{snapshot:new pl(this.query,e.ec,u,l,e.mutatedKeys,0===b,k,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new cv,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Cr(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const n=[];return e.forEach(o=>{this.Zu.has(o)||n.push(new Eo(o))}),this.Zu.forEach(o=>{e.has(o)||n.push(new dv(o))}),n}hc(e){this.Yu=e.ir,this.Zu=Cr();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return pl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class fg{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class hv{constructor(e){this.key=e,this.fc=!1}}class fv{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new Ua(b=>Nh(b),Gc),this._c=new Map,this.mc=new Set,this.gc=new Ni(kt.comparator),this.yc=new Map,this.Ic=new Kd,this.Tc={},this.Ec=new Map,this.Ac=Ta.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function pg(i,e){return Df.apply(this,arguments)}function Df(){return Df=(0,R.Z)(function*(i,e){const n=function Cc(i){const e=Ft(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ey.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yu.bind(null,e),e.dc.nu=lg.bind(null,e.eventManager),e.dc.Pc=lv.bind(null,e.eventManager),e}(i);let o,u;const l=n.wc.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.lc();else{const f=yield function Zu(i,e){const n=Ft(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Bs.getTargetData(o,e).next(l=>l?(u=l,$e.resolve(u)):n.Bs.allocateTargetId(o).next(f=>(u=new ru(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.Bs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ji.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(o.targetId,o),n.Yi.set(e,o.targetId)),o})}(n.localStore,ao(e)),b=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield function bf(i,e,n,o,u){return gg.apply(this,arguments)}(n,e,o,"current"===b,f.resumeToken),n.isPrimaryClient&&Yl(n.remoteStore,f)}return u}),Df.apply(this,arguments)}function gg(){return gg=(0,R.Z)(function*(i,e,n,o,u){i.Rc=(Ie,Ye,vt)=>{return(Wt=(0,R.Z)(function*(gn,Dn,jr,Ei){let Jr=Dn.view.sc(jr);Jr.zi&&(Jr=yield al(gn.localStore,Dn.query,!1).then(({documents:os})=>Dn.view.sc(os,Jr)));const uo=Ei&&Ei.targetChanges.get(Dn.targetId),to=Dn.view.applyChanges(Jr,gn.isPrimaryClient,uo);return vg(gn,Dn.targetId,to.cc),to.snapshot}),function(gn,Dn,jr,Ei){return Wt.apply(this,arguments)})(i,Ie,Ye,vt);var Wt};const l=yield al(i.localStore,e,!0),f=new _y(e,l.ir),b=f.sc(l.documents),k=hs.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),H=f.applyChanges(b,i.isPrimaryClient,k);vg(i,n,H.cc);const ie=new fg(e,n,f);return i.wc.set(e,ie),i._c.has(n)?i._c.get(n).push(e):i._c.set(n,[e]),H.snapshot}),gg.apply(this,arguments)}function vy(i,e){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,R.Z)(function*(i,e){const n=Ft(i),o=n.wc.get(e),u=n._c.get(o.targetId);if(u.length>1)return n._c.set(o.targetId,u.filter(l=>!Gc(l,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Gl(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Ql(n.remoteStore,o.targetId),yl(n,o.targetId)}).catch(Ko))):(yl(n,o.targetId),yield Gl(n.localStore,o.targetId,!0))}),Cf.apply(this,arguments)}function mg(){return mg=(0,R.Z)(function*(i,e,n){const o=function sh(i){const e=Ft(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wy.bind(null,e),e}(i);try{const u=yield function(l,f){const b=Ft(l),k=Wr.now(),H=f.reduce((Ye,vt)=>Ye.add(vt.key),Cr());let ie,Ie;return b.persistence.runTransaction("Locally write mutations","readwrite",Ye=>{let vt=Po(),Wt=Cr();return b.Zi.getEntries(Ye,H).next(gn=>{vt=gn,vt.forEach((Dn,jr)=>{jr.isValidDocument()||(Wt=Wt.add(Dn))})}).next(()=>b.localDocuments.getOverlayedDocuments(Ye,vt)).next(gn=>{ie=gn;const Dn=[];for(const jr of f){const Ei=Rm(jr,ie.get(jr.key).overlayedDocument);null!=Ei&&Dn.push(new nu(jr.key,Ei,N(Ei.value.mapValue),Yi.exists(!0)))}return b.mutationQueue.addMutationBatch(Ye,k,Dn,f)}).next(gn=>{Ie=gn;const Dn=gn.applyToLocalDocumentSet(ie,Wt);return b.documentOverlayCache.saveOverlays(Ye,gn.batchId,Dn)})}).then(()=>({batchId:Ie.batchId,changes:Al(ie)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,f,b){let k=l.Tc[l.currentUser.toKey()];k||(k=new Ni(Mt)),k=k.insert(f,b),l.Tc[l.currentUser.toKey()]=k}(o,u.batchId,n),yield Lu(o,u.changes),yield Xl(o.remoteStore)}catch(u){const l=nd(u,"Failed to persist write");n.reject(l)}}),mg.apply(this,arguments)}function Ey(i,e){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,R.Z)(function*(i,e){const n=Ft(i);try{const o=yield function ol(i,e){const n=Ft(i),o=e.snapshotVersion;let u=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.Zi.newChangeBuffer({trackRemovals:!0});u=n.Ji;const b=[];e.targetChanges.forEach((ie,Ie)=>{const Ye=u.get(Ie);if(!Ye)return;b.push(n.Bs.removeMatchingKeys(l,ie.removedDocuments,Ie).next(()=>n.Bs.addMatchingKeys(l,ie.addedDocuments,Ie)));let vt=Ye.withSequenceNumber(l.currentSequenceNumber);var Wt,gn,Dn;null!==e.targetMismatches.get(Ie)?vt=vt.withResumeToken(Qs.EMPTY_BYTE_STRING,nn.min()).withLastLimboFreeSnapshotVersion(nn.min()):ie.resumeToken.approximateByteSize()>0&&(vt=vt.withResumeToken(ie.resumeToken,o)),u=u.insert(Ie,vt),gn=vt,Dn=ie,(0===(Wt=Ye).resumeToken.approximateByteSize()||gn.snapshotVersion.toMicroseconds()-Wt.snapshotVersion.toMicroseconds()>=3e8||Dn.addedDocuments.size+Dn.modifiedDocuments.size+Dn.removedDocuments.size>0)&&b.push(n.Bs.updateTargetData(l,vt))});let k=Po(),H=Cr();if(e.documentUpdates.forEach(ie=>{e.resolvedLimboDocuments.has(ie)&&b.push(n.persistence.referenceDelegate.updateLimboDocument(l,ie))}),b.push(function Jm(i,e,n){let o=Cr(),u=Cr();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=Po();return n.forEach((b,k)=>{const H=l.get(b);k.isFoundDocument()!==H.isFoundDocument()&&(u=u.add(b)),k.isNoDocument()&&k.version.isEqual(nn.min())?(e.removeEntry(b,k.readTime),f=f.insert(b,k)):!H.isValidDocument()||k.version.compareTo(H.version)>0||0===k.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(k),f=f.insert(b,k)):it("LocalStore","Ignoring outdated watch update for ",b,". Current version:",H.version," Watch version:",k.version)}),{nr:f,sr:u}})}(l,f,e.documentUpdates).next(ie=>{k=ie.nr,H=ie.sr})),!o.isEqual(nn.min())){const ie=n.Bs.getLastRemoteSnapshotVersion(l).next(Ie=>n.Bs.setTargetsMetadata(l,l.currentSequenceNumber,o));b.push(ie)}return $e.waitFor(b).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,k,H)).next(()=>k)}).then(l=>(n.Ji=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.yc.get(l);f&&(tn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.fc=!0:u.modifiedDocuments.size>0?tn(f.fc):u.removedDocuments.size>0&&(tn(f.fc),f.fc=!1))}),yield Lu(n,o,e)}catch(o){yield Ko(o)}}),Sf.apply(this,arguments)}function gl(i,e,n){const o=Ft(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.wc.forEach((l,f)=>{const b=f.view.Mu(e);b.snapshot&&u.push(b.snapshot)}),function(l,f){const b=Ft(l);b.onlineState=f;let k=!1;b.queries.forEach((H,ie)=>{for(const Ie of ie.listeners)Ie.Mu(f)&&(k=!0)}),k&&gy(b)}(o.eventManager,e),u.length&&o.dc.nu(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Yu(i,e,n){return bc.apply(this,arguments)}function bc(){return bc=(0,R.Z)(function*(i,e,n){const o=Ft(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.yc.get(e),l=u&&u.key;if(l){let f=new Ni(kt.comparator);f=f.insert(l,B.newNoDocument(l,nn.min()));const b=Cr().add(l),k=new da(nn.min(),new Map,new Ni(Mt),f,b);yield Ey(o,k),o.gc=o.gc.remove(l),o.yc.delete(e),Eg(o)}else yield Gl(o.localStore,e,!1).then(()=>yl(o,e,n)).catch(Ko)}),bc.apply(this,arguments)}function gv(i,e){return yg.apply(this,arguments)}function yg(){return yg=(0,R.Z)(function*(i,e){const n=Ft(i),o=e.batch.batchId;try{const u=yield function Qm(i,e){const n=Ft(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.Zi.newChangeBuffer({trackRemovals:!0});return function(f,b,k,H){const ie=k.batch,Ie=ie.keys();let Ye=$e.resolve();return Ie.forEach(vt=>{Ye=Ye.next(()=>H.getEntry(b,vt)).next(Wt=>{const gn=k.docVersions.get(vt);tn(null!==gn),Wt.version.compareTo(gn)<0&&(ie.applyToRemoteDocument(Wt,k),Wt.isValidDocument()&&(Wt.setReadTime(k.commitVersion),H.addEntry(Wt)))})}),Ye.next(()=>f.mutationQueue.removeMutationBatch(b,ie))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let b=Cr();for(let k=0;k<f.mutationResults.length;++k)f.mutationResults[k].transformResults.length>0&&(b=b.add(f.batch.mutations[k].key));return b}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);Mf(n,o,null),id(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Lu(n,u)}catch(u){yield Ko(u)}}),yg.apply(this,arguments)}function wy(i,e,n){return Af.apply(this,arguments)}function Af(){return Af=(0,R.Z)(function*(i,e,n){const o=Ft(i);try{const u=yield function(l,f){const b=Ft(l);return b.persistence.runTransaction("Reject batch","readwrite-primary",k=>{let H;return b.mutationQueue.lookupMutationBatch(k,f).next(ie=>(tn(null!==ie),H=ie.keys(),b.mutationQueue.removeMutationBatch(k,ie))).next(()=>b.mutationQueue.performConsistencyCheck(k)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(k,H,f)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(k,H)).next(()=>b.localDocuments.getDocuments(k,H))})}(o.localStore,e);Mf(o,e,n),id(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Lu(o,u)}catch(u){yield Ko(u)}}),Af.apply(this,arguments)}function id(i,e){(i.Ec.get(e)||[]).forEach(n=>{n.resolve()}),i.Ec.delete(e)}function Mf(i,e,n){const o=Ft(i);let u=o.Tc[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Tc[o.currentUser.toKey()]=u}}function yl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.wc.delete(o),n&&i.dc.Pc(o,n);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(o=>{i.Ic.containsKey(o)||Iy(i,o)})}function Iy(i,e){i.mc.delete(e.path.canonicalString());const n=i.gc.get(e);null!==n&&(Ql(i.remoteStore,n),i.gc=i.gc.remove(e),i.yc.delete(n),Eg(i))}function vg(i,e,n){for(const o of n)o instanceof dv?(i.Ic.addReference(o.key,e),mv(i,o)):o instanceof Eo?(it("SyncEngine","Document no longer in limbo: "+o.key),i.Ic.removeReference(o.key,e),i.Ic.containsKey(o.key)||Iy(i,o.key)):Ht()}function mv(i,e){const n=e.key,o=n.path.canonicalString();i.gc.get(n)||i.mc.has(o)||(it("SyncEngine","New document in limbo: "+n),i.mc.add(o),Eg(i))}function Eg(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const n=new kt(Un.fromString(e)),o=i.Ac.next();i.yc.set(o,new hv(n)),i.gc=i.gc.insert(n,o),Yl(i.remoteStore,new ru(ao(cc(n.path)),o,"TargetPurposeLimboResolution",ss.ct))}}function Lu(i,e,n){return Ty.apply(this,arguments)}function Ty(){return Ty=(0,R.Z)(function*(i,e,n){const o=Ft(i),u=[],l=[],f=[];var b;o.wc.isEmpty()||(o.wc.forEach((b,k)=>{f.push(o.Rc(k,e,n).then(H=>{if((H||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(k.targetId,H?.fromCache?"not-current":"current"),H){u.push(H);const ie=sf.Li(k.targetId,H);l.push(ie)}}))}),yield Promise.all(f),o.dc.nu(u),yield(b=(0,R.Z)(function*(k,H){const ie=Ft(k);try{yield ie.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ie=>$e.forEach(H,Ye=>$e.forEach(Ye.Fi,vt=>ie.persistence.referenceDelegate.addReference(Ie,Ye.targetId,vt)).next(()=>$e.forEach(Ye.Bi,vt=>ie.persistence.referenceDelegate.removeReference(Ie,Ye.targetId,vt)))))}catch(Ie){if(!na(Ie))throw Ie;it("LocalStore","Failed to update sequence numbers: "+Ie)}for(const Ie of H){const Ye=Ie.targetId;if(!Ie.fromCache){const vt=ie.Ji.get(Ye),gn=vt.withLastLimboFreeSnapshotVersion(vt.snapshotVersion);ie.Ji=ie.Ji.insert(Ye,gn)}}}),function(k,H){return b.apply(this,arguments)})(o.localStore,l))}),Ty.apply(this,arguments)}function yv(i,e){return Dy.apply(this,arguments)}function Dy(){return Dy=(0,R.Z)(function*(i,e){const n=Ft(i);if(!n.currentUser.isEqual(e)){it("SyncEngine","User change. New user:",e.toKey());const o=yield Ym(n.localStore,e);n.currentUser=e,(u=n).Ec.forEach(f=>{f.forEach(b=>{b.reject(new wt(qe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Ec.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Lu(n,o.er)}var u}),Dy.apply(this,arguments)}function v0(i,e){const n=Ft(i),o=n.yc.get(e);if(o&&o.fc)return Cr().add(o.key);{let u=Cr();const l=n._c.get(e);if(!l)return u;for(const f of l){const b=n.wc.get(f);u=u.unionWith(b.view.nc)}return u}}class ah{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,R.Z)(function*(){n.serializer=ll(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function af(i,e,n,o){return new _0(i,e,n,o)}(this.persistence,new Qd,e.initialUser,this.serializer)}createPersistence(e){return new ef(Gp.zs,this.serializer)}createSharedClientState(e){return new ry}terminate(){var e=this;return(0,R.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _l{initialize(e,n){var o=this;return(0,R.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>gl(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=yv.bind(null,o.syncEngine),yield function ug(i,e){return cg.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new wu}createDatastore(e){const n=ll(e.databaseInfo.databaseId),o=new Qp(e.databaseInfo);return new Xp(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,l=b=>gl(this.syncEngine,b,0),f=iy.D()?new iy:new nv,new nh(n,o,u,l,f);var n,o,u,l,f}createSyncEngine(e,n){return function(o,u,l,f,b,k,H){const ie=new fv(o,u,l,f,b,k);return H&&(ie.vc=!0),ie}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,R.Z)(function*(n){const o=Ft(n);it("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield Zl(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Lf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Sn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Iv{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=ge.UNAUTHENTICATED,this.clientId=Vn.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,R.Z)(function*(b){it("FirestoreClient","Received user=",b.uid),yield l.authCredentialListener(b),l.user=b});return function(b){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(it("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,R.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new wt(qe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,R.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=nd(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function Vf(i,e){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,R.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),it("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,R.Z)(function*(l){o.isEqual(l)||(yield Ym(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Dg.apply(this,arguments)}function bg(i,e){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,R.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function Sg(i){return Ag.apply(this,arguments)}(i);it("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>Ef(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>Ef(e.remoteStore,l)),i._onlineComponents=e}),Uf.apply(this,arguments)}function Ag(){return Ag=(0,R.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){it("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Vf(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Cg(i){return"FirebaseError"===i.name?i.code===qe.FAILED_PRECONDITION||i.code===qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;In("Error using user provided cache. Falling back to memory cache: "+n),yield Vf(i,new ah)}}else it("FirestoreClient","Using default OfflineComponentProvider"),yield Vf(i,new ah);return i._offlineComponents}),Ag.apply(this,arguments)}function fa(i){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,R.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(it("FirestoreClient","Using user provided OnlineComponentProvider"),yield bg(i,i._uninitializedComponentsProvider._online)):(it("FirestoreClient","Using default OnlineComponentProvider"),yield bg(i,new _l))),i._onlineComponents}),Mg.apply(this,arguments)}function ud(i){return xg.apply(this,arguments)}function xg(){return xg=(0,R.Z)(function*(i){const e=yield fa(i),n=e.eventManager;return n.onListen=pg.bind(null,e.syncEngine),n.onUnlisten=vy.bind(null,e.syncEngine),n}),xg.apply(this,arguments)}function Hf(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Oy=new Map;function Gf(i,e,n){if(!n)throw new wt(qe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Ng(i){if(!kt.isDocumentKey(i))throw new wt(qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Og(i){if(kt.isDocumentKey(i))throw new wt(qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function vl(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":Ht()}function li(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new wt(qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vl(i);throw new wt(qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class Pg{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new wt(qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new wt(qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Mv(i,e,n,o){if(!0===e&&!0===o)throw new wt(qe.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Hf(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new wt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new wt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new wt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cd{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new wt(qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new wt(qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pg(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new dr;switch(n.type){case"firstParty":return new ea(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new wt(qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Oy.get(e);n&&(it("ComponentProvider","Removing Datastore"),Oy.delete(e),n.terminate())}(this),Promise.resolve()}}class Ls{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ls(this.firestore,e,this._key)}}class wo{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new wo(this.firestore,e,this._query)}}class Fo extends wo{constructor(e,n,o){super(e,n,cc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ls(this.firestore,null,new kt(e))}withConverter(e){return new Fo(this.firestore,e,this._path)}}function xv(i,e,...n){if(i=(0,ue.m9)(i),Gf("collection","path",e),i instanceof cd){const o=Un.fromString(e,...n);return Og(o),new Fo(i,null,o)}{if(!(i instanceof Ls||i instanceof Fo))throw new wt(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Un.fromString(e,...n));return Og(o),new Fo(i.firestore,null,o)}}function zf(i,e,...n){if(i=(0,ue.m9)(i),1===arguments.length&&(e=Vn.A()),Gf("doc","path",e),i instanceof cd){const o=Un.fromString(e,...n);return Ng(o),new Ls(i,null,new kt(o))}{if(!(i instanceof Ls||i instanceof Fo))throw new wt(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Un.fromString(e,...n));return Ng(o),new Ls(i.firestore,i instanceof Fo?i.converter:null,new kt(o))}}class Nv{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new dl(this,"async_queue_retry"),this.Xc=()=>{const n=Wl();n&&it("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Wl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Wl();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new ci;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,R.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!na(n))throw n;it("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,Sn("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=n,n}enqueueAfterDelay(e,n,o){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const u=If.createAndSchedule(this,e,n,o,l=>this.na(l));return this.zc.push(u),u}Zc(){this.Wc&&Ht()}verifyOperationInProgress(){}sa(){var e=this;return(0,R.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function ld(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Wi extends cd{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new Nv,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Fg(this),this._firestoreClient.terminate()}}function Pv(i,e){const n="object"==typeof i?i:(0,et.getApp)(),o="string"==typeof i?i:e||"(default)",u=(0,et._getProvider)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,ue.P0)("firestore");l&&function Py(i,e,n,o={}){var u;const l=(i=li(i,cd))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&In("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let b,k;if("string"==typeof o.mockUserToken)b=o.mockUserToken,k=ge.MOCK_USER;else{b=(0,ue.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const H=o.mockUserToken.sub||o.mockUserToken.user_id;if(!H)throw new wt(qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new ge(H)}i._authCredentials=new qs(new vs(b,k))}}(u,...l)}return u}function eo(i){return i._firestoreClient||Fg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Fg(i){var e,n,o;const u=i._freezeSettings(),l=(b=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Mu(i._databaseId,b,i._persistenceKey,(H=u).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,Hf(H.experimentalLongPollingOptions),H.useFetchStreams));var b,H;i._firestoreClient=new Iv(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}class El{constructor(e){this._byteString=e}static fromBase64String(e){try{return new El(Qs.fromBase64String(e))}catch(n){throw new wt(qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new El(Qs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hd{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new wt(qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vg{constructor(e){this._methodName=e}}class Ug{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new wt(qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new wt(qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}}const Uv=/^__.*__$/;class ky{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new nu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}class Wf{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new nu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Fy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ht()}}class wl{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new wl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.fa(e),u}da(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.ua(),u}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ba(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Fy(this.ca)&&Uv.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Bv{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||ll(e)}ya(e,n,o,u=!1){return new wl({ca:e,methodName:n,ga:o,path:_n.emptyPath(),la:!1,ma:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fd(i){const e=i._freezeSettings(),n=ll(i._databaseId);return new Bv(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Bg(i,e,n,o,u,l={}){const f=i.ya(l.merge||l.mergeFields?2:0,e,n,u);Hg("Data must be an object, but it was:",f,o);const b=Hv(o,f);let k,H;if(l.merge)k=new aa(f.fieldMask),H=f.fieldTransforms;else if(l.mergeFields){const ie=[];for(const Ie of l.mergeFields){const Ye=hh(e,Ie,n);if(!f.contains(Ye))throw new wt(qe.INVALID_ARGUMENT,`Field '${Ye}' is specified in your field mask but missing from your input data.`);pd(ie,Ye)||ie.push(Ye)}k=new aa(ie),H=f.fieldTransforms.filter(Ie=>k.covers(Ie.field))}else k=null,H=f.fieldTransforms;return new ky(new I(b),k,H)}class lh extends Vg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lh}}function Sc(i,e){if(dh(i=(0,ue.m9)(i)))return Hg("Unsupported field value:",e,i),Hv(i,e);if(i instanceof Vg)return function(n,o){if(!Fy(o.ca))throw o._a(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,o){const u=[];let l=0;for(const f of n){let b=Sc(f,o.wa(l));null==b&&(b={nullValue:"NULL_VALUE"}),u.push(b),l++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,ue.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return bm(o.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=Wr.fromDate(n);return{timestampValue:pc(o.serializer,u)}}if(n instanceof Wr){const u=new Wr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:pc(o.serializer,u)}}if(n instanceof Ug)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof El)return{bytesValue:Nm(o.serializer,n._byteString)};if(n instanceof Ls){const u=o.databaseId,l=n.firestore._databaseId;if(!l.isEqual(u))throw o._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dp(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o._a(`Unsupported field value: ${vl(n)}`)}(i,e)}function Hv(i,e){const n={};return Au(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sa(i,(o,u)=>{const l=Sc(u,e.ha(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function dh(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Wr||i instanceof Ug||i instanceof El||i instanceof Ls||i instanceof Vg)}function Hg(i,e,n){if(!dh(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=vl(n);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function hh(i,e,n){if((e=(0,ue.m9)(e))instanceof hd)return e._internalPath;if("string"==typeof e)return Kf(i,e);throw Ba("Field path arguments must be of type string or ",i,!1,void 0,n)}const Gg=new RegExp("[~\\*/\\[\\]]");function Kf(i,e,n){if(e.search(Gg)>=0)throw Ba(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new hd(...e.split("."))._internalPath}catch{throw Ba(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ba(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let b=`Function ${e}() called with invalid data`;n&&(b+=" (via `toFirestore()`)"),b+=". ";let k="";return(l||f)&&(k+=" (found",l&&(k+=` in field ${o}`),f&&(k+=` in document ${u}`),k+=")"),new wt(qe.INVALID_ARGUMENT,b+i+k)}function pd(i,e){return i.some(n=>n.isEqual(e))}class Lo{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ls(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Il(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Il extends Lo{data(){return super.data()}}function Tl(i,e){return"string"==typeof e?Kf(i,e):e instanceof hd?e._internalPath:e._delegate._internalPath}class M0{convertValue(e,n="none"){switch(Ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ws(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ht()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Sa(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new Ug(ws(e.latitude),ws(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=kc(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Yo(e));default:return null}}convertTimestamp(e){const n=Aa(e);return new Wr(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Un.fromString(e);tn($_(o));const u=new xo(o.get(1),o.get(3)),l=new kt(o.popFirst(5));return u.isEqual(n)||Sn(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ju extends Lo{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Tl("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Ih extends Ju{data(e={}){return super.data(e)}}class Bu{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Qu(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Ih(this._firestore,this._userDataWriter,o.key,o,new Qu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new wt(qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(f=>({type:"added",doc:new Ih(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Qu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||3!==f.type).map(f=>{const b=new Ih(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Qu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let k=-1,H=-1;return 0!==f.type&&(k=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),H=l.indexOf(f.doc.key)),{type:zy(f.type),doc:b,oldIndex:k,newIndex:H}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ht()}}class Mc extends M0{constructor(e){super(),this.firestore=e}convertBytes(e){return new El(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ls(this.firestore,null,n)}}function F0(i,e,n,...o){i=li(i,Ls);const u=li(i.firestore,Wi),l=fd(u);let f;return f="string"==typeof(e=(0,ue.m9)(e))||e instanceof hd?function $v(i,e,n,o,u,l){const f=i.ya(1,e,n),b=[hh(e,o,n)],k=[u];if(l.length%2!=0)throw new wt(qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ye=0;Ye<l.length;Ye+=2)b.push(hh(e,l[Ye])),k.push(l[Ye+1]);const H=[],ie=I.empty();for(let Ye=b.length-1;Ye>=0;--Ye)if(!pd(H,b[Ye])){const vt=b[Ye];let Wt=k[Ye];Wt=(0,ue.m9)(Wt);const gn=f.da(vt);if(Wt instanceof lh)H.push(vt);else{const Dn=Sc(Wt,gn);null!=Dn&&(H.push(vt),ie.set(vt,Dn))}}const Ie=new aa(H);return new Wf(ie,Ie,f.fieldTransforms)}(l,"updateDoc",i._key,e,n,o):function By(i,e,n,o){const u=i.ya(1,e,n);Hg("Data must be an object, but it was:",u,o);const l=[],f=I.empty();Sa(o,(k,H)=>{const ie=Kf(e,k,n);H=(0,ue.m9)(H);const Ie=u.da(ie);if(H instanceof lh)l.push(ie);else{const Ye=Sc(H,Ie);null!=Ye&&(l.push(ie),f.set(ie,Ye))}});const b=new aa(l);return new Wf(f,b,u.fieldTransforms)}(l,"updateDoc",i._key,e),gd(u,[f.toMutation(i._key,Yi.exists(!0))])}function Xv(i,e){const n=li(i.firestore,Wi),o=zf(i),u=function qg(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}(i.converter,e);return gd(n,[Bg(fd(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Yi.exists(!1))]).then(()=>o)}function gd(i,e){return function(n,o){const u=new ci;return n.asyncQueue.enqueueAndForget((0,R.Z)(function*(){return function pv(i,e,n){return mg.apply(this,arguments)}(yield function jf(i){return fa(i).then(e=>e.syncEngine)}(n),o,u)})),u.promise}(eo(i),e)}!function(i,e=!0){Le=et.SDK_VERSION,(0,et._registerComponent)(new ze.wA("firestore",(n,{instanceIdentifier:o,options:u})=>{const l=n.getProvider("app").getImmediate(),f=new Wi(new mo(n.getProvider("auth-internal")),new Ao(n.getProvider("app-check-internal")),function(b,k){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new wt(qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xo(b.options.projectId,k)}(l,o),l);return u=Object.assign({useFetchStreams:e},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),(0,et.registerVersion)(ye,"3.13.0",i),(0,et.registerVersion)(ye,"3.13.0","esm2017")}();var em=K(5592),tm=K(7398),tp=function(){return tp=Object.assign||function(e){for(var n,o=1,u=arguments.length;o<u;o++)for(var l in n=arguments[o])Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l]);return e},tp.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var t_={includeMetadataChanges:!1};function rp(i,e){return void 0===e&&(e=t_),new em.y(function(n){var o=function Zg(i,...e){var n,o,u;i=(0,ue.m9)(i);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||ld(e[f])||(l=e[f],f++);const b={includeMetadataChanges:l.includeMetadataChanges};if(ld(e[f])){const Ie=e[f];e[f]=null===(n=Ie.next)||void 0===n?void 0:n.bind(Ie),e[f+1]=null===(o=Ie.error)||void 0===o?void 0:o.bind(Ie),e[f+2]=null===(u=Ie.complete)||void 0===u?void 0:u.bind(Ie)}let k,H,ie;if(i instanceof Ls)H=li(i.firestore,Wi),ie=cc(i._key.path),k={next:Ie=>{e[f]&&e[f](function Yg(i,e,n){const o=n.docs.get(e._key),u=new Mc(i);return new Ju(i,u,e._key,o,new Qu(n.hasPendingWrites,n.fromCache),e.converter)}(H,i,Ie))},error:e[f+1],complete:e[f+2]};else{const Ie=li(i,wo);H=li(Ie.firestore,Wi),ie=Ie._query;const Ye=new Mc(H);k={next:vt=>{e[f]&&e[f](new Bu(H,Ye,Ie,vt))},error:e[f+1],complete:e[f+2]},function ja(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new wt(qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}return function(Ie,Ye,vt,Wt){const gn=new Lf(Wt),Dn=new dg(Ye,gn,vt);return Ie.asyncQueue.enqueueAndForget((0,R.Z)(function*(){return function Tf(i,e){return py.apply(this,arguments)}(yield ud(Ie),Dn)})),()=>{gn.Dc(),Ie.asyncQueue.enqueueAndForget((0,R.Z)(function*(){return function ih(i,e){return Fu.apply(this,arguments)}(yield ud(Ie),Dn)}))}}(eo(H),ie,b,k)}(i,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:o}})}function Rc(i,e){return void 0===e&&(e={}),function c_(i){return rp(i,{includeMetadataChanges:!0}).pipe((0,tm.U)(function(e){return e.docs}))}(i).pipe((0,tm.U)(function(n){return n.map(function(o){return function r_(i,e){var n;void 0===e&&(e={});var o=i.data(e);return i.exists()&&"object"==typeof o&&null!==o&&e.idField?tp(tp({},o),((n={})[e.idField]=i.id,n)):o}(o,e)})}))}class md{constructor(e){return e}}const xc="firestore",Dh=new he.OlP("angularfire2.firestore-instances");function K0(i){return(e,n)=>{const o=e.runOutsideAngular(()=>i(n));return new md(o)}}const lE={provide:class sm{constructor(){return(0,p.vb)(xc)}},deps:[[new he.FiY,Dh]]},dE={provide:md,useFactory:function W0(i,e){const n=(0,p.JM)(xc,i,e);return n&&new md(n)},deps:[[new he.FiY,Dh],Se.Ot]};let l_=(()=>{class i{constructor(){(0,Me.KN)("angularfire",p.q4.full,"fst")}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=he.oAB({type:i}),i.\u0275inj=he.cJS({providers:[dE,lE]}),i})();function hE(i,...e){return{ngModule:l_,providers:[{provide:Dh,useFactory:K0(i),multi:!0,deps:[he.R0b,he.zs3,p.HU,Se.z6,[new he.FiY,Ee.dh],[new he.FiY,ae.nm],...e]}]}}const d_=(0,p.u3)(Rc,!0),mE=(0,p.u3)(Xv,!0),h_=(0,p.u3)(xv,!0),g_=(0,p.u3)(zf,!0),y_=(0,p.u3)(Pv,!0),E_=(0,p.u3)(F0,!0)},8186:(pn,ft,K)=>{K.d(ft,{q4:()=>kc,iC:()=>Xa,fc:()=>Hu,HU:()=>Ja,vb:()=>Ru,JM:()=>Qa,u3:()=>Uc});var p=K(4946),he=K(3182),Ee=K(5861),Se=K(534),Me=K(9058),ae=K(4537),R=K(7879);const et=(I,N)=>N.some(B=>I instanceof B);let ze,de;const ot=new WeakMap,Ae=new WeakMap,Ot=new WeakMap,Dt=new WeakMap,Bt=new WeakMap;let xt={get(I,N,B){if(I instanceof IDBTransaction){if("done"===N)return Ae.get(I);if("objectStoreNames"===N)return I.objectStoreNames||Ot.get(I);if("store"===N)return B.objectStoreNames[1]?void 0:B.objectStore(B.objectStoreNames[0])}return gt(I[N])},set:(I,N,B)=>(I[N]=B,!0),has:(I,N)=>I instanceof IDBTransaction&&("done"===N||"store"===N)||N in I};function Ze(I){return"function"==typeof I?function tt(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function je(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...N){return I.apply(dt(this),N),gt(ot.get(this))}:function(...N){return gt(I.apply(dt(this),N))}:function(N,...B){const ce=I.call(dt(this),N,...B);return Ot.set(ce,N.sort?N.sort():[N]),gt(ce)}}(I):(I instanceof IDBTransaction&&function an(I){if(Ae.has(I))return;const N=new Promise((B,ce)=>{const Ne=()=>{I.removeEventListener("complete",Ue),I.removeEventListener("error",ht),I.removeEventListener("abort",ht)},Ue=()=>{B(),Ne()},ht=()=>{ce(I.error||new DOMException("AbortError","AbortError")),Ne()};I.addEventListener("complete",Ue),I.addEventListener("error",ht),I.addEventListener("abort",ht)});Ae.set(I,N)}(I),et(I,function ue(){return ze||(ze=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,xt):I)}function gt(I){if(I instanceof IDBRequest)return function At(I){const N=new Promise((B,ce)=>{const Ne=()=>{I.removeEventListener("success",Ue),I.removeEventListener("error",ht)},Ue=()=>{B(gt(I.result)),Ne()},ht=()=>{ce(I.error),Ne()};I.addEventListener("success",Ue),I.addEventListener("error",ht)});return N.then(B=>{B instanceof IDBCursor&&ot.set(B,I)}).catch(()=>{}),Bt.set(N,I),N}(I);if(Dt.has(I))return Dt.get(I);const N=Ze(I);return N!==I&&(Dt.set(I,N),Bt.set(N,I)),N}const dt=I=>Bt.get(I),vn=["get","getKey","getAll","getAllKeys","count"],$n=["put","add","delete","clear"],gr=new Map;function It(I,N){if(!(I instanceof IDBDatabase)||N in I||"string"!=typeof N)return;if(gr.get(N))return gr.get(N);const B=N.replace(/FromIndex$/,""),ce=N!==B,Ne=$n.includes(B);if(!(B in(ce?IDBIndex:IDBObjectStore).prototype)||!Ne&&!vn.includes(B))return;const Ue=function(){var ht=(0,Ee.Z)(function*(cn,...en){const Ut=this.transaction(cn,Ne?"readwrite":"readonly");let un=Ut.store;return ce&&(un=un.index(en.shift())),(yield Promise.all([un[B](...en),Ne&&Ut.done]))[0]});return function(en){return ht.apply(this,arguments)}}();return gr.set(N,Ue),Ue}!function be(I){xt=I(xt)}(I=>({...I,get:(N,B,ce)=>It(N,B)||I.get(N,B,ce),has:(N,B)=>!!It(N,B)||I.has(N,B)}));const Et="@firebase/installations",bn="0.6.4",Lt=1e4,An=`w:${bn}`,He="FIS_v2",Je="https://firebaseinstallations.googleapis.com/v1",at=36e5,_e=new Me.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function We(I){return I instanceof Me.ZR&&I.code.includes("request-failed")}function pt({projectId:I}){return`${Je}/projects/${I}/installations`}function _t(I){return{token:I.token,requestStatus:2,expiresIn:kn(I.expiresIn),creationTime:Date.now()}}function zt(I,N){return tr.apply(this,arguments)}function tr(){return(tr=(0,Ee.Z)(function*(I,N){const ce=(yield N.json()).error;return _e.create("request-failed",{requestName:I,serverCode:ce.code,serverMessage:ce.message,serverStatus:ce.status})})).apply(this,arguments)}function Qn({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function lr(I){return ar.apply(this,arguments)}function ar(){return(ar=(0,Ee.Z)(function*(I){const N=yield I();return N.status>=500&&N.status<600?I():N})).apply(this,arguments)}function kn(I){return Number(I.replace("s","000"))}function hr(){return(hr=(0,Ee.Z)(function*({appConfig:I,heartbeatServiceProvider:N},{fid:B}){const ce=pt(I),Ne=Qn(I),Ue=N.getImmediate({optional:!0});if(Ue){const Ut=yield Ue.getHeartbeatsHeader();Ut&&Ne.append("x-firebase-client",Ut)}const cn={method:"POST",headers:Ne,body:JSON.stringify({fid:B,authVersion:He,appId:I.appId,sdkVersion:An})},en=yield lr(()=>fetch(ce,cn));if(en.ok){const Ut=yield en.json();return{fid:Ut.fid||B,registrationStatus:2,refreshToken:Ut.refreshToken,authToken:_t(Ut.authToken)}}throw yield zt("Create Installation",en)})).apply(this,arguments)}function En(I){return new Promise(N=>{setTimeout(N,I)})}const cr=/^[cdef][\w-]{21}$/,sr="";function Bn(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const B=function On(I){return function gi(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return cr.test(B)?B:sr}catch{return sr}}function yr(I){return`${I.appName}!${I.appId}`}const Gr=new Map;function ei(I,N){const B=yr(I);di(B,N),function _r(I,N){const B=function Kt(){return!hi&&"BroadcastChannel"in self&&(hi=new BroadcastChannel("[Firebase] FID Change"),hi.onmessage=I=>{di(I.data.key,I.data.fid)}),hi}();B&&B.postMessage({key:I,fid:N}),function ji(){0===Gr.size&&hi&&(hi.close(),hi=null)}()}(B,N)}function di(I,N){const B=Gr.get(I);if(B)for(const ce of B)ce(N)}let hi=null;const Oi="firebase-installations-database",zr=1,ri="firebase-installations-store";let wr=null;function yn(){return wr||(wr=function ct(I,N,{blocked:B,upgrade:ce,blocking:Ne,terminated:Ue}={}){const ht=indexedDB.open(I,N),cn=gt(ht);return ce&&ht.addEventListener("upgradeneeded",en=>{ce(gt(ht.result),en.oldVersion,en.newVersion,gt(ht.transaction))}),B&&ht.addEventListener("blocked",()=>B()),cn.then(en=>{Ue&&en.addEventListener("close",()=>Ue()),Ne&&en.addEventListener("versionchange",()=>Ne())}).catch(()=>{}),cn}(Oi,zr,{upgrade:(I,N)=>{0===N&&I.createObjectStore(ri)}})),wr}function bi(I,N){return wi.apply(this,arguments)}function wi(){return(wi=(0,Ee.Z)(function*(I,N){const B=yr(I),Ne=(yield yn()).transaction(ri,"readwrite"),Ue=Ne.objectStore(ri),ht=yield Ue.get(B);return yield Ue.put(N,B),yield Ne.done,(!ht||ht.fid!==N.fid)&&ei(I,N.fid),N})).apply(this,arguments)}function Cn(I){return vr.apply(this,arguments)}function vr(){return(vr=(0,Ee.Z)(function*(I){const N=yr(I),ce=(yield yn()).transaction(ri,"readwrite");yield ce.objectStore(ri).delete(N),yield ce.done})).apply(this,arguments)}function Hn(I,N){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,Ee.Z)(function*(I,N){const B=yr(I),Ne=(yield yn()).transaction(ri,"readwrite"),Ue=Ne.objectStore(ri),ht=yield Ue.get(B),cn=N(ht);return void 0===cn?yield Ue.delete(B):yield Ue.put(cn,B),yield Ne.done,cn&&(!ht||ht.fid!==cn.fid)&&ei(I,cn.fid),cn})).apply(this,arguments)}function Te(I){return J.apply(this,arguments)}function J(){return J=(0,Ee.Z)(function*(I){let N;const B=yield Hn(I.appConfig,ce=>{const Ne=function re(I){return Mn(I||{fid:Bn(),registrationStatus:0})}(ce),Ue=function ne(I,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(_e.create("app-offline"))};const B={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},ce=function ee(I,N){return Oe.apply(this,arguments)}(I,B);return{installationEntry:B,registrationPromise:ce}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:yt(I)}:{installationEntry:N}}(I,Ne);return N=Ue.registrationPromise,Ue.installationEntry});return B.fid===sr?{installationEntry:yield N}:{installationEntry:B,registrationPromise:N}}),J.apply(this,arguments)}function Oe(){return Oe=(0,Ee.Z)(function*(I,N){try{const B=yield function mn(I,N){return hr.apply(this,arguments)}(I,N);return bi(I.appConfig,B)}catch(B){throw We(B)&&409===B.customData.serverCode?yield Cn(I.appConfig):yield bi(I.appConfig,{fid:N.fid,registrationStatus:0}),B}}),Oe.apply(this,arguments)}function yt(I){return $t.apply(this,arguments)}function $t(){return($t=(0,Ee.Z)(function*(I){let N=yield ln(I.appConfig);for(;1===N.registrationStatus;)yield En(100),N=yield ln(I.appConfig);if(0===N.registrationStatus){const{installationEntry:B,registrationPromise:ce}=yield Te(I);return ce||B}return N})).apply(this,arguments)}function ln(I){return Hn(I,N=>{if(!N)throw _e.create("installation-not-found");return Mn(N)})}function Mn(I){return function Jn(I){return 1===I.registrationStatus&&I.registrationTime+Lt<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function $r(){return($r=(0,Ee.Z)(function*({appConfig:I,heartbeatServiceProvider:N},B){const ce=function Er(I,{fid:N}){return`${pt(I)}/${N}/authTokens:generate`}(I,B),Ne=function Rn(I,{refreshToken:N}){const B=Qn(I);return B.append("Authorization",function nr(I){return`${He} ${I}`}(N)),B}(I,B),Ue=N.getImmediate({optional:!0});if(Ue){const Ut=yield Ue.getHeartbeatsHeader();Ut&&Ne.append("x-firebase-client",Ut)}const cn={method:"POST",headers:Ne,body:JSON.stringify({installation:{sdkVersion:An,appId:I.appId}})},en=yield lr(()=>fetch(ce,cn));if(en.ok)return _t(yield en.json());throw yield zt("Generate Auth Token",en)})).apply(this,arguments)}function mi(I){return Si.apply(this,arguments)}function Si(){return Si=(0,Ee.Z)(function*(I,N=!1){let B;const ce=yield Hn(I.appConfig,Ue=>{if(!Jt(Ue))throw _e.create("not-registered");const ht=Ue.authToken;if(!N&&function qn(I){return 2===I.requestStatus&&!function ti(I){const N=Date.now();return N<I.creationTime||I.creationTime+I.expiresIn<N+at}(I)}(ht))return Ue;if(1===ht.requestStatus)return B=function st(I,N){return Be.apply(this,arguments)}(I,N),Ue;{if(!navigator.onLine)throw _e.create("app-offline");const cn=function Ir(I){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:N})}(Ue);return B=function Zt(I,N){return Nn.apply(this,arguments)}(I,cn),cn}});return B?yield B:ce.authToken}),Si.apply(this,arguments)}function Be(){return(Be=(0,Ee.Z)(function*(I,N){let B=yield bt(I.appConfig);for(;1===B.authToken.requestStatus;)yield En(100),B=yield bt(I.appConfig);const ce=B.authToken;return 0===ce.requestStatus?mi(I,N):ce})).apply(this,arguments)}function bt(I){return Hn(I,N=>{if(!Jt(N))throw _e.create("not-registered");return function Pi(I){return 1===I.requestStatus&&I.requestTime+Lt<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function Nn(){return Nn=(0,Ee.Z)(function*(I,N){try{const B=yield function Fn(I,N){return $r.apply(this,arguments)}(I,N),ce=Object.assign(Object.assign({},N),{authToken:B});return yield bi(I.appConfig,ce),B}catch(B){if(!We(B)||401!==B.customData.serverCode&&404!==B.customData.serverCode){const ce=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield bi(I.appConfig,ce)}else yield Cn(I.appConfig);throw B}}),Nn.apply(this,arguments)}function Jt(I){return void 0!==I&&2===I.registrationStatus}function as(){return(as=(0,Ee.Z)(function*(I){const N=I,{installationEntry:B,registrationPromise:ce}=yield Te(N);return ce?ce.catch(console.error):mi(N).catch(console.error),B.fid})).apply(this,arguments)}function Ai(){return Ai=(0,Ee.Z)(function*(I,N=!1){const B=I;return yield function Mi(I){return fi.apply(this,arguments)}(B),(yield mi(B,N)).token}),Ai.apply(this,arguments)}function fi(){return(fi=(0,Ee.Z)(function*(I){const{registrationPromise:N}=yield Te(I);N&&(yield N)})).apply(this,arguments)}function xe(I){return _e.create("missing-app-config-values",{valueName:I})}const Ve="installations",Pt=I=>{const N=I.getProvider("app").getImmediate(),B=function Re(I){if(!I||!I.options)throw xe("App Configuration");if(!I.name)throw xe("App Name");const N=["projectId","apiKey","appId"];for(const B of N)if(!I.options[B])throw xe(B);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(N);return{app:N,appConfig:B,heartbeatServiceProvider:(0,Se._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},dn=I=>{const N=I.getProvider("app").getImmediate(),B=(0,Se._getProvider)(N,Ve).getImmediate();return{getId:()=>function fs(I){return as.apply(this,arguments)}(B),getToken:Ne=>function br(I){return Ai.apply(this,arguments)}(B,Ne)}};(function Wn(){(0,Se._registerComponent)(new ae.wA(Ve,Pt,"PUBLIC")),(0,Se._registerComponent)(new ae.wA("installations-internal",dn,"PRIVATE"))})(),(0,Se.registerVersion)(Et,bn),(0,Se.registerVersion)(Et,bn,"esm2017");const xn="@firebase/remote-config",Mr=new Me.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class jn{constructor(N,B,ce,Ne){this.client=N,this.storage=B,this.storageCache=ce,this.logger=Ne}isCachedDataFresh(N,B){if(!B)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ce=Date.now()-B,Ne=ce<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ce}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${Ne}.`),Ne}fetch(N){var B=this;return(0,Ee.Z)(function*(){const[ce,Ne]=yield Promise.all([B.storage.getLastSuccessfulFetchTimestampMillis(),B.storage.getLastSuccessfulFetchResponse()]);if(Ne&&B.isCachedDataFresh(N.cacheMaxAgeMillis,ce))return Ne;N.eTag=Ne&&Ne.eTag;const Ue=yield B.client.fetch(N),ht=[B.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ue.status&&ht.push(B.storage.setLastSuccessfulFetchResponse(Ue)),yield Promise.all(ht),Ue})()}}function fr(I=navigator){return I.languages&&I.languages[0]||I.language}class Ln{constructor(N,B,ce,Ne,Ue,ht){this.firebaseInstallations=N,this.sdkVersion=B,this.namespace=ce,this.projectId=Ne,this.apiKey=Ue,this.appId=ht}fetch(N){var B=this;return(0,Ee.Z)(function*(){const[ce,Ne]=yield Promise.all([B.firebaseInstallations.getId(),B.firebaseInstallations.getToken()]),ht=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${B.projectId}/namespaces/${B.namespace}:fetch?key=${B.apiKey}`,cn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},en={sdk_version:B.sdkVersion,app_instance_id:ce,app_instance_id_token:Ne,app_id:B.appId,language_code:fr()},Ut={method:"POST",headers:cn,body:JSON.stringify(en)},un=fetch(ht,Ut),Yn=new Promise((Qo,eu)=>{N.signal.addEventListener(()=>{const Bc=new Error("The operation was aborted.");Bc.name="AbortError",eu(Bc)})});let yo;try{yield Promise.race([un,Yn]),yo=yield un}catch(Qo){let eu="fetch-client-network";throw"AbortError"===Qo?.name&&(eu="fetch-timeout"),Mr.create(eu,{originalErrorMessage:Qo?.message})}let ds=yo.status;const xa=yo.headers.get("ETag")||void 0;let ac,hu;if(200===yo.status){let Qo;try{Qo=yield yo.json()}catch(eu){throw Mr.create("fetch-client-parse",{originalErrorMessage:eu?.message})}ac=Qo.entries,hu=Qo.state}if("INSTANCE_STATE_UNSPECIFIED"===hu?ds=500:"NO_CHANGE"===hu?ds=304:("NO_TEMPLATE"===hu||"EMPTY_CONFIG"===hu)&&(ac={}),304!==ds&&200!==ds)throw Mr.create("fetch-status",{httpStatus:ds});return{status:ds,eTag:xa,config:ac}})()}}class Ns{constructor(N,B){this.client=N,this.storage=B}fetch(N){var B=this;return(0,Ee.Z)(function*(){const ce=(yield B.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return B.attemptFetch(N,ce)})()}attemptFetch(N,{throttleEndTimeMillis:B,backoffCount:ce}){var Ne=this;return(0,Ee.Z)(function*(){yield function Ki(I,N){return new Promise((B,ce)=>{const Ne=Math.max(N-Date.now(),0),Ue=setTimeout(B,Ne);I.addEventListener(()=>{clearTimeout(Ue),ce(Mr.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,B);try{const Ue=yield Ne.client.fetch(N);return yield Ne.storage.deleteThrottleMetadata(),Ue}catch(Ue){if(!function si(I){if(!(I instanceof Me.ZR&&I.customData))return!1;const N=Number(I.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Ue))throw Ue;const ht={throttleEndTimeMillis:Date.now()+(0,Me.$s)(ce),backoffCount:ce+1};return yield Ne.storage.setThrottleMetadata(ht),Ne.attemptFetch(N,ht)}})()}}class To{constructor(N,B,ce,Ne,Ue){this.app=N,this._client=B,this._storageCache=ce,this._storage=Ne,this._logger=Ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Bs(I,N){const B=I.target.error||void 0;return Mr.create(N,{originalErrorMessage:B&&B?.message})}const Or="app_namespace_store";class G{constructor(N,B,ce,Ne=function $(){return new Promise((I,N)=>{try{const B=indexedDB.open("firebase_remote_config",1);B.onerror=ce=>{N(Bs(ce,"storage-open"))},B.onsuccess=ce=>{I(ce.target.result)},B.onupgradeneeded=ce=>{0===ce.oldVersion&&ce.target.result.createObjectStore(Or,{keyPath:"compositeKey"})}}catch(B){N(Mr.create("storage-open",{originalErrorMessage:B?.message}))}})}()){this.appId=N,this.appName=B,this.namespace=ce,this.openDbPromise=Ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var B=this;return(0,Ee.Z)(function*(){const ce=yield B.openDbPromise;return new Promise((Ne,Ue)=>{const cn=ce.transaction([Or],"readonly").objectStore(Or),en=B.createCompositeKey(N);try{const Ut=cn.get(en);Ut.onerror=un=>{Ue(Bs(un,"storage-get"))},Ut.onsuccess=un=>{const Yn=un.target.result;Ne(Yn?Yn.value:void 0)}}catch(Ut){Ue(Mr.create("storage-get",{originalErrorMessage:Ut?.message}))}})})()}set(N,B){var ce=this;return(0,Ee.Z)(function*(){const Ne=yield ce.openDbPromise;return new Promise((Ue,ht)=>{const en=Ne.transaction([Or],"readwrite").objectStore(Or),Ut=ce.createCompositeKey(N);try{const un=en.put({compositeKey:Ut,value:B});un.onerror=Yn=>{ht(Bs(Yn,"storage-set"))},un.onsuccess=()=>{Ue()}}catch(un){ht(Mr.create("storage-set",{originalErrorMessage:un?.message}))}})})()}delete(N){var B=this;return(0,Ee.Z)(function*(){const ce=yield B.openDbPromise;return new Promise((Ne,Ue)=>{const cn=ce.transaction([Or],"readwrite").objectStore(Or),en=B.createCompositeKey(N);try{const Ut=cn.delete(en);Ut.onerror=un=>{Ue(Bs(un,"storage-delete"))},Ut.onsuccess=()=>{Ne()}}catch(Ut){Ue(Mr.create("storage-delete",{originalErrorMessage:Ut?.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class pe{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,Ee.Z)(function*(){const B=N.storage.getLastFetchStatus(),ce=N.storage.getLastSuccessfulFetchTimestampMillis(),Ne=N.storage.getActiveConfig(),Ue=yield B;Ue&&(N.lastFetchStatus=Ue);const ht=yield ce;ht&&(N.lastSuccessfulFetchTimestampMillis=ht);const cn=yield Ne;cn&&(N.activeConfig=cn)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function Vt(){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,Ee.Z)(function*(){if(!(0,Me.hl)())return!1;try{return yield(0,Me.eu)()}catch{return!1}})).apply(this,arguments)}!function we(){(0,Se._registerComponent)(new ae.wA("remote-config",function I(N,{instanceIdentifier:B}){const ce=N.getProvider("app").getImmediate(),Ne=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Mr.create("registration-window");if(!(0,Me.hl)())throw Mr.create("indexed-db-unavailable");const{projectId:Ue,apiKey:ht,appId:cn}=ce.options;if(!Ue)throw Mr.create("registration-project-id");if(!ht)throw Mr.create("registration-api-key");if(!cn)throw Mr.create("registration-app-id");const en=new G(cn,ce.name,B=B||"firebase"),Ut=new pe(en),un=new R.Yd(xn);un.logLevel=R.in.ERROR;const Yn=new Ln(Ne,Se.SDK_VERSION,B,Ue,ht,cn),yo=new Ns(Yn,en),ds=new jn(yo,en,Ut,un),xa=new To(ce,ds,Ut,en,un);return function Us(I){const N=(0,Me.m9)(I);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(xa),xa},"PUBLIC").setMultipleInstances(!0)),(0,Se.registerVersion)(xn,"0.4.4"),(0,Se.registerVersion)(xn,"0.4.4","esm2017")}();const St=(I,N)=>N.some(B=>I instanceof B);let Pn,mr;const qr=new WeakMap,Tr=new WeakMap,Yr=new WeakMap,Hr=new WeakMap,Cs=new WeakMap;let pr={get(I,N,B){if(I instanceof IDBTransaction){if("done"===N)return Tr.get(I);if("objectStoreNames"===N)return I.objectStoreNames||Yr.get(I);if("store"===N)return B.objectStoreNames[1]?void 0:B.objectStore(B.objectStoreNames[0])}return oi(I[N])},set:(I,N,B)=>(I[N]=B,!0),has:(I,N)=>I instanceof IDBTransaction&&("done"===N||"store"===N)||N in I};function js(I){return"function"==typeof I?function er(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Xn(){return mr||(mr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...N){return I.apply(ms(this),N),oi(qr.get(this))}:function(...N){return oi(I.apply(ms(this),N))}:function(N,...B){const ce=I.call(ms(this),N,...B);return Yr.set(ce,N.sort?N.sort():[N]),oi(ce)}}(I):(I instanceof IDBTransaction&&function Qr(I){if(Tr.has(I))return;const N=new Promise((B,ce)=>{const Ne=()=>{I.removeEventListener("complete",Ue),I.removeEventListener("error",ht),I.removeEventListener("abort",ht)},Ue=()=>{B(),Ne()},ht=()=>{ce(I.error||new DOMException("AbortError","AbortError")),Ne()};I.addEventListener("complete",Ue),I.addEventListener("error",ht),I.addEventListener("abort",ht)});Tr.set(I,N)}(I),St(I,function Pr(){return Pn||(Pn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,pr):I)}function oi(I){if(I instanceof IDBRequest)return function _i(I){const N=new Promise((B,ce)=>{const Ne=()=>{I.removeEventListener("success",Ue),I.removeEventListener("error",ht)},Ue=()=>{B(oi(I.result)),Ne()},ht=()=>{ce(I.error),Ne()};I.addEventListener("success",Ue),I.addEventListener("error",ht)});return N.then(B=>{B instanceof IDBCursor&&qr.set(B,I)}).catch(()=>{}),Cs.set(N,I),N}(I);if(Hr.has(I))return Hr.get(I);const N=js(I);return N!==I&&(Hr.set(I,N),Cs.set(N,I)),N}const ms=I=>Cs.get(I);function Ci(I,N,{blocked:B,upgrade:ce,blocking:Ne,terminated:Ue}={}){const ht=indexedDB.open(I,N),cn=oi(ht);return ce&&ht.addEventListener("upgradeneeded",en=>{ce(oi(ht.result),en.oldVersion,en.newVersion,oi(ht.transaction))}),B&&ht.addEventListener("blocked",()=>B()),cn.then(en=>{Ue&&en.addEventListener("close",()=>Ue()),Ne&&en.addEventListener("versionchange",()=>Ne())}).catch(()=>{}),cn}function ai(I,{blocked:N}={}){const B=indexedDB.deleteDatabase(I);return N&&B.addEventListener("blocked",()=>N()),oi(B).then(()=>{})}const Xi=["get","getKey","getAll","getAllKeys","count"],Do=["put","add","delete","clear"],Fi=new Map;function pa(I,N){if(!(I instanceof IDBDatabase)||N in I||"string"!=typeof N)return;if(Fi.get(N))return Fi.get(N);const B=N.replace(/FromIndex$/,""),ce=N!==B,Ne=Do.includes(B);if(!(B in(ce?IDBIndex:IDBObjectStore).prototype)||!Ne&&!Xi.includes(B))return;const Ue=function(){var ht=(0,Ee.Z)(function*(cn,...en){const Ut=this.transaction(cn,Ne?"readwrite":"readonly");let un=Ut.store;return ce&&(un=un.index(en.shift())),(yield Promise.all([un[B](...en),Ne&&Ut.done]))[0]});return function(en){return ht.apply(this,arguments)}}();return Fi.set(N,Ue),Ue}!function Gi(I){pr=I(pr)}(I=>({...I,get:(N,B,ce)=>pa(N,B)||I.get(N,B,ce),has:(N,B)=>!!pa(N,B)||I.has(N,B)}));const Ri="/firebase-messaging-sw.js",xi="/firebase-cloud-messaging-push-scope",$o="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Os="https://fcmregistrations.googleapis.com/v1",Rr="google.c.a.c_id",Xr="google.c.a.c_l",Ho="google.c.a.ts";var O=function(I){return I.PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",I}(O||{});function X(I){const N=new Uint8Array(I);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ce(I){const B=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ce=atob(B),Ne=new Uint8Array(ce.length);for(let Ue=0;Ue<ce.length;++Ue)Ne[Ue]=ce.charCodeAt(Ue);return Ne}const qt="fcm_token_details_db",Kn=5,Li="fcm_token_object_Store";function $s(){return $s=(0,Ee.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ue=>Ue.name).includes(qt))return null;let N=null;return(yield Ci(qt,Kn,{upgrade:(ce=(0,Ee.Z)(function*(Ne,Ue,ht,cn){var en;if(Ue<2||!Ne.objectStoreNames.contains(Li))return;const Ut=cn.objectStore(Li),un=yield Ut.index("fcmSenderId").get(I);if(yield Ut.clear(),un)if(2===Ue){const Yn=un;if(!Yn.auth||!Yn.p256dh||!Yn.endpoint)return;N={token:Yn.fcmToken,createTime:null!==(en=Yn.createTime)&&void 0!==en?en:Date.now(),subscriptionOptions:{auth:Yn.auth,p256dh:Yn.p256dh,endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:"string"==typeof Yn.vapidKey?Yn.vapidKey:X(Yn.vapidKey)}}}else if(3===Ue){const Yn=un;N={token:Yn.fcmToken,createTime:Yn.createTime,subscriptionOptions:{auth:X(Yn.auth),p256dh:X(Yn.p256dh),endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:X(Yn.vapidKey)}}}else if(4===Ue){const Yn=un;N={token:Yn.fcmToken,createTime:Yn.createTime,subscriptionOptions:{auth:X(Yn.auth),p256dh:X(Yn.p256dh),endpoint:Yn.endpoint,swScope:Yn.swScope,vapidKey:X(Yn.vapidKey)}}}}),function(Ue,ht,cn,en){return ce.apply(this,arguments)})})).close(),yield ai(qt),yield ai("fcm_vapid_details_db"),yield ai("undefined"),function bo(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:N}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}(N)?N:null;var ce}),$s.apply(this,arguments)}const es="firebase-messaging-database",Go=1,zi="firebase-messaging-store";let ga=null;function ma(){return ga||(ga=Ci(es,Go,{upgrade:(I,N)=>{0===N&&I.createObjectStore(zi)}})),ga}function Pa(I){return Hs.apply(this,arguments)}function Hs(){return Hs=(0,Ee.Z)(function*(I){const N=fo(I),ce=yield(yield ma()).transaction(zi).objectStore(zi).get(N);if(ce)return ce;{const Ne=yield function ys(I){return $s.apply(this,arguments)}(I.appConfig.senderId);if(Ne)return yield ya(I,Ne),Ne}}),Hs.apply(this,arguments)}function ya(I,N){return ls.apply(this,arguments)}function ls(){return(ls=(0,Ee.Z)(function*(I,N){const B=fo(I),Ne=(yield ma()).transaction(zi,"readwrite");return yield Ne.objectStore(zi).put(N,B),yield Ne.done,N})).apply(this,arguments)}function Jo(){return(Jo=(0,Ee.Z)(function*(I){const N=fo(I),ce=(yield ma()).transaction(zi,"readwrite");yield ce.objectStore(zi).delete(N),yield ce.done})).apply(this,arguments)}function fo({appConfig:I}){return I.appId}const ts=new Me.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _a(I,N){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,Ee.Z)(function*(I,N){const B=yield zo(I),ce=Ca(N),Ne={method:"POST",headers:B,body:JSON.stringify(ce)};let Ue;try{Ue=yield(yield fetch(ns(I.appConfig),Ne)).json()}catch(ht){throw ts.create("token-subscribe-failed",{errorInfo:ht?.toString()})}if(Ue.error)throw ts.create("token-subscribe-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw ts.create("token-subscribe-no-token");return Ue.token})).apply(this,arguments)}function _s(){return(_s=(0,Ee.Z)(function*(I,N){const B=yield zo(I),ce=Ca(N.subscriptionOptions),Ne={method:"PATCH",headers:B,body:JSON.stringify(ce)};let Ue;try{Ue=yield(yield fetch(`${ns(I.appConfig)}/${N.token}`,Ne)).json()}catch(ht){throw ts.create("token-update-failed",{errorInfo:ht?.toString()})}if(Ue.error)throw ts.create("token-update-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw ts.create("token-update-no-token");return Ue.token})).apply(this,arguments)}function Gs(I,N){return ba.apply(this,arguments)}function ba(){return(ba=(0,Ee.Z)(function*(I,N){const ce={method:"DELETE",headers:yield zo(I)};try{const Ue=yield(yield fetch(`${ns(I.appConfig)}/${N}`,ce)).json();if(Ue.error)throw ts.create("token-unsubscribe-failed",{errorInfo:Ue.error.message})}catch(Ne){throw ts.create("token-unsubscribe-failed",{errorInfo:Ne?.toString()})}})).apply(this,arguments)}function ns({projectId:I}){return`${Os}/projects/${I}/registrations`}function zo(I){return xr.apply(this,arguments)}function xr(){return(xr=(0,Ee.Z)(function*({appConfig:I,installations:N}){const B=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${B}`})})).apply(this,arguments)}function Ca({p256dh:I,auth:N,endpoint:B,vapidKey:ce}){const Ne={web:{endpoint:B,auth:N,p256dh:I}};return ce!==$o&&(Ne.web.applicationPubKey=ce),Ne}const qo=6048e5;function po(){return po=(0,Ee.Z)(function*(I){const N=yield function Bi(I,N){return Xo.apply(this,arguments)}(I.swRegistration,I.vapidKey),B={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:N.endpoint,auth:X(N.getKey("auth")),p256dh:X(N.getKey("p256dh"))},ce=yield Pa(I.firebaseDependencies);if(ce){if(function D(I,N){return N.vapidKey===I.vapidKey&&N.endpoint===I.endpoint&&N.auth===I.auth&&N.p256dh===I.p256dh}(ce.subscriptionOptions,B))return Date.now()>=ce.createTime+qo?function So(I,N){return go.apply(this,arguments)}(I,{token:ce.token,createTime:Date.now(),subscriptionOptions:B}):ce.token;try{yield Gs(I.firebaseDependencies,ce.token)}catch(Ne){console.warn(Ne)}return Ss(I.firebaseDependencies,B)}return Ss(I.firebaseDependencies,B)}),po.apply(this,arguments)}function io(){return io=(0,Ee.Z)(function*(I){const N=yield Pa(I.firebaseDependencies);N&&(yield Gs(I.firebaseDependencies,N.token),yield function ro(I){return Jo.apply(this,arguments)}(I.firebaseDependencies));const B=yield I.swRegistration.pushManager.getSubscription();return!B||B.unsubscribe()}),io.apply(this,arguments)}function go(){return go=(0,Ee.Z)(function*(I,N){try{const B=yield function Co(I,N){return _s.apply(this,arguments)}(I.firebaseDependencies,N),ce=Object.assign(Object.assign({},N),{token:B,createTime:Date.now()});return yield ya(I.firebaseDependencies,ce),B}catch(B){throw yield function va(I){return io.apply(this,arguments)}(I),B}}),go.apply(this,arguments)}function Ss(I,N){return As.apply(this,arguments)}function As(){return(As=(0,Ee.Z)(function*(I,N){const ce={token:yield _a(I,N),createTime:Date.now(),subscriptionOptions:N};return yield ya(I,ce),ce.token})).apply(this,arguments)}function Xo(){return(Xo=(0,Ee.Z)(function*(I,N){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ce(N)})})).apply(this,arguments)}function Z(I){const N={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function P(I,N){if(!N.notification)return;I.notification={};const B=N.notification.title;B&&(I.notification.title=B);const ce=N.notification.body;ce&&(I.notification.body=ce);const Ne=N.notification.image;Ne&&(I.notification.image=Ne);const Ue=N.notification.icon;Ue&&(I.notification.icon=Ue)}(N,I),function q(I,N){N.data&&(I.data=N.data)}(N,I),function me(I,N){var B,ce,Ne,Ue,ht;if(!(N.fcmOptions||null!==(B=N.notification)&&void 0!==B&&B.click_action))return;I.fcmOptions={};const cn=null!==(Ne=null===(ce=N.fcmOptions)||void 0===ce?void 0:ce.link)&&void 0!==Ne?Ne:null===(Ue=N.notification)||void 0===Ue?void 0:Ue.click_action;cn&&(I.fcmOptions.link=cn);const en=null===(ht=N.fcmOptions)||void 0===ht?void 0:ht.analytics_label;en&&(I.fcmOptions.analyticsLabel=en)}(N,I),N}function Ct(I,N){const B=[];for(let ce=0;ce<I.length;ce++)B.push(I.charAt(ce)),ce<N.length&&B.push(N.charAt(ce));return B.join("")}function ui(I){return ts.create("missing-app-config-values",{valueName:I})}Ct("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ct("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vi{constructor(N,B,ce){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ne=function Tn(I){if(!I||!I.options)throw ui("App Configuration Object");if(!I.name)throw ui("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:B}=I;for(const ce of N)if(!B[ce])throw ui(ce);return{appName:I.name,projectId:B.projectId,apiKey:B.apiKey,appId:B.appId,senderId:B.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:Ne,installations:B,analyticsProvider:ce}}_delete(){return Promise.resolve()}}function y(){return(y=(0,Ee.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Ri,{scope:xi}),I.swRegistration.update().catch(()=>{})}catch(N){throw ts.create("failed-service-worker-registration",{browserErrorMessage:N?.message})}})).apply(this,arguments)}function x(){return(x=(0,Ee.Z)(function*(I,N){if(!N&&!I.swRegistration&&(yield function U(I){return y.apply(this,arguments)}(I)),N||!I.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw ts.create("invalid-sw-registration");I.swRegistration=N}})).apply(this,arguments)}function te(){return(te=(0,Ee.Z)(function*(I,N){N?I.vapidKey=N:I.vapidKey||(I.vapidKey=$o)})).apply(this,arguments)}function ge(){return ge=(0,Ee.Z)(function*(I,N){if(!navigator)throw ts.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ts.create("permission-blocked");return yield function L(I,N){return te.apply(this,arguments)}(I,N?.vapidKey),yield function v(I,N){return x.apply(this,arguments)}(I,N?.serviceWorkerRegistration),function zs(I){return po.apply(this,arguments)}(I)}),ge.apply(this,arguments)}function Xe(){return(Xe=(0,Ee.Z)(function*(I,N,B){const ce=function Gt(I){switch(I){case O.NOTIFICATION_CLICKED:return"notification_open";case O.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(N);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(ce,{message_id:B[Rr],message_name:B[Xr],message_time:B[Ho],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function it(){return it=(0,Ee.Z)(function*(I,N){const B=N.data;if(!B.isFirebaseMessaging)return;I.onMessageHandler&&B.messageType===O.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Z(B)):I.onMessageHandler.next(Z(B)));const ce=B.data;(function rt(I){return"object"==typeof I&&!!I&&Rr in I})(ce)&&"1"===ce["google.c.a.e"]&&(yield function Le(I,N,B){return Xe.apply(this,arguments)}(I,B.messageType,ce))}),it.apply(this,arguments)}const Sn="@firebase/messaging",Zn=I=>{const N=new vi(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",B=>function on(I,N){return it.apply(this,arguments)}(N,B)),N},Ht=I=>{const N=I.getProvider("messaging").getImmediate();return{getToken:ce=>function ye(I,N){return ge.apply(this,arguments)}(N,ce)}};function Hi(){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,Ee.Z)(function*(){try{yield(0,Me.eu)()}catch{return!1}return typeof window<"u"&&(0,Me.hl)()&&(0,Me.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function tn(){(0,Se._registerComponent)(new ae.wA("messaging",Zn,"PUBLIC")),(0,Se._registerComponent)(new ae.wA("messaging-internal",Ht,"PRIVATE")),(0,Se.registerVersion)(Sn,"0.12.4"),(0,Se.registerVersion)(Sn,"0.12.4","esm2017")}();const ea="analytics",Wo="firebase_id",Ao="origin",so=6e4,rn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vn="https://www.googletagmanager.com/gtag/js",Mt=new R.Yd("@firebase/analytics"),Lr=new Me.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Wr(I){if(!I.startsWith(Vn)){const N=Lr.create("invalid-gtag-resource",{gtagURL:I});return Mt.warn(N.message),""}return I}function nn(I){return Promise.all(I.map(N=>N.catch(B=>B)))}function kt(){return(kt=(0,Ee.Z)(function*(I,N,B,ce,Ne,Ue){const ht=ce[Ne];try{if(ht)yield N[ht];else{const en=(yield nn(B)).find(Ut=>Ut.measurementId===Ne);en&&(yield N[en.appId])}}catch(cn){Mt.error(cn)}I("config",Ne,Ue)})).apply(this,arguments)}function is(){return(is=(0,Ee.Z)(function*(I,N,B,ce,Ne){try{let Ue=[];if(Ne&&Ne.send_to){let ht=Ne.send_to;Array.isArray(ht)||(ht=[ht]);const cn=yield nn(B);for(const en of ht){const Ut=cn.find(Yn=>Yn.measurementId===en),un=Ut&&N[Ut.appId];if(!un){Ue=[];break}Ue.push(un)}}0===Ue.length&&(Ue=Object.values(N)),yield Promise.all(Ue),I("event",ce,Ne||{})}catch(Ue){Mt.error(Ue)}})).apply(this,arguments)}const ka=30,nc=new class tc{constructor(N={},B=1e3){this.throttleMetadata=N,this.intervalMillis=B}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,B){this.throttleMetadata[N]=B}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function Mo(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Rt(){return(Rt=(0,Ee.Z)(function*(I){var N;const{appId:B,apiKey:ce}=I,Ne={method:"GET",headers:Mo(ce)},Ue=rn.replace("{app-id}",B),ht=yield fetch(Ue,Ne);if(200!==ht.status&&304!==ht.status){let cn="";try{const en=yield ht.json();null!==(N=en.error)&&void 0!==N&&N.message&&(cn=en.error.message)}catch{}throw Lr.create("config-fetch-failed",{httpStatus:ht.status,responseMessage:cn})}return ht.json()})).apply(this,arguments)}function Ko(){return(Ko=(0,Ee.Z)(function*(I,N=nc,B){const{appId:ce,apiKey:Ne,measurementId:Ue}=I.options;if(!ce)throw Lr.create("no-app-id");if(!Ne){if(Ue)return{measurementId:Ue,appId:ce};throw Lr.create("no-api-key")}const ht=N.getThrottleMetadata(ce)||{backoffCount:0,throttleEndTimeMillis:Date.now()},cn=new ta;return setTimeout((0,Ee.Z)(function*(){cn.abort()}),void 0!==B?B:so),au({appId:ce,apiKey:Ne,measurementId:Ue},ht,cn,N)})).apply(this,arguments)}function au(I,N,B){return $e.apply(this,arguments)}function $e(){return $e=(0,Ee.Z)(function*(I,{throttleEndTimeMillis:N,backoffCount:B},ce,Ne=nc){var Ue;const{appId:ht,measurementId:cn}=I;try{yield function uu(I,N){return new Promise((B,ce)=>{const Ne=Math.max(N-Date.now(),0),Ue=setTimeout(B,Ne);I.addEventListener(()=>{clearTimeout(Ue),ce(Lr.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(ce,N)}catch(en){if(cn)return Mt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${cn} provided in the "measurementId" field in the local Firebase config. [${en?.message}]`),{appId:ht,measurementId:cn};throw en}try{const en=yield function rc(I){return Rt.apply(this,arguments)}(I);return Ne.deleteThrottleMetadata(ht),en}catch(en){const Ut=en;if(!function Es(I){if(!(I instanceof Me.ZR&&I.customData))return!1;const N=Number(I.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Ut)){if(Ne.deleteThrottleMetadata(ht),cn)return Mt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${cn} provided in the "measurementId" field in the local Firebase config. [${Ut?.message}]`),{appId:ht,measurementId:cn};throw en}const un=503===Number(null===(Ue=Ut?.customData)||void 0===Ue?void 0:Ue.httpStatus)?(0,Me.$s)(B,Ne.intervalMillis,ka):(0,Me.$s)(B,Ne.intervalMillis),Yn={throttleEndTimeMillis:Date.now()+un,backoffCount:B+1};return Ne.setThrottleMetadata(ht,Yn),Mt.debug(`Calling attemptFetch again in ${un} millis`),au(I,Yn,ce,Ne)}}),$e.apply(this,arguments)}class ta{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let Ea,A;function qa(){return(qa=(0,Ee.Z)(function*(I,N,B,ce,Ne){if(Ne&&Ne.global)I("event",B,ce);else{const Ue=yield N;I("event",B,Object.assign(Object.assign({},ce),{send_to:Ue}))}})).apply(this,arguments)}function Qe(){return(Qe=(0,Ee.Z)(function*(){if(!(0,Me.hl)())return Mt.warn(Lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Me.eu)()}catch(I){return Mt.warn(Lr.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function sn(){return sn=(0,Ee.Z)(function*(I,N,B,ce,Ne,Ue,ht){var cn;const en=function Kr(I){return Ko.apply(this,arguments)}(I);en.then(ds=>{B[ds.measurementId]=ds.appId,I.options.measurementId&&ds.measurementId!==I.options.measurementId&&Mt.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${ds.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ds=>Mt.error(ds)),N.push(en);const Ut=function fe(){return Qe.apply(this,arguments)}().then(ds=>{if(ds)return ce.getId()}),[un,Yn]=yield Promise.all([en,Ut]);(function za(I){const N=window.document.getElementsByTagName("script");for(const B of Object.values(N))if(B.src&&B.src.includes(Vn)&&B.src.includes(I))return B;return null})(Ue)||function Un(I,N){const B=function ks(I,N){let B;return window.trustedTypes&&(B=window.trustedTypes.createPolicy(I,N)),B}("firebase-js-sdk-policy",{createScriptURL:Wr}),ce=document.createElement("script"),Ne=`${Vn}?l=${I}&id=${N}`;ce.src=B?B?.createScriptURL(Ne):Ne,ce.async=!0,document.head.appendChild(ce)}(Ue,un.measurementId),A&&(Ne("consent","default",A),function F(I){A=I}(void 0)),Ne("js",new Date);const yo=null!==(cn=ht?.config)&&void 0!==cn?cn:{};return yo[Ao]="firebase",yo.update=!0,null!=Yn&&(yo[Wo]=Yn),Ne("config",un.measurementId,yo),Ea&&(Ne("set",Ea),function Y(I){Ea=I}(void 0)),un.measurementId}),sn.apply(this,arguments)}class ir{constructor(N){this.app=N}_delete(){return delete Vr[this.app.options.appId],Promise.resolve()}}let Vr={},Ur=[];const ia={};let bu,Zs,Ks="dataLayer",Ms=!1;function Mh(I,N,B){!function Zi(){const I=[];if((0,Me.ru)()&&I.push("This is a browser extension environment."),(0,Me.zI)()||I.push("Cookies are not available."),I.length>0){const N=I.map((ce,Ne)=>`(${Ne+1}) ${ce}`).join(" "),B=Lr.create("invalid-analytics-context",{errorInfo:N});Mt.warn(B.message)}}();const ce=I.options.appId;if(!ce)throw Lr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Lr.create("no-api-key");Mt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vr[ce])throw Lr.create("already-exists",{id:ce});if(!Ms){!function Ha(I){let N=[];Array.isArray(window[I])?N=window[I]:window[I]=N}(Ks);const{wrappedGtag:Ue,gtagCore:ht}=function Ga(I,N,B,ce,Ne){let Ue=function(...ht){window[ce].push(arguments)};return window[Ne]&&"function"==typeof window[Ne]&&(Ue=window[Ne]),window[Ne]=function oo(I,N,B,ce){function Ue(){return Ue=(0,Ee.Z)(function*(ht,...cn){try{if("event"===ht){const[en,Ut]=cn;yield function Ws(I,N,B,ce,Ne){return is.apply(this,arguments)}(I,N,B,en,Ut)}else if("config"===ht){const[en,Ut]=cn;yield function _n(I,N,B,ce,Ne,Ue){return kt.apply(this,arguments)}(I,N,B,ce,en,Ut)}else if("consent"===ht){const[en]=cn;I("consent","update",en)}else if("get"===ht){const[en,Ut,un]=cn;I("get",en,Ut,un)}else if("set"===ht){const[en]=cn;I("set",en)}else I(ht,...cn)}catch(en){Mt.error(en)}}),Ue.apply(this,arguments)}return function Ne(ht){return Ue.apply(this,arguments)}}(Ue,I,N,B),{gtagCore:Ue,wrappedGtag:window[Ne]}}(Vr,Ur,ia,Ks,"gtag");Zs=Ue,bu=ht,Ms=!0}return Vr[ce]=function Ke(I,N,B,ce,Ne,Ue,ht){return sn.apply(this,arguments)}(I,Ur,ia,N,bu,Ks,B),new ir(I)}function _d(){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,Ee.Z)(function*(){if((0,Me.ru)()||!(0,Me.zI)()||!(0,Me.hl)())return!1;try{return yield(0,Me.eu)()}catch{return!1}})).apply(this,arguments)}const Za="@firebase/analytics";!function Di(){(0,Se._registerComponent)(new ae.wA(ea,(N,{options:B})=>Mh(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),B),"PUBLIC")),(0,Se._registerComponent)(new ae.wA("analytics-internal",function I(N){try{const B=N.getProvider(ea).getImmediate();return{logEvent:(ce,Ne,Ue)=>function Au(I,N,B,ce){I=(0,Me.m9)(I),function na(I,N,B,ce,Ne){return qa.apply(this,arguments)}(Zs,Vr[I.app.options.appId],N,B,ce).catch(Ne=>Mt.error(Ne))}(B,ce,Ne,Ue)}}catch(B){throw Lr.create("interop-component-reg-failed",{reason:B})}},"PRIVATE")),(0,Se.registerVersion)(Za,"0.10.0"),(0,Se.registerVersion)(Za,"0.10.0","esm2017")}();var cu=K(1954),aa=K(9931);const Ed=new class sc extends aa.v{}(class lu extends cu.o{constructor(N,B){super(N,B),this.scheduler=N,this.work=B}schedule(N,B=0){return B>0?super.schedule(N,B):(this.delay=B,this.state=N,this.scheduler.flush(this),this)}execute(N,B){return B>0||this.closed?super.execute(N,B):this._execute(N,B)}requestAsyncId(N,B,ce=0){return null!=ce&&ce>0||null==ce&&this.delay>0?super.requestAsyncId(N,B,ce):(N.flush(this),0)}});var wd=K(6321),Aa=K(5592),ws=K(9397),Zo=K(3093),wa=K(5137);const kc=new p.GfV("7.6.1"),Yo="__angularfire_symbol__analyticsIsSupportedValue",Mu="__angularfire_symbol__analyticsIsSupported",xo="__angularfire_symbol__remoteConfigIsSupportedValue",Ma="__angularfire_symbol__remoteConfigIsSupported",La="__angularfire_symbol__messagingIsSupportedValue",Ia="__angularfire_symbol__messagingIsSupported";function Qa(I,N,B){if(N){if(1===N.length)return N[0];const Ue=N.filter(ht=>ht.app===B);if(1===Ue.length)return Ue[0]}return B.container.getProvider(I).getImmediate({optional:!0})}globalThis[Mu]||(globalThis[Mu]=_d().then(I=>globalThis[Yo]=I).catch(()=>globalThis[Yo]=!1)),globalThis[Ia]||(globalThis[Ia]=Hi().then(I=>globalThis[La]=I).catch(()=>globalThis[La]=!1)),globalThis[Ma]||(globalThis[Ma]=Vt().then(I=>globalThis[xo]=I).catch(()=>globalThis[xo]=!1));const Ru=(I,N)=>{const B=N?[N]:(0,he.C6)(),ce=[];return B.forEach(Ne=>{Ne.container.getProvider(I).instances.forEach(ht=>{ce.includes(ht)||ce.push(ht)})}),ce};function ca(){}class Ra{constructor(N,B=Ed){this.zone=N,this.delegate=B}now(){return this.delegate.now()}schedule(N,B,ce){const Ne=this.zone;return this.delegate.schedule(function(ht){Ne.runGuarded(()=>{N.apply(this,[ht])})},B,ce)}}class Fc{constructor(N){this.zone=N,this.task=null}call(N,B){const ce=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ca,{},ca,ca)),B.pipe((0,ws.b)({next:ce,complete:ce,error:ce})).subscribe(N).add(ce)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ja=(()=>{class I{constructor(B){this.ngZone=B,this.outsideAngular=B.runOutsideAngular(()=>new Ra(Zone.current)),this.insideAngular=B.run(()=>new Ra(Zone.current,wd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(B){return new(B||I)(p.LFG(p.R0b))},I.\u0275prov=p.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Va(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function la(I){return Va().ngZone.run(()=>I())}function Hu(I){return I.pipe((0,Zo.Q)(Va().outsideAngular))}function Xa(I){return Va(),function Id(I){return function(B){return(B=B.lift(new Fc(I.ngZone))).pipe((0,wa.R)(I.outsideAngular),(0,Zo.Q)(I.insideAngular))}}(Va())(I)}const Vc=(I,N)=>function(){const ce=arguments;return N&&setTimeout(()=>{"scheduled"===N.state&&N.invoke()},10),la(()=>I.apply(void 0,ce))},Uc=(I,N)=>function(){let B;const ce=arguments;for(let Ue=0;Ue<arguments.length;Ue++)"function"==typeof ce[Ue]&&(N&&(B||(B=la(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ca,{},ca,ca)))),ce[Ue]=Vc(ce[Ue],B));const Ne=function Lc(I){return Va().ngZone.runOutsideAngular(()=>I())}(()=>I.apply(this,ce));if(!N){if(Ne instanceof Aa.y){const Ue=Va();return Ne.pipe((0,wa.R)(Ue.outsideAngular),(0,Zo.Q)(Ue.insideAngular))}return la(()=>Ne)}return Ne instanceof Aa.y?Ne.pipe(Xa):Ne instanceof Promise?la(()=>new Promise((Ue,ht)=>Ne.then(cn=>la(()=>Ue(cn)),cn=>la(()=>ht(cn))))):"function"==typeof Ne&&B?function(){return setTimeout(()=>{B&&"scheduled"===B.state&&B.invoke()},10),Ne.apply(this,arguments)}:la(()=>Ne)}},8153:(pn,ft,K)=>{K.d(ft,{$Y:()=>br,B0:()=>Ji,FN:()=>as,IX:()=>xe,Jt:()=>Ki,KV:()=>ho,UJ:()=>hi,Ym:()=>jn,a1:()=>To,aF:()=>Ln,bm:()=>sr,cF:()=>bs,g6:()=>gs,gE:()=>bn,gH:()=>vn,iH:()=>Ns,oq:()=>si,pb:()=>fr,qm:()=>On,sd:()=>Ds,y4:()=>gr});var p=K(5861),he=K(534),Ee=K(9058),Se=K(4537);const Me="firebasestorage.googleapis.com",ae="storageBucket";class de extends Ee.ZR{constructor(G,pe,we=0){super(je(G),`Firebase Storage: ${pe} (${je(G)})`),this.status_=we,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,de.prototype)}get status(){return this.status_}set status(G){this.status_=G}_codeEquals(G){return je(G)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(G){this.customData.serverResponse=G,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ue=function($){return $.UNKNOWN="unknown",$.OBJECT_NOT_FOUND="object-not-found",$.BUCKET_NOT_FOUND="bucket-not-found",$.PROJECT_NOT_FOUND="project-not-found",$.QUOTA_EXCEEDED="quota-exceeded",$.UNAUTHENTICATED="unauthenticated",$.UNAUTHORIZED="unauthorized",$.UNAUTHORIZED_APP="unauthorized-app",$.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",$.INVALID_CHECKSUM="invalid-checksum",$.CANCELED="canceled",$.INVALID_EVENT_NAME="invalid-event-name",$.INVALID_URL="invalid-url",$.INVALID_DEFAULT_BUCKET="invalid-default-bucket",$.NO_DEFAULT_BUCKET="no-default-bucket",$.CANNOT_SLICE_BLOB="cannot-slice-blob",$.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",$.NO_DOWNLOAD_URL="no-download-url",$.INVALID_ARGUMENT="invalid-argument",$.INVALID_ARGUMENT_COUNT="invalid-argument-count",$.APP_DELETED="app-deleted",$.INVALID_ROOT_OPERATION="invalid-root-operation",$.INVALID_FORMAT="invalid-format",$.INTERNAL_ERROR="internal-error",$.UNSUPPORTED_ENVIRONMENT="unsupported-environment",$}(ue||{});function je($){return"storage/"+$}function ot(){return new de(ue.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function an(){return new de(ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xt(){return new de(ue.CANCELED,"User canceled the upload/download.")}function gt(){return new de(ue.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vn($){return new de(ue.INVALID_ARGUMENT,$)}function $n(){return new de(ue.APP_DELETED,"The Firebase app was deleted.")}function gr($){return new de(ue.INVALID_ROOT_OPERATION,"The operation '"+$+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function It($,G){return new de(ue.INVALID_FORMAT,"String does not match format '"+$+"': "+G)}function Et($){throw new de(ue.INTERNAL_ERROR,"Internal error: "+$)}class bn{constructor(G,pe){this.bucket=G,this.path_=pe}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const G=encodeURIComponent;return"/b/"+G(this.bucket)+"/o/"+G(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(G,pe){let we;try{we=bn.makeFromUrl(G,pe)}catch{return new bn(G,"")}if(""===we.path)return we;throw function tt($){return new de(ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+$+"'.")}(G)}static makeFromUrl(G,pe){let we=null;const ke="([A-Za-z0-9.\\-_]+)",Yt=new RegExp("^gs://"+ke+"(/(.*))?$","i");function Pn(pr){pr.path_=decodeURIComponent(pr.path)}const Pr=pe.replace(/[.]/g,"\\."),Qr=[{regex:Yt,indices:{bucket:1,path:3},postModify:function nt(pr){"/"===pr.path.charAt(pr.path.length-1)&&(pr.path_=pr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Pr}/v[A-Za-z0-9_]+/b/${ke}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Pn},{regex:new RegExp(`^https?://${pe===Me?"(?:storage.googleapis.com|storage.cloud.google.com)":pe}/${ke}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Pn}];for(let pr=0;pr<Qr.length;pr++){const Gi=Qr[pr],er=Gi.regex.exec(G);if(er){let oi=er[Gi.indices.path];oi||(oi=""),we=new bn(er[Gi.indices.bucket],oi),Gi.postModify(we);break}}if(null==we)throw function be($){return new de(ue.INVALID_URL,"Invalid URL '"+$+"'.")}(G);return we}}class Lt{constructor(G){this.promise_=Promise.reject(G)}getPromise(){return this.promise_}cancel(G=!1){}}function ve($){return"string"==typeof $||$ instanceof String}function oe($){return _e()&&$ instanceof Blob}function _e(){return typeof Blob<"u"&&!(0,Ee.UG)()}function We($,G,pe,we){if(we<G)throw vn(`Invalid value for '${$}'. Expected ${G} or greater.`);if(we>pe)throw vn(`Invalid value for '${$}'. Expected ${pe} or less.`)}function pt($,G,pe){let we=G;return null==pe&&(we=`https://${G}`),`${pe}://${we}/v0${$}`}function _t($){const G=encodeURIComponent;let pe="?";for(const we in $)$.hasOwnProperty(we)&&(pe=pe+(G(we)+"=")+G($[we])+"&");return pe=pe.slice(0,-1),pe}var zt=function($){return $[$.NO_ERROR=0]="NO_ERROR",$[$.NETWORK_ERROR=1]="NETWORK_ERROR",$[$.ABORT=2]="ABORT",$}(zt||{});function tr($,G){const pe=$>=500&&$<600,ke=-1!==[408,429].indexOf($),nt=-1!==G.indexOf($);return pe||ke||nt}class Qn{constructor(G,pe,we,ke,nt,Vt,Yt,St,Pn,mr,Pr,Xn=!0){this.url_=G,this.method_=pe,this.headers_=we,this.body_=ke,this.successCodes_=nt,this.additionalRetryCodes_=Vt,this.callback_=Yt,this.errorCallback_=St,this.timeout_=Pn,this.progressCallback_=mr,this.connectionFactory_=Pr,this.retry=Xn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((qr,Tr)=>{this.resolve_=qr,this.reject_=Tr,this.start_()})}start_(){const pe=(we,ke)=>{const nt=this.resolve_,Vt=this.reject_,Yt=ke.connection;if(ke.wasSuccessCode)try{const St=this.callback_(Yt,Yt.getResponse());!function Je($){return void 0!==$}(St)?nt():nt(St)}catch(St){Vt(St)}else if(null!==Yt){const St=ot();St.serverResponse=Yt.getErrorText(),Vt(this.errorCallback_?this.errorCallback_(Yt,St):St)}else Vt(ke.canceled?this.appDelete_?$n():xt():an())};this.canceled_?pe(0,new Rn(!1,null,!0)):this.backoffId_=function An($,G,pe){let we=1,ke=null,nt=null,Vt=!1,Yt=0;function St(){return 2===Yt}let Pn=!1;function mr(...Hr){Pn||(Pn=!0,G.apply(null,Hr))}function Pr(Hr){ke=setTimeout(()=>{ke=null,$(qr,St())},Hr)}function Xn(){nt&&clearTimeout(nt)}function qr(Hr,...Cs){if(Pn)return void Xn();if(Hr)return Xn(),void mr.call(null,Hr,...Cs);if(St()||Vt)return Xn(),void mr.call(null,Hr,...Cs);let Qr;we<64&&(we*=2),1===Yt?(Yt=2,Qr=0):Qr=1e3*(we+Math.random()),Pr(Qr)}let Tr=!1;function Yr(Hr){Tr||(Tr=!0,Xn(),!Pn&&(null!==ke?(Hr||(Yt=2),clearTimeout(ke),Pr(0)):Hr||(Yt=1)))}return Pr(0),nt=setTimeout(()=>{Vt=!0,Yr(!0)},pe),Yr}((we,ke)=>{if(ke)return void we(!1,new Rn(!1,null,!0));const nt=this.connectionFactory_();this.pendingConnection_=nt;const Vt=Yt=>{null!==this.progressCallback_&&this.progressCallback_(Yt.loaded,Yt.lengthComputable?Yt.total:-1)};null!==this.progressCallback_&&nt.addUploadProgressListener(Vt),nt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&nt.removeUploadProgressListener(Vt),this.pendingConnection_=null;const Yt=nt.getErrorCode()===zt.NO_ERROR,St=nt.getStatus();if(!Yt||tr(St,this.additionalRetryCodes_)&&this.retry){const mr=nt.getErrorCode()===zt.ABORT;return void we(!1,new Rn(!1,null,mr))}const Pn=-1!==this.successCodes_.indexOf(St);we(!0,new Rn(Pn,nt))})},pe,this.timeout_)}getPromise(){return this.promise_}cancel(G){this.canceled_=!0,this.appDelete_=G||!1,null!==this.backoffId_&&function He($){$(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Rn{constructor(G,pe,we){this.wasSuccessCode=G,this.connection=pe,this.canceled=!!we}}function En(...$){const G=function hr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==G){const pe=new G;for(let we=0;we<$.length;we++)pe.append($[we]);return pe.getBlob()}if(_e())return new Blob($);throw new de(ue.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const sr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bn{constructor(G,pe){this.data=G,this.contentType=pe||null}}function On($,G){switch($){case sr.RAW:return new Bn(yr(G));case sr.BASE64:case sr.BASE64URL:return new Bn(ei($,G));case sr.DATA_URL:return new Bn(function kr($){const G=new Dr($);return G.base64?ei(sr.BASE64,G.rest):function Gr($){let G;try{G=decodeURIComponent($)}catch{throw It(sr.DATA_URL,"Malformed data URL.")}return yr(G)}(G.rest)}(G),function di($){return new Dr($).contentType}(G))}throw ot()}function yr($){const G=[];for(let pe=0;pe<$.length;pe++){let we=$.charCodeAt(pe);we<=127?G.push(we):we<=2047?G.push(192|we>>6,128|63&we):55296==(64512&we)?pe<$.length-1&&56320==(64512&$.charCodeAt(pe+1))?(we=65536|(1023&we)<<10|1023&$.charCodeAt(++pe),G.push(240|we>>18,128|we>>12&63,128|we>>6&63,128|63&we)):G.push(239,191,189):56320==(64512&we)?G.push(239,191,189):G.push(224|we>>12,128|we>>6&63,128|63&we)}return new Uint8Array(G)}function ei($,G){switch($){case sr.BASE64:{const ke=-1!==G.indexOf("-"),nt=-1!==G.indexOf("_");if(ke||nt)throw It($,"Invalid character '"+(ke?"-":"_")+"' found: is it base64url encoded?");break}case sr.BASE64URL:{const ke=-1!==G.indexOf("+"),nt=-1!==G.indexOf("/");if(ke||nt)throw It($,"Invalid character '"+(ke?"+":"/")+"' found: is it base64 encoded?");G=G.replace(/-/g,"+").replace(/_/g,"/");break}}let pe;try{pe=function cr($){if(typeof atob>"u")throw function ut($){return new de(ue.UNSUPPORTED_ENVIRONMENT,`${$} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob($)}(G)}catch(ke){throw ke.message.includes("polyfill")?ke:It($,"Invalid character found")}const we=new Uint8Array(pe.length);for(let ke=0;ke<pe.length;ke++)we[ke]=pe.charCodeAt(ke);return we}class Dr{constructor(G){this.base64=!1,this.contentType=null;const pe=G.match(/^data:([^,]+)?,/);if(null===pe)throw It(sr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const we=pe[1]||null;null!=we&&(this.base64=function _r($,G){return $.length>=G.length&&$.substring($.length-G.length)===G}(we,";base64"),this.contentType=this.base64?we.substring(0,we.length-7):we),this.rest=G.substring(G.indexOf(",")+1)}}class hi{constructor(G,pe){let we=0,ke="";oe(G)?(this.data_=G,we=G.size,ke=G.type):G instanceof ArrayBuffer?(pe?this.data_=new Uint8Array(G):(this.data_=new Uint8Array(G.byteLength),this.data_.set(new Uint8Array(G))),we=this.data_.length):G instanceof Uint8Array&&(pe?this.data_=G:(this.data_=new Uint8Array(G.length),this.data_.set(G)),we=G.length),this.size_=we,this.type_=ke}size(){return this.size_}type(){return this.type_}slice(G,pe){if(oe(this.data_)){const ke=function gi($,G,pe){return $.webkitSlice?$.webkitSlice(G,pe):$.mozSlice?$.mozSlice(G,pe):$.slice?$.slice(G,pe):null}(this.data_,G,pe);return null===ke?null:new hi(ke)}{const we=new Uint8Array(this.data_.buffer,G,pe-G);return new hi(we,!0)}}static getBlob(...G){if(_e()){const pe=G.map(we=>we instanceof hi?we.data_:we);return new hi(En.apply(null,pe))}{const pe=G.map(Vt=>ve(Vt)?On(sr.RAW,Vt).data:Vt.data_);let we=0;pe.forEach(Vt=>{we+=Vt.byteLength});const ke=new Uint8Array(we);let nt=0;return pe.forEach(Vt=>{for(let Yt=0;Yt<Vt.length;Yt++)ke[nt++]=Vt[Yt]}),new hi(ke,!0)}}uploadData(){return this.data_}}function Kt($){let G;try{G=JSON.parse($)}catch{return null}return function De($){return"object"==typeof $&&!Array.isArray($)}(G)?G:null}function zr($){const G=$.lastIndexOf("/",$.length-2);return-1===G?$:$.slice(G+1)}function ri($,G){return G}class wr{constructor(G,pe,we,ke){this.server=G,this.local=pe||G,this.writable=!!we,this.xform=ke||ri}}let yn=null;function wi(){if(yn)return yn;const $=[];$.push(new wr("bucket")),$.push(new wr("generation")),$.push(new wr("metageneration")),$.push(new wr("name","fullPath",!0));const pe=new wr("name");pe.xform=function G(nt,Vt){return function bi($){return!ve($)||$.length<2?$:zr($)}(Vt)},$.push(pe);const ke=new wr("size");return ke.xform=function we(nt,Vt){return void 0!==Vt?Number(Vt):Vt},$.push(ke),$.push(new wr("timeCreated")),$.push(new wr("updated")),$.push(new wr("md5Hash",null,!0)),$.push(new wr("cacheControl",null,!0)),$.push(new wr("contentDisposition",null,!0)),$.push(new wr("contentEncoding",null,!0)),$.push(new wr("contentLanguage",null,!0)),$.push(new wr("contentType",null,!0)),$.push(new wr("metadata","customMetadata",!0)),yn=$,yn}function Hn($,G,pe){const we=Kt(G);return null===we?null:function vr($,G,pe){const we={type:"file"},ke=pe.length;for(let nt=0;nt<ke;nt++){const Vt=pe[nt];we[Vt.local]=Vt.xform(we,G[Vt.server])}return function Cn($,G){Object.defineProperty($,"ref",{get:function pe(){const nt=new bn($.bucket,$.fullPath);return G._makeStorageReference(nt)}})}(we,$),we}($,we,pe)}function Te($,G){const pe={},we=G.length;for(let ke=0;ke<we;ke++){const nt=G[ke];nt.writable&&(pe[nt.server]=$[nt.local])}return JSON.stringify(pe)}const J="prefixes",re="items";class Oe{constructor(G,pe,we,ke){this.url=G,this.method=pe,this.handler=we,this.timeout=ke,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function yt($){if(!$)throw ot()}function $t($,G){return function pe(we,ke){const nt=Hn($,ke,G);return yt(null!==nt),nt}}function Jn($){return function G(pe,we){let ke;return ke=401===pe.getStatus()?pe.getErrorText().includes("Firebase App Check token is invalid")?function Bt(){return new de(ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Dt(){return new de(ue.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===pe.getStatus()?function Ot($){return new de(ue.QUOTA_EXCEEDED,"Quota for bucket '"+$+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}($.bucket):403===pe.getStatus()?function At($){return new de(ue.UNAUTHORIZED,"User does not have permission to access '"+$+"'.")}($.path):we,ke.status=pe.getStatus(),ke.serverResponse=we.serverResponse,ke}}function Fn($){const G=Jn($);return function pe(we,ke){let nt=G(we,ke);return 404===we.getStatus()&&(nt=function Ae($){return new de(ue.OBJECT_NOT_FOUND,"Object '"+$+"' does not exist.")}($.path)),nt.serverResponse=ke.serverResponse,nt}}function $r($,G,pe){const ke=pt(G.fullServerUrl(),$.host,$._protocol),Vt=$.maxOperationRetryTime,Yt=new Oe(ke,"GET",$t($,pe),Vt);return Yt.errorHandler=Fn(G),Yt}function Er($,G,pe,we,ke){const nt={};nt.prefix=G.isRoot?"":G.path+"/",pe&&pe.length>0&&(nt.delimiter=pe),we&&(nt.pageToken=we),ke&&(nt.maxResults=ke);const Yt=pt(G.bucketOnlyServerUrl(),$.host,$._protocol),Pn=$.maxOperationRetryTime,mr=new Oe(Yt,"GET",function ln($,G){return function pe(we,ke){const nt=function ee($,G,pe){const we=Kt(pe);return null===we?null:function ne($,G,pe){const we={prefixes:[],items:[],nextPageToken:pe.nextPageToken};if(pe[J])for(const ke of pe[J]){const nt=ke.replace(/\/$/,""),Vt=$._makeStorageReference(new bn(G,nt));we.prefixes.push(Vt)}if(pe[re])for(const ke of pe[re]){const nt=$._makeStorageReference(new bn(G,ke.name));we.items.push(nt)}return we}($,G,we)}($,G,ke);return yt(null!==nt),nt}}($,G.bucket),Pn);return mr.urlParams=nt,mr.errorHandler=Jn(G),mr}function Zt($,G,pe){const we=Object.assign({},pe);return we.fullPath=$.path,we.size=G.size(),we.contentType||(we.contentType=function bt($,G){return $&&$.contentType||G&&G.type()||"application/octet-stream"}(null,G)),we}function Nn($,G,pe,we,ke){const nt=G.bucketOnlyServerUrl(),Vt={"X-Goog-Upload-Protocol":"multipart"},St=function Yt(){let Qr="";for(let pr=0;pr<2;pr++)Qr+=Math.random().toString().slice(2);return Qr}();Vt["Content-Type"]="multipart/related; boundary="+St;const Pn=Zt(G,we,ke),mr=Te(Pn,pe),qr=hi.getBlob("--"+St+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+mr+"\r\n--"+St+"\r\nContent-Type: "+Pn.contentType+"\r\n\r\n",we,"\r\n--"+St+"--");if(null===qr)throw gt();const Tr={name:Pn.fullPath},Yr=pt(nt,$.host,$._protocol),Cs=$.maxUploadRetryTime,_i=new Oe(Yr,"POST",$t($,pe),Cs);return _i.urlParams=Tr,_i.headers=Vt,_i.body=qr.uploadData(),_i.errorHandler=Jn(G),_i}class Jt{constructor(G,pe,we,ke){this.current=G,this.total=pe,this.finalized=!!we,this.metadata=ke||null}}function qn($,G){let pe=null;try{pe=$.getResponseHeader("X-Goog-Upload-Status")}catch{yt(!1)}return yt(!!pe&&-1!==(G||["active"]).indexOf(pe)),pe}const as={STATE_CHANGED:"state_changed"},br={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ai($){switch($){case"running":case"pausing":case"canceling":return br.RUNNING;case"paused":return br.PAUSED;case"success":return br.SUCCESS;case"canceled":return br.CANCELED;default:return br.ERROR}}class Mi{constructor(G,pe,we){if(function at($){return"function"==typeof $}(G)||null!=pe||null!=we)this.next=G,this.error=pe??void 0,this.complete=we??void 0;else{const nt=G;this.next=nt.next,this.error=nt.error,this.complete=nt.complete}}}function fi($){return(...G)=>{Promise.resolve().then(()=>$(...G))}}let or=null;class $i{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zt.NO_ERROR,this.sendPromise_=new Promise(G=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=zt.ABORT,G()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=zt.NETWORK_ERROR,G()}),this.xhr_.addEventListener("load",()=>{G()})})}send(G,pe,we,ke){if(this.sent_)throw Et("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(pe,G,!0),void 0!==ke)for(const nt in ke)ke.hasOwnProperty(nt)&&this.xhr_.setRequestHeader(nt,ke[nt].toString());return void 0!==we?this.xhr_.send(we):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Et("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Et("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Et("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Et("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(G){return this.xhr_.getResponseHeader(G)}addUploadProgressListener(G){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",G)}removeUploadProgressListener(G){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",G)}}class Zr extends $i{initXhr(){this.xhr_.responseType="text"}}function pi(){return or?or():new Zr}class xe{constructor(G,pe,we=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=G,this._blob=pe,this._metadata=we,this._mappings=wi(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=ke=>{if(this._request=void 0,this._chunkMultiplier=1,ke._codeEquals(ue.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const nt=this.isExponentialBackoffExpired();if(tr(ke.status,[])){if(!nt)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();ke=an()}this._error=ke,this._transition("error")}},this._metadataErrorHandler=ke=>{this._request=void 0,ke._codeEquals(ue.CANCELED)?this.completeTransitions_():(this._error=ke,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((ke,nt)=>{this._resolve=ke,this._reject=nt,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const G=this._transferred;return pe=>this._updateProgress(G+pe)}_shouldDoResumable(G){return G.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(G){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([pe,we])=>{switch(this._state){case"running":G(pe,we);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((G,pe)=>{const we=function ti($,G,pe,we,ke){const nt=G.bucketOnlyServerUrl(),Vt=Zt(G,we,ke),Yt={name:Vt.fullPath},St=pt(nt,$.host,$._protocol),mr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${we.size()}`,"X-Goog-Upload-Header-Content-Type":Vt.contentType,"Content-Type":"application/json; charset=utf-8"},Pr=Te(Vt,pe),Tr=new Oe(St,"POST",function qr(Yr){let Hr;qn(Yr);try{Hr=Yr.getResponseHeader("X-Goog-Upload-URL")}catch{yt(!1)}return yt(ve(Hr)),Hr},$.maxUploadRetryTime);return Tr.urlParams=Yt,Tr.headers=mr,Tr.body=Pr,Tr.errorHandler=Jn(G),Tr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ke=this._ref.storage._makeRequest(we,pi,G,pe);this._request=ke,ke.getPromise().then(nt=>{this._request=void 0,this._uploadUrl=nt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const G=this._uploadUrl;this._resolveToken((pe,we)=>{const ke=function Ir($,G,pe,we){const St=new Oe(pe,"POST",function nt(Pn){const mr=qn(Pn,["active","final"]);let Pr=null;try{Pr=Pn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{yt(!1)}Pr||yt(!1);const Xn=Number(Pr);return yt(!isNaN(Xn)),new Jt(Xn,we.size(),"final"===mr)},$.maxUploadRetryTime);return St.headers={"X-Goog-Upload-Command":"query"},St.errorHandler=Jn(G),St}(this._ref.storage,this._ref._location,G,this._blob),nt=this._ref.storage._makeRequest(ke,pi,pe,we);this._request=nt,nt.getPromise().then(Vt=>{this._request=void 0,this._updateProgress(Vt.current),this._needToFetchStatus=!1,Vt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const G=262144*this._chunkMultiplier,pe=new Jt(this._transferred,this._blob.size()),we=this._uploadUrl;this._resolveToken((ke,nt)=>{let Vt;try{Vt=function fs($,G,pe,we,ke,nt,Vt,Yt){const St=new Jt(0,0);if(Vt?(St.current=Vt.current,St.total=Vt.total):(St.current=0,St.total=we.size()),we.size()!==St.total)throw function dt(){return new de(ue.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Pn=St.total-St.current;let mr=Pn;ke>0&&(mr=Math.min(mr,ke));const Pr=St.current;let qr="";qr=0===mr?"finalize":Pn===mr?"upload, finalize":"upload";const Tr={"X-Goog-Upload-Command":qr,"X-Goog-Upload-Offset":`${St.current}`},Yr=we.slice(Pr,Pr+mr);if(null===Yr)throw gt();const Qr=new Oe(pe,"POST",function Hr(pr,Gi){const er=qn(pr,["active","final"]),js=St.current+mr,oi=we.size();let ms;return ms="final"===er?$t(G,nt)(pr,Gi):null,new Jt(js,oi,"final"===er,ms)},G.maxUploadRetryTime);return Qr.headers=Tr,Qr.body=Yr.uploadData(),Qr.progressCallback=Yt||null,Qr.errorHandler=Jn($),Qr}(this._ref._location,this._ref.storage,we,this._blob,G,this._mappings,pe,this._makeProgressCallback())}catch(St){return this._error=St,void this._transition("error")}const Yt=this._ref.storage._makeRequest(Vt,pi,ke,nt,!1);this._request=Yt,Yt.getPromise().then(St=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(St.current),St.finalized?(this._metadata=St.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((G,pe)=>{const we=$r(this._ref.storage,this._ref._location,this._mappings),ke=this._ref.storage._makeRequest(we,pi,G,pe);this._request=ke,ke.getPromise().then(nt=>{this._request=void 0,this._metadata=nt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((G,pe)=>{const we=Nn(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ke=this._ref.storage._makeRequest(we,pi,G,pe);this._request=ke,ke.getPromise().then(nt=>{this._request=void 0,this._metadata=nt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(G){const pe=this._transferred;this._transferred=G,this._transferred!==pe&&this._notifyObservers()}_transition(G){if(this._state!==G)switch(G){case"canceling":case"pausing":this._state=G,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const pe="paused"===this._state;this._state=G,pe&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=G,this._notifyObservers();break;case"canceled":this._error=xt(),this._state=G,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const G=Ai(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:G,metadata:this._metadata,task:this,ref:this._ref}}on(G,pe,we,ke){const nt=new Mi(pe||void 0,we||void 0,ke||void 0);return this._addObserver(nt),()=>{this._removeObserver(nt)}}then(G,pe){return this._promise.then(G,pe)}catch(G){return this.then(null,G)}_addObserver(G){this._observers.push(G),this._notifyObserver(G)}_removeObserver(G){const pe=this._observers.indexOf(G);-1!==pe&&this._observers.splice(pe,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(pe=>{this._notifyObserver(pe)})}_finishPromise(){if(void 0!==this._resolve){let G=!0;switch(Ai(this._state)){case br.SUCCESS:fi(this._resolve.bind(null,this.snapshot))();break;case br.CANCELED:case br.ERROR:fi(this._reject.bind(null,this._error))();break;default:G=!1}G&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(G){switch(Ai(this._state)){case br.RUNNING:case br.PAUSED:G.next&&fi(G.next.bind(G,this.snapshot))();break;case br.SUCCESS:G.complete&&fi(G.complete.bind(G))();break;default:G.error&&fi(G.error.bind(G,this._error))()}}resume(){const G="paused"===this._state||"pausing"===this._state;return G&&this._transition("running"),G}pause(){const G="running"===this._state;return G&&this._transition("pausing"),G}cancel(){const G="running"===this._state||"pausing"===this._state;return G&&this._transition("canceling"),G}}class Ve{constructor(G,pe){this._service=G,this._location=pe instanceof bn?pe:bn.makeFromUrl(pe,G.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(G,pe){return new Ve(G,pe)}get root(){const G=new bn(this._location.bucket,"");return this._newRef(this._service,G)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zr(this._location.path)}get storage(){return this._service}get parent(){const G=function ji($){if(0===$.length)return null;const G=$.lastIndexOf("/");return-1===G?"":$.slice(0,G)}(this._location.path);if(null===G)return null;const pe=new bn(this._location.bucket,G);return new Ve(this._service,pe)}_throwIfRoot(G){if(""===this._location.path)throw gr(G)}}function Ti($,G,pe){return yi.apply(this,arguments)}function yi(){return(yi=(0,p.Z)(function*($,G,pe){const ke=yield ii($,{pageToken:pe});G.prefixes.push(...ke.prefixes),G.items.push(...ke.items),null!=ke.nextPageToken&&(yield Ti($,G,ke.nextPageToken))})).apply(this,arguments)}function ii($,G){null!=G&&"number"==typeof G.maxResults&&We("options.maxResults",1,1e3,G.maxResults);const pe=G||{},we=Er($.storage,$._location,"/",pe.pageToken,pe.maxResults);return $.storage.makeRequestWithTokens(we,pi)}function Vs($){$._throwIfRoot("getDownloadURL");const G=function Si($,G,pe){const ke=pt(G.fullServerUrl(),$.host,$._protocol),Vt=$.maxOperationRetryTime,Yt=new Oe(ke,"GET",function Mn($,G){return function pe(we,ke){const nt=Hn($,ke,G);return yt(null!==nt),function Fr($,G,pe,we){const ke=Kt(G);if(null===ke||!ve(ke.downloadTokens))return null;const nt=ke.downloadTokens;if(0===nt.length)return null;const Vt=encodeURIComponent;return nt.split(",").map(Pn=>{const Pr=$.fullPath;return pt("/b/"+Vt($.bucket)+"/o/"+Vt(Pr),pe,we)+_t({alt:"media",token:Pn})})[0]}(nt,ke,$.host,$._protocol)}}($,pe),Vt);return Yt.errorHandler=Fn(G),Yt}($.storage,$._location,wi());return $.storage.makeRequestWithTokens(G,pi).then(pe=>{if(null===pe)throw function ct(){return new de(ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return pe})}function Ts($,G){const pe=function Oi($,G){const pe=G.split("/").filter(we=>we.length>0).join("/");return 0===$.length?pe:$+"/"+pe}($._location.path,G),we=new bn($._location.bucket,pe);return new Ve($.storage,we)}function co($,G){if($ instanceof xs){const pe=$;if(null==pe._bucket)throw function Ze(){return new de(ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ae+"' property when initializing the app?")}();const we=new Ve(pe,pe._bucket);return null!=G?co(we,G):we}return void 0!==G?Ts($,G):$}function ki($,G){if(G&&function Uo($){return/^[A-Za-z]+:\/\//.test($)}(G)){if($ instanceof xs)return function us($,G){return new Ve($,G)}($,G);throw vn("To use ref(service, url), the first argument must be a Storage instance.")}return co($,G)}function cs($,G){const pe=G?.[ae];return null==pe?null:bn.makeFromBucketSpec(pe,$)}class xs{constructor(G,pe,we,ke,nt){this.app=G,this._authProvider=pe,this._appCheckProvider=we,this._url=ke,this._firebaseVersion=nt,this._bucket=null,this._host=Me,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ke?bn.makeFromBucketSpec(ke,this._host):cs(this._host,this.app.options)}get host(){return this._host}set host(G){this._host=G,this._bucket=null!=this._url?bn.makeFromBucketSpec(this._url,G):cs(G,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(G){We("time",0,Number.POSITIVE_INFINITY,G),this._maxUploadRetryTime=G}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(G){We("time",0,Number.POSITIVE_INFINITY,G),this._maxOperationRetryTime=G}_getAuthToken(){var G=this;return(0,p.Z)(function*(){if(G._overrideAuthToken)return G._overrideAuthToken;const pe=G._authProvider.getImmediate({optional:!0});if(pe){const we=yield pe.getToken();if(null!==we)return we.accessToken}return null})()}_getAppCheckToken(){var G=this;return(0,p.Z)(function*(){const pe=G._appCheckProvider.getImmediate({optional:!0});return pe?(yield pe.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(G=>G.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(G){return new Ve(this,G)}_makeRequest(G,pe,we,ke,nt=!0){if(this._deleted)return new Lt($n());{const Vt=function mn($,G,pe,we,ke,nt,Vt=!0){const Yt=_t($.urlParams),St=$.url+Yt,Pn=Object.assign({},$.headers);return function kn($,G){G&&($["X-Firebase-GMPID"]=G)}(Pn,G),function lr($,G){null!==G&&G.length>0&&($.Authorization="Firebase "+G)}(Pn,pe),function ar($,G){$["X-Firebase-Storage-Version"]="webjs/"+(G??"AppManager")}(Pn,nt),function nr($,G){null!==G&&($["X-Firebase-AppCheck"]=G)}(Pn,we),new Qn(St,$.method,Pn,$.body,$.successCodes,$.additionalRetryCodes,$.handler,$.errorHandler,$.timeout,$.progressCallback,ke,Vt)}(G,this._appId,we,ke,pe,this._firebaseVersion,nt);return this._requests.add(Vt),Vt.getPromise().then(()=>this._requests.delete(Vt),()=>this._requests.delete(Vt)),Vt}}makeRequestWithTokens(G,pe){var we=this;return(0,p.Z)(function*(){const[ke,nt]=yield Promise.all([we._getAuthToken(),we._getAppCheckToken()]);return we._makeRequest(G,pe,ke,nt).getPromise()})()}}const no="@firebase/storage",Bo="storage";function ho($,G,pe){return function dn($,G,pe){$._throwIfRoot("uploadBytes");const we=Nn($.storage,$._location,wi(),new hi(G,!0),pe);return $.storage.makeRequestWithTokens(we,pi).then(ke=>({metadata:ke,ref:$}))}($=(0,Ee.m9)($),G,pe)}function Ji($,G,pe){return function Wn($,G,pe){return $._throwIfRoot("uploadBytesResumable"),new xe($,new hi(G),pe)}($=(0,Ee.m9)($),G,pe)}function Ds($){return function Mr($){$._throwIfRoot("getMetadata");const G=$r($.storage,$._location,wi());return $.storage.makeRequestWithTokens(G,pi)}($=(0,Ee.m9)($))}function jn($,G){return function ps($,G){$._throwIfRoot("updateMetadata");const pe=function st($,G,pe,we){const nt=pt(G.fullServerUrl(),$.host,$._protocol),Yt=Te(pe,we),Pn=$.maxOperationRetryTime,mr=new Oe(nt,"PATCH",$t($,we),Pn);return mr.headers={"Content-Type":"application/json; charset=utf-8"},mr.body=Yt,mr.errorHandler=Fn(G),mr}($.storage,$._location,G,wi());return $.storage.makeRequestWithTokens(pe,pi)}($=(0,Ee.m9)($),G)}function fr($,G){return ii($=(0,Ee.m9)($),G)}function Ln($){return function rr($){const G={prefixes:[],items:[]};return Ti($,G).then(()=>G)}($=(0,Ee.m9)($))}function Ki($){return Vs($=(0,Ee.m9)($))}function si($){return function Io($){$._throwIfRoot("deleteObject");const G=function Be($,G){const we=pt(G.fullServerUrl(),$.host,$._protocol),Yt=new Oe(we,"DELETE",function Vt(St,Pn){},$.maxOperationRetryTime);return Yt.successCodes=[200,204],Yt.errorHandler=Fn(G),Yt}($.storage,$._location);return $.storage.makeRequestWithTokens(G,pi)}($=(0,Ee.m9)($))}function Ns($,G){return ki($=(0,Ee.m9)($),G)}function gs($,G){return Ts($,G)}function bs($=(0,he.getApp)(),G){$=(0,Ee.m9)($);const we=(0,he._getProvider)($,Bo).getImmediate({identifier:G}),ke=(0,Ee.P0)("storage");return ke&&To(we,...ke),we}function To($,G,pe,we={}){!function Us($,G,pe,we={}){$.host=`${G}:${pe}`,$._protocol="http";const{mockUserToken:ke}=we;ke&&($._overrideAuthToken="string"==typeof ke?ke:(0,Ee.Sg)(ke,$.app.options.projectId))}($,G,pe,we)}function Xt($,{instanceIdentifier:G}){const pe=$.getProvider("app").getImmediate(),we=$.getProvider("auth-internal"),ke=$.getProvider("app-check-internal");return new xs(pe,we,ke,G,he.SDK_VERSION)}!function Gn(){(0,he._registerComponent)(new Se.wA(Bo,Xt,"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(no,"0.11.2",""),(0,he.registerVersion)(no,"0.11.2","esm2017")}()},9058:(pn,ft,K)=>{K.d(ft,{$s:()=>Cn,BH:()=>Ze,L:()=>ze,LL:()=>oe,P0:()=>xt,Pz:()=>tt,Sg:()=>gt,UG:()=>ut,US:()=>ae,ZB:()=>je,ZR:()=>ve,aH:()=>be,b$:()=>gr,eu:()=>Je,hl:()=>He,jU:()=>vn,m9:()=>Fr,ne:()=>yr,pd:()=>Bn,q4:()=>an,r3:()=>ar,ru:()=>$n,tV:()=>de,uI:()=>ct,vZ:()=>hr,w1:()=>Et,xO:()=>cr,xb:()=>nr,z$:()=>dt,zI:()=>at,zd:()=>sr});const Se=function(Te){const J=[];let re=0;for(let ne=0;ne<Te.length;ne++){let ee=Te.charCodeAt(ne);ee<128?J[re++]=ee:ee<2048?(J[re++]=ee>>6|192,J[re++]=63&ee|128):55296==(64512&ee)&&ne+1<Te.length&&56320==(64512&Te.charCodeAt(ne+1))?(ee=65536+((1023&ee)<<10)+(1023&Te.charCodeAt(++ne)),J[re++]=ee>>18|240,J[re++]=ee>>12&63|128,J[re++]=ee>>6&63|128,J[re++]=63&ee|128):(J[re++]=ee>>12|224,J[re++]=ee>>6&63|128,J[re++]=63&ee|128)}return J},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Te,J){if(!Array.isArray(Te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const re=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[];for(let ee=0;ee<Te.length;ee+=3){const Oe=Te[ee],yt=ee+1<Te.length,$t=yt?Te[ee+1]:0,ln=ee+2<Te.length,Mn=ln?Te[ee+2]:0;let $r=(15&$t)<<2|Mn>>6,Er=63&Mn;ln||(Er=64,yt||($r=64)),ne.push(re[Oe>>2],re[(3&Oe)<<4|$t>>4],re[$r],re[Er])}return ne.join("")},encodeString(Te,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(Te):this.encodeByteArray(Se(Te),J)},decodeString(Te,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(Te):function(Te){const J=[];let re=0,ne=0;for(;re<Te.length;){const ee=Te[re++];if(ee<128)J[ne++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Oe=Te[re++];J[ne++]=String.fromCharCode((31&ee)<<6|63&Oe)}else if(ee>239&&ee<365){const ln=((7&ee)<<18|(63&Te[re++])<<12|(63&Te[re++])<<6|63&Te[re++])-65536;J[ne++]=String.fromCharCode(55296+(ln>>10)),J[ne++]=String.fromCharCode(56320+(1023&ln))}else{const Oe=Te[re++],yt=Te[re++];J[ne++]=String.fromCharCode((15&ee)<<12|(63&Oe)<<6|63&yt)}}return J.join("")}(this.decodeStringToByteArray(Te,J))},decodeStringToByteArray(Te,J){this.init_();const re=J?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[];for(let ee=0;ee<Te.length;){const Oe=re[Te.charAt(ee++)],$t=ee<Te.length?re[Te.charAt(ee)]:0;++ee;const Mn=ee<Te.length?re[Te.charAt(ee)]:64;++ee;const Fn=ee<Te.length?re[Te.charAt(ee)]:64;if(++ee,null==Oe||null==$t||null==Mn||null==Fn)throw new R;ne.push(Oe<<2|$t>>4),64!==Mn&&(ne.push($t<<4&240|Mn>>2),64!==Fn&&ne.push(Mn<<6&192|Fn))}return ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Te=0;Te<this.ENCODED_VALS.length;Te++)this.byteToCharMap_[Te]=this.ENCODED_VALS.charAt(Te),this.charToByteMap_[this.byteToCharMap_[Te]]=Te,this.byteToCharMapWebSafe_[Te]=this.ENCODED_VALS_WEBSAFE.charAt(Te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Te]]=Te,Te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Te)]=Te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Te)]=Te)}}};class R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ze=function(Te){return function(Te){const J=Se(Te);return ae.encodeByteArray(J,!0)}(Te).replace(/\./g,"")},de=function(Te){try{return ae.decodeString(Te,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function je(Te,J){if(!(J instanceof Object))return J;switch(J.constructor){case Date:return new Date(J.getTime());case Object:void 0===Te&&(Te={});break;case Array:Te=[];break;default:return J}for(const re in J)!J.hasOwnProperty(re)||!ot(re)||(Te[re]=je(Te[re],J[re]));return Te}function ot(Te){return"__proto__"!==Te}const At=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Te=process.env.__FIREBASE_DEFAULTS__;return Te?JSON.parse(Te):void 0})()||(()=>{if(typeof document>"u")return;let Te;try{Te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const J=Te&&de(Te[1]);return J&&JSON.parse(J)})()}catch(Te){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Te}`)}},an=Te=>{var J,re;return null===(re=null===(J=At())||void 0===J?void 0:J.emulatorHosts)||void 0===re?void 0:re[Te]},xt=Te=>{const J=an(Te);if(!J)return;const re=J.lastIndexOf(":");if(re<=0||re+1===J.length)throw new Error(`Invalid host ${J} with no separate hostname and port!`);const ne=parseInt(J.substring(re+1),10);return"["===J[0]?[J.substring(1,re-1),ne]:[J.substring(0,re),ne]},be=()=>{var Te;return null===(Te=At())||void 0===Te?void 0:Te.config},tt=Te=>{var J;return null===(J=At())||void 0===J?void 0:J[`_${Te}`]};class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,re)=>{this.resolve=J,this.reject=re})}wrapCallback(J){return(re,ne)=>{re?this.reject(re):this.resolve(ne),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(re):J(re,ne))}}}function gt(Te,J){if(Te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ne=J||"demo-project",ee=Te.iat||0,Oe=Te.sub||Te.user_id;if(!Oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const yt=Object.assign({iss:`https://securetoken.google.com/${ne}`,aud:ne,iat:ee,exp:ee+3600,auth_time:ee,sub:Oe,user_id:Oe,firebase:{sign_in_provider:"custom",identities:{}}},Te);return[ze(JSON.stringify({alg:"none",type:"JWT"})),ze(JSON.stringify(yt)),""].join(".")}function dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ct(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function ut(){var Te;const J=null===(Te=At())||void 0===Te?void 0:Te.forceEnvironment;if("node"===J)return!0;if("browser"===J)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function vn(){return"object"==typeof self&&self.self===self}function $n(){const Te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Te&&void 0!==Te.id}function gr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Et(){const Te=dt();return Te.indexOf("MSIE ")>=0||Te.indexOf("Trident/")>=0}function He(){try{return"object"==typeof indexedDB}catch{return!1}}function Je(){return new Promise((Te,J)=>{try{let re=!0;const ne="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(ne);ee.onsuccess=()=>{ee.result.close(),re||self.indexedDB.deleteDatabase(ne),Te(!0)},ee.onupgradeneeded=()=>{re=!1},ee.onerror=()=>{var Oe;J((null===(Oe=ee.error)||void 0===Oe?void 0:Oe.message)||"")}}catch(re){J(re)}})}function at(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ve extends Error{constructor(J,re,ne){super(re),this.code=J,this.customData=ne,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oe.prototype.create)}}class oe{constructor(J,re,ne){this.service=J,this.serviceName=re,this.errors=ne}create(J,...re){const ne=re[0]||{},ee=`${this.service}/${J}`,Oe=this.errors[J],yt=Oe?function _e(Te,J){return Te.replace(We,(re,ne)=>{const ee=J[ne];return null!=ee?String(ee):`<${ne}?>`})}(Oe,ne):"Error";return new ve(ee,`${this.serviceName}: ${yt} (${ee}).`,ne)}}const We=/\{\$([^}]+)}/g;function ar(Te,J){return Object.prototype.hasOwnProperty.call(Te,J)}function nr(Te){for(const J in Te)if(Object.prototype.hasOwnProperty.call(Te,J))return!1;return!0}function hr(Te,J){if(Te===J)return!0;const re=Object.keys(Te),ne=Object.keys(J);for(const ee of re){if(!ne.includes(ee))return!1;const Oe=Te[ee],yt=J[ee];if(En(Oe)&&En(yt)){if(!hr(Oe,yt))return!1}else if(Oe!==yt)return!1}for(const ee of ne)if(!re.includes(ee))return!1;return!0}function En(Te){return null!==Te&&"object"==typeof Te}function cr(Te){const J=[];for(const[re,ne]of Object.entries(Te))Array.isArray(ne)?ne.forEach(ee=>{J.push(encodeURIComponent(re)+"="+encodeURIComponent(ee))}):J.push(encodeURIComponent(re)+"="+encodeURIComponent(ne));return J.length?"&"+J.join("&"):""}function sr(Te){const J={};return Te.replace(/^\?/,"").split("&").forEach(ne=>{if(ne){const[ee,Oe]=ne.split("=");J[decodeURIComponent(ee)]=decodeURIComponent(Oe)}}),J}function Bn(Te){const J=Te.indexOf("?");if(!J)return"";const re=Te.indexOf("#",J);return Te.substring(J,re>0?re:void 0)}function yr(Te,J){const re=new Gr(Te,J);return re.subscribe.bind(re)}class Gr{constructor(J,re){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=re,this.task.then(()=>{J(this)}).catch(ne=>{this.error(ne)})}next(J){this.forEachObserver(re=>{re.next(J)})}error(J){this.forEachObserver(re=>{re.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,re,ne){let ee;if(void 0===J&&void 0===re&&void 0===ne)throw new Error("Missing Observer.");ee=function Dr(Te,J){if("object"!=typeof Te||null===Te)return!1;for(const re of J)if(re in Te&&"function"==typeof Te[re])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:re,complete:ne},void 0===ee.next&&(ee.next=kr),void 0===ee.error&&(ee.error=kr),void 0===ee.complete&&(ee.complete=kr);const Oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),Oe}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let re=0;re<this.observers.length;re++)this.sendOne(re,J)}sendOne(J,re){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{re(this.observers[J])}catch(ne){typeof console<"u"&&console.error&&console.error(ne)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kr(){}const wr=1e3,yn=2,bi=144e5,wi=.5;function Cn(Te,J=wr,re=yn){const ne=J*Math.pow(re,Te),ee=Math.round(wi*ne*(Math.random()-.5)*2);return Math.min(bi,ne+ee)}function Fr(Te){return Te&&Te._delegate?Te._delegate:Te}},2333:(pn,ft,K)=>{K.d(ft,{e:()=>Se});var p=K(5861),he=K(5609),Ee=K(4946);let Se=(()=>{class Me{constructor(R){this.auth=R,this.email=""}ngOnInit(){}signin(R,et){let ze;try{this.email=R,ze=(0,he.e5)(this.auth,R,et)}catch(de){console.log("Error al loguearse: ",de),ze=null}return ze}signup(R,et){var ze=this;return(0,p.Z)(function*(){let de;try{de=(0,he.Xb)(ze.auth,R,et).then(ue=>{ze.sendEmailVerificacion(ue.user).then(()=>{console.log("Enviado...")}).catch(je=>{console.log(je)})})}catch(ue){console.log("Error en register: ",ue),de=null}return de})()}logout(){let R;try{R=(0,he.w7)(this.auth),this.email=""}catch(et){console.log("Error al desloguarse: ",et),R=null}return R}sendEmailVerificacion(R){return(0,he.w$)(R)}get_user(){return this.auth.currentUser}static#e=this.\u0275fac=function(et){return new(et||Me)(Ee.LFG(he.gx))};static#t=this.\u0275prov=Ee.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})()},8537:(pn,ft,K)=>{K.d(ft,{C:()=>Me});var p=K(5861),he=K(5723),Ee=K(5619),Se=K(4946);let Me=(()=>{class ae{constructor(){this.dataSubject=new Ee.X([]),this.data$=this.dataSubject.asObservable()}static guardarFs(et,ze,de){let ue=(0,he.hJ)(de,et);return(0,he.ET)(ue,ze)}static traerFs(et,ze){const de=(0,he.hJ)(ze,et);return(0,he.BS)(de,{idField:"id"})}static actualizarFs(et,ze,de){return(0,p.Z)(function*(){const ue=(0,he.JU)(de,et,ze.id);try{return yield(0,he.r7)(ue,ze),"Registro actualizado correctamente."}catch(je){throw console.error("Error al actualizar el registro en Firestore:",je),je}})()}static#e=this.\u0275fac=function(ze){return new(ze||ae)};static#t=this.\u0275prov=Se.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})()},8973:(pn,ft,K)=>{var p=K(6593),he=K(5920),Ee=K(5861),Se=K(95),Me=K(6315),ae=K(8537),R=K(4946),et=K(2333),ze=K(2788),de=K(2425),ue=K(5723),je=K(6814);function ot(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," El nombre solo debe contener letras. "),R.qZA())}function Ae(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," El nombre es requerido. "),R.qZA())}function Ot(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," El apellido solo debe contener letras. "),R.qZA())}function Dt(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," El apellido es requerido. "),R.qZA())}function Bt(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," La edad debe estar entre 1 y 99 a\xf1os, inclusive. "),R.qZA())}function At(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," La edad debe estar entre 1 y 99 a\xf1os, inclusive. "),R.qZA())}function an(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," La edad solo debe contener numeros. "),R.qZA())}function xt(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," La edad es requerida. "),R.qZA())}function be(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," El DNI debe contener 7 caracteres por lo menos. "),R.qZA())}function tt(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," El DNI debe contener 8 caracteres como m\xe1ximo. "),R.qZA())}function Ze(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," El DNI solo debe contener numeros. "),R.qZA())}function gt(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," El DNI es requerido. "),R.qZA())}function dt(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," Ingrese un correo v\xe1lido. "),R.qZA())}function ct(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," El correo es requerido. "),R.qZA())}function ut(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," La clave debe contener al menos 6 caracteres. "),R.qZA())}function vn(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," La clave es requerida. "),R.qZA())}function $n(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," La obra social debe contener solo letras. "),R.qZA())}function gr(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," La obra social es requerida. "),R.qZA())}function It(U,y){if(1&U){const v=R.EpF();R.TgZ(0,"div",1)(1,"div",4)(2,"div",4)(3,"input",21),R.NdJ("ngModelChange",function(L){R.CHM(v);const te=R.oxw();return R.KtG(te.obraSocial=L)}),R.qZA(),R.TgZ(4,"div",8),R.YNc(5,$n,2,0,"span",9),R.YNc(6,gr,2,0,"span",9),R.qZA()()()()}if(2&U){const v=R.oxw();R.xp6(3),R.Q6J("ngModel",v.obraSocial),R.xp6(2),R.Q6J("ngIf",v.form.controls.obraSocial.touched&&v.form.controls.obraSocial.hasError("invalido")),R.xp6(1),R.Q6J("ngIf",v.form.controls.obraSocial.touched&&v.form.controls.obraSocial.hasError("required"))}}function Et(U,y){if(1&U){const v=R.EpF();R.TgZ(0,"div",25)(1,"div",26),R.NdJ("click",function(){const te=R.CHM(v).$implicit,ye=R.oxw(2);return R.KtG(ye.especialidad=te)}),R.TgZ(2,"label",27),R._uU(3),R.qZA()()()}if(2&U){const v=y.$implicit;R.xp6(3),R.Oqu(v)}}function bn(U,y){if(1&U&&(R.TgZ(0,"div",22)(1,"div",23),R.YNc(2,Et,4,1,"div",24),R.qZA()()),2&U){const v=R.oxw();R.xp6(2),R.Q6J("ngForOf",v.especialidadesMostradas)}}function Lt(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," La especialidad debe contener solo letras. "),R.qZA())}function An(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," La especialidad es requerida. "),R.qZA())}function He(U,y){if(1&U){const v=R.EpF();R.TgZ(0,"div",4)(1,"div",4)(2,"input",29),R.NdJ("ngModelChange",function(L){R.CHM(v);const te=R.oxw(2);return R.KtG(te.especialidad=L)}),R.qZA(),R.TgZ(3,"div",8),R.YNc(4,Lt,2,0,"span",9),R.YNc(5,An,2,0,"span",9),R.qZA()()()}if(2&U){const v=R.oxw(2);R.xp6(2),R.Q6J("ngModel",v.especialidad),R.xp6(2),R.Q6J("ngIf",v.form.controls.especialidad.touched&&v.form.controls.especialidad.hasError("invalido")),R.xp6(1),R.Q6J("ngIf",v.form.controls.especialidad.touched&&v.form.controls.especialidad.hasError("required"))}}function Je(U,y){if(1&U&&(R.TgZ(0,"div",1),R.YNc(1,He,6,3,"div",9),R.TgZ(2,"div",4),R._UZ(3,"input",28),R.qZA()()),2&U){const v=R.oxw();R.xp6(1),R.Q6J("ngIf",1===v.opcion)}}function at(U,y){1&U&&(R.TgZ(0,"div",1)(1,"div",4),R._UZ(2,"input",30),R.qZA()())}let De=(()=>{class U{constructor(v,x,L,te,ye,ge){this.router=v,this.auth=x,this.angularFirestorage=L,this.formBuilder=te,this.toast=ye,this.firestore=ge,this.opciones=document.getElementsByName("opciones"),this.opcion=0,this.especialidades=[],this.especialidadesMostradas=[],this.nombre="",this.apellido="",this.edad="",this.dni="",this.email="",this.clave="",this.obraSocial="",this.especialidad="",ae.C.traerFs("especialistas",this.firestore).subscribe(Le=>{Le.forEach(Xe=>{this.especialidades.push(Xe.especialidad)})}),this.form=this.formBuilder.group({nombre:["",[Se.kI.required,this.letrasValidator()]],apellido:["",[Se.kI.required,this.letrasValidator()]],dni:["",[Se.kI.required,Se.kI.minLength(7),Se.kI.maxLength(8),Se.kI.pattern("^[0-9]+$")]],edad:["",[Se.kI.required,Se.kI.pattern("^[0-9]+$"),Se.kI.min(1),Se.kI.max(99)]],email:["",[Se.kI.required,Se.kI.pattern(/^[\w-.]+@([\w-]+.)+[\w-]{2,4}$/),Se.kI.email]],clave:["",[Se.kI.required,Se.kI.minLength(6)]],especialidad:["",[this.letrasValidator()]],obraSocial:["",[this.letrasValidator()]]})}ngOnInit(){}ngOnDestroy(){}registrarse(){let te,v=!1,x="",L={nombre:this.nombre,apellido:this.apellido,dni:this.dni,edad:this.edad,email:this.email};if(this.opciones.forEach(ye=>{ye.checked&&(v=!0)}),v){let ye,ge,Le=1===this.opcion?"especialista":"paciente";if("paciente"==Le)if(""!=this.obraSocial){ye=document.getElementById("fotosPaciente");const Xe=ye.files;Xe?2===Xe.length?this.auth.signup(this.email,this.clave).then(()=>{x="pacientes",te={...L,obraSocial:this.obraSocial,perfil:Le};const Gt=Xe[0],on=Xe[1];let it=`pacientes/${this.dni}/${this.apellido}_fotos/${Gt.name}`;this.subirFoto(Gt,it)?.then(()=>{this.angularFirestorage.ref(it).getDownloadURL().toPromise().then(In=>{it=`pacientes/${this.dni}/${this.apellido}_fotos/${on.name}`,this.subirFoto(on,it)?.then(()=>{this.angularFirestorage.ref(it).getDownloadURL().toPromise().then(Ht=>{ae.C.guardarFs(x,{...te,foto:[In,Ht]},this.firestore),this.toast.success("Registrado correctamente, se ha enviado el correo de verificaci\xf3n.","Perfecto!"),this.router.navigate(["/home"])})})})})}).catch(Gt=>{this.toast.error(Gt.code,"Error")}):this.toast.error("Debe seleccionar 2 imagenes","Error"):this.toast.error("Debe subir las fotos","Error")}else this.toast.error("Complete el campo de obra social","Error");else 1===this.opcion&&""!=this.especialidad&&(ge=document.getElementById("fotoEspecialista"),ge.files.length>0&&this.auth.signup(this.email,this.clave).then(()=>{x="especialistas",te={...L,perfil:Le,especialidad:this.especialidad};const Xe=ge.files[0],Gt=`especialistas/${this.especialidad}/${this.dni}/${Xe.name}`;this.subirFoto(Xe,Gt).then(()=>{this.angularFirestorage.ref(Gt).getDownloadURL().toPromise().then(it=>{ae.C.guardarFs(x,{...te,foto:it,aprobado:"espera"},this.firestore),this.toast.success("Registrado correctamente, se encuentra en espera de aceptaci\xf3n y debe verificar el mail","Perfecto!"),this.router.navigate(["/home"])})})}))}else this.toast.error("Elija un perfil","Error")}letrasValidator(){return v=>{const x=v.value;if(x){const L=x.trim();if(!/^[A-Za-z\xc1\xe1\xc9\xe9\xcd\xed\xd3\xf3\xda\xfa\xdc\xfc\xd1\xf1 \s]+$/.test(L))return{invalido:!0}}return null}}cambiarCheck(v){this.opcion=v,1===this.opcion?this.obraSocial="":2===this.opcion?this.especialidad="":this.obraSocial="",this.especialidad="",1===this.opcion&&this.especialidades.forEach(x=>{let L=!0;this.especialidadesMostradas.forEach(te=>{x===te&&(L=!1),console.log(this.especialidades),console.log(this.especialidadesMostradas)}),L&&this.especialidadesMostradas.push(x)})}subirFoto(v,x){return(0,Ee.Z)(function*(){try{const L=(0,Me.cF)(),te=(0,Me.iH)(L,x);return(0,Me.KV)(te,v)}catch(L){return void console.log("error"+L)}})()}static#e=this.\u0275fac=function(x){return new(x||U)(R.Y36(he.F0),R.Y36(et.e),R.Y36(ze.Q1),R.Y36(Se.qu),R.Y36(de._W),R.Y36(ue.gg))};static#t=this.\u0275cmp=R.Xpm({type:U,selectors:[["app-registro"]],decls:68,vars:28,consts:[[1,"contenedor",2,"text-align","center"],[1,"contenedor-gral","row"],[2,"text-shadow","4px 4px 10px rgba(0, 0, 0, .5)"],[1,"contenedor-gral","row",2,"width","10%"],[1,"col"],["id","logo","src","assets/medico.png","routerLink","/home",2,"cursor","pointer"],[1,"row",3,"formGroup"],["type","text","formControlName","nombre","placeholder","Ingrese su nombre",1,"col",3,"ngModel","ngModelChange"],[1,"row"],["class","col",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Ingrese su apellido",3,"ngModel","ngModelChange"],["type","text","formControlName","edad","placeholder","Edad",3,"ngModel","ngModelChange"],["type","text","formControlName","dni","placeholder","DNI",3,"ngModel","ngModelChange"],["formControlName","email","type","email","placeholder","Email",2,"margin-bottom","5px",3,"ngModel","ngModelChange"],["formControlName","clave","type","password","placeholder","Contrase\xf1a",2,"margin-bottom","5px",3,"ngModel","ngModelChange"],["type","radio","id","esp","name","opciones",1,"col",3,"click"],["type","radio","id","pac","name","opciones",1,"col",3,"click"],["class","contenedor-gral row",4,"ngIf"],["style","width: 100%; height: 20%; overflow-y: auto;","class","row",4,"ngIf"],[1,"contenedor-gral","row","py-4"],["id","btn",3,"disabled","click"],["type","text","formControlName","obraSocial","placeholder","Ingrese su obra social",3,"ngModel","ngModelChange"],[1,"row",2,"width","100%","height","20%","overflow-y","auto"],[1,"custom-table"],["class","custom-row",4,"ngFor","ngForOf"],[1,"custom-row"],[1,"custom-cell",3,"click"],[2,"cursor","pointer"],["id","fotoEspecialista","accept",".jpg, .png, .jpeg","type","file"],["type","text","formControlName","especialidad","placeholder","Ingrese su especialidad",3,"ngModel","ngModelChange"],["id","fotosPaciente","accept","image/*, .jpg, .png, .jpeg","type","file","multiple",""]],template:function(x,L){1&x&&(R.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),R._uU(3,"REGISTRO"),R.qZA()(),R.TgZ(4,"div",3)(5,"div",4),R._UZ(6,"img",5),R.qZA()(),R.TgZ(7,"form",6)(8,"div",1)(9,"div",4)(10,"div",4)(11,"input",7),R.NdJ("ngModelChange",function(ye){return L.nombre=ye}),R.qZA(),R.TgZ(12,"div",8),R.YNc(13,ot,2,0,"span",9),R.YNc(14,Ae,2,0,"span",9),R.qZA()()(),R.TgZ(15,"div",4)(16,"div",4)(17,"input",10),R.NdJ("ngModelChange",function(ye){return L.apellido=ye}),R.qZA(),R.TgZ(18,"div",8),R.YNc(19,Ot,2,0,"span",9),R.YNc(20,Dt,2,0,"span",9),R.qZA()()()(),R.TgZ(21,"div",1)(22,"div",4)(23,"div",4)(24,"input",11),R.NdJ("ngModelChange",function(ye){return L.edad=ye}),R.qZA(),R.TgZ(25,"div",8),R.YNc(26,Bt,2,0,"span",9),R.YNc(27,At,2,0,"span",9),R.YNc(28,an,2,0,"span",9),R.YNc(29,xt,2,0,"span",9),R.qZA()()(),R.TgZ(30,"div",4)(31,"div",4)(32,"input",12),R.NdJ("ngModelChange",function(ye){return L.dni=ye}),R.qZA(),R.TgZ(33,"div",8),R.YNc(34,be,2,0,"span",9),R.YNc(35,tt,2,0,"span",9),R.YNc(36,Ze,2,0,"span",9),R.YNc(37,gt,2,0,"span",9),R.qZA()()()(),R.TgZ(38,"div",1)(39,"div",4)(40,"div",4)(41,"input",13),R.NdJ("ngModelChange",function(ye){return L.email=ye}),R.qZA(),R.TgZ(42,"div",8),R.YNc(43,dt,2,0,"span",9),R.YNc(44,ct,2,0,"span",9),R.qZA()()(),R.TgZ(45,"div",4)(46,"div",4)(47,"input",14),R.NdJ("ngModelChange",function(ye){return L.clave=ye}),R.qZA(),R.TgZ(48,"div",8),R.YNc(49,ut,2,0,"span",9),R.YNc(50,vn,2,0,"span",9),R.qZA()()()(),R.TgZ(51,"div",1)(52,"div",4)(53,"input",15),R.NdJ("click",function(){return L.cambiarCheck(1)}),R.qZA(),R.TgZ(54,"label",4),R._uU(55,"ESPECIALISTA"),R.qZA()(),R.TgZ(56,"div",4)(57,"input",16),R.NdJ("click",function(){return L.cambiarCheck(2)}),R.qZA(),R.TgZ(58,"label",4),R._uU(59,"PACIENTE"),R.qZA()()(),R.YNc(60,It,7,3,"div",17),R.YNc(61,bn,3,1,"div",18),R.YNc(62,Je,4,1,"div",17),R.YNc(63,at,3,0,"div",17),R.TgZ(64,"div",19)(65,"div",4)(66,"button",20),R.NdJ("click",function(){return L.registrarse()}),R._uU(67,"REGISTRARSE"),R.qZA()()()()()),2&x&&(R.xp6(7),R.Q6J("formGroup",L.form),R.xp6(4),R.Q6J("ngModel",L.nombre),R.xp6(2),R.Q6J("ngIf",L.form.controls.nombre.touched&&L.form.controls.nombre.hasError("invalido")),R.xp6(1),R.Q6J("ngIf",L.form.controls.nombre.touched&&L.form.controls.nombre.hasError("required")),R.xp6(3),R.Q6J("ngModel",L.apellido),R.xp6(2),R.Q6J("ngIf",L.form.controls.apellido.touched&&L.form.controls.apellido.hasError("invalido")),R.xp6(1),R.Q6J("ngIf",L.form.controls.apellido.touched&&L.form.controls.apellido.hasError("required")),R.xp6(4),R.Q6J("ngModel",L.edad),R.xp6(2),R.Q6J("ngIf",L.form.controls.edad.touched&&L.form.controls.edad.hasError("min")),R.xp6(1),R.Q6J("ngIf",L.form.controls.edad.touched&&L.form.controls.edad.hasError("max")),R.xp6(1),R.Q6J("ngIf",L.form.controls.edad.touched&&L.form.controls.edad.hasError("pattern")),R.xp6(1),R.Q6J("ngIf",L.form.controls.edad.touched&&L.form.controls.edad.hasError("required")),R.xp6(3),R.Q6J("ngModel",L.dni),R.xp6(2),R.Q6J("ngIf",L.form.controls.dni.touched&&L.form.controls.dni.hasError("minlength")),R.xp6(1),R.Q6J("ngIf",L.form.controls.dni.touched&&L.form.controls.dni.hasError("maxlength")),R.xp6(1),R.Q6J("ngIf",L.form.controls.dni.touched&&L.form.controls.dni.hasError("pattern")),R.xp6(1),R.Q6J("ngIf",L.form.controls.dni.touched&&L.form.controls.dni.hasError("required")),R.xp6(4),R.Q6J("ngModel",L.email),R.xp6(2),R.Q6J("ngIf",L.form.controls.email.touched&&L.form.controls.email.hasError("pattern")),R.xp6(1),R.Q6J("ngIf",L.form.controls.email.touched&&L.form.controls.email.hasError("required")),R.xp6(3),R.Q6J("ngModel",L.clave),R.xp6(2),R.Q6J("ngIf",L.form.controls.clave.touched&&L.form.controls.clave.hasError("minlength")),R.xp6(1),R.Q6J("ngIf",L.form.controls.clave.touched&&L.form.controls.clave.hasError("required")),R.xp6(10),R.Q6J("ngIf",2===L.opcion),R.xp6(1),R.Q6J("ngIf",1===L.opcion),R.xp6(1),R.Q6J("ngIf",1===L.opcion||3===L.opcion),R.xp6(1),R.Q6J("ngIf",2===L.opcion),R.xp6(3),R.Q6J("disabled",!L.form.valid))},dependencies:[je.sg,je.O5,he.rH,Se._Y,Se.Fj,Se.JJ,Se.JL,Se.sg,Se.u],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#52b788;width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#000}form[_ngcontent-%COMP%]{width:80%}.contenedor-gral[_ngcontent-%COMP%]{width:100%;align-items:center;justify-content:center;margin-bottom:5px}input[_ngcontent-%COMP%]{width:90%;padding:auto;font-size:25px;border-radius:10px;border:none;text-align:center;background-color:#d8f3dc;color:#030303;box-shadow:4px 4px 10px #00000080}input[_ngcontent-%COMP%]::placeholder{color:#000}label[_ngcontent-%COMP%]{font-size:25px;text-shadow:4px 4px 10px rgba(0,0,0,.5)}#btn[_ngcontent-%COMP%]{width:auto;padding:auto;font-size:25px;background-color:#d8f3dc;border-radius:8px;box-shadow:4px 4px 10px #00000080}.titulo[_ngcontent-%COMP%]{position:fixed;top:1%;width:100%;text-align:center}.custom-table[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:5px}.custom-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);gap:5px}.custom-cell[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px;border-radius:10px;text-align:center;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:4px 4px 10px #00000080}.custom-toast[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background-color:#333;color:#fff;border-radius:4px;padding:10px;opacity:0;transition:opacity .3s ease-in-out;z-index:1000}.custom-toast.show[_ngcontent-%COMP%]{opacity:1}[_ngcontent-%COMP%]::-webkit-scrollbar{width:20px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px gray;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#2D6A4F;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#1c4231}span[_ngcontent-%COMP%]{color:#eb7769}#logo[_ngcontent-%COMP%]{width:100%}"]})}return U})();function ve(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," Ingrese un correo v\xe1lido. "),R.qZA())}function oe(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," El correo es requerido. "),R.qZA())}function _e(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," La clave debe contener al menos 6 caracteres. "),R.qZA())}function We(U,y){1&U&&(R.TgZ(0,"span",4),R._uU(1," La clave es requerida. "),R.qZA())}const zt=[{path:"login",component:(()=>{class U{constructor(v,x,L,te,ye){this.auth=v,this.formBuilder=x,this.toast=L,this.router=te,this.firestore=ye,this.email="",this.clave="",this.mensaje="",this.pacientes=[],this.especialistas=[],this.administradores=[],this.form=this.formBuilder.group({email:["",[Se.kI.required,Se.kI.pattern(/^[\w-.]+@([\w-]+.)+[\w-]{2,4}$/),Se.kI.email]],clave:["",[Se.kI.required,Se.kI.minLength(6)]]})}ngOnInit(){this.observablePac=ae.C.traerFs("pacientes",this.firestore).subscribe(v=>{this.pacientes=v}),this.observableEsp=ae.C.traerFs("especialistas",this.firestore).subscribe(v=>{this.especialistas=v}),this.observableAdmins=ae.C.traerFs("administradores",this.firestore).subscribe(v=>{this.administradores=v})}ngOnDestroy(){this.observableAdmins&&this.observableAdmins.unsubscribe(),this.observableEsp&&this.observableEsp.unsubscribe(),this.observablePac&&this.observablePac.unsubscribe()}ingresar(){this.auth.signin(this.email,this.clave)?.then(v=>{const x=v.user;let L,te,ye;this.pacientes.forEach(ge=>{x.email===ge.email&&(L=ge)}),L?x.emailVerified?this.mostrarMensajeIngreso():(this.toast.error("Debe verificar el correo electronico para ingresar","Error"),this.auth.logout()?.then(ge=>{console.log(ge)})):(this.especialistas.forEach(ge=>{x.email===ge.email&&(te=ge)}),te?te.aprobado&&x.emailVerified?this.mostrarMensajeIngreso():x.emailVerified?"espera"==te.aprobado?this.toast.info("Su usuario est\xe1 pendiente de aprobacion."):te.aprobado?this.mostrarMensajeIngreso():(this.toast.error("Ha sido rechazado por un administrador.","Error"),this.email="",this.clave="",this.auth.logout()?.then(ge=>{console.log(ge)})):"espera"==te.aprobado?this.toast.info("Su usuario est\xe1 pendiente de aprobacion y debe verificar su email."):te.aprobado?this.toast.info("Ha sido aprobado por un administrador, pero debe verificar su mail para poder ingresar"):(this.toast.error("Ha sido rechazado por un administrador.","Error"),this.email="",this.clave="",this.auth.logout()?.then(ge=>{console.log(ge)})):(this.administradores.forEach(ge=>{x.email===ge.email&&(ye=ge)}),ye&&this.mostrarMensajeIngreso()))}).catch(v=>{switch(console.log(v),v.code){case"auth/invalid-email":this.mensaje="Correo inv\xe1lido.";break;case"auth/missing-password":this.mensaje="Contrase\xf1a inv\xe1lida.";break;case"auth/invalid-login-credentials":this.mensaje="Correo y/o contrase\xf1a incorrectos."}this.toast.error(this.mensaje,"Error")})}mostrarMensajeIngreso(){this.toast.success("Ingresando...","Perfecto"),this.email="",this.clave="",setTimeout(()=>{this.router.navigate(["/home"])},1500)}static#e=this.\u0275fac=function(x){return new(x||U)(R.Y36(et.e),R.Y36(Se.qu),R.Y36(de._W),R.Y36(he.F0),R.Y36(ue.gg))};static#t=this.\u0275cmp=R.Xpm({type:U,selectors:[["app-login"]],decls:36,vars:8,consts:[[1,"contenedor"],[1,"container-form","row"],[1,"contenedor-i","col",3,"formGroup"],[1,"py-3",2,"text-shadow","4px 4px 10px rgba(0, 0, 0, .5)"],[1,"col"],["src","assets/medico.png","routerLink","/home",2,"width","30%","cursor","pointer"],[1,"col","py-4"],[1,"col","py-2"],["formControlName","email","type","text","placeholder","Ingrese su correo",1,"col",3,"ngModel","ngModelChange"],[1,"row"],["class","col",4,"ngIf"],["formControlName","clave","type","password","placeholder","Ingrese su clave",1,"col",3,"ngModel","ngModelChange"],[1,"col","py-3"],["id","btn",3,"disabled","click"],["id","pregunta"],["href","/registro"],[1,"contenedor-btn","row","py-5"],[1,"col-3"],[1,"acceso"]],template:function(x,L){1&x&&(R.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"h1",3),R._uU(4,"INICIAR SESION"),R.qZA(),R.TgZ(5,"div",4),R._UZ(6,"img",5),R.qZA(),R.TgZ(7,"div",6)(8,"div",7)(9,"input",8),R.NdJ("ngModelChange",function(ye){return L.email=ye}),R.qZA(),R.TgZ(10,"div",9),R.YNc(11,ve,2,0,"span",10),R.YNc(12,oe,2,0,"span",10),R.qZA()(),R.TgZ(13,"div",7)(14,"div",4)(15,"input",11),R.NdJ("ngModelChange",function(ye){return L.clave=ye}),R.qZA(),R.TgZ(16,"div",9),R.YNc(17,_e,2,0,"span",10),R.YNc(18,We,2,0,"span",10),R.qZA()()()(),R.TgZ(19,"div",12)(20,"button",13),R.NdJ("click",function(){return L.ingresar()}),R._uU(21,"INGRESAR"),R.qZA()(),R.TgZ(22,"div",7)(23,"label",14),R._uU(24,"\xbfQuer\xe9s registrarte? "),R.TgZ(25,"a",15),R._uU(26,"Registrate"),R.qZA()()(),R.TgZ(27,"div",16)(28,"div",17),R._UZ(29,"button",18),R.qZA(),R.TgZ(30,"div",17),R._UZ(31,"button",18),R.qZA(),R.TgZ(32,"div",17),R._UZ(33,"button",18),R.qZA(),R.TgZ(34,"div",17),R._UZ(35,"button",18),R.qZA()()()()()),2&x&&(R.xp6(2),R.Q6J("formGroup",L.form),R.xp6(7),R.Q6J("ngModel",L.email),R.xp6(2),R.Q6J("ngIf",L.form.controls.email.touched&&L.form.controls.email.hasError("pattern")),R.xp6(1),R.Q6J("ngIf",L.form.controls.email.touched&&L.form.controls.email.hasError("required")),R.xp6(3),R.Q6J("ngModel",L.clave),R.xp6(2),R.Q6J("ngIf",L.form.controls.clave.touched&&L.form.controls.clave.hasError("minlength")),R.xp6(1),R.Q6J("ngIf",L.form.controls.clave.touched&&L.form.controls.clave.hasError("required")),R.xp6(2),R.Q6J("disabled",!L.form.valid))},dependencies:[je.O5,he.rH,Se._Y,Se.Fj,Se.JJ,Se.JL,Se.sg,Se.u],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#52b788;width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#000}.container-form[_ngcontent-%COMP%]{background-color:#fff2b2bf;width:30%;height:90%;border-radius:20px;display:flex;justify-content:center;align-items:center;text-align:center;box-shadow:4px 4px 4px 4px #00000080}.contenedor-i[_ngcontent-%COMP%]{width:100%;height:100%}input[_ngcontent-%COMP%]{width:80%;padding:auto;font-size:30px;margin-bottom:10px;background-color:#b7e4c7;border:none;border-radius:10px;text-align:center;box-shadow:4px 4px 10px #00000080}#btn[_ngcontent-%COMP%]{font-size:25px;border-radius:10px;background-color:#b7e4c7;width:auto;box-shadow:4px 4px 10px #00000080}.contenedor-btn[_ngcontent-%COMP%]{height:18%;text-align:center;position:fixed;bottom:1%;width:30%}.acceso[_ngcontent-%COMP%]{width:65%;height:80%;background-color:#b7e4c7;border-radius:10px;text-align:center;cursor:pointer;box-shadow:4px 4px 10px #00000080}#pregunta[_ngcontent-%COMP%]{font-size:18px;font-weight:700;text-shadow:4px 4px 10px rgba(0,0,0,.5)}span[_ngcontent-%COMP%]{color:#eb7769;text-shadow:4px 4px 10px rgba(0,0,0,.5)}"]})}return U})()},{path:"registro",component:De},{path:"error",component:(()=>{class U{static#e=this.\u0275fac=function(x){return new(x||U)};static#t=this.\u0275cmp=R.Xpm({type:U,selectors:[["app-error"]],decls:2,vars:0,template:function(x,L){1&x&&(R.TgZ(0,"p"),R._uU(1,"error works!"),R.qZA())}})}return U})()},{path:"home",loadChildren:()=>K.e(599).then(K.bind(K,6599)).then(U=>U.HomeModule)},{path:"usuarios",loadChildren:()=>K.e(699).then(K.bind(K,4699)).then(U=>U.UsuariosModule)},{path:"",redirectTo:"home",pathMatch:"full"},{path:"**",redirectTo:"error",pathMatch:"full"}];let tr=(()=>{class U{static#e=this.\u0275fac=function(x){return new(x||U)};static#t=this.\u0275mod=R.oAB({type:U});static#n=this.\u0275inj=R.cJS({imports:[he.Bz.forRoot(zt),he.Bz]})}return U})();var Qn=K(7142);let Rn=(()=>{class U{constructor(){this.title="clinica"}ngOnInit(){Qn.Z.initializeApp({projectId:"clinica-cd258",appId:"1:252489975231:web:7b94256a52773662cf4d0a",storageBucket:"clinica-cd258.appspot.com",apiKey:"AIzaSyAqXh8A0XH2BMCGSgpOYGtjrEcDb0hb9RQ",authDomain:"clinica-cd258.firebaseapp.com",messagingSenderId:"252489975231"})}static#e=this.\u0275fac=function(x){return new(x||U)};static#t=this.\u0275cmp=R.Xpm({type:U,selectors:[["app-root"]],decls:1,vars:0,template:function(x,L){1&x&&R._UZ(0,"router-outlet")},dependencies:[he.lC]})}return U})();var lr=K(8726),ar=K(5609),kn=K(6825);function mn(U){return new R.vHH(3e3,!1)}function ln(U){switch(U.length){case 0:return new kn.ZN;case 1:return U[0];default:return new kn.ZE(U)}}function Mn(U,y,v=new Map,x=new Map){const L=[],te=[];let ye=-1,ge=null;if(y.forEach(Le=>{const Xe=Le.get("offset"),Gt=Xe==ye,on=Gt&&ge||new Map;Le.forEach((it,Sn)=>{let In=Sn,Zn=it;if("offset"!==Sn)switch(In=U.normalizePropertyName(In,L),Zn){case kn.k1:Zn=v.get(Sn);break;case kn.l3:Zn=x.get(Sn);break;default:Zn=U.normalizeStyleValue(Sn,In,Zn,L)}on.set(In,Zn)}),Gt||te.push(on),ge=on,ye=Xe}),L.length)throw function wi(U){return new R.vHH(3502,!1)}();return te}function Jn(U,y,v,x){switch(y){case"start":U.onStart(()=>x(v&&Fn(v,"start",U)));break;case"done":U.onDone(()=>x(v&&Fn(v,"done",U)));break;case"destroy":U.onDestroy(()=>x(v&&Fn(v,"destroy",U)))}}function Fn(U,y,v){const te=$r(U.element,U.triggerName,U.fromState,U.toState,y||U.phaseName,v.totalTime??U.totalTime,!!v.disabled),ye=U._data;return null!=ye&&(te._data=ye),te}function $r(U,y,v,x,L="",te=0,ye){return{element:U,triggerName:y,fromState:v,toState:x,phaseName:L,totalTime:te,disabled:!!ye}}function Er(U,y,v){let x=U.get(y);return x||U.set(y,x=v),x}function mi(U){const y=U.indexOf(":");return[U.substring(1,y),U.slice(y+1)]}const Si=(()=>typeof document>"u"?null:document.documentElement)();function st(U){const y=U.parentNode||U.host||null;return y===Si?null:y}let bt=null,Zt=!1;function ti(U,y){for(;y;){if(y===U)return!0;y=st(y)}return!1}function Ir(U,y,v){if(v)return Array.from(U.querySelectorAll(y));const x=U.querySelector(y);return x?[x]:[]}let fs=(()=>{class U{validateStyleProperty(v){return function Nn(U){bt||(bt=function qn(){return typeof document<"u"?document.body:null}()||{},Zt=!!bt.style&&"WebkitAppearance"in bt.style);let y=!0;return bt.style&&!function Be(U){return"ebkit"==U.substring(1,6)}(U)&&(y=U in bt.style,!y&&Zt&&(y="Webkit"+U.charAt(0).toUpperCase()+U.slice(1)in bt.style)),y}(v)}matchesElement(v,x){return!1}containsElement(v,x){return ti(v,x)}getParentElement(v){return st(v)}query(v,x,L){return Ir(v,x,L)}computeStyle(v,x,L){return L||""}animate(v,x,L,te,ye,ge=[],Le){return new kn.ZN(L,te)}static#e=this.\u0275fac=function(x){return new(x||U)};static#t=this.\u0275prov=R.Yz7({token:U,factory:U.\u0275fac})}return U})(),as=(()=>{class U{static#e=this.NOOP=new fs}return U})();const br=1e3,fi="ng-enter",or="ng-leave",$i="ng-trigger",Zr=".ng-trigger",pi="ng-animating",Vi=".ng-animating";function Ii(U){if("number"==typeof U)return U;const y=U.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:Is(parseFloat(y[1]),y[2])}function Is(U,y){return"s"===y?U*br:U}function Re(U,y,v){return U.hasOwnProperty("duration")?U:function xe(U,y,v){let L,te=0,ye="";if("string"==typeof U){const ge=U.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ge)return y.push(mn()),{duration:0,delay:0,easing:""};L=Is(parseFloat(ge[1]),ge[2]);const Le=ge[3];null!=Le&&(te=Is(parseFloat(Le),ge[4]));const Xe=ge[5];Xe&&(ye=Xe)}else L=U;if(!v){let ge=!1,Le=y.length;L<0&&(y.push(function hr(){return new R.vHH(3100,!1)}()),ge=!0),te<0&&(y.push(function En(){return new R.vHH(3101,!1)}()),ge=!0),ge&&y.splice(Le,0,mn())}return{duration:L,delay:te,easing:ye}}(U,y,v)}function Ve(U,y={}){return Object.keys(U).forEach(v=>{y[v]=U[v]}),y}function mt(U){const y=new Map;return Object.keys(U).forEach(v=>{y.set(v,U[v])}),y}function Wn(U,y=new Map,v){if(v)for(let[x,L]of v)y.set(x,L);for(let[x,L]of U)y.set(x,L);return y}function xn(U,y,v){y.forEach((x,L)=>{const te=Ts(L);v&&!v.has(L)&&v.set(L,U.style[te]),U.style[te]=x})}function rr(U,y){y.forEach((v,x)=>{const L=Ts(x);U.style[L]=""})}function Ti(U){return Array.isArray(U)?1==U.length?U[0]:(0,kn.vP)(U):U}const ii=new RegExp("{{\\s*(.+?)\\s*}}","g");function Mr(U){let y=[];if("string"==typeof U){let v;for(;v=ii.exec(U);)y.push(v[1]);ii.lastIndex=0}return y}function ps(U,y,v){const x=U.toString(),L=x.replace(ii,(te,ye)=>{let ge=y[ye];return null==ge&&(v.push(function cr(U){return new R.vHH(3003,!1)}()),ge=""),ge.toString()});return L==x?U:L}function Vs(U){const y=[];let v=U.next();for(;!v.done;)y.push(v.value),v=U.next();return y}const Io=/-+([a-z0-9])/g;function Ts(U){return U.replace(Io,(...y)=>y[1].toUpperCase())}function ki(U,y,v){switch(y.type){case 7:return U.visitTrigger(y,v);case 0:return U.visitState(y,v);case 1:return U.visitTransition(y,v);case 2:return U.visitSequence(y,v);case 3:return U.visitGroup(y,v);case 4:return U.visitAnimate(y,v);case 5:return U.visitKeyframes(y,v);case 6:return U.visitStyle(y,v);case 8:return U.visitReference(y,v);case 9:return U.visitAnimateChild(y,v);case 10:return U.visitAnimateRef(y,v);case 11:return U.visitQuery(y,v);case 12:return U.visitStagger(y,v);default:throw function sr(U){return new R.vHH(3004,!1)}()}}function cs(U,y){return window.getComputedStyle(U)[y]}const ho="*";function Ui(U,y){const v=[];return"string"==typeof U?U.split(/\s*,\s*/).forEach(x=>function Ji(U,y,v){if(":"==U[0]){const Le=function Ds(U,y){switch(U){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(v,x)=>parseFloat(x)>parseFloat(v);case":decrement":return(v,x)=>parseFloat(x)<parseFloat(v);default:return y.push(function ri(U){return new R.vHH(3016,!1)}()),"* => *"}}(U,v);if("function"==typeof Le)return void y.push(Le);U=Le}const x=U.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==x||x.length<4)return v.push(function zr(U){return new R.vHH(3015,!1)}()),y;const L=x[1],te=x[2],ye=x[3];y.push(Ln(L,ye));"<"==te[0]&&!(L==ho&&ye==ho)&&y.push(Ln(ye,L))}(x,v,y)):v.push(U),v}const jn=new Set(["true","1"]),fr=new Set(["false","0"]);function Ln(U,y){const v=jn.has(U)||fr.has(U),x=jn.has(y)||fr.has(y);return(L,te)=>{let ye=U==ho||U==L,ge=y==ho||y==te;return!ye&&v&&"boolean"==typeof L&&(ye=L?jn.has(U):fr.has(U)),!ge&&x&&"boolean"==typeof te&&(ge=te?jn.has(y):fr.has(y)),ye&&ge}}const si=new RegExp("s*:selfs*,?","g");function Ns(U,y,v,x){return new bs(U).build(y,v,x)}class bs{constructor(y){this._driver=y}build(y,v,x){const L=new Or(v);return this._resetContextStyleTimingState(L),ki(this,Ti(y),L)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,v){let x=v.queryCount=0,L=v.depCount=0;const te=[],ye=[];return"@"==y.name.charAt(0)&&v.errors.push(function On(){return new R.vHH(3006,!1)}()),y.definitions.forEach(ge=>{if(this._resetContextStyleTimingState(v),0==ge.type){const Le=ge,Xe=Le.name;Xe.toString().split(/\s*,\s*/).forEach(Gt=>{Le.name=Gt,te.push(this.visitState(Le,v))}),Le.name=Xe}else if(1==ge.type){const Le=this.visitTransition(ge,v);x+=Le.queryCount,L+=Le.depCount,ye.push(Le)}else v.errors.push(function yr(){return new R.vHH(3007,!1)}())}),{type:7,name:y.name,states:te,transitions:ye,queryCount:x,depCount:L,options:null}}visitState(y,v){const x=this.visitStyle(y.styles,v),L=y.options&&y.options.params||null;if(x.containsDynamicStyles){const te=new Set,ye=L||{};x.styles.forEach(ge=>{ge instanceof Map&&ge.forEach(Le=>{Mr(Le).forEach(Xe=>{ye.hasOwnProperty(Xe)||te.add(Xe)})})}),te.size&&(Vs(te.values()),v.errors.push(function Gr(U,y){return new R.vHH(3008,!1)}()))}return{type:0,name:y.name,style:x,options:L?{params:L}:null}}visitTransition(y,v){v.queryCount=0,v.depCount=0;const x=ki(this,Ti(y.animation),v);return{type:1,matchers:Ui(y.expr,v.errors),animation:x,queryCount:v.queryCount,depCount:v.depCount,options:$(y.options)}}visitSequence(y,v){return{type:2,steps:y.steps.map(x=>ki(this,x,v)),options:$(y.options)}}visitGroup(y,v){const x=v.currentTime;let L=0;const te=y.steps.map(ye=>{v.currentTime=x;const ge=ki(this,ye,v);return L=Math.max(L,v.currentTime),ge});return v.currentTime=L,{type:3,steps:te,options:$(y.options)}}visitAnimate(y,v){const x=function Gn(U,y){if(U.hasOwnProperty("duration"))return U;if("number"==typeof U)return G(Re(U,y).duration,0,"");const v=U;if(v.split(/\s+/).some(te=>"{"==te.charAt(0)&&"{"==te.charAt(1))){const te=G(0,0,"");return te.dynamic=!0,te.strValue=v,te}const L=Re(v,y);return G(L.duration,L.delay,L.easing)}(y.timings,v.errors);v.currentAnimateTimings=x;let L,te=y.styles?y.styles:(0,kn.oB)({});if(5==te.type)L=this.visitKeyframes(te,v);else{let ye=y.styles,ge=!1;if(!ye){ge=!0;const Xe={};x.easing&&(Xe.easing=x.easing),ye=(0,kn.oB)(Xe)}v.currentTime+=x.duration+x.delay;const Le=this.visitStyle(ye,v);Le.isEmptyStep=ge,L=Le}return v.currentAnimateTimings=null,{type:4,timings:x,style:L,options:null}}visitStyle(y,v){const x=this._makeStyleAst(y,v);return this._validateStyleAst(x,v),x}_makeStyleAst(y,v){const x=[],L=Array.isArray(y.styles)?y.styles:[y.styles];for(let ge of L)"string"==typeof ge?ge===kn.l3?x.push(ge):v.errors.push(new R.vHH(3002,!1)):x.push(mt(ge));let te=!1,ye=null;return x.forEach(ge=>{if(ge instanceof Map&&(ge.has("easing")&&(ye=ge.get("easing"),ge.delete("easing")),!te))for(let Le of ge.values())if(Le.toString().indexOf("{{")>=0){te=!0;break}}),{type:6,styles:x,easing:ye,offset:y.offset,containsDynamicStyles:te,options:null}}_validateStyleAst(y,v){const x=v.currentAnimateTimings;let L=v.currentTime,te=v.currentTime;x&&te>0&&(te-=x.duration+x.delay),y.styles.forEach(ye=>{"string"!=typeof ye&&ye.forEach((ge,Le)=>{const Xe=v.collectedStyles.get(v.currentQuerySelector),Gt=Xe.get(Le);let on=!0;Gt&&(te!=L&&te>=Gt.startTime&&L<=Gt.endTime&&(v.errors.push(function kr(U,y,v,x,L){return new R.vHH(3010,!1)}()),on=!1),te=Gt.startTime),on&&Xe.set(Le,{startTime:te,endTime:L}),v.options&&function yi(U,y,v){const x=y.params||{},L=Mr(U);L.length&&L.forEach(te=>{x.hasOwnProperty(te)||v.push(function gi(U){return new R.vHH(3001,!1)}())})}(ge,v.options,v.errors)})})}visitKeyframes(y,v){const x={type:5,styles:[],options:null};if(!v.currentAnimateTimings)return v.errors.push(function di(){return new R.vHH(3011,!1)}()),x;let te=0;const ye=[];let ge=!1,Le=!1,Xe=0;const Gt=y.steps.map(tn=>{const Hi=this._makeStyleAst(tn,v);let Ft=null!=Hi.offset?Hi.offset:function Xt(U){if("string"==typeof U)return null;let y=null;if(Array.isArray(U))U.forEach(v=>{if(v instanceof Map&&v.has("offset")){const x=v;y=parseFloat(x.get("offset")),x.delete("offset")}});else if(U instanceof Map&&U.has("offset")){const v=U;y=parseFloat(v.get("offset")),v.delete("offset")}return y}(Hi.styles),qe=0;return null!=Ft&&(te++,qe=Hi.offset=Ft),Le=Le||qe<0||qe>1,ge=ge||qe<Xe,Xe=qe,ye.push(qe),Hi});Le&&v.errors.push(function _r(){return new R.vHH(3012,!1)}()),ge&&v.errors.push(function hi(){return new R.vHH(3200,!1)}());const on=y.steps.length;let it=0;te>0&&te<on?v.errors.push(function Kt(){return new R.vHH(3202,!1)}()):0==te&&(it=1/(on-1));const Sn=on-1,In=v.currentTime,Zn=v.currentAnimateTimings,Ht=Zn.duration;return Gt.forEach((tn,Hi)=>{const Ft=it>0?Hi==Sn?1:it*Hi:ye[Hi],qe=Ft*Ht;v.currentTime=In+Zn.delay+qe,Zn.duration=qe,this._validateStyleAst(tn,v),tn.offset=Ft,x.styles.push(tn)}),x}visitReference(y,v){return{type:8,animation:ki(this,Ti(y.animation),v),options:$(y.options)}}visitAnimateChild(y,v){return v.depCount++,{type:9,options:$(y.options)}}visitAnimateRef(y,v){return{type:10,animation:this.visitReference(y.animation,v),options:$(y.options)}}visitQuery(y,v){const x=v.currentQuerySelector,L=y.options||{};v.queryCount++,v.currentQuery=y;const[te,ye]=function To(U){const y=!!U.split(/\s*,\s*/).find(v=>":self"==v);return y&&(U=U.replace(si,"")),U=U.replace(/@\*/g,Zr).replace(/@\w+/g,v=>Zr+"-"+v.slice(1)).replace(/:animating/g,Vi),[U,y]}(y.selector);v.currentQuerySelector=x.length?x+" "+te:te,Er(v.collectedStyles,v.currentQuerySelector,new Map);const ge=ki(this,Ti(y.animation),v);return v.currentQuery=null,v.currentQuerySelector=x,{type:11,selector:te,limit:L.limit||0,optional:!!L.optional,includeSelf:ye,animation:ge,originalSelector:y.selector,options:$(y.options)}}visitStagger(y,v){v.currentQuery||v.errors.push(function ji(){return new R.vHH(3013,!1)}());const x="full"===y.timings?{duration:0,delay:0,easing:"full"}:Re(y.timings,v.errors,!0);return{type:12,animation:ki(this,Ti(y.animation),v),timings:x,options:null}}}class Or{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function $(U){return U?(U=Ve(U)).params&&(U.params=function Bs(U){return U?Ve(U):null}(U.params)):U={},U}function G(U,y,v){return{duration:U,delay:y,easing:v}}function pe(U,y,v,x,L,te,ye=null,ge=!1){return{type:1,element:U,keyframes:y,preStyleProps:v,postStyleProps:x,duration:L,delay:te,totalTime:L+te,easing:ye,subTimeline:ge}}class we{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,v){let x=this._map.get(y);x||this._map.set(y,x=[]),x.push(...v)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const Vt=new RegExp(":enter","g"),St=new RegExp(":leave","g");function Pn(U,y,v,x,L,te=new Map,ye=new Map,ge,Le,Xe=[]){return(new mr).buildKeyframes(U,y,v,x,L,te,ye,ge,Le,Xe)}class mr{buildKeyframes(y,v,x,L,te,ye,ge,Le,Xe,Gt=[]){Xe=Xe||new we;const on=new Xn(y,v,Xe,L,te,Gt,[]);on.options=Le;const it=Le.delay?Ii(Le.delay):0;on.currentTimeline.delayNextStep(it),on.currentTimeline.setStyles([ye],null,on.errors,Le),ki(this,x,on);const Sn=on.timelines.filter(In=>In.containsAnimation());if(Sn.length&&ge.size){let In;for(let Zn=Sn.length-1;Zn>=0;Zn--){const Ht=Sn[Zn];if(Ht.element===v){In=Ht;break}}In&&!In.allowOnlyTimelineStyles()&&In.setStyles([ge],null,on.errors,Le)}return Sn.length?Sn.map(In=>In.buildKeyframes()):[pe(v,[],[],[],0,it,"",!1)]}visitTrigger(y,v){}visitState(y,v){}visitTransition(y,v){}visitAnimateChild(y,v){const x=v.subInstructions.get(v.element);if(x){const L=v.createSubContext(y.options),te=v.currentTimeline.currentTime,ye=this._visitSubInstructions(x,L,L.options);te!=ye&&v.transformIntoNewTimeline(ye)}v.previousNode=y}visitAnimateRef(y,v){const x=v.createSubContext(y.options);x.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],v,x),this.visitReference(y.animation,x),v.transformIntoNewTimeline(x.currentTimeline.currentTime),v.previousNode=y}_applyAnimationRefDelays(y,v,x){for(const L of y){const te=L?.delay;if(te){const ye="number"==typeof te?te:Ii(ps(te,L?.params??{},v.errors));x.delayNextStep(ye)}}}_visitSubInstructions(y,v,x){let te=v.currentTimeline.currentTime;const ye=null!=x.duration?Ii(x.duration):null,ge=null!=x.delay?Ii(x.delay):null;return 0!==ye&&y.forEach(Le=>{const Xe=v.appendInstructionToTimeline(Le,ye,ge);te=Math.max(te,Xe.duration+Xe.delay)}),te}visitReference(y,v){v.updateOptions(y.options,!0),ki(this,y.animation,v),v.previousNode=y}visitSequence(y,v){const x=v.subContextCount;let L=v;const te=y.options;if(te&&(te.params||te.delay)&&(L=v.createSubContext(te),L.transformIntoNewTimeline(),null!=te.delay)){6==L.previousNode.type&&(L.currentTimeline.snapshotCurrentStyles(),L.previousNode=Pr);const ye=Ii(te.delay);L.delayNextStep(ye)}y.steps.length&&(y.steps.forEach(ye=>ki(this,ye,L)),L.currentTimeline.applyStylesToKeyframe(),L.subContextCount>x&&L.transformIntoNewTimeline()),v.previousNode=y}visitGroup(y,v){const x=[];let L=v.currentTimeline.currentTime;const te=y.options&&y.options.delay?Ii(y.options.delay):0;y.steps.forEach(ye=>{const ge=v.createSubContext(y.options);te&&ge.delayNextStep(te),ki(this,ye,ge),L=Math.max(L,ge.currentTimeline.currentTime),x.push(ge.currentTimeline)}),x.forEach(ye=>v.currentTimeline.mergeTimelineCollectedStyles(ye)),v.transformIntoNewTimeline(L),v.previousNode=y}_visitTiming(y,v){if(y.dynamic){const x=y.strValue;return Re(v.params?ps(x,v.params,v.errors):x,v.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,v){const x=v.currentAnimateTimings=this._visitTiming(y.timings,v),L=v.currentTimeline;x.delay&&(v.incrementTime(x.delay),L.snapshotCurrentStyles());const te=y.style;5==te.type?this.visitKeyframes(te,v):(v.incrementTime(x.duration),this.visitStyle(te,v),L.applyStylesToKeyframe()),v.currentAnimateTimings=null,v.previousNode=y}visitStyle(y,v){const x=v.currentTimeline,L=v.currentAnimateTimings;!L&&x.hasCurrentStyleProperties()&&x.forwardFrame();const te=L&&L.easing||y.easing;y.isEmptyStep?x.applyEmptyStep(te):x.setStyles(y.styles,te,v.errors,v.options),v.previousNode=y}visitKeyframes(y,v){const x=v.currentAnimateTimings,L=v.currentTimeline.duration,te=x.duration,ge=v.createSubContext().currentTimeline;ge.easing=x.easing,y.styles.forEach(Le=>{ge.forwardTime((Le.offset||0)*te),ge.setStyles(Le.styles,Le.easing,v.errors,v.options),ge.applyStylesToKeyframe()}),v.currentTimeline.mergeTimelineCollectedStyles(ge),v.transformIntoNewTimeline(L+te),v.previousNode=y}visitQuery(y,v){const x=v.currentTimeline.currentTime,L=y.options||{},te=L.delay?Ii(L.delay):0;te&&(6===v.previousNode.type||0==x&&v.currentTimeline.hasCurrentStyleProperties())&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=Pr);let ye=x;const ge=v.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!L.optional,v.errors);v.currentQueryTotal=ge.length;let Le=null;ge.forEach((Xe,Gt)=>{v.currentQueryIndex=Gt;const on=v.createSubContext(y.options,Xe);te&&on.delayNextStep(te),Xe===v.element&&(Le=on.currentTimeline),ki(this,y.animation,on),on.currentTimeline.applyStylesToKeyframe(),ye=Math.max(ye,on.currentTimeline.currentTime)}),v.currentQueryIndex=0,v.currentQueryTotal=0,v.transformIntoNewTimeline(ye),Le&&(v.currentTimeline.mergeTimelineCollectedStyles(Le),v.currentTimeline.snapshotCurrentStyles()),v.previousNode=y}visitStagger(y,v){const x=v.parentContext,L=v.currentTimeline,te=y.timings,ye=Math.abs(te.duration),ge=ye*(v.currentQueryTotal-1);let Le=ye*v.currentQueryIndex;switch(te.duration<0?"reverse":te.easing){case"reverse":Le=ge-Le;break;case"full":Le=x.currentStaggerTime}const Gt=v.currentTimeline;Le&&Gt.delayNextStep(Le);const on=Gt.currentTime;ki(this,y.animation,v),v.previousNode=y,x.currentStaggerTime=L.currentTime-on+(L.startTime-x.currentTimeline.startTime)}}const Pr={};class Xn{constructor(y,v,x,L,te,ye,ge,Le){this._driver=y,this.element=v,this.subInstructions=x,this._enterClassName=L,this._leaveClassName=te,this.errors=ye,this.timelines=ge,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Pr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Le||new qr(this._driver,v,0),ge.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,v){if(!y)return;const x=y;let L=this.options;null!=x.duration&&(L.duration=Ii(x.duration)),null!=x.delay&&(L.delay=Ii(x.delay));const te=x.params;if(te){let ye=L.params;ye||(ye=this.options.params={}),Object.keys(te).forEach(ge=>{(!v||!ye.hasOwnProperty(ge))&&(ye[ge]=ps(te[ge],ye,this.errors))})}}_copyOptions(){const y={};if(this.options){const v=this.options.params;if(v){const x=y.params={};Object.keys(v).forEach(L=>{x[L]=v[L]})}}return y}createSubContext(y=null,v,x){const L=v||this.element,te=new Xn(this._driver,L,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(L,x||0));return te.previousNode=this.previousNode,te.currentAnimateTimings=this.currentAnimateTimings,te.options=this._copyOptions(),te.updateOptions(y),te.currentQueryIndex=this.currentQueryIndex,te.currentQueryTotal=this.currentQueryTotal,te.parentContext=this,this.subContextCount++,te}transformIntoNewTimeline(y){return this.previousNode=Pr,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,v,x){const L={duration:v??y.duration,delay:this.currentTimeline.currentTime+(x??0)+y.delay,easing:""},te=new Tr(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,L,y.stretchStartingKeyframe);return this.timelines.push(te),L}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,v,x,L,te,ye){let ge=[];if(L&&ge.push(this.element),y.length>0){y=(y=y.replace(Vt,"."+this._enterClassName)).replace(St,"."+this._leaveClassName);let Xe=this._driver.query(this.element,y,1!=x);0!==x&&(Xe=x<0?Xe.slice(Xe.length+x,Xe.length):Xe.slice(0,x)),ge.push(...Xe)}return!te&&0==ge.length&&ye.push(function Oi(U){return new R.vHH(3014,!1)}()),ge}}class qr{constructor(y,v,x,L){this._driver=y,this.element=v,this.startTime=x,this._elementTimelineStylesLookup=L,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(v),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(v,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const v=1===this._keyframes.size&&this._pendingStyles.size;this.duration||v?(this.forwardTime(this.currentTime+y),v&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,v){return this.applyStylesToKeyframe(),new qr(this._driver,y,v||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,v){this._localTimelineStyles.set(y,v),this._globalTimelineStyles.set(y,v),this._styleSummary.set(y,{time:this.currentTime,value:v})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[v,x]of this._globalTimelineStyles)this._backFill.set(v,x||kn.l3),this._currentKeyframe.set(v,kn.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,v,x,L){v&&this._previousKeyframe.set("easing",v);const te=L&&L.params||{},ye=function Hr(U,y){const v=new Map;let x;return U.forEach(L=>{if("*"===L){x=x||y.keys();for(let te of x)v.set(te,kn.l3)}else Wn(L,v)}),v}(y,this._globalTimelineStyles);for(let[ge,Le]of ye){const Xe=ps(Le,te,x);this._pendingStyles.set(ge,Xe),this._localTimelineStyles.has(ge)||this._backFill.set(ge,this._globalTimelineStyles.get(ge)??kn.l3),this._updateStyle(ge,Xe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,v)=>{this._currentKeyframe.set(v,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,v)=>{this._currentKeyframe.has(v)||this._currentKeyframe.set(v,y)}))}snapshotCurrentStyles(){for(let[y,v]of this._localTimelineStyles)this._pendingStyles.set(y,v),this._updateStyle(y,v)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let v in this._currentKeyframe)y.push(v);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((v,x)=>{const L=this._styleSummary.get(x);(!L||v.time>L.time)&&this._updateStyle(x,v.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,v=new Set,x=1===this._keyframes.size&&0===this.duration;let L=[];this._keyframes.forEach((ge,Le)=>{const Xe=Wn(ge,new Map,this._backFill);Xe.forEach((Gt,on)=>{Gt===kn.k1?y.add(on):Gt===kn.l3&&v.add(on)}),x||Xe.set("offset",Le/this.duration),L.push(Xe)});const te=y.size?Vs(y.values()):[],ye=v.size?Vs(v.values()):[];if(x){const ge=L[0],Le=new Map(ge);ge.set("offset",0),Le.set("offset",1),L=[ge,Le]}return pe(this.element,L,te,ye,this.duration,this.startTime,this.easing,!1)}}class Tr extends qr{constructor(y,v,x,L,te,ye,ge=!1){super(y,v,ye.delay),this.keyframes=x,this.preStyleProps=L,this.postStyleProps=te,this._stretchStartingKeyframe=ge,this.timings={duration:ye.duration,delay:ye.delay,easing:ye.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:v,duration:x,easing:L}=this.timings;if(this._stretchStartingKeyframe&&v){const te=[],ye=x+v,ge=v/ye,Le=Wn(y[0]);Le.set("offset",0),te.push(Le);const Xe=Wn(y[0]);Xe.set("offset",Yr(ge)),te.push(Xe);const Gt=y.length-1;for(let on=1;on<=Gt;on++){let it=Wn(y[on]);const Sn=it.get("offset");it.set("offset",Yr((v+Sn*x)/ye)),te.push(it)}x=ye,v=0,L="",y=te}return pe(this.element,y,this.preStyleProps,this.postStyleProps,x,v,L,!0)}}function Yr(U,y=3){const v=Math.pow(10,y-1);return Math.round(U*v)/v}class _i{}const pr=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Gi extends _i{normalizePropertyName(y,v){return Ts(y)}normalizeStyleValue(y,v,x,L){let te="";const ye=x.toString().trim();if(pr.has(v)&&0!==x&&"0"!==x)if("number"==typeof x)te="px";else{const ge=x.match(/^[+-]?[\d\.]+([a-z]*)$/);ge&&0==ge[1].length&&L.push(function Bn(U,y){return new R.vHH(3005,!1)}())}return ye+te}}function er(U,y,v,x,L,te,ye,ge,Le,Xe,Gt,on,it){return{type:0,element:U,triggerName:y,isRemovalTransition:L,fromState:v,fromStyles:te,toState:x,toStyles:ye,timelines:ge,queriedElements:Le,preStyleProps:Xe,postStyleProps:Gt,totalTime:on,errors:it}}const js={};class oi{constructor(y,v,x){this._triggerName=y,this.ast=v,this._stateStyles=x}match(y,v,x,L){return function Ci(U,y,v,x,L){return U.some(te=>te(y,v,x,L))}(this.ast.matchers,y,v,x,L)}buildStyles(y,v,x){let L=this._stateStyles.get("*");return void 0!==y&&(L=this._stateStyles.get(y?.toString())||L),L?L.buildStyles(v,x):new Map}build(y,v,x,L,te,ye,ge,Le,Xe,Gt){const on=[],it=this.ast.options&&this.ast.options.params||js,In=this.buildStyles(x,ge&&ge.params||js,on),Zn=Le&&Le.params||js,Ht=this.buildStyles(L,Zn,on),tn=new Set,Hi=new Map,Ft=new Map,qe="void"===L,wt={params:ai(Zn,it),delay:this.ast.options?.delay},ci=Gt?[]:Pn(y,v,this.ast.animation,te,ye,In,Ht,wt,Xe,on);let vs=0;if(ci.forEach(qs=>{vs=Math.max(qs.duration+qs.delay,vs)}),on.length)return er(v,this._triggerName,x,L,qe,In,Ht,[],[],Hi,Ft,vs,on);ci.forEach(qs=>{const mo=qs.element,rs=Er(Hi,mo,new Set);qs.preStyleProps.forEach(Wo=>rs.add(Wo));const ea=Er(Ft,mo,new Set);qs.postStyleProps.forEach(Wo=>ea.add(Wo)),mo!==v&&tn.add(mo)});const dr=Vs(tn.values());return er(v,this._triggerName,x,L,qe,In,Ht,ci,dr,Hi,Ft,vs)}}function ai(U,y){const v=Ve(y);for(const x in U)U.hasOwnProperty(x)&&null!=U[x]&&(v[x]=U[x]);return v}class Xi{constructor(y,v,x){this.styles=y,this.defaultParams=v,this.normalizer=x}buildStyles(y,v){const x=new Map,L=Ve(this.defaultParams);return Object.keys(y).forEach(te=>{const ye=y[te];null!==ye&&(L[te]=ye)}),this.styles.styles.forEach(te=>{"string"!=typeof te&&te.forEach((ye,ge)=>{ye&&(ye=ps(ye,L,v));const Le=this.normalizer.normalizePropertyName(ge,v);ye=this.normalizer.normalizeStyleValue(ge,Le,ye,v),x.set(ge,ye)})}),x}}class Fi{constructor(y,v,x){this.name=y,this.ast=v,this._normalizer=x,this.transitionFactories=[],this.states=new Map,v.states.forEach(L=>{this.states.set(L.name,new Xi(L.style,L.options&&L.options.params||{},x))}),Ri(this.states,"true","1"),Ri(this.states,"false","0"),v.transitions.forEach(L=>{this.transitionFactories.push(new oi(y,L,this.states))}),this.fallbackTransition=function pa(U,y,v){return new oi(U,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ye,ge)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,v,x,L){return this.transitionFactories.find(ye=>ye.match(y,v,x,L))||null}matchStyles(y,v,x){return this.fallbackTransition.buildStyles(y,v,x)}}function Ri(U,y,v){U.has(y)?U.has(v)||U.set(v,U.get(y)):U.has(v)&&U.set(y,U.get(v))}const xi=new we;class $o{constructor(y,v,x){this.bodyNode=y,this._driver=v,this._normalizer=x,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,v){const x=[],te=Ns(this._driver,v,x,[]);if(x.length)throw function Cn(U){return new R.vHH(3503,!1)}();this._animations.set(y,te)}_buildPlayer(y,v,x){const L=y.element,te=Mn(this._normalizer,y.keyframes,v,x);return this._driver.animate(L,te,y.duration,y.delay,y.easing,[],!0)}create(y,v,x={}){const L=[],te=this._animations.get(y);let ye;const ge=new Map;if(te?(ye=Pn(this._driver,v,te,fi,or,new Map,new Map,x,xi,L),ye.forEach(Gt=>{const on=Er(ge,Gt.element,new Map);Gt.postStyleProps.forEach(it=>on.set(it,null))})):(L.push(function vr(){return new R.vHH(3300,!1)}()),ye=[]),L.length)throw function Hn(U){return new R.vHH(3504,!1)}();ge.forEach((Gt,on)=>{Gt.forEach((it,Sn)=>{Gt.set(Sn,this._driver.computeStyle(on,Sn,kn.l3))})});const Xe=ln(ye.map(Gt=>{const on=ge.get(Gt.element);return this._buildPlayer(Gt,new Map,on)}));return this._playersById.set(y,Xe),Xe.onDestroy(()=>this.destroy(y)),this.players.push(Xe),Xe}destroy(y){const v=this._getPlayer(y);v.destroy(),this._playersById.delete(y);const x=this.players.indexOf(v);x>=0&&this.players.splice(x,1)}_getPlayer(y){const v=this._playersById.get(y);if(!v)throw function Fr(U){return new R.vHH(3301,!1)}();return v}listen(y,v,x,L){const te=$r(v,"","","");return Jn(this._getPlayer(y),x,te,L),()=>{}}command(y,v,x,L){if("register"==x)return void this.register(y,L[0]);if("create"==x)return void this.create(y,v,L[0]||{});const te=this._getPlayer(y);switch(x){case"play":te.play();break;case"pause":te.pause();break;case"reset":te.reset();break;case"restart":te.restart();break;case"finish":te.finish();break;case"init":te.init();break;case"setPosition":te.setPosition(parseFloat(L[0]));break;case"destroy":this.destroy(y)}}}const Os="ng-animate-queued",Xr="ng-animate-disabled",O=[],X={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ce={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qt="__ng_removed";class Kn{get params(){return this.options.params}constructor(y,v=""){this.namespaceId=v;const x=y&&y.hasOwnProperty("value");if(this.value=function zi(U){return U??null}(x?y.value:y),x){const te=Ve(y);delete te.value,this.options=te}else this.options={};this.options.params||(this.options.params={})}absorbOptions(y){const v=y.params;if(v){const x=this.options.params;Object.keys(v).forEach(L=>{null==x[L]&&(x[L]=v[L])})}}}const Li="void",ys=new Kn(Li);class $s{constructor(y,v,x){this.id=y,this.hostElement=v,this._engine=x,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,ls(v,this._hostClassName)}listen(y,v,x,L){if(!this._triggers.has(v))throw function Te(U,y){return new R.vHH(3302,!1)}();if(null==x||0==x.length)throw function J(U){return new R.vHH(3303,!1)}();if(!function ma(U){return"start"==U||"done"==U}(x))throw function re(U,y){return new R.vHH(3400,!1)}();const te=Er(this._elementListeners,y,[]),ye={name:v,phase:x,callback:L};te.push(ye);const ge=Er(this._engine.statesByElement,y,new Map);return ge.has(v)||(ls(y,$i),ls(y,$i+"-"+v),ge.set(v,ys)),()=>{this._engine.afterFlush(()=>{const Le=te.indexOf(ye);Le>=0&&te.splice(Le,1),this._triggers.has(v)||ge.delete(v)})}}register(y,v){return!this._triggers.has(y)&&(this._triggers.set(y,v),!0)}_getTrigger(y){const v=this._triggers.get(y);if(!v)throw function ne(U){return new R.vHH(3401,!1)}();return v}trigger(y,v,x,L=!0){const te=this._getTrigger(v),ye=new es(this.id,v,y);let ge=this._engine.statesByElement.get(y);ge||(ls(y,$i),ls(y,$i+"-"+v),this._engine.statesByElement.set(y,ge=new Map));let Le=ge.get(v);const Xe=new Kn(x,this.id);if(!(x&&x.hasOwnProperty("value"))&&Le&&Xe.absorbOptions(Le.options),ge.set(v,Xe),Le||(Le=ys),Xe.value!==Li&&Le.value===Xe.value){if(!function ts(U,y){const v=Object.keys(U),x=Object.keys(y);if(v.length!=x.length)return!1;for(let L=0;L<v.length;L++){const te=v[L];if(!y.hasOwnProperty(te)||U[te]!==y[te])return!1}return!0}(Le.params,Xe.params)){const Zn=[],Ht=te.matchStyles(Le.value,Le.params,Zn),tn=te.matchStyles(Xe.value,Xe.params,Zn);Zn.length?this._engine.reportError(Zn):this._engine.afterFlush(()=>{rr(y,Ht),xn(y,tn)})}return}const it=Er(this._engine.playersByElement,y,[]);it.forEach(Zn=>{Zn.namespaceId==this.id&&Zn.triggerName==v&&Zn.queued&&Zn.destroy()});let Sn=te.matchTransition(Le.value,Xe.value,y,Xe.params),In=!1;if(!Sn){if(!L)return;Sn=te.fallbackTransition,In=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:v,transition:Sn,fromState:Le,toState:Xe,player:ye,isFallbackTransition:In}),In||(ls(y,Os),ye.onStart(()=>{ro(y,Os)})),ye.onDone(()=>{let Zn=this.players.indexOf(ye);Zn>=0&&this.players.splice(Zn,1);const Ht=this._engine.playersByElement.get(y);if(Ht){let tn=Ht.indexOf(ye);tn>=0&&Ht.splice(tn,1)}}),this.players.push(ye),it.push(ye),ye}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(v=>v.delete(y)),this._elementListeners.forEach((v,x)=>{this._elementListeners.set(x,v.filter(L=>L.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const v=this._engine.playersByElement.get(y);v&&(v.forEach(x=>x.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,v){const x=this._engine.driver.query(y,Zr,!0);x.forEach(L=>{if(L[qt])return;const te=this._engine.fetchNamespacesByElement(L);te.size?te.forEach(ye=>ye.triggerLeaveAnimation(L,v,!1,!0)):this.clearElementCache(L)}),this._engine.afterFlushAnimationsDone(()=>x.forEach(L=>this.clearElementCache(L)))}triggerLeaveAnimation(y,v,x,L){const te=this._engine.statesByElement.get(y),ye=new Map;if(te){const ge=[];if(te.forEach((Le,Xe)=>{if(ye.set(Xe,Le.value),this._triggers.has(Xe)){const Gt=this.trigger(y,Xe,Li,L);Gt&&ge.push(Gt)}}),ge.length)return this._engine.markElementAsRemoved(this.id,y,!0,v,ye),x&&ln(ge).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const v=this._elementListeners.get(y),x=this._engine.statesByElement.get(y);if(v&&x){const L=new Set;v.forEach(te=>{const ye=te.name;if(L.has(ye))return;L.add(ye);const Le=this._triggers.get(ye).fallbackTransition,Xe=x.get(ye)||ys,Gt=new Kn(Li),on=new es(this.id,ye,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:ye,transition:Le,fromState:Xe,toState:Gt,player:on,isFallbackTransition:!0})})}}removeNode(y,v){const x=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,v),this.triggerLeaveAnimation(y,v,!0))return;let L=!1;if(x.totalAnimations){const te=x.players.length?x.playersByQueriedElement.get(y):[];if(te&&te.length)L=!0;else{let ye=y;for(;ye=ye.parentNode;)if(x.statesByElement.get(ye)){L=!0;break}}}if(this.prepareLeaveAnimationListeners(y),L)x.markElementAsRemoved(this.id,y,!1,v);else{const te=y[qt];(!te||te===X)&&(x.afterFlush(()=>this.clearElementCache(y)),x.destroyInnerAnimations(y),x._onRemovalComplete(y,v))}}insertNode(y,v){ls(y,this._hostClassName)}drainQueuedTransitions(y){const v=[];return this._queue.forEach(x=>{const L=x.player;if(L.destroyed)return;const te=x.element,ye=this._elementListeners.get(te);ye&&ye.forEach(ge=>{if(ge.name==x.triggerName){const Le=$r(te,x.triggerName,x.fromState.value,x.toState.value);Le._data=y,Jn(x.player,ge.phase,Le,ge.callback)}}),L.markedForDestroy?this._engine.afterFlush(()=>{L.destroy()}):v.push(x)}),this._queue=[],v.sort((x,L)=>{const te=x.transition.ast.depCount,ye=L.transition.ast.depCount;return 0==te||0==ye?te-ye:this._engine.driver.containsElement(x.element,L.element)?1:-1})}destroy(y){this.players.forEach(v=>v.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}}class bo{_onRemovalComplete(y,v){this.onRemovalComplete(y,v)}constructor(y,v,x){this.bodyNode=y,this.driver=v,this._normalizer=x,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(L,te)=>{}}get queuedPlayers(){const y=[];return this._namespaceList.forEach(v=>{v.players.forEach(x=>{x.queued&&y.push(x)})}),y}createNamespace(y,v){const x=new $s(y,v,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,v)?this._balanceNamespaceList(x,v):(this.newHostElements.set(v,x),this.collectEnterElement(v)),this._namespaceLookup[y]=x}_balanceNamespaceList(y,v){const x=this._namespaceList,L=this.namespacesByHostElement;if(x.length-1>=0){let ye=!1,ge=this.driver.getParentElement(v);for(;ge;){const Le=L.get(ge);if(Le){const Xe=x.indexOf(Le);x.splice(Xe+1,0,y),ye=!0;break}ge=this.driver.getParentElement(ge)}ye||x.unshift(y)}else x.push(y);return L.set(v,y),y}register(y,v){let x=this._namespaceLookup[y];return x||(x=this.createNamespace(y,v)),x}registerTrigger(y,v,x){let L=this._namespaceLookup[y];L&&L.register(v,x)&&this.totalAnimations++}destroy(y,v){y&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const x=this._fetchNamespace(y);this.namespacesByHostElement.delete(x.hostElement);const L=this._namespaceList.indexOf(x);L>=0&&this._namespaceList.splice(L,1),x.destroy(v),delete this._namespaceLookup[y]}))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const v=new Set,x=this.statesByElement.get(y);if(x)for(let L of x.values())if(L.namespaceId){const te=this._fetchNamespace(L.namespaceId);te&&v.add(te)}return v}trigger(y,v,x,L){if(ga(v)){const te=this._fetchNamespace(y);if(te)return te.trigger(v,x,L),!0}return!1}insertNode(y,v,x,L){if(!ga(v))return;const te=v[qt];if(te&&te.setForRemoval){te.setForRemoval=!1,te.setForMove=!0;const ye=this.collectedLeaveElements.indexOf(v);ye>=0&&this.collectedLeaveElements.splice(ye,1)}if(y){const ye=this._fetchNamespace(y);ye&&ye.insertNode(v,x)}L&&this.collectEnterElement(v)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,v){v?this.disabledNodes.has(y)||(this.disabledNodes.add(y),ls(y,Xr)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),ro(y,Xr))}removeNode(y,v,x){if(ga(v)){const L=y?this._fetchNamespace(y):null;L?L.removeNode(v,x):this.markElementAsRemoved(y,v,!1,x);const te=this.namespacesByHostElement.get(v);te&&te.id!==y&&te.removeNode(v,x)}else this._onRemovalComplete(v,x)}markElementAsRemoved(y,v,x,L,te){this.collectedLeaveElements.push(v),v[qt]={namespaceId:y,setForRemoval:L,hasAnimation:x,removedBeforeQueried:!1,previousTriggersValues:te}}listen(y,v,x,L,te){return ga(v)?this._fetchNamespace(y).listen(v,x,L,te):()=>{}}_buildInstruction(y,v,x,L,te){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,x,L,y.fromState.options,y.toState.options,v,te)}destroyInnerAnimations(y){let v=this.driver.query(y,Zr,!0);v.forEach(x=>this.destroyActiveAnimationsForElement(x)),0!=this.playersByQueriedElement.size&&(v=this.driver.query(y,Vi,!0),v.forEach(x=>this.finishActiveQueriedAnimationOnElement(x)))}destroyActiveAnimationsForElement(y){const v=this.playersByElement.get(y);v&&v.forEach(x=>{x.queued?x.markedForDestroy=!0:x.destroy()})}finishActiveQueriedAnimationOnElement(y){const v=this.playersByQueriedElement.get(y);v&&v.forEach(x=>x.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return ln(this.players).onDone(()=>y());y()})}processLeaveNode(y){const v=y[qt];if(v&&v.setForRemoval){if(y[qt]=X,v.namespaceId){this.destroyInnerAnimations(y);const x=this._fetchNamespace(v.namespaceId);x&&x.clearElementCache(y)}this._onRemovalComplete(y,v.setForRemoval)}y.classList?.contains(Xr)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(x=>{this.markElementAsDisabled(x,!1)})}flush(y=-1){let v=[];if(this.newHostElements.size&&(this.newHostElements.forEach((x,L)=>this._balanceNamespaceList(x,L)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let x=0;x<this.collectedEnterElements.length;x++)ls(this.collectedEnterElements[x],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const x=[];try{v=this._flushAnimations(x,y)}finally{for(let L=0;L<x.length;L++)x[L]()}}else for(let x=0;x<this.collectedLeaveElements.length;x++)this.processLeaveNode(this.collectedLeaveElements[x]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(x=>x()),this._flushFns=[],this._whenQuietFns.length){const x=this._whenQuietFns;this._whenQuietFns=[],v.length?ln(v).onDone(()=>{x.forEach(L=>L())}):x.forEach(L=>L())}}reportError(y){throw function ee(U){return new R.vHH(3402,!1)}()}_flushAnimations(y,v){const x=new we,L=[],te=new Map,ye=[],ge=new Map,Le=new Map,Xe=new Map,Gt=new Set;this.disabledNodes.forEach(rn=>{Gt.add(rn);const Vn=this.driver.query(rn,".ng-animate-queued",!0);for(let Mt=0;Mt<Vn.length;Mt++)Gt.add(Vn[Mt])});const on=this.bodyNode,it=Array.from(this.statesByElement.keys()),Sn=ya(it,this.collectedEnterElements),In=new Map;let Zn=0;Sn.forEach((rn,Vn)=>{const Mt=fi+Zn++;In.set(Vn,Mt),rn.forEach(ur=>ls(ur,Mt))});const Ht=[],tn=new Set,Hi=new Set;for(let rn=0;rn<this.collectedLeaveElements.length;rn++){const Vn=this.collectedLeaveElements[rn],Mt=Vn[qt];Mt&&Mt.setForRemoval&&(Ht.push(Vn),tn.add(Vn),Mt.hasAnimation?this.driver.query(Vn,".ng-star-inserted",!0).forEach(ur=>tn.add(ur)):Hi.add(Vn))}const Ft=new Map,qe=ya(it,Array.from(tn));qe.forEach((rn,Vn)=>{const Mt=or+Zn++;Ft.set(Vn,Mt),rn.forEach(ur=>ls(ur,Mt))}),y.push(()=>{Sn.forEach((rn,Vn)=>{const Mt=In.get(Vn);rn.forEach(ur=>ro(ur,Mt))}),qe.forEach((rn,Vn)=>{const Mt=Ft.get(Vn);rn.forEach(ur=>ro(ur,Mt))}),Ht.forEach(rn=>{this.processLeaveNode(rn)})});const wt=[],ci=[];for(let rn=this._namespaceList.length-1;rn>=0;rn--)this._namespaceList[rn].drainQueuedTransitions(v).forEach(Mt=>{const ur=Mt.player,Lr=Mt.element;if(wt.push(ur),this.collectedEnterElements.length){const kt=Lr[qt];if(kt&&kt.setForMove){if(kt.previousTriggersValues&&kt.previousTriggersValues.has(Mt.triggerName)){const Ws=kt.previousTriggersValues.get(Mt.triggerName),is=this.statesByElement.get(Mt.element);if(is&&is.has(Mt.triggerName)){const oo=is.get(Mt.triggerName);oo.value=Ws,is.set(Mt.triggerName,oo)}}return void ur.destroy()}}const Wr=!on||!this.driver.containsElement(on,Lr),nn=Ft.get(Lr),ks=In.get(Lr),Un=this._buildInstruction(Mt,x,ks,nn,Wr);if(Un.errors&&Un.errors.length)return void ci.push(Un);if(Wr)return ur.onStart(()=>rr(Lr,Un.fromStyles)),ur.onDestroy(()=>xn(Lr,Un.toStyles)),void L.push(ur);if(Mt.isFallbackTransition)return ur.onStart(()=>rr(Lr,Un.fromStyles)),ur.onDestroy(()=>xn(Lr,Un.toStyles)),void L.push(ur);const Ha=[];Un.timelines.forEach(kt=>{kt.stretchStartingKeyframe=!0,this.disabledNodes.has(kt.element)||Ha.push(kt)}),Un.timelines=Ha,x.append(Lr,Un.timelines),ye.push({instruction:Un,player:ur,element:Lr}),Un.queriedElements.forEach(kt=>Er(ge,kt,[]).push(ur)),Un.preStyleProps.forEach((kt,Ws)=>{if(kt.size){let is=Le.get(Ws);is||Le.set(Ws,is=new Set),kt.forEach((oo,Ga)=>is.add(Ga))}}),Un.postStyleProps.forEach((kt,Ws)=>{let is=Xe.get(Ws);is||Xe.set(Ws,is=new Set),kt.forEach((oo,Ga)=>is.add(Ga))})});if(ci.length){const rn=[];ci.forEach(Vn=>{rn.push(function yt(U,y){return new R.vHH(3505,!1)}())}),wt.forEach(Vn=>Vn.destroy()),this.reportError(rn)}const vs=new Map,dr=new Map;ye.forEach(rn=>{const Vn=rn.element;x.has(Vn)&&(dr.set(Vn,Vn),this._beforeAnimationBuild(rn.player.namespaceId,rn.instruction,vs))}),L.forEach(rn=>{const Vn=rn.element;this._getPreviousPlayers(Vn,!1,rn.namespaceId,rn.triggerName,null).forEach(ur=>{Er(vs,Vn,[]).push(ur),ur.destroy()})});const qs=Ht.filter(rn=>_a(rn,Le,Xe)),mo=new Map;Hs(mo,this.driver,Hi,Xe,kn.l3).forEach(rn=>{_a(rn,Le,Xe)&&qs.push(rn)});const ea=new Map;Sn.forEach((rn,Vn)=>{Hs(ea,this.driver,new Set(rn),Le,kn.k1)}),qs.forEach(rn=>{const Vn=mo.get(rn),Mt=ea.get(rn);mo.set(rn,new Map([...Vn?.entries()??[],...Mt?.entries()??[]]))});const Wo=[],Ao=[],so={};ye.forEach(rn=>{const{element:Vn,player:Mt,instruction:ur}=rn;if(x.has(Vn)){if(Gt.has(Vn))return Mt.onDestroy(()=>xn(Vn,ur.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(ur.totalTime),void L.push(Mt);let Lr=so;if(dr.size>1){let nn=Vn;const ks=[];for(;nn=nn.parentNode;){const Un=dr.get(nn);if(Un){Lr=Un;break}ks.push(nn)}ks.forEach(Un=>dr.set(Un,Lr))}const Wr=this._buildAnimation(Mt.namespaceId,ur,vs,te,ea,mo);if(Mt.setRealPlayer(Wr),Lr===so)Wo.push(Mt);else{const nn=this.playersByElement.get(Lr);nn&&nn.length&&(Mt.parentPlayer=ln(nn)),L.push(Mt)}}else rr(Vn,ur.fromStyles),Mt.onDestroy(()=>xn(Vn,ur.toStyles)),Ao.push(Mt),Gt.has(Vn)&&L.push(Mt)}),Ao.forEach(rn=>{const Vn=te.get(rn.element);if(Vn&&Vn.length){const Mt=ln(Vn);rn.setRealPlayer(Mt)}}),L.forEach(rn=>{rn.parentPlayer?rn.syncPlayerEvents(rn.parentPlayer):rn.destroy()});for(let rn=0;rn<Ht.length;rn++){const Vn=Ht[rn],Mt=Vn[qt];if(ro(Vn,or),Mt&&Mt.hasAnimation)continue;let ur=[];if(ge.size){let Wr=ge.get(Vn);Wr&&Wr.length&&ur.push(...Wr);let nn=this.driver.query(Vn,Vi,!0);for(let ks=0;ks<nn.length;ks++){let Un=ge.get(nn[ks]);Un&&Un.length&&ur.push(...Un)}}const Lr=ur.filter(Wr=>!Wr.destroyed);Lr.length?Jo(this,Vn,Lr):this.processLeaveNode(Vn)}return Ht.length=0,Wo.forEach(rn=>{this.players.push(rn),rn.onDone(()=>{rn.destroy();const Vn=this.players.indexOf(rn);this.players.splice(Vn,1)}),rn.play()}),Wo}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,v,x,L,te){let ye=[];if(v){const ge=this.playersByQueriedElement.get(y);ge&&(ye=ge)}else{const ge=this.playersByElement.get(y);if(ge){const Le=!te||te==Li;ge.forEach(Xe=>{Xe.queued||!Le&&Xe.triggerName!=L||ye.push(Xe)})}}return(x||L)&&(ye=ye.filter(ge=>!(x&&x!=ge.namespaceId||L&&L!=ge.triggerName))),ye}_beforeAnimationBuild(y,v,x){const te=v.element,ye=v.isRemovalTransition?void 0:y,ge=v.isRemovalTransition?void 0:v.triggerName;for(const Le of v.timelines){const Xe=Le.element,Gt=Xe!==te,on=Er(x,Xe,[]);this._getPreviousPlayers(Xe,Gt,ye,ge,v.toState).forEach(Sn=>{const In=Sn.getRealPlayer();In.beforeDestroy&&In.beforeDestroy(),Sn.destroy(),on.push(Sn)})}rr(te,v.fromStyles)}_buildAnimation(y,v,x,L,te,ye){const ge=v.triggerName,Le=v.element,Xe=[],Gt=new Set,on=new Set,it=v.timelines.map(In=>{const Zn=In.element;Gt.add(Zn);const Ht=Zn[qt];if(Ht&&Ht.removedBeforeQueried)return new kn.ZN(In.duration,In.delay);const tn=Zn!==Le,Hi=function fo(U){const y=[];return Ps(U,y),y}((x.get(Zn)||O).map(vs=>vs.getRealPlayer())).filter(vs=>!!vs.element&&vs.element===Zn),Ft=te.get(Zn),qe=ye.get(Zn),wt=Mn(this._normalizer,In.keyframes,Ft,qe),ci=this._buildPlayer(In,wt,Hi);if(In.subTimeline&&L&&on.add(Zn),tn){const vs=new es(y,ge,Zn);vs.setRealPlayer(ci),Xe.push(vs)}return ci});Xe.forEach(In=>{Er(this.playersByQueriedElement,In.element,[]).push(In),In.onDone(()=>function Go(U,y,v){let x=U.get(y);if(x){if(x.length){const L=x.indexOf(v);x.splice(L,1)}0==x.length&&U.delete(y)}return x}(this.playersByQueriedElement,In.element,In))}),Gt.forEach(In=>ls(In,pi));const Sn=ln(it);return Sn.onDestroy(()=>{Gt.forEach(In=>ro(In,pi)),xn(Le,v.toStyles)}),on.forEach(In=>{Er(L,In,[]).push(Sn)}),Sn}_buildPlayer(y,v,x){return v.length>0?this.driver.animate(y.element,v,y.duration,y.delay,y.easing,x):new kn.ZN(y.duration,y.delay)}}class es{constructor(y,v,x){this.namespaceId=y,this.triggerName=v,this.element=x,this._player=new kn.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((v,x)=>{v.forEach(L=>Jn(y,x,void 0,L))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const v=this._player;v.triggerCallback&&y.onStart(()=>v.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,v){Er(this._queuedCallbacks,y,[]).push(v)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const v=this._player;v.triggerCallback&&v.triggerCallback(y)}}function ga(U){return U&&1===U.nodeType}function Pa(U,y){const v=U.style.display;return U.style.display=y??"none",v}function Hs(U,y,v,x,L){const te=[];v.forEach(Le=>te.push(Pa(Le)));const ye=[];x.forEach((Le,Xe)=>{const Gt=new Map;Le.forEach(on=>{const it=y.computeStyle(Xe,on,L);Gt.set(on,it),(!it||0==it.length)&&(Xe[qt]=Ce,ye.push(Xe))}),U.set(Xe,Gt)});let ge=0;return v.forEach(Le=>Pa(Le,te[ge++])),ye}function ya(U,y){const v=new Map;if(U.forEach(ge=>v.set(ge,[])),0==y.length)return v;const L=new Set(y),te=new Map;function ye(ge){if(!ge)return 1;let Le=te.get(ge);if(Le)return Le;const Xe=ge.parentNode;return Le=v.has(Xe)?Xe:L.has(Xe)?1:ye(Xe),te.set(ge,Le),Le}return y.forEach(ge=>{const Le=ye(ge);1!==Le&&v.get(Le).push(ge)}),v}function ls(U,y){U.classList?.add(y)}function ro(U,y){U.classList?.remove(y)}function Jo(U,y,v){ln(v).onDone(()=>U.processLeaveNode(y))}function Ps(U,y){for(let v=0;v<U.length;v++){const x=U[v];x instanceof kn.ZE?Ps(x.players,y):y.push(x)}}function _a(U,y,v){const x=v.get(U);if(!x)return!1;let L=y.get(U);return L?x.forEach(te=>L.add(te)):y.set(U,x),v.delete(U),!0}class Sr{constructor(y,v,x){this.bodyNode=y,this._driver=v,this._normalizer=x,this._triggerCache={},this.onRemovalComplete=(L,te)=>{},this._transitionEngine=new bo(y,v,x),this._timelineEngine=new $o(y,v,x),this._transitionEngine.onRemovalComplete=(L,te)=>this.onRemovalComplete(L,te)}registerTrigger(y,v,x,L,te){const ye=y+"-"+L;let ge=this._triggerCache[ye];if(!ge){const Le=[],Gt=Ns(this._driver,te,Le,[]);if(Le.length)throw function bi(U,y){return new R.vHH(3404,!1)}();ge=function Do(U,y,v){return new Fi(U,y,v)}(L,Gt,this._normalizer),this._triggerCache[ye]=ge}this._transitionEngine.registerTrigger(v,L,ge)}register(y,v){this._transitionEngine.register(y,v)}destroy(y,v){this._transitionEngine.destroy(y,v)}onInsert(y,v,x,L){this._transitionEngine.insertNode(y,v,x,L)}onRemove(y,v,x){this._transitionEngine.removeNode(y,v,x)}disableAnimations(y,v){this._transitionEngine.markElementAsDisabled(y,v)}process(y,v,x,L){if("@"==x.charAt(0)){const[te,ye]=mi(x);this._timelineEngine.command(te,v,ye,L)}else this._transitionEngine.trigger(y,v,x,L)}listen(y,v,x,L,te){if("@"==x.charAt(0)){const[ye,ge]=mi(x);return this._timelineEngine.listen(ye,v,ge,te)}return this._transitionEngine.listen(y,v,x,L,te)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(y){this._transitionEngine.afterFlushAnimationsDone(y)}}let _s=(()=>{class U{static#e=this.initialStylesByElement=new WeakMap;constructor(v,x,L){this._element=v,this._startStyles=x,this._endStyles=L,this._state=0;let te=U.initialStylesByElement.get(v);te||U.initialStylesByElement.set(v,te=new Map),this._initialStyles=te}start(){this._state<1&&(this._startStyles&&xn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xn(this._element,this._initialStyles),this._endStyles&&(xn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(U.initialStylesByElement.delete(this._element),this._startStyles&&(rr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rr(this._element,this._endStyles),this._endStyles=null),xn(this._element,this._initialStyles),this._state=3)}}return U})();function Gs(U){let y=null;return U.forEach((v,x)=>{(function ba(U){return"display"===U||"position"===U})(x)&&(y=y||new Map,y.set(x,v))}),y}class ns{constructor(y,v,x,L){this.element=y,this.keyframes=v,this.options=x,this._specialStyles=L,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=x.duration,this._delay=x.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map;const v=()=>this._onFinish();this.domPlayer.addEventListener("finish",v),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",v)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const v=[];return y.forEach(x=>{v.push(Object.fromEntries(x))}),v}_triggerWebAnimation(y,v,x){return y.animate(this._convertKeyframesToObject(v),x)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((x,L)=>{"offset"!==L&&y.set(L,this._finished?x:cs(this.element,L))}),this.currentSnapshot=y}triggerCallback(y){const v="start"===y?this._onStartFns:this._onDoneFns;v.forEach(x=>x()),v.length=0}}class zo{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,v){return!1}containsElement(y,v){return ti(y,v)}getParentElement(y){return st(y)}query(y,v,x){return Ir(y,v,x)}computeStyle(y,v,x){return window.getComputedStyle(y)[v]}animate(y,v,x,L,te,ye=[]){const Le={duration:x,delay:L,fill:0==L?"both":"forwards"};te&&(Le.easing=te);const Xe=new Map,Gt=ye.filter(Sn=>Sn instanceof ns);(function us(U,y){return 0===U||0===y})(x,L)&&Gt.forEach(Sn=>{Sn.currentSnapshot.forEach((In,Zn)=>Xe.set(Zn,In))});let on=function Pt(U){return U.length?U[0]instanceof Map?U:U.map(y=>mt(y)):[]}(v).map(Sn=>Wn(Sn));on=function co(U,y,v){if(v.size&&y.length){let x=y[0],L=[];if(v.forEach((te,ye)=>{x.has(ye)||L.push(ye),x.set(ye,te)}),L.length)for(let te=1;te<y.length;te++){let ye=y[te];L.forEach(ge=>ye.set(ge,cs(U,ge)))}}return y}(y,on,Xe);const it=function Co(U,y){let v=null,x=null;return Array.isArray(y)&&y.length?(v=Gs(y[0]),y.length>1&&(x=Gs(y[y.length-1]))):y instanceof Map&&(v=Gs(y)),v||x?new _s(U,v,x):null}(y,on);return new ns(y,on,Le,it)}}let xr=(()=>{class U extends kn._j{constructor(v,x){super(),this._nextAnimationId=0,this._renderer=v.createRenderer(x.body,{id:"0",encapsulation:R.ifc.None,styles:[],data:{animation:[]}})}build(v){const x=this._nextAnimationId.toString();this._nextAnimationId++;const L=Array.isArray(v)?(0,kn.vP)(v):v;return zs(this._renderer,null,x,"register",[L]),new Ca(x,this._renderer)}static#e=this.\u0275fac=function(x){return new(x||U)(R.LFG(R.FYo),R.LFG(je.K0))};static#t=this.\u0275prov=R.Yz7({token:U,factory:U.\u0275fac})}return U})();class Ca extends kn.LC{constructor(y,v){super(),this._id=y,this._renderer=v}create(y,v){return new qo(this._id,y,v||{},this._renderer)}}class qo{constructor(y,v,x,L){this.id=y,this.element=v,this._renderer=L,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",x)}_listen(y,v){return this._renderer.listen(this.element,`@@${this.id}:${y}`,v)}_command(y,...v){return zs(this._renderer,this.element,this.id,y,v)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function zs(U,y,v,x,L){return U.setProperty(y,`@@${v}:${x}`,L)}const va="@.disabled";let io=(()=>{class U{constructor(v,x,L){this.delegate=v,this.engine=x,this._zone=L,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,x.onRemovalComplete=(te,ye)=>{const ge=ye?.parentNode(te);ge&&ye.removeChild(ge,te)}}createRenderer(v,x){const te=this.delegate.createRenderer(v,x);if(!(v&&x&&x.data&&x.data.animation)){let Gt=this._rendererCache.get(te);return Gt||(Gt=new So("",te,this.engine,()=>this._rendererCache.delete(te)),this._rendererCache.set(te,Gt)),Gt}const ye=x.id,ge=x.id+"-"+this._currentId;this._currentId++,this.engine.register(ge,v);const Le=Gt=>{Array.isArray(Gt)?Gt.forEach(Le):this.engine.registerTrigger(ye,ge,v,Gt.name,Gt)};return x.data.animation.forEach(Le),new go(this,ge,te,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(v,x,L){v>=0&&v<this._microtaskId?this._zone.run(()=>x(L)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(te=>{const[ye,ge]=te;ye(ge)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([x,L]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(x){return new(x||U)(R.LFG(R.FYo),R.LFG(Sr),R.LFG(R.R0b))};static#t=this.\u0275prov=R.Yz7({token:U,factory:U.\u0275fac})}return U})();class So{constructor(y,v,x,L){this.namespaceId=y,this.delegate=v,this.engine=x,this._onDestroy=L}get data(){return this.delegate.data}destroyNode(y){this.delegate.destroyNode?.(y)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(y,v){return this.delegate.createElement(y,v)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,v){this.delegate.appendChild(y,v),this.engine.onInsert(this.namespaceId,v,y,!1)}insertBefore(y,v,x,L=!0){this.delegate.insertBefore(y,v,x),this.engine.onInsert(this.namespaceId,v,y,L)}removeChild(y,v,x){this.engine.onRemove(this.namespaceId,v,this.delegate)}selectRootElement(y,v){return this.delegate.selectRootElement(y,v)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,v,x,L){this.delegate.setAttribute(y,v,x,L)}removeAttribute(y,v,x){this.delegate.removeAttribute(y,v,x)}addClass(y,v){this.delegate.addClass(y,v)}removeClass(y,v){this.delegate.removeClass(y,v)}setStyle(y,v,x,L){this.delegate.setStyle(y,v,x,L)}removeStyle(y,v,x){this.delegate.removeStyle(y,v,x)}setProperty(y,v,x){"@"==v.charAt(0)&&v==va?this.disableAnimations(y,!!x):this.delegate.setProperty(y,v,x)}setValue(y,v){this.delegate.setValue(y,v)}listen(y,v,x){return this.delegate.listen(y,v,x)}disableAnimations(y,v){this.engine.disableAnimations(y,v)}}class go extends So{constructor(y,v,x,L,te){super(v,x,L,te),this.factory=y,this.namespaceId=v}setProperty(y,v,x){"@"==v.charAt(0)?"."==v.charAt(1)&&v==va?this.disableAnimations(y,x=void 0===x||!!x):this.engine.process(this.namespaceId,y,v.slice(1),x):this.delegate.setProperty(y,v,x)}listen(y,v,x){if("@"==v.charAt(0)){const L=function Ss(U){switch(U){case"body":return document.body;case"document":return document;case"window":return window;default:return U}}(y);let te=v.slice(1),ye="";return"@"!=te.charAt(0)&&([te,ye]=function As(U){const y=U.indexOf(".");return[U.substring(0,y),U.slice(y+1)]}(te)),this.engine.listen(this.namespaceId,L,te,ye,ge=>{this.factory.scheduleListenerCallback(ge._data||-1,x,ge)})}return this.delegate.listen(y,v,x)}}const Z=[{provide:kn._j,useClass:xr},{provide:_i,useFactory:function Xo(){return new Gi}},{provide:Sr,useClass:(()=>{class U extends Sr{constructor(v,x,L,te){super(v.body,x,L)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(x){return new(x||U)(R.LFG(je.K0),R.LFG(as),R.LFG(_i),R.LFG(R.z2F))};static#t=this.\u0275prov=R.Yz7({token:U,factory:U.\u0275fac})}return U})()},{provide:R.FYo,useFactory:function D(U,y,v){return new io(U,y,v)},deps:[p.se,Sr,R.R0b]}],P=[{provide:as,useFactory:()=>new zo},{provide:R.QbO,useValue:"BrowserAnimations"},...Z];function rt(){return[...P]}var ui=K(6304);let vi=(()=>{class U{static#e=this.\u0275fac=function(x){return new(x||U)};static#t=this.\u0275mod=R.oAB({type:U,bootstrap:[Rn]});static#n=this.\u0275inj=R.cJS({providers:[rt(),(0,de.nd)()],imports:[p.b2,tr,Se.u5,Se.UX,de.Rh.forRoot(),ze.TE,ui.hO.initializeApp({projectId:"clinica-cd258",appId:"1:252489975231:web:7b94256a52773662cf4d0a",storageBucket:"clinica-cd258.appspot.com",apiKey:"AIzaSyAqXh8A0XH2BMCGSgpOYGtjrEcDb0hb9RQ",authDomain:"clinica-cd258.firebaseapp.com",messagingSenderId:"252489975231"}),(0,lr.hX)(()=>(0,lr.ZF)({projectId:"clinica-cd258",appId:"1:252489975231:web:7b94256a52773662cf4d0a",storageBucket:"clinica-cd258.appspot.com",apiKey:"AIzaSyAqXh8A0XH2BMCGSgpOYGtjrEcDb0hb9RQ",authDomain:"clinica-cd258.firebaseapp.com",messagingSenderId:"252489975231"})),(0,ar.AR)(()=>(0,ar.v0)()),(0,ue.Cm)(()=>(0,ue.ad)())]})}return U})();p.q6().bootstrapModule(vi).catch(U=>console.error(U))},5619:(pn,ft,K)=>{K.d(ft,{X:()=>he});var p=K(8645);class he extends p.x{constructor(Se){super(),this._value=Se}get value(){return this.getValue()}_subscribe(Se){const Me=super._subscribe(Se);return!Me.closed&&Se.next(this._value),Me}getValue(){const{hasError:Se,thrownError:Me,_value:ae}=this;if(Se)throw Me;return this._throwIfClosed(),ae}next(Se){super.next(this._value=Se)}}},5592:(pn,ft,K)=>{K.d(ft,{y:()=>et});var p=K(305),he=K(7394),Ee=K(4850),Se=K(8407),Me=K(2653),ae=K(4674),R=K(1441);let et=(()=>{class je{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const Ot=new je;return Ot.source=this,Ot.operator=Ae,Ot}subscribe(Ae,Ot,Dt){const Bt=function ue(je){return je&&je instanceof p.Lv||function de(je){return je&&(0,ae.m)(je.next)&&(0,ae.m)(je.error)&&(0,ae.m)(je.complete)}(je)&&(0,he.Nn)(je)}(Ae)?Ae:new p.Hp(Ae,Ot,Dt);return(0,R.x)(()=>{const{operator:At,source:an}=this;Bt.add(At?At.call(Bt,an):an?this._subscribe(Bt):this._trySubscribe(Bt))}),Bt}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(Ot){Ae.error(Ot)}}forEach(Ae,Ot){return new(Ot=ze(Ot))((Dt,Bt)=>{const At=new p.Hp({next:an=>{try{Ae(an)}catch(xt){Bt(xt),At.unsubscribe()}},error:Bt,complete:Dt});this.subscribe(At)})}_subscribe(Ae){var Ot;return null===(Ot=this.source)||void 0===Ot?void 0:Ot.subscribe(Ae)}[Ee.L](){return this}pipe(...Ae){return(0,Se.U)(Ae)(this)}toPromise(Ae){return new(Ae=ze(Ae))((Ot,Dt)=>{let Bt;this.subscribe(At=>Bt=At,At=>Dt(At),()=>Ot(Bt))})}}return je.create=ot=>new je(ot),je})();function ze(je){var ot;return null!==(ot=je??Me.config.Promise)&&void 0!==ot?ot:Promise}},8645:(pn,ft,K)=>{K.d(ft,{x:()=>R});var p=K(5592),he=K(7394);const Se=(0,K(2306).d)(ze=>function(){ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Me=K(9039),ae=K(1441);let R=(()=>{class ze extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const je=new et(this,this);return je.operator=ue,je}_throwIfClosed(){if(this.closed)throw new Se}next(ue){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const je of this.currentObservers)je.next(ue)}})}error(ue){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:je}=this;for(;je.length;)je.shift().error(ue)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:je,isStopped:ot,observers:Ae}=this;return je||ot?he.Lc:(this.currentObservers=null,Ae.push(ue),new he.w0(()=>{this.currentObservers=null,(0,Me.P)(Ae,ue)}))}_checkFinalizedStatuses(ue){const{hasError:je,thrownError:ot,isStopped:Ae}=this;je?ue.error(ot):Ae&&ue.complete()}asObservable(){const ue=new p.y;return ue.source=this,ue}}return ze.create=(de,ue)=>new et(de,ue),ze})();class et extends R{constructor(de,ue){super(),this.destination=de,this.source=ue}next(de){var ue,je;null===(je=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===je||je.call(ue,de)}error(de){var ue,je;null===(je=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===je||je.call(ue,de)}complete(){var de,ue;null===(ue=null===(de=this.destination)||void 0===de?void 0:de.complete)||void 0===ue||ue.call(de)}_subscribe(de){var ue,je;return null!==(je=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(de))&&void 0!==je?je:he.Lc}}},305:(pn,ft,K)=>{K.d(ft,{Hp:()=>Dt,Lv:()=>je});var p=K(4674),he=K(7394),Ee=K(2653),Se=K(3894),Me=K(2420);const ae=ze("C",void 0,void 0);function ze(be,tt,Ze){return{kind:be,value:tt,error:Ze}}var de=K(7599),ue=K(1441);class je extends he.w0{constructor(tt){super(),this.isStopped=!1,tt?(this.destination=tt,(0,he.Nn)(tt)&&tt.add(this)):this.destination=xt}static create(tt,Ze,gt){return new Dt(tt,Ze,gt)}next(tt){this.isStopped?an(function et(be){return ze("N",be,void 0)}(tt),this):this._next(tt)}error(tt){this.isStopped?an(function R(be){return ze("E",void 0,be)}(tt),this):(this.isStopped=!0,this._error(tt))}complete(){this.isStopped?an(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(tt){this.destination.next(tt)}_error(tt){try{this.destination.error(tt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ot=Function.prototype.bind;function Ae(be,tt){return ot.call(be,tt)}class Ot{constructor(tt){this.partialObserver=tt}next(tt){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(tt)}catch(gt){Bt(gt)}}error(tt){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(tt)}catch(gt){Bt(gt)}else Bt(tt)}complete(){const{partialObserver:tt}=this;if(tt.complete)try{tt.complete()}catch(Ze){Bt(Ze)}}}class Dt extends je{constructor(tt,Ze,gt){let dt;if(super(),(0,p.m)(tt)||!tt)dt={next:tt??void 0,error:Ze??void 0,complete:gt??void 0};else{let ct;this&&Ee.config.useDeprecatedNextContext?(ct=Object.create(tt),ct.unsubscribe=()=>this.unsubscribe(),dt={next:tt.next&&Ae(tt.next,ct),error:tt.error&&Ae(tt.error,ct),complete:tt.complete&&Ae(tt.complete,ct)}):dt=tt}this.destination=new Ot(dt)}}function Bt(be){Ee.config.useDeprecatedSynchronousErrorHandling?(0,ue.O)(be):(0,Se.h)(be)}function an(be,tt){const{onStoppedNotification:Ze}=Ee.config;Ze&&de.z.setTimeout(()=>Ze(be,tt))}const xt={closed:!0,next:Me.Z,error:function At(be){throw be},complete:Me.Z}},7394:(pn,ft,K)=>{K.d(ft,{Lc:()=>ae,w0:()=>Me,Nn:()=>R});var p=K(4674);const Ee=(0,K(2306).d)(ze=>function(ue){ze(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((je,ot)=>`${ot+1}) ${je.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var Se=K(9039);class Me{constructor(de){this.initialTeardown=de,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let de;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const Ae of ue)Ae.remove(this);else ue.remove(this);const{initialTeardown:je}=this;if((0,p.m)(je))try{je()}catch(Ae){de=Ae instanceof Ee?Ae.errors:[Ae]}const{_finalizers:ot}=this;if(ot){this._finalizers=null;for(const Ae of ot)try{et(Ae)}catch(Ot){de=de??[],Ot instanceof Ee?de=[...de,...Ot.errors]:de.push(Ot)}}if(de)throw new Ee(de)}}add(de){var ue;if(de&&de!==this)if(this.closed)et(de);else{if(de instanceof Me){if(de.closed||de._hasParent(this))return;de._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(de)}}_hasParent(de){const{_parentage:ue}=this;return ue===de||Array.isArray(ue)&&ue.includes(de)}_addParent(de){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(de),ue):ue?[ue,de]:de}_removeParent(de){const{_parentage:ue}=this;ue===de?this._parentage=null:Array.isArray(ue)&&(0,Se.P)(ue,de)}remove(de){const{_finalizers:ue}=this;ue&&(0,Se.P)(ue,de),de instanceof Me&&de._removeParent(this)}}Me.EMPTY=(()=>{const ze=new Me;return ze.closed=!0,ze})();const ae=Me.EMPTY;function R(ze){return ze instanceof Me||ze&&"closed"in ze&&(0,p.m)(ze.remove)&&(0,p.m)(ze.add)&&(0,p.m)(ze.unsubscribe)}function et(ze){(0,p.m)(ze)?ze():ze.unsubscribe()}},2653:(pn,ft,K)=>{K.d(ft,{config:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(pn,ft,K)=>{K.d(ft,{E:()=>he});const he=new(K(5592).y)(Me=>Me.complete())},2459:(pn,ft,K)=>{K.d(ft,{D:()=>tt});var p=K(4829),he=K(3093),Ee=K(5137),ae=K(5592),et=K(4971),ze=K(4674),de=K(7103);function je(Ze,gt){if(!Ze)throw new Error("Iterable cannot be null");return new ae.y(dt=>{(0,de.f)(dt,gt,()=>{const ct=Ze[Symbol.asyncIterator]();(0,de.f)(dt,gt,()=>{ct.next().then(ut=>{ut.done?dt.complete():dt.next(ut.value)})},0,!0)})})}var ot=K(8382),Ae=K(4026),Ot=K(4266),Dt=K(3664),Bt=K(5726),At=K(9853),an=K(541);function tt(Ze,gt){return gt?function be(Ze,gt){if(null!=Ze){if((0,ot.c)(Ze))return function Se(Ze,gt){return(0,p.Xf)(Ze).pipe((0,Ee.R)(gt),(0,he.Q)(gt))}(Ze,gt);if((0,Ot.z)(Ze))return function R(Ze,gt){return new ae.y(dt=>{let ct=0;return gt.schedule(function(){ct===Ze.length?dt.complete():(dt.next(Ze[ct++]),dt.closed||this.schedule())})})}(Ze,gt);if((0,Ae.t)(Ze))return function Me(Ze,gt){return(0,p.Xf)(Ze).pipe((0,Ee.R)(gt),(0,he.Q)(gt))}(Ze,gt);if((0,Bt.D)(Ze))return je(Ze,gt);if((0,Dt.T)(Ze))return function ue(Ze,gt){return new ae.y(dt=>{let ct;return(0,de.f)(dt,gt,()=>{ct=Ze[et.h](),(0,de.f)(dt,gt,()=>{let ut,vn;try{({value:ut,done:vn}=ct.next())}catch($n){return void dt.error($n)}vn?dt.complete():dt.next(ut)},0,!0)}),()=>(0,ze.m)(ct?.return)&&ct.return()})}(Ze,gt);if((0,an.L)(Ze))return function xt(Ze,gt){return je((0,an.Q)(Ze),gt)}(Ze,gt)}throw(0,At.z)(Ze)}(Ze,gt):(0,p.Xf)(Ze)}},4829:(pn,ft,K)=>{K.d(ft,{Xf:()=>ot});var p=K(7582),he=K(4266),Ee=K(4026),Se=K(5592),Me=K(8382),ae=K(5726),R=K(9853),et=K(3664),ze=K(541),de=K(4674),ue=K(3894),je=K(4850);function ot(be){if(be instanceof Se.y)return be;if(null!=be){if((0,Me.c)(be))return function Ae(be){return new Se.y(tt=>{const Ze=be[je.L]();if((0,de.m)(Ze.subscribe))return Ze.subscribe(tt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(be);if((0,he.z)(be))return function Ot(be){return new Se.y(tt=>{for(let Ze=0;Ze<be.length&&!tt.closed;Ze++)tt.next(be[Ze]);tt.complete()})}(be);if((0,Ee.t)(be))return function Dt(be){return new Se.y(tt=>{be.then(Ze=>{tt.closed||(tt.next(Ze),tt.complete())},Ze=>tt.error(Ze)).then(null,ue.h)})}(be);if((0,ae.D)(be))return At(be);if((0,et.T)(be))return function Bt(be){return new Se.y(tt=>{for(const Ze of be)if(tt.next(Ze),tt.closed)return;tt.complete()})}(be);if((0,ze.L)(be))return function an(be){return At((0,ze.Q)(be))}(be)}throw(0,R.z)(be)}function At(be){return new Se.y(tt=>{(function xt(be,tt){var Ze,gt,dt,ct;return(0,p.mG)(this,void 0,void 0,function*(){try{for(Ze=(0,p.KL)(be);!(gt=yield Ze.next()).done;)if(tt.next(gt.value),tt.closed)return}catch(ut){dt={error:ut}}finally{try{gt&&!gt.done&&(ct=Ze.return)&&(yield ct.call(Ze))}finally{if(dt)throw dt.error}}tt.complete()})})(be,tt).catch(Ze=>tt.error(Ze))})}},2096:(pn,ft,K)=>{K.d(ft,{of:()=>Ee});var p=K(4564),he=K(2459);function Ee(...Se){const Me=(0,p.yG)(Se);return(0,he.D)(Se,Me)}},8251:(pn,ft,K)=>{K.d(ft,{x:()=>he});var p=K(305);function he(Se,Me,ae,R,et){return new Ee(Se,Me,ae,R,et)}class Ee extends p.Lv{constructor(Me,ae,R,et,ze,de){super(Me),this.onFinalize=ze,this.shouldUnsubscribe=de,this._next=ae?function(ue){try{ae(ue)}catch(je){Me.error(je)}}:super._next,this._error=et?function(ue){try{et(ue)}catch(je){Me.error(je)}finally{this.unsubscribe()}}:super._error,this._complete=R?function(){try{R()}catch(ue){Me.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(Me=this.onFinalize)||void 0===Me||Me.call(this))}}}},7398:(pn,ft,K)=>{K.d(ft,{U:()=>Ee});var p=K(9360),he=K(8251);function Ee(Se,Me){return(0,p.e)((ae,R)=>{let et=0;ae.subscribe((0,he.x)(R,ze=>{R.next(Se.call(Me,ze,et++))}))})}},7537:(pn,ft,K)=>{K.d(ft,{J:()=>Ee});var p=K(1631),he=K(2737);function Ee(Se=1/0){return(0,p.z)(he.y,Se)}},1631:(pn,ft,K)=>{K.d(ft,{z:()=>et});var p=K(7398),he=K(4829),Ee=K(9360),Se=K(7103),Me=K(8251),R=K(4674);function et(ze,de,ue=1/0){return(0,R.m)(de)?et((je,ot)=>(0,p.U)((Ae,Ot)=>de(je,Ae,ot,Ot))((0,he.Xf)(ze(je,ot))),ue):("number"==typeof de&&(ue=de),(0,Ee.e)((je,ot)=>function ae(ze,de,ue,je,ot,Ae,Ot,Dt){const Bt=[];let At=0,an=0,xt=!1;const be=()=>{xt&&!Bt.length&&!At&&de.complete()},tt=gt=>At<je?Ze(gt):Bt.push(gt),Ze=gt=>{Ae&&de.next(gt),At++;let dt=!1;(0,he.Xf)(ue(gt,an++)).subscribe((0,Me.x)(de,ct=>{ot?.(ct),Ae?tt(ct):de.next(ct)},()=>{dt=!0},void 0,()=>{if(dt)try{for(At--;Bt.length&&At<je;){const ct=Bt.shift();Ot?(0,Se.f)(de,Ot,()=>Ze(ct)):Ze(ct)}be()}catch(ct){de.error(ct)}}))};return ze.subscribe((0,Me.x)(de,tt,()=>{xt=!0,be()})),()=>{Dt?.()}}(je,ot,ze,ue)))}},3093:(pn,ft,K)=>{K.d(ft,{Q:()=>Se});var p=K(7103),he=K(9360),Ee=K(8251);function Se(Me,ae=0){return(0,he.e)((R,et)=>{R.subscribe((0,Ee.x)(et,ze=>(0,p.f)(et,Me,()=>et.next(ze),ae),()=>(0,p.f)(et,Me,()=>et.complete(),ae),ze=>(0,p.f)(et,Me,()=>et.error(ze),ae)))})}},5137:(pn,ft,K)=>{K.d(ft,{R:()=>he});var p=K(9360);function he(Ee,Se=0){return(0,p.e)((Me,ae)=>{ae.add(Ee.schedule(()=>Me.subscribe(ae),Se))})}},4664:(pn,ft,K)=>{K.d(ft,{w:()=>Se});var p=K(4829),he=K(9360),Ee=K(8251);function Se(Me,ae){return(0,he.e)((R,et)=>{let ze=null,de=0,ue=!1;const je=()=>ue&&!ze&&et.complete();R.subscribe((0,Ee.x)(et,ot=>{ze?.unsubscribe();let Ae=0;const Ot=de++;(0,p.Xf)(Me(ot,Ot)).subscribe(ze=(0,Ee.x)(et,Dt=>et.next(ae?ae(ot,Dt,Ot,Ae++):Dt),()=>{ze=null,je()}))},()=>{ue=!0,je()}))})}},9397:(pn,ft,K)=>{K.d(ft,{b:()=>Me});var p=K(4674),he=K(9360),Ee=K(8251),Se=K(2737);function Me(ae,R,et){const ze=(0,p.m)(ae)||R||et?{next:ae,error:R,complete:et}:ae;return ze?(0,he.e)((de,ue)=>{var je;null===(je=ze.subscribe)||void 0===je||je.call(ze);let ot=!0;de.subscribe((0,Ee.x)(ue,Ae=>{var Ot;null===(Ot=ze.next)||void 0===Ot||Ot.call(ze,Ae),ue.next(Ae)},()=>{var Ae;ot=!1,null===(Ae=ze.complete)||void 0===Ae||Ae.call(ze),ue.complete()},Ae=>{var Ot;ot=!1,null===(Ot=ze.error)||void 0===Ot||Ot.call(ze,Ae),ue.error(Ae)},()=>{var Ae,Ot;ot&&(null===(Ae=ze.unsubscribe)||void 0===Ae||Ae.call(ze)),null===(Ot=ze.finalize)||void 0===Ot||Ot.call(ze)}))}):Se.y}},1954:(pn,ft,K)=>{K.d(ft,{o:()=>Me});var p=K(7394);class he extends p.w0{constructor(R,et){super()}schedule(R,et=0){return this}}const Ee={setInterval(ae,R,...et){const{delegate:ze}=Ee;return ze?.setInterval?ze.setInterval(ae,R,...et):setInterval(ae,R,...et)},clearInterval(ae){const{delegate:R}=Ee;return(R?.clearInterval||clearInterval)(ae)},delegate:void 0};var Se=K(9039);class Me extends he{constructor(R,et){super(R,et),this.scheduler=R,this.work=et,this.pending=!1}schedule(R,et=0){var ze;if(this.closed)return this;this.state=R;const de=this.id,ue=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(ue,de,et)),this.pending=!0,this.delay=et,this.id=null!==(ze=this.id)&&void 0!==ze?ze:this.requestAsyncId(ue,this.id,et),this}requestAsyncId(R,et,ze=0){return Ee.setInterval(R.flush.bind(R,this),ze)}recycleAsyncId(R,et,ze=0){if(null!=ze&&this.delay===ze&&!1===this.pending)return et;null!=et&&Ee.clearInterval(et)}execute(R,et){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ze=this._execute(R,et);if(ze)return ze;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(R,et){let de,ze=!1;try{this.work(R)}catch(ue){ze=!0,de=ue||new Error("Scheduled action threw falsy error")}if(ze)return this.unsubscribe(),de}unsubscribe(){if(!this.closed){const{id:R,scheduler:et}=this,{actions:ze}=et;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Se.P)(ze,this),null!=R&&(this.id=this.recycleAsyncId(et,R,null)),this.delay=null,super.unsubscribe()}}}},9931:(pn,ft,K)=>{K.d(ft,{v:()=>Ee});const p={now:()=>(p.delegate||Date).now(),delegate:void 0};class he{constructor(Me,ae=he.now){this.schedulerActionCtor=Me,this.now=ae}schedule(Me,ae=0,R){return new this.schedulerActionCtor(this,Me).schedule(R,ae)}}he.now=p.now;class Ee extends he{constructor(Me,ae=he.now){super(Me,ae),this.actions=[],this._active=!1}flush(Me){const{actions:ae}=this;if(this._active)return void ae.push(Me);let R;this._active=!0;do{if(R=Me.execute(Me.state,Me.delay))break}while(Me=ae.shift());if(this._active=!1,R){for(;Me=ae.shift();)Me.unsubscribe();throw R}}}},6321:(pn,ft,K)=>{K.d(ft,{z:()=>Ee});var p=K(1954);const Ee=new(K(9931).v)(p.o)},7599:(pn,ft,K)=>{K.d(ft,{z:()=>p});const p={setTimeout(he,Ee,...Se){const{delegate:Me}=p;return Me?.setTimeout?Me.setTimeout(he,Ee,...Se):setTimeout(he,Ee,...Se)},clearTimeout(he){const{delegate:Ee}=p;return(Ee?.clearTimeout||clearTimeout)(he)},delegate:void 0}},4971:(pn,ft,K)=>{K.d(ft,{h:()=>he});const he=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(pn,ft,K)=>{K.d(ft,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(pn,ft,K)=>{K.d(ft,{_6:()=>ae,jO:()=>Se,yG:()=>Me});var p=K(4674);function Ee(R){return R[R.length-1]}function Se(R){return(0,p.m)(Ee(R))?R.pop():void 0}function Me(R){return function he(R){return R&&(0,p.m)(R.schedule)}(Ee(R))?R.pop():void 0}function ae(R,et){return"number"==typeof Ee(R)?R.pop():et}},7453:(pn,ft,K)=>{K.d(ft,{D:()=>Me});const{isArray:p}=Array,{getPrototypeOf:he,prototype:Ee,keys:Se}=Object;function Me(R){if(1===R.length){const et=R[0];if(p(et))return{args:et,keys:null};if(function ae(R){return R&&"object"==typeof R&&he(R)===Ee}(et)){const ze=Se(et);return{args:ze.map(de=>et[de]),keys:ze}}}return{args:R,keys:null}}},9039:(pn,ft,K)=>{function p(he,Ee){if(he){const Se=he.indexOf(Ee);0<=Se&&he.splice(Se,1)}}K.d(ft,{P:()=>p})},2306:(pn,ft,K)=>{function p(he){const Se=he(Me=>{Error.call(Me),Me.stack=(new Error).stack});return Se.prototype=Object.create(Error.prototype),Se.prototype.constructor=Se,Se}K.d(ft,{d:()=>p})},2714:(pn,ft,K)=>{function p(he,Ee){return he.reduce((Se,Me,ae)=>(Se[Me]=Ee[ae],Se),{})}K.d(ft,{n:()=>p})},1441:(pn,ft,K)=>{K.d(ft,{O:()=>Se,x:()=>Ee});var p=K(2653);let he=null;function Ee(Me){if(p.config.useDeprecatedSynchronousErrorHandling){const ae=!he;if(ae&&(he={errorThrown:!1,error:null}),Me(),ae){const{errorThrown:R,error:et}=he;if(he=null,R)throw et}}else Me()}function Se(Me){p.config.useDeprecatedSynchronousErrorHandling&&he&&(he.errorThrown=!0,he.error=Me)}},7103:(pn,ft,K)=>{function p(he,Ee,Se,Me=0,ae=!1){const R=Ee.schedule(function(){Se(),ae?he.add(this.schedule(null,Me)):this.unsubscribe()},Me);if(he.add(R),!ae)return R}K.d(ft,{f:()=>p})},2737:(pn,ft,K)=>{function p(he){return he}K.d(ft,{y:()=>p})},4266:(pn,ft,K)=>{K.d(ft,{z:()=>p});const p=he=>he&&"number"==typeof he.length&&"function"!=typeof he},5726:(pn,ft,K)=>{K.d(ft,{D:()=>he});var p=K(4674);function he(Ee){return Symbol.asyncIterator&&(0,p.m)(Ee?.[Symbol.asyncIterator])}},4674:(pn,ft,K)=>{function p(he){return"function"==typeof he}K.d(ft,{m:()=>p})},8382:(pn,ft,K)=>{K.d(ft,{c:()=>Ee});var p=K(4850),he=K(4674);function Ee(Se){return(0,he.m)(Se[p.L])}},3664:(pn,ft,K)=>{K.d(ft,{T:()=>Ee});var p=K(4971),he=K(4674);function Ee(Se){return(0,he.m)(Se?.[p.h])}},4026:(pn,ft,K)=>{K.d(ft,{t:()=>he});var p=K(4674);function he(Ee){return(0,p.m)(Ee?.then)}},541:(pn,ft,K)=>{K.d(ft,{L:()=>Se,Q:()=>Ee});var p=K(7582),he=K(4674);function Ee(Me){return(0,p.FC)(this,arguments,function*(){const R=Me.getReader();try{for(;;){const{value:et,done:ze}=yield(0,p.qq)(R.read());if(ze)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(et)}}finally{R.releaseLock()}})}function Se(Me){return(0,he.m)(Me?.getReader)}},9360:(pn,ft,K)=>{K.d(ft,{A:()=>he,e:()=>Ee});var p=K(4674);function he(Se){return(0,p.m)(Se?.lift)}function Ee(Se){return Me=>{if(he(Me))return Me.lift(function(ae){try{return Se(ae,this)}catch(R){this.error(R)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(pn,ft,K)=>{K.d(ft,{Z:()=>Se});var p=K(7398);const{isArray:he}=Array;function Se(Me){return(0,p.U)(ae=>function Ee(Me,ae){return he(ae)?Me(...ae):Me(ae)}(Me,ae))}},2420:(pn,ft,K)=>{function p(){}K.d(ft,{Z:()=>p})},8407:(pn,ft,K)=>{K.d(ft,{U:()=>Ee,z:()=>he});var p=K(2737);function he(...Se){return Ee(Se)}function Ee(Se){return 0===Se.length?p.y:1===Se.length?Se[0]:function(ae){return Se.reduce((R,et)=>et(R),ae)}}},3894:(pn,ft,K)=>{K.d(ft,{h:()=>Ee});var p=K(2653),he=K(7599);function Ee(Se){he.z.setTimeout(()=>{const{onUnhandledError:Me}=p.config;if(!Me)throw Se;Me(Se)})}},9853:(pn,ft,K)=>{function p(he){return new TypeError(`You provided ${null!==he&&"object"==typeof he?"an invalid object":`'${he}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}K.d(ft,{z:()=>p})},6825:(pn,ft,K)=>{K.d(ft,{LC:()=>he,SB:()=>ze,X$:()=>Se,ZE:()=>At,ZN:()=>Bt,_j:()=>p,eR:()=>ue,jt:()=>Me,k1:()=>an,l3:()=>Ee,oB:()=>et,vP:()=>R});class p{}class he{}const Ee="*";function Se(xt,be){return{type:7,name:xt,definitions:be,options:{}}}function Me(xt,be=null){return{type:4,styles:be,timings:xt}}function R(xt,be=null){return{type:2,steps:xt,options:be}}function et(xt){return{type:6,styles:xt,offset:null}}function ze(xt,be,tt){return{type:0,name:xt,styles:be,options:tt}}function ue(xt,be,tt=null){return{type:1,expr:xt,animation:be,options:tt}}class Bt{constructor(be=0,tt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=be+tt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}onStart(be){this._originalOnStartFns.push(be),this._onStartFns.push(be)}onDone(be){this._originalOnDoneFns.push(be),this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(be=>be()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(be){this._position=this.totalTime?be*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(be){const tt="start"==be?this._onStartFns:this._onDoneFns;tt.forEach(Ze=>Ze()),tt.length=0}}class At{constructor(be){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=be;let tt=0,Ze=0,gt=0;const dt=this.players.length;0==dt?queueMicrotask(()=>this._onFinish()):this.players.forEach(ct=>{ct.onDone(()=>{++tt==dt&&this._onFinish()}),ct.onDestroy(()=>{++Ze==dt&&this._onDestroy()}),ct.onStart(()=>{++gt==dt&&this._onStart()})}),this.totalTime=this.players.reduce((ct,ut)=>Math.max(ct,ut.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}init(){this.players.forEach(be=>be.init())}onStart(be){this._onStartFns.push(be)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(be=>be()),this._onStartFns=[])}onDone(be){this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(be=>be.play())}pause(){this.players.forEach(be=>be.pause())}restart(){this.players.forEach(be=>be.restart())}finish(){this._onFinish(),this.players.forEach(be=>be.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(be=>be.destroy()),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this.players.forEach(be=>be.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(be){const tt=be*this.totalTime;this.players.forEach(Ze=>{const gt=Ze.totalTime?Math.min(1,tt/Ze.totalTime):1;Ze.setPosition(gt)})}getPosition(){const be=this.players.reduce((tt,Ze)=>null===tt||Ze.totalTime>tt.totalTime?Ze:tt,null);return null!=be?be.getPosition():0}beforeDestroy(){this.players.forEach(be=>{be.beforeDestroy&&be.beforeDestroy()})}triggerCallback(be){const tt="start"==be?this._onStartFns:this._onDoneFns;tt.forEach(Ze=>Ze()),tt.length=0}}const an="!"},6814:(pn,ft,K)=>{K.d(ft,{Do:()=>Dt,EM:()=>we,HT:()=>Se,JF:()=>Yt,K0:()=>ae,Mx:()=>fs,O5:()=>Vi,PM:()=>Gn,S$:()=>ot,V_:()=>et,Ye:()=>Bt,b0:()=>Ot,bD:()=>bs,ez:()=>gs,q:()=>Ee,sg:()=>$i,w_:()=>Me});var p=K(4946);let he=null;function Ee(){return he}function Se(D){he||(he=D)}class Me{}const ae=new p.OlP("DocumentToken");let R=(()=>{class D{historyGo(P){throw new Error("Not implemented")}static#e=this.\u0275fac=function(q){return new(q||D)};static#t=this.\u0275prov=p.Yz7({token:D,factory:function(){return(0,p.f3M)(ze)},providedIn:"platform"})}return D})();const et=new p.OlP("Location Initialized");let ze=(()=>{class D extends R{constructor(){super(),this._doc=(0,p.f3M)(ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ee().getBaseHref(this._doc)}onPopState(P){const q=Ee().getGlobalEventTarget(this._doc,"window");return q.addEventListener("popstate",P,!1),()=>q.removeEventListener("popstate",P)}onHashChange(P){const q=Ee().getGlobalEventTarget(this._doc,"window");return q.addEventListener("hashchange",P,!1),()=>q.removeEventListener("hashchange",P)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(P){this._location.pathname=P}pushState(P,q,me){this._history.pushState(P,q,me)}replaceState(P,q,me){this._history.replaceState(P,q,me)}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}static#e=this.\u0275fac=function(q){return new(q||D)};static#t=this.\u0275prov=p.Yz7({token:D,factory:function(){return new D},providedIn:"platform"})}return D})();function de(D,Z){if(0==D.length)return Z;if(0==Z.length)return D;let P=0;return D.endsWith("/")&&P++,Z.startsWith("/")&&P++,2==P?D+Z.substring(1):1==P?D+Z:D+"/"+Z}function ue(D){const Z=D.match(/#|\?|$/),P=Z&&Z.index||D.length;return D.slice(0,P-("/"===D[P-1]?1:0))+D.slice(P)}function je(D){return D&&"?"!==D[0]?"?"+D:D}let ot=(()=>{class D{historyGo(P){throw new Error("Not implemented")}static#e=this.\u0275fac=function(q){return new(q||D)};static#t=this.\u0275prov=p.Yz7({token:D,factory:function(){return(0,p.f3M)(Ot)},providedIn:"root"})}return D})();const Ae=new p.OlP("appBaseHref");let Ot=(()=>{class D extends ot{constructor(P,q){super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=q??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return de(this._baseHref,P)}path(P=!1){const q=this._platformLocation.pathname+je(this._platformLocation.search),me=this._platformLocation.hash;return me&&P?`${q}${me}`:q}pushState(P,q,me,rt){const Ct=this.prepareExternalUrl(me+je(rt));this._platformLocation.pushState(P,q,Ct)}replaceState(P,q,me,rt){const Ct=this.prepareExternalUrl(me+je(rt));this._platformLocation.replaceState(P,q,Ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static#e=this.\u0275fac=function(q){return new(q||D)(p.LFG(R),p.LFG(Ae,8))};static#t=this.\u0275prov=p.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})(),Dt=(()=>{class D extends ot{constructor(P,q){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=q&&(this._baseHref=q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let q=this._platformLocation.hash;return null==q&&(q="#"),q.length>0?q.substring(1):q}prepareExternalUrl(P){const q=de(this._baseHref,P);return q.length>0?"#"+q:q}pushState(P,q,me,rt){let Ct=this.prepareExternalUrl(me+je(rt));0==Ct.length&&(Ct=this._platformLocation.pathname),this._platformLocation.pushState(P,q,Ct)}replaceState(P,q,me,rt){let Ct=this.prepareExternalUrl(me+je(rt));0==Ct.length&&(Ct=this._platformLocation.pathname),this._platformLocation.replaceState(P,q,Ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static#e=this.\u0275fac=function(q){return new(q||D)(p.LFG(R),p.LFG(Ae,8))};static#t=this.\u0275prov=p.Yz7({token:D,factory:D.\u0275fac})}return D})(),Bt=(()=>{class D{constructor(P){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const q=this._locationStrategy.getBaseHref();this._basePath=function be(D){if(new RegExp("^(https?:)?//").test(D)){const[,P]=D.split(/\/\/[^\/]+/);return P}return D}(ue(xt(q))),this._locationStrategy.onPopState(me=>{this._subject.emit({url:this.path(!0),pop:!0,state:me.state,type:me.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,q=""){return this.path()==this.normalize(P+je(q))}normalize(P){return D.stripTrailingSlash(function an(D,Z){if(!D||!Z.startsWith(D))return Z;const P=Z.substring(D.length);return""===P||["/",";","?","#"].includes(P[0])?P:Z}(this._basePath,xt(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,q="",me=null){this._locationStrategy.pushState(me,"",P,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+je(q)),me)}replaceState(P,q="",me=null){this._locationStrategy.replaceState(me,"",P,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+je(q)),me)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){this._locationStrategy.historyGo?.(P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(q=>{this._notifyUrlChangeListeners(q.url,q.state)})),()=>{const q=this._urlChangeListeners.indexOf(P);this._urlChangeListeners.splice(q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",q){this._urlChangeListeners.forEach(me=>me(P,q))}subscribe(P,q,me){return this._subject.subscribe({next:P,error:q,complete:me})}static#e=this.normalizeQueryParams=je;static#t=this.joinWithSlash=de;static#n=this.stripTrailingSlash=ue;static#r=this.\u0275fac=function(q){return new(q||D)(p.LFG(ot))};static#i=this.\u0275prov=p.Yz7({token:D,factory:function(){return function At(){return new Bt((0,p.LFG)(ot))}()},providedIn:"root"})}return D})();function xt(D){return D.replace(/\/index.html$/,"")}function fs(D,Z){Z=encodeURIComponent(Z);for(const P of D.split(";")){const q=P.indexOf("="),[me,rt]=-1==q?[P,""]:[P.slice(0,q),P.slice(q+1)];if(me.trim()===Z)return decodeURIComponent(rt)}return null}class or{constructor(Z,P,q,me){this.$implicit=Z,this.ngForOf=P,this.index=q,this.count=me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $i=(()=>{class D{set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}constructor(P,q,me){this._viewContainer=P,this._template=q,this._differs=me,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const q=this._viewContainer;P.forEachOperation((me,rt,Ct)=>{if(null==me.previousIndex)q.createEmbeddedView(this._template,new or(me.item,this._ngForOf,-1,-1),null===Ct?void 0:Ct);else if(null==Ct)q.remove(null===rt?void 0:rt);else if(null!==rt){const Tn=q.get(rt);q.move(Tn,Ct),Zr(Tn,me)}});for(let me=0,rt=q.length;me<rt;me++){const Tn=q.get(me).context;Tn.index=me,Tn.count=rt,Tn.ngForOf=this._ngForOf}P.forEachIdentityChange(me=>{Zr(q.get(me.currentIndex),me)})}static ngTemplateContextGuard(P,q){return!0}static#e=this.\u0275fac=function(q){return new(q||D)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))};static#t=this.\u0275dir=p.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return D})();function Zr(D,Z){D.context.$implicit=Z.item}let Vi=(()=>{class D{constructor(P,q){this._viewContainer=P,this._context=new Ii,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=q}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){Is("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){Is("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,q){return!0}static#e=this.\u0275fac=function(q){return new(q||D)(p.Y36(p.s_b),p.Y36(p.Rgc))};static#t=this.\u0275dir=p.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return D})();class Ii{constructor(){this.$implicit=null,this.ngIf=null}}function Is(D,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,p.AaK)(Z)}'.`)}let gs=(()=>{class D{static#e=this.\u0275fac=function(q){return new(q||D)};static#t=this.\u0275mod=p.oAB({type:D});static#n=this.\u0275inj=p.cJS({})}return D})();const bs="browser",To="server";function Gn(D){return D===To}let we=(()=>{class D{static#e=this.\u0275prov=(0,p.Yz7)({token:D,providedIn:"root",factory:()=>new ke((0,p.LFG)(ae),window)})}return D})();class ke{constructor(Z,P){this.document=Z,this.window=P,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const P=function nt(D,Z){const P=D.getElementById(Z)||D.getElementsByName(Z)[0];if(P)return P;if("function"==typeof D.createTreeWalker&&D.body&&"function"==typeof D.body.attachShadow){const q=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let me=q.currentNode;for(;me;){const rt=me.shadowRoot;if(rt){const Ct=rt.getElementById(Z)||rt.querySelector(`[name="${Z}"]`);if(Ct)return Ct}me=q.nextNode()}}return null}(this.document,Z);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(Z){this.supportsScrolling()&&(this.window.history.scrollRestoration=Z)}scrollToElement(Z){const P=Z.getBoundingClientRect(),q=P.left+this.window.pageXOffset,me=P.top+this.window.pageYOffset,rt=this.offset();this.window.scrollTo(q-rt[0],me-rt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Yt{}},4946:(pn,ft,K)=>{K.d(ft,{QbO:()=>ry,tb:()=>s0,AFp:()=>ql,ip1:()=>LI,hGG:()=>GC,z2F:()=>hp,Ojb:()=>nv,sBO:()=>AC,Sil:()=>Wb,_Vd:()=>hl,EJc:()=>Gb,Xts:()=>Zd,SBq:()=>td,lqb:()=>vu,qLn:()=>Fu,vpe:()=>Iu,XFs:()=>Kt,OlP:()=>Cn,zs3:()=>wu,ZZ4:()=>d0,aQg:()=>h0,soG:()=>M_,YKP:()=>Hw,h0i:()=>Sh,PXZ:()=>vC,R0b:()=>Eo,FiY:()=>Ua,Lbi:()=>eh,g9A:()=>lf,Qsj:()=>sg,FYo:()=>ly,JOm:()=>Qc,q3G:()=>wc,tp0:()=>Po,Rgc:()=>gm,dDg:()=>gC,eoX:()=>zI,q4F:()=>vf,GfV:()=>dy,s_b:()=>S_,ifc:()=>Mi,VuI:()=>tS,MMx:()=>zw,Lck:()=>bD,eFA:()=>ZI,Gpc:()=>ct,f3M:()=>Jt,X6Q:()=>SC,$WT:()=>Ki,MR2:()=>sl,_c5:()=>HC,qFp:()=>rS,rg0:()=>ye,c2e:()=>VI,zSh:()=>Wp,HDt:()=>UI,wAp:()=>up,vHH:()=>Et,lri:()=>HI,rWj:()=>GI,JZr:()=>It,EiD:()=>Hp,mCW:()=>qd,qzn:()=>ku,JVY:()=>Gd,pB0:()=>Gm,eBb:()=>Hm,L6k:()=>$m,LAX:()=>ha,cg1:()=>xE,kL8:()=>pw,dqk:()=>yn,Z0I:()=>yr,eJc:()=>KE,QGY:()=>e_,F4k:()=>Xg,RDi:()=>jm,AaK:()=>Ze,z3N:()=>Pu,qOj:()=>Wf,Xq5:()=>Sc,TTD:()=>it,_Bn:()=>$w,jDz:()=>qw,xp6:()=>Ig,uIk:()=>zg,Tol:()=>g_,ekj:()=>p_,Suo:()=>mI,Xpm:()=>xs,lG2:()=>Ji,Yz7:()=>cr,cJS:()=>Bn,oAB:()=>jo,Yjl:()=>Ds,Y36:()=>od,_UZ:()=>Jy,BQk:()=>Jg,ynx:()=>Qg,qZA:()=>Xf,TgZ:()=>Jf,EpF:()=>aE,n5z:()=>Ne,LFG:()=>Zt,$8M:()=>en,$Z:()=>Of,NdJ:()=>em,CRH:()=>yI,oxw:()=>n_,Q6J:()=>Yy,iGM:()=>gI,KtG:()=>au,CHM:()=>Ko,oJD:()=>Zm,LSH:()=>Kd,P3R:()=>ef,Udp:()=>f_,d8E:()=>op,YNc:()=>Wy,_uU:()=>TE,Oqu:()=>__,hij:()=>am,lnq:()=>v_});var p=K(8645),he=K(7394),Ee=K(5592),Se=K(7537),Me=K(4829),ae=K(6232),R=K(4564),et=K(2459),de=K(5619),ue=K(2096),je=K(305),ot=K(9360);function Ae(t={}){const{connector:r=(()=>new p.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=t;return d=>{let m,w,M,V=0,Q=!1,le=!1;const Pe=()=>{w?.unsubscribe(),w=void 0},Ge=()=>{Pe(),m=M=void 0,Q=le=!1},Tt=()=>{const jt=m;Ge(),jt?.unsubscribe()};return(0,ot.e)((jt,fn)=>{V++,!le&&!Q&&Pe();const zn=M=M??r();fn.add(()=>{V--,0===V&&!le&&!Q&&(w=Ot(Tt,c))}),zn.subscribe(fn),!m&&V>0&&(m=new je.Hp({next:Nt=>zn.next(Nt),error:Nt=>{le=!0,Pe(),w=Ot(Ge,s,Nt),zn.error(Nt)},complete:()=>{Q=!0,Pe(),w=Ot(Ge,a),zn.complete()}}),(0,Me.Xf)(jt).subscribe(m))})(d)}}function Ot(t,r,...s){if(!0===r)return void t();if(!1===r)return;const a=new je.Hp({next:()=>{a.unsubscribe(),t()}});return(0,Me.Xf)(r(...s)).subscribe(a)}var Dt=K(4664),Bt=K(2737),At=K(8251);function xt(t,r){return t===r}function be(t){for(let r in t)if(t[r]===be)return r;throw Error("Could not find renamed property on target object.")}function tt(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function Ze(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ze).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function gt(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const dt=be({__forward_ref__:be});function ct(t){return t.__forward_ref__=ct,t.toString=function(){return Ze(this())},t}function ut(t){return vn(t)?t():t}function vn(t){return"function"==typeof t&&t.hasOwnProperty(dt)&&t.__forward_ref__===ct}function $n(t){return t&&!!t.\u0275providers}const It="https://g.co/ng/security#xss";class Et extends Error{constructor(r,s){super(function bn(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function Lt(t){return"string"==typeof t?t:null==t?"":String(t)}function De(t,r){throw new Et(-201,!1)}function nr(t,r){null==t&&function mn(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function cr(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Bn(t){return{providers:t.providers||[],imports:t.imports||[]}}function On(t){return Gr(t,kr)||Gr(t,_r)}function yr(t){return null!==On(t)}function Gr(t,r){return t.hasOwnProperty(r)?t[r]:null}function Dr(t){return t&&(t.hasOwnProperty(di)||t.hasOwnProperty(hi))?t[di]:null}const kr=be({\u0275prov:be}),di=be({\u0275inj:be}),_r=be({ngInjectableDef:be}),hi=be({ngInjectorDef:be});var Kt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Kt||{});let ji;function zr(t){const r=ji;return ji=t,r}function ri(t,r,s){const a=On(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Kt.Optional?null:void 0!==r?r:void De(Ze(t))}const yn=globalThis;class Cn{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=cr({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ln={},Mn="__NG_DI_FLAG__",Jn="ngTempTokenPath",$r=/\n/gm,mi="__source";let Si;function Be(t){const r=Si;return Si=t,r}function bt(t,r=Kt.Default){if(void 0===Si)throw new Et(-203,!1);return null===Si?ri(t,void 0,r):Si.get(t,r&Kt.Optional?null:void 0,r)}function Zt(t,r=Kt.Default){return(function Oi(){return ji}()||bt)(ut(t),r)}function Jt(t,r=Kt.Default){return Zt(t,qn(r))}function qn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ti(t){const r=[];for(let s=0;s<t.length;s++){const a=ut(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Et(900,!1);let c,d=Kt.Default;for(let m=0;m<a.length;m++){const w=a[m],M=Pi(w);"number"==typeof M?-1===M?c=w.token:d|=M:c=w}r.push(Zt(c,d))}else r.push(Zt(a))}return r}function Ir(t,r){return t[Mn]=r,t.prototype[Mn]=r,t}function Pi(t){return t[Mn]}function br(t){return{toString:t}.toString()}var Ai=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ai||{}),Mi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Mi||{});const fi={},or=[],$i=be({\u0275cmp:be}),Zr=be({\u0275dir:be}),pi=be({\u0275pipe:be}),Vi=be({\u0275mod:be}),Ii=be({\u0275fac:be}),Is=be({__NG_ELEMENT_ID__:be}),Re=be({__NG_ENV_ID__:be});function xe(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}function Ve(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],m=s[a++],w=s[a++];t.setAttribute(r,m,w,d)}else{const d=c,m=s[++a];Pt(d)?t.setProperty(r,d,m):t.setAttribute(r,d,m),a++}}return a}function mt(t){return 3===t||4===t||6===t}function Pt(t){return 64===t.charCodeAt(0)}function dn(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||Wn(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function Wn(t,r,s,a,c){let d=0,m=t.length;if(-1===r)m=-1;else for(;d<t.length;){const w=t[d++];if("number"==typeof w){if(w===r){m=-1;break}if(w>r){m=d-1;break}}}for(;d<t.length;){const w=t[d];if("number"==typeof w)break;if(w===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==m&&(t.splice(m,0,r),d=m+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const xn="ng-template";function rr(t,r,s){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const m=t[a++];if(s&&"class"===d&&-1!==xe(m.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function Ti(t){return 4===t.type&&t.value!==xn}function yi(t,r,s){return r===(4!==t.type||s?t.value:xn)}function ii(t,r,s){let a=4;const c=t.attrs||[],d=function Ts(t){for(let r=0;r<t.length;r++)if(mt(t[r]))return r;return t.length}(c);let m=!1;for(let w=0;w<r.length;w++){const M=r[w];if("number"!=typeof M){if(!m)if(4&a){if(a=2|1&a,""!==M&&!yi(t,M,s)||""===M&&1===r.length){if(Mr(a))return!1;m=!0}}else{const V=8&a?M:r[++w];if(8&a&&null!==t.attrs){if(!rr(t.attrs,V,s)){if(Mr(a))return!1;m=!0}continue}const le=ps(8&a?"class":M,c,Ti(t),s);if(-1===le){if(Mr(a))return!1;m=!0;continue}if(""!==V){let Pe;Pe=le>d?"":c[le+1].toLowerCase();const Ge=8&a?Pe:null;if(Ge&&-1!==xe(Ge,V,0)||2&a&&V!==Pe){if(Mr(a))return!1;m=!0}}}}else{if(!m&&!Mr(a)&&!Mr(M))return!1;if(m&&Mr(M))continue;m=!1,a=M|1&a}}return Mr(a)||m}function Mr(t){return 0==(1&t)}function ps(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const m=r[c];if(m===t)return c;if(3===m||6===m)d=!0;else{if(1===m||2===m){let w=r[++c];for(;"string"==typeof w;)w=r[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=d?1:2}return-1}return function Uo(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function Vs(t,r,s=!1){for(let a=0;a<r.length;a++)if(ii(t,r[a],s))return!0;return!1}function co(t,r){return t?":not("+r.trim()+")":r}function ki(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let m=t[s];if("string"==typeof m)if(2&a){const w=t[++s];c+="["+m+(w.length>0?'="'+w+'"':"")+"]"}else 8&a?c+="."+m:4&a&&(c+=" "+m);else""!==c&&!Mr(m)&&(r+=co(d,c),c=""),a=m,d=d||!Mr(a);s++}return""!==c&&(r+=co(d,c)),r}function xs(t){return br(()=>{const r=Ns(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ai.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Mi.Emulated,styles:t.styles||or,_:null,schemas:t.schemas||null,tView:null,id:""};gs(s);const a=t.dependencies;return s.directiveDefs=bs(a,!1),s.pipeDefs=bs(a,!0),s.id=function Bs(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function lo(t){return jn(t)||fr(t)}function Bo(t){return null!==t}function jo(t){return br(()=>({type:t.type,bootstrap:t.bootstrap||or,declarations:t.declarations||or,imports:t.imports||or,exports:t.exports||or,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ui(t,r){if(null==t)return fi;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function Ji(t){return br(()=>{const r=Ns(t);return gs(r),r})}function Ds(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function jn(t){return t[$i]||null}function fr(t){return t[Zr]||null}function Ln(t){return t[pi]||null}function Ki(t){const r=jn(t)||fr(t)||Ln(t);return null!==r&&r.standalone}function si(t,r){const s=t[Vi]||null;if(!s&&!0===r)throw new Error(`Type ${Ze(t)} does not have '\u0275mod' property.`);return s}function Ns(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||fi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||or,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ui(t.inputs,r),outputs:Ui(t.outputs)}}function gs(t){t.features?.forEach(r=>r(t))}function bs(t,r){if(!t)return null;const s=r?Ln:lo;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(Bo)}const Or=0,Xt=1,Gn=2,$=3,G=4,pe=5,we=6,ke=7,nt=8,Vt=9,Yt=10,St=11,Pn=12,mr=13,Pr=14,Xn=15,qr=16,Tr=17,Yr=18,Hr=19,Cs=20,_i=21,Qr=22,pr=23,Gi=24,er=25,oi=1,ms=2,Ci=7,Xi=9,Fi=11;function Ri(t){return Array.isArray(t)&&"object"==typeof t[oi]}function xi(t){return Array.isArray(t)&&!0===t[oi]}function $o(t){return 0!=(4&t.flags)}function Os(t){return t.componentOffset>-1}function Rr(t){return 1==(1&t.flags)}function Xr(t){return!!t.template}function Ho(t){return 0!=(512&t[Gn])}function fo(t,r){return t.hasOwnProperty(Ii)?t[Ii]:null}let Sr=null,Co=!1;function _s(t){const r=Sr;return Sr=t,r}const Gs={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ns(t){if(!go(t)||t.dirty){if(!t.producerMustRecompute(t)&&!po(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Ca(t){t.dirty=!0,function zo(t){if(void 0===t.liveConsumerNode)return;const r=Co;Co=!0;try{for(const s of t.liveConsumerNode)s.dirty||Ca(s)}finally{Co=r}}(t),t.consumerMarkedDirty?.(t)}function qo(t){return t&&(t.nextProducerIndex=0),_s(t)}function zs(t,r){if(_s(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(go(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)So(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function po(t){Ss(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(ns(s),a!==s.version))return!0}return!1}function va(t){if(Ss(t),go(t))for(let r=0;r<t.producerNode.length;r++)So(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function So(t,r){if(function As(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ss(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)So(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Ss(c),c.producerIndexOfThis[a]=r}}function go(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ss(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let me=null;function ye(t){const r=_s(null);try{return t()}finally{_s(r)}}const Le=()=>{},Xe=(()=>({...Gs,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Le}))();class on{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function it(){return Sn}function Sn(t){return t.type.prototype.ngOnChanges&&(t.setInput=Zn),In}function In(){const t=tn(this),r=t?.current;if(r){const s=t.previous;if(s===fi)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Zn(t,r,s,a){const c=this.declaredInputs[s],d=tn(t)||function Hi(t,r){return t[Ht]=r}(t,{previous:fi,current:null}),m=d.current||(d.current={}),w=d.previous,M=w[c];m[c]=new on(M&&M.currentValue,r,w===fi),t[a]=r}it.ngInherit=!0;const Ht="__ngSimpleChanges__";function tn(t){return t[Ht]||null}const wt=function(t,r,s){};function dr(t){for(;Array.isArray(t);)t=t[Or];return t}function mo(t,r){return dr(r[t])}function rs(t,r){return dr(r[t.index])}function Wo(t,r){return t.data[r]}function so(t,r){const s=r[t];return Ri(s)?s:s[Or]}function ur(t,r){return null==r?null:t[r]}function Lr(t){t[Tr]=0}function Wr(t){1024&t[Gn]||(t[Gn]|=1024,ks(t,1))}function nn(t){1024&t[Gn]&&(t[Gn]&=-1025,ks(t,-1))}function ks(t,r){let s=t[$];if(null===s)return;s[pe]+=r;let a=s;for(s=s[$];null!==s&&(1===r&&1===a[pe]||-1===r&&0===a[pe]);)s[pe]+=r,a=s,s=s[$]}const _n={lFrame:Ur(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function za(){return _n.bindingsEnabled}function Rt(){return _n.lFrame.lView}function Kr(){return _n.lFrame.tView}function Ko(t){return _n.lFrame.contextLView=t,t[nt]}function au(t){return _n.lFrame.contextLView=null,t}function $e(){let t=uu();for(;null!==t&&64===t.type;)t=t.parent;return t}function uu(){return _n.lFrame.currentTNode}function ta(t,r){const s=_n.lFrame;s.currentTNode=t,s.isParent=r}function Ea(){return _n.lFrame.isParent}function na(){_n.lFrame.isParent=!1}function ss(){return _n.lFrame.bindingIndex++}function Ro(t){const r=_n.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function _(t,r){const s=_n.lFrame;s.bindingIndex=s.bindingRootIndex=t,F(r)}function F(t){_n.lFrame.currentDirectiveIndex=t}function Y(t){const r=_n.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function fe(){return _n.lFrame.currentQueryIndex}function Qe(t){_n.lFrame.currentQueryIndex=t}function Ke(t){const r=t[Xt];return 2===r.type?r.declTNode:1===r.type?t[we]:null}function sn(t,r,s){if(s&Kt.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&Kt.Host||(c=Ke(d),null===c||(d=d[Pr],10&c.type))););if(null===c)return!1;r=c,t=d}const a=_n.lFrame=Vr();return a.currentTNode=r,a.lView=t,!0}function ir(t){const r=Vr(),s=t[Xt];_n.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Vr(){const t=_n.lFrame,r=null===t?null:t.child;return null===r?Ur(t):r}function Ur(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function ia(){const t=_n.lFrame;return _n.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ks=ia;function sa(){const t=ia();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ms(){return _n.lFrame.selectedIndex}function Ka(t){_n.lFrame.selectedIndex=t}function Zi(){const t=_n.lFrame;return Wo(t.tView,t.selectedIndex)}let vd=!0;function Su(){return vd}function oa(t){vd=t}function qi(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:w,ngAfterViewInit:M,ngAfterViewChecked:V,ngOnDestroy:Q}=d;m&&(t.contentHooks??=[]).push(-s,m),w&&((t.contentHooks??=[]).push(s,w),(t.contentCheckHooks??=[]).push(s,w)),M&&(t.viewHooks??=[]).push(-s,M),V&&((t.viewHooks??=[]).push(s,V),(t.viewCheckHooks??=[]).push(s,V)),null!=Q&&(t.destroyHooks??=[]).push(s,Q)}}function ic(t,r,s){Ni(t,r,3,s)}function Sa(t,r,s,a){(3&t[Gn])===s&&Ni(t,r,s,a)}function Au(t,r){let s=t[Gn];(3&s)===r&&(s&=8191,s+=1,t[Gn]=s)}function Ni(t,r,s,a){const d=a??-1,m=r.length-1;let w=0;for(let M=void 0!==a?65535&t[Tr]:0;M<m;M++)if("number"==typeof r[M+1]){if(w=r[M],null!=a&&w>=a)break}else r[M]<0&&(t[Tr]+=65536),(w<d||-1==d)&&(Ys(t,s,r,M),t[Tr]=(4294901760&t[Tr])+M+2),M++}function Za(t,r){wt(4,t,r);const s=_s(null);try{r.call(t)}finally{_s(s),wt(5,t,r)}}function Ys(t,r,s,a){const c=s[a]<0,d=s[a+1],w=t[c?-s[a]:s[a]];c?t[Gn]>>13<t[Tr]>>16&&(3&t[Gn])===r&&(t[Gn]+=8192,Za(w,d)):Za(w,d)}const Di=-1;class cu{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Zo(t){return t!==Di}function wa(t){return 32767&t}function Yo(t,r){let s=function kc(t){return t>>16}(t),a=r;for(;s>0;)a=a[Pr],s--;return a}let Mu=!0;function xo(t){const r=Mu;return Mu=t,r}const La=255,Ia=5;let ua=0;const No={};function oc(t,r){const s=Ru(t,r);if(-1!==s)return s;const a=r[Xt];a.firstCreatePass&&(t.injectorIndex=r.length,Qa(a.data,t),Qa(r,null),Qa(a.blueprint,null));const c=ca(t,r),d=t.injectorIndex;if(Zo(c)){const m=wa(c),w=Yo(c,r),M=w[Xt].data;for(let V=0;V<8;V++)r[d+V]=w[m+V]|M[m+V]}return r[d+8]=c,d}function Qa(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Ru(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function ca(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=cn(c),null===a)return Di;if(s++,c=c[Pr],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return Di}function Ra(t,r,s){!function Ya(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Is)&&(a=s[Is]),null==a&&(a=s[Is]=ua++);const c=a&La;r.data[t+(c>>Ia)]|=1<<c}(t,r,s)}function Ja(t,r,s){if(s&Kt.Optional||void 0!==t)return t;De()}function Va(t,r,s,a){if(s&Kt.Optional&&void 0===a&&(a=null),!(s&(Kt.Self|Kt.Host))){const c=t[Vt],d=zr(void 0);try{return c?c.get(r,a,s&Kt.Optional):ri(r,a,s&Kt.Optional)}finally{zr(d)}}return Ja(a,0,s)}function Lc(t,r,s,a=Kt.Default,c){if(null!==t){if(2048&r[Gn]&&!(a&Kt.Self)){const m=function ht(t,r,s,a,c){let d=t,m=r;for(;null!==d&&null!==m&&2048&m[Gn]&&!(512&m[Gn]);){const w=la(d,m,s,a|Kt.Self,No);if(w!==No)return w;let M=d.parent;if(!M){const V=m[Cs];if(V){const Q=V.get(s,No,a);if(Q!==No)return Q}M=cn(m),m=m[Pr]}d=M}return c}(t,r,s,a,No);if(m!==No)return m}const d=la(t,r,s,a,No);if(d!==No)return d}return Va(r,s,a,c)}function la(t,r,s,a,c){const d=function Id(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Is)?t[Is]:void 0;return"number"==typeof r?r>=0?r&La:ce:r}(s);if("function"==typeof d){if(!sn(r,t,a))return a&Kt.Host?Ja(c,0,a):Va(r,s,a,c);try{let m;if(m=d(a),null!=m||a&Kt.Optional)return m;De()}finally{Ks()}}else if("number"==typeof d){let m=null,w=Ru(t,r),M=Di,V=a&Kt.Host?r[Xn][we]:null;for((-1===w||a&Kt.SkipSelf)&&(M=-1===w?ca(t,r):r[w+8],M!==Di&&Uc(a,!1)?(m=r[Xt],w=wa(M),r=Yo(M,r)):w=-1);-1!==w;){const Q=r[Xt];if(Vc(d,w,Q.data)){const le=Hu(w,r,s,m,a,V);if(le!==No)return le}M=r[w+8],M!==Di&&Uc(a,r[Xt].data[w+8]===V)&&Vc(d,w,r)?(m=Q,w=wa(M),r=Yo(M,r)):w=-1}}return c}function Hu(t,r,s,a,c,d){const m=r[Xt],w=m.data[t+8],Q=du(w,m,s,null==a?Os(w)&&Mu:a!=m&&0!=(3&w.type),c&Kt.Host&&d===w);return null!==Q?Xa(r,m,Q,w):No}function du(t,r,s,a,c){const d=t.providerIndexes,m=r.data,w=1048575&d,M=t.directiveStart,Q=d>>20,Pe=c?w+Q:t.directiveEnd;for(let Ge=a?w:w+Q;Ge<Pe;Ge++){const Tt=m[Ge];if(Ge<M&&s===Tt||Ge>=M&&Tt.type===s)return Ge}if(c){const Ge=m[M];if(Ge&&Xr(Ge)&&Ge.type===s)return M}return null}function Xa(t,r,s,a){let c=t[s];const d=r.data;if(function lu(t){return t instanceof cu}(c)){const m=c;m.resolving&&function He(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Et(-200,`Circular dependency in DI detected for ${t}${s}`)}(function An(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Lt(t)}(d[s]));const w=xo(m.canSeeViewProviders);m.resolving=!0;const V=m.injectImpl?zr(m.injectImpl):null;sn(t,a,Kt.Default);try{c=t[s]=m.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function bl(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const m=Sn(r);(s.preOrderHooks??=[]).push(t,m),(s.preOrderCheckHooks??=[]).push(t,m)}c&&(s.preOrderHooks??=[]).push(0-t,c),d&&((s.preOrderHooks??=[]).push(t,d),(s.preOrderCheckHooks??=[]).push(t,d))}(s,d[s],r)}finally{null!==V&&zr(V),xo(w),m.resolving=!1,Ks()}}return c}function Vc(t,r,s){return!!(s[r+(t>>Ia)]&1<<t)}function Uc(t,r){return!(t&Kt.Self||t&Kt.Host&&r)}class B{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Lc(this._tNode,this._lView,r,qn(a),s)}}function ce(){return new B($e(),Rt())}function Ne(t){return br(()=>{const r=t.prototype.constructor,s=r[Ii]||Ue(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[Ii]||Ue(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Ue(t){return vn(t)?()=>{const r=Ue(ut(t));return r&&r()}:fo(t)}function cn(t){const r=t[Xt],s=r.type;return 2===s?r.declTNode:1===s?t[we]:null}function en(t){return function Fc(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(mt(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}($e(),t)}const un="__parameters__";function xa(t,r,s){return br(()=>{const a=function ds(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const m=new c(...d);return w.annotation=m,w;function w(M,V,Q){const le=M.hasOwnProperty(un)?M[un]:Object.defineProperty(M,un,{value:[]})[un];for(;le.length<=Q;)le.push(null);return(le[Q]=le[Q]||[]).push(m),M}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function fu(t,r){t.forEach(s=>Array.isArray(s)?fu(s,r):r(s))}function jc(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function $c(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Oo(t,r,s){let a=mu(t,r);return a>=0?t[1|a]=s:(a=~a,function cc(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function gu(t,r){const s=mu(t,r);if(s>=0)return t[1|s]}function mu(t,r){return function ao(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),m=t[d<<s];if(r===m)return d<<s;m>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const Ua=Ir(xa("Optional"),8),Po=Ir(xa("SkipSelf"),4);function Zc(t){return 128==(128&t.flags)}var Qc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qc||{});const xm=/^>|^->|<!--|-->|--!>|<!-$/g,T=/(<|>)/g,h="\u200b$1\u200b";const C=new Map;let W=0;const da="__ngContext__";function hs(t,r){Ri(r)?(t[da]=r[Hr],function Fe(t){C.set(t[Hr],t)}(r)):t[da]=r}let Xc;function pc(t,r){return Xc(t,r)}function Pd(t){const r=t[$];return xi(r)?r[$]:r}function bp(t){return _u(t[Pn])}function Fl(t){return _u(t[G])}function _u(t){for(;null!==t&&!xi(t);)t=t[G];return t}function gc(t,r,s,a,c){if(null!=a){let d,m=!1;xi(a)?d=a:Ri(a)&&(m=!0,a=a[Or]);const w=dr(a);0===t&&null!==s?null==c?el(r,s,w):Oa(r,s,w,c||null,!0):1===t&&null!==s?Oa(r,s,w,c||null,!0):2===t?function Ul(t,r,s){const a=ru(t,r);a&&function j_(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,w,m):3===t&&r.destroyNode(w),null!=d&&function Gh(t,r,s,a,c){const d=s[Ci];d!==dr(s)&&gc(r,t,a,d,c);for(let w=Fi;w<s.length;w++){const M=s[w];Bd(M[Xt],M,t,r,a,d)}}(r,t,d,s,c)}}function jh(t,r){return t.createComment(function g(t){return t.replace(xm,r=>r.replace(T,h))}(r))}function Fd(t,r,s){return t.createElement(r,s)}function Sp(t,r){const s=t[Xi],a=s.indexOf(r);nn(r),s.splice(a,1)}function Vl(t,r){if(t.length<=Fi)return;const s=Fi+r,a=t[s];if(a){const c=a[qr];null!==c&&c!==t&&Sp(c,a),r>0&&(t[s-1][G]=a[G]);const d=$c(t,Fi+r);!function Om(t,r){Bd(t,r,r[St],2,null,null),r[Or]=null,r[we]=null}(a[Xt],a);const m=d[Yr];null!==m&&m.detachView(d[Xt]),a[$]=null,a[G]=null,a[Gn]&=-129}return a}function $h(t,r){if(!(256&r[Gn])){const s=r[St];r[pr]&&va(r[pr]),r[Gi]&&va(r[Gi]),s.destroyNode&&Bd(t,r,s,3,null,null),function Ld(t){let r=t[Pn];if(!r)return Ap(t[Xt],t);for(;r;){let s=null;if(Ri(r))s=r[Pn];else{const a=r[Fi];a&&(s=a)}if(!s){for(;r&&!r[G]&&r!==t;)Ri(r)&&Ap(r[Xt],r),r=r[$];null===r&&(r=t),Ri(r)&&Ap(r[Xt],r),s=r&&r[G]}r=s}}(r)}}function Ap(t,r){if(!(256&r[Gn])){r[Gn]&=-129,r[Gn]|=256,function B_(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof cu)){const d=s[a+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const w=c[d[m]],M=d[m+1];wt(4,w,M);try{M.call(w)}finally{wt(5,w,M)}}else{wt(4,c,d);try{d.call(c)}finally{wt(5,c,d)}}}}}(t,r),function Pm(t,r){const s=t.cleanup,a=r[ke];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const m=s[d+3];m>=0?a[m]():a[-m].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[ke]=null);const c=r[_i];if(null!==c){r[_i]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[Xt].type&&r[St].destroy();const s=r[qr];if(null!==s&&xi(r[$])){s!==r[$]&&Sp(s,r);const a=r[Yr];null!==a&&a.detachView(t)}!function Qt(t){C.delete(t[Hr])}(r)}}function Mp(t,r,s){return function km(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[Or];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===Mi.None||d===Mi.Emulated)return null}return rs(a,s)}}(t,r.parent,s)}function Oa(t,r,s,a,c){t.insertBefore(r,s,a,c)}function el(t,r,s){t.appendChild(r,s)}function Rp(t,r,s,a,c){null!==a?Oa(t,r,s,a,c):el(t,r,s)}function ru(t,r){return t.parentNode(r)}let qu,zh,Lp,$l,Vd=function xp(t,r,s){return 40&t.type?rs(t,s):null};function Ou(t,r,s,a){const c=Mp(t,a,r),d=r[St],w=function Lm(t,r,s){return Vd(t,r,s)}(a.parent||r[we],a,r);if(null!=c)if(Array.isArray(s))for(let M=0;M<s.length;M++)Rp(d,c,s[M],w,!1);else Rp(d,c,s,w,!1);void 0!==qu&&qu(d,a,r,s,c)}function Wu(t,r){if(null!==r){const s=r.type;if(3&s)return rs(r,t);if(4&s)return Ud(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return Wu(t,a);{const c=t[r.index];return xi(c)?Ud(-1,c):dr(c)}}if(32&s)return pc(r,t)()||dr(t[r.index]);{const a=Np(t,r);return null!==a?Array.isArray(a)?a[0]:Wu(Pd(t[Xn]),a):Wu(t,r.next)}}return null}function Np(t,r){return null!==r?t[Xn][we].projection[r.projection]:null}function Ud(t,r){const s=Fi+t+1;if(s<r.length){const a=r[s],c=a[Xt].firstChild;if(null!==c)return Wu(a,c)}return r[Ci]}function Hh(t,r,s,a,c,d,m){for(;null!=s;){const w=a[s.index],M=s.type;if(m&&0===r&&(w&&hs(dr(w),a),s.flags|=2),32!=(32&s.flags))if(8&M)Hh(t,r,s.child,a,c,d,!1),gc(r,t,c,w,d);else if(32&M){const V=pc(s,a);let Q;for(;Q=V();)gc(r,t,c,Q,d);gc(r,t,c,w,d)}else 16&M?Pp(t,r,a,s,c,d):gc(r,t,c,w,d);s=m?s.projectionNext:s.next}}function Bd(t,r,s,a,c,d){Hh(s,a,t.firstChild,r,c,d,!1)}function Pp(t,r,s,a,c,d){const m=s[Xn],M=m[we].projection[a.projection];if(Array.isArray(M))for(let V=0;V<M.length;V++)gc(r,t,c,M[V],d);else{let V=M;const Q=m[$];Zc(a)&&(V.flags|=128),Hh(t,r,V,Q,c,d,!0)}}function Um(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function kp(t,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&Ve(t,r,a),null!==c&&Um(t,r,c),null!==d&&function tl(t,r,s){t.setAttribute(r,"style",s)}(t,r,d)}function Bl(t){return function Fp(){if(void 0===zh&&(zh=null,yn.trustedTypes))try{zh=yn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return zh}()?.createHTML(t)||t}function jm(t){Lp=t}function jl(){if(void 0!==Lp)return Lp;if(typeof document<"u")return document;throw new Et(210,!1)}function Hd(){if(void 0===$l&&($l=null,yn.trustedTypes))try{$l=yn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $l}function Vp(t){return Hd()?.createHTML(t)||t}function Wh(t){return Hd()?.createScriptURL(t)||t}class yc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${It})`}}class Kh extends yc{getTypeName(){return"HTML"}}class H_ extends yc{getTypeName(){return"Style"}}class Up extends yc{getTypeName(){return"Script"}}class Zh extends yc{getTypeName(){return"URL"}}class G_ extends yc{getTypeName(){return"ResourceURL"}}function Pu(t){return t instanceof yc?t.changingThisBreaksApplicationSecurity:t}function ku(t,r){const s=function Yh(t){return t instanceof yc&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${It})`)}return s===r}function Gd(t){return new Kh(t)}function $m(t){return new H_(t)}function Hm(t){return new Up(t)}function ha(t){return new Zh(t)}function Gm(t){return new G_(t)}class Qh{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Bl(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class zm{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=Bl(r),s}}const Hl=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qd(t){return(t=String(t)).match(Hl)?t:"unsafe:"+t}function Ta(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function Wd(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const il=Ta("area,br,col,hr,img,wbr"),Bp=Ta("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ku=Ta("rp,rt"),jp=Wd(il,Wd(Bp,Ta("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wd(Ku,Ta("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wd(Ku,Bp)),Jh=Ta("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qm=Wd(Jh,Ta("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ta("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),W_=Ta("script,style,template");class Wm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!jp.hasOwnProperty(s))return this.sanitizedSomething=!0,!W_.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let c=0;c<a.length;c++){const d=a.item(c),m=d.name,w=m.toLowerCase();if(!qm.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let M=d.value;Jh[w]&&(M=qd(M)),this.buf.push(" ",m,'="',vc(M),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();jp.hasOwnProperty(s)&&!il.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(vc(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const K_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Km=/([^\#-~ |!])/g;function vc(t){return t.replace(/&/g,"&amp;").replace(K_,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Km,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ec;function Hp(t,r){let s=null;try{Ec=Ec||function zd(t){const r=new zm(t);return function _c(){try{return!!(new window.DOMParser).parseFromString(Bl(""),"text/html")}catch{return!1}}()?new Qh(r):r}(t);let a=r?String(r):"";s=Ec.getInertBodyElement(a);let c=5,d=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=d,d=s.innerHTML,s=Ec.getInertBodyElement(a)}while(a!==d);return Bl((new Wm).sanitizeChildren(Xh(s)||s))}finally{if(s){const a=Xh(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Xh(t){return"content"in t&&function Z_(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var wc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(wc||{});function Zm(t){const r=Ic();return r?Vp(r.sanitize(wc.HTML,t)||""):ku(t,"HTML")?Vp(Pu(t)):Hp(jl(),Lt(t))}function Kd(t){const r=Ic();return r?r.sanitize(wc.URL,t)||"":ku(t,"URL")?Pu(t):qd(Lt(t))}function vo(t){const r=Ic();if(r)return Wh(r.sanitize(wc.RESOURCE_URL,t)||"");if(ku(t,"ResourceURL"))return Wh(Pu(t));throw new Et(904,!1)}function ef(t,r,s){return function ev(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?vo:Kd}(r,s)(t)}function Ic(){const t=Rt();return t&&t[Yt].sanitizer}const Zd=new Cn("ENVIRONMENT_INITIALIZER"),zp=new Cn("INJECTOR",-1),tf=new Cn("INJECTOR_DEF_TYPES");class Yd{get(r,s=ln){if(s===ln){const a=new Error(`NullInjectorError: No provider for ${Ze(r)}!`);throw a.name="NullInjectorError",a}return s}}function sl(t){return{\u0275providers:t}}function nf(...t){return{\u0275providers:rf(0,t),\u0275fromNgModule:!0}}function rf(t,...r){const s=[],a=new Set;let c;const d=m=>{s.push(m)};return fu(r,m=>{const w=m;Qd(w,d,[],a)&&(c||=[],c.push(w))}),void 0!==c&&sf(c,d),s}function sf(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:c}=t[s];af(c,d=>{r(d,a)})}}function Qd(t,r,s,a){if(!(t=ut(t)))return!1;let c=null,d=Dr(t);const m=!d&&jn(t);if(d||m){if(m&&!m.standalone)return!1;c=t}else{const M=t.ngModule;if(d=Dr(M),!d)return!1;c=M}const w=a.has(c);if(m){if(w)return!1;if(a.add(c),m.dependencies){const M="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const V of M)Qd(V,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!w){let V;a.add(c);try{fu(d.imports,Q=>{Qd(Q,r,s,a)&&(V||=[],V.push(Q))})}finally{}void 0!==V&&sf(V,r)}if(!w){const V=fo(c)||(()=>new c);r({provide:c,useFactory:V,deps:or},c),r({provide:tf,useValue:c,multi:!0},c),r({provide:Zd,useValue:()=>Zt(c),multi:!0},c)}const M=d.providers;if(null!=M&&!w){const V=t;af(M,Q=>{r(Q,V)})}}}return c!==t&&void 0!==t.providers}function af(t,r){for(let s of t)$n(s)&&(s=s.\u0275providers),Array.isArray(s)?af(s,r):r(s)}const Ym=be({provide:String,useValue:be});function Jd(t){return null!==t&&"object"==typeof t&&Ym in t}function ol(t){return"function"==typeof t}const Wp=new Cn("Set Injector scope."),Zu={},Gl={};let Xd;function al(){return void 0===Xd&&(Xd=new Yd),Xd}class vu{}class ul extends vu{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zl(r,m=>this.processProvider(m)),this.records.set(zp,Tc(void 0,this)),c.has("environment")&&this.records.set(vu,Tc(void 0,this));const d=this.records.get(Wp);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(tf.multi,or,Kt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=Be(this),a=zr(void 0);try{return r()}finally{Be(s),zr(a)}}get(r,s=ln,a=Kt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Re))return r[Re](this);a=qn(a);const d=Be(this),m=zr(void 0);try{if(!(a&Kt.SkipSelf)){let M=this.records.get(r);if(void 0===M){const V=function Zp(t){return"function"==typeof t||"object"==typeof t&&t instanceof Cn}(r)&&On(r);M=V&&this.injectableDefInScope(V)?Tc(uf(r),Zu):null,this.records.set(r,M)}if(null!=M)return this.hydrate(r,M)}return(a&Kt.Self?al():this.parent).get(r,s=a&Kt.Optional&&s===ln?null:s)}catch(w){if("NullInjectorError"===w.name){if((w[Jn]=w[Jn]||[]).unshift(Ze(r)),d)throw w;return function fs(t,r,s,a){const c=t[Jn];throw r[mi]&&c.unshift(r[mi]),t.message=function as(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Ze(r);if(Array.isArray(r))c=r.map(Ze).join(" -> ");else if("object"==typeof r){let d=[];for(let m in r)if(r.hasOwnProperty(m)){let w=r[m];d.push(m+":"+("string"==typeof w?JSON.stringify(w):Ze(w)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace($r,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[Jn]=null,t}(w,r,"R3InjectorError",this.source)}throw w}finally{zr(m),Be(d)}}resolveInjectorInitializers(){const r=Be(this),s=zr(void 0);try{const c=this.get(Zd.multi,or,Kt.Self);for(const d of c)d()}finally{Be(r),zr(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Ze(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Et(205,!1)}processProvider(r){let s=ol(r=ut(r))?r:ut(r&&r.provide);const a=function Kp(t){return Jd(t)?Tc(void 0,t.useValue):Tc(Xm(t),Zu)}(r);if(ol(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Tc(void 0,Zu,!0),c.factory=()=>ti(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Zu&&(s.value=Gl,s.value=s.factory()),"object"==typeof s.value&&s.value&&function ty(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=ut(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function uf(t){const r=On(t),s=null!==r?r.factory:fo(t);if(null!==s)return s;if(t instanceof Cn)throw new Et(204,!1);if(t instanceof Function)return function tv(t){const r=t.length;if(r>0)throw function uc(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new Et(204,!1);const s=function ei(t){return t&&(t[kr]||t[_r])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Et(204,!1)}function Xm(t,r,s){let a;if(ol(t)){const c=ut(t);return fo(c)||uf(c)}if(Jd(t))a=()=>ut(t.useValue);else if(function qp(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...ti(t.deps||[]));else if(function Qm(t){return!(!t||!t.useExisting)}(t))a=()=>Zt(ut(t.useExisting));else{const c=ut(t&&(t.useClass||t.provide));if(!function ey(t){return!!t.deps}(t))return fo(c)||uf(c);a=()=>new c(...ti(t.deps))}return a}function Tc(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function zl(t,r){for(const s of t)Array.isArray(s)?zl(s,r):s&&$n(s)?zl(s.\u0275providers,r):r(s)}const ql=new Cn("AppId",{providedIn:"root",factory:()=>cf}),cf="ng",lf=new Cn("Platform Initializer"),eh=new Cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ry=new Cn("AnimationModuleType"),nv=new Cn("CSP nonce",{providedIn:"root",factory:()=>jl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ff=(t,r,s)=>null;function Yl(t,r,s=!1){return ff(t,r,s)}class sv{}class mf{}class Xl{resolveComponentFactory(r){throw function yf(t){const r=Error(`No component factory found for ${Ze(t)}.`);return r.ngComponent=t,r}(r)}}let hl=(()=>{class t{static#e=this.NULL=new Xl}return t})();function av(){return ed($e(),Rt())}function ed(t,r){return new td(rs(t,r))}let td=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=av}return t})();function cy(t){return t instanceof td?t.nativeElement:t}class ly{}let sg=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function uv(){const t=Rt(),s=so($e().index,t);return(Ri(s)?s:t)[St]}()}return t})(),og=(()=>{class t{static#e=this.\u0275prov=cr({token:t,providedIn:"root",factory:()=>null})}return t})();class dy{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const vf=new dy("16.2.12"),ag={};function pl(t,r=null,s=null,a){const c=fy(t,r,s,a);return c.resolveInjectorInitializers(),c}function fy(t,r=null,s=null,a,c=new Set){const d=[s||or,nf(t)];return a=a||("object"==typeof t?void 0:Ze(t)),new ul(d,r||al(),a||null,c)}let wu=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=ln;static#t=this.NULL=new Yd;static create(s,a){if(Array.isArray(s))return pl({name:""},a,s,"");{const c=s.name??"";return pl({name:c},s.parent,s.providers,c)}}static#n=this.\u0275prov=cr({token:t,providedIn:"any",factory:()=>Zt(zp)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function ih(t){return t.ngOriginalError}class Fu{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&ih(r);for(;s&&ih(s);)s=ih(s);return s||null}}function hg(t){return r=>{setTimeout(t,void 0,r)}}const Iu=class dg extends p.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),m=a;if(r&&"object"==typeof r){const M=r;c=M.next?.bind(M),d=M.error?.bind(M),m=M.complete?.bind(M)}this.__isAsync&&(d=hg(d),c&&(c=hg(c)),m&&(m=hg(m)));const w=super.subscribe({next:c,error:d,complete:m});return r instanceof he.w0&&r.add(w),w}};function my(...t){}class Eo{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Iu(!1),this.onMicrotaskEmpty=new Iu(!1),this.onStable=new Iu(!1),this.onError=new Iu(!1),typeof Zone>"u")throw new Et(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function yy(){const t="function"==typeof yn.requestAnimationFrame;let r=yn[t?"requestAnimationFrame":"setTimeout"],s=yn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function fv(t){const r=()=>{!function hv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(yn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,pg(t),t.isCheckStableRunning=!0,fg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),pg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,m,w)=>{if(function pv(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(w))return s.invokeTask(c,d,m,w);try{return Df(t),s.invokeTask(c,d,m,w)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),bf(t)}},onInvoke:(s,a,c,d,m,w,M)=>{try{return Df(t),s.invoke(c,d,m,w,M)}finally{t.shouldCoalesceRunChangeDetection&&r(),bf(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,pg(t),fg(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Eo.isInAngularZone())throw new Et(909,!1)}static assertNotInAngularZone(){if(Eo.isInAngularZone())throw new Et(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+c,r,_y,my,my);try{return d.runTask(m,s,a)}finally{d.cancelTask(m)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const _y={};function fg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Df(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bf(t){t._nesting--,fg(t)}class gg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Iu,this.onMicrotaskEmpty=new Iu,this.onStable=new Iu,this.onError=new Iu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const vy=new Cn("",{providedIn:"root",factory:Cf});function Cf(){const t=Jt(Eo);let r=!0;return function ze(...t){const r=(0,R.yG)(t),s=(0,R._6)(t,1/0),a=t;return a.length?1===a.length?(0,Me.Xf)(a[0]):(0,Se.J)(s)((0,et.D)(a,r)):ae.E}(new Ee.y(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),new Ee.y(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{Eo.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const m=t.onUnstable.subscribe(()=>{Eo.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),m.unsubscribe()}}).pipe(Ae()))}function Yu(t){return t instanceof Function?t():t}let _g=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=cr({token:t,providedIn:"root",factory:()=>new t})}return t})();function ml(t){for(;t;){t[Gn]|=64;const r=Pd(t);if(Ho(t)&&!r)return t;t=r}return null}const yl=new Cn("",{providedIn:"root",factory:()=>!1});let sd=null;function Cy(t,r){return t[r]??wg()}function xf(t,r){const s=wg();s.producerNode?.length&&(t[r]=sd,s.lView=t,sd=Nf())}const _v={...Gs,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ml(t.lView)},lView:null};function Nf(){return Object.create(_v)}function wg(){return sd??=Nf(),sd}const Ar={};function Ig(t){Sy(Kr(),Rt(),Ms()+t,!1)}function Sy(t,r,s,a){if(!a)if(3==(3&r[Gn])){const d=t.preOrderCheckHooks;null!==d&&ic(r,d,s)}else{const d=t.preOrderHooks;null!==d&&Sa(r,d,0,s)}Ka(s)}function od(t,r=Kt.Default){const s=Rt();return null===s?Zt(t,r):Lc($e(),s,ut(t),r)}function Of(){throw new Error("invalid")}function ad(t,r,s,a,c,d,m,w,M,V,Q){const le=r.blueprint.slice();return le[Or]=c,le[Gn]=140|a,(null!==V||t&&2048&t[Gn])&&(le[Gn]|=2048),Lr(le),le[$]=le[Pr]=t,le[nt]=s,le[Yt]=m||t&&t[Yt],le[St]=w||t&&t[St],le[Vt]=M||t&&t[Vt]||null,le[we]=d,le[Hr]=function se(){return W++}(),le[Qr]=Q,le[Cs]=V,le[Xn]=2==r.type?t[Xn]:le,le}function Cc(t,r,s,a,c){let d=t.data[r];if(null===d)d=function sh(t,r,s,a,c){const d=uu(),m=Ea(),M=t.data[r]=function bg(t,r,s,a,c,d){let m=r?r.injectorIndex:-1,w=0;return function ka(){return null!==_n.skipHydrationRootTNode}()&&(w|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=M),null!==d&&(m?null==d.child&&null!==M.parent&&(d.child=M):null===d.next&&(d.next=M,M.prev=d)),M}(t,r,s,a,c),function E(){return _n.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const m=function Es(){const t=_n.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return ta(d,!0),d}function oh(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function ah(t,r,s,a,c){const d=Cy(r,pr),m=Ms(),w=2&a;try{Ka(-1),w&&r.length>er&&Sy(t,r,er,!1),wt(w?2:0,c);const V=w?d:null,Q=qo(V);try{null!==V&&(V.dirty=!1),s(a,c)}finally{zs(V,Q)}}finally{w&&null===r[pr]&&xf(r,pr),Ka(m),wt(w?3:1,c)}}function Tg(t,r,s){if($o(r)){const a=_s(null);try{const d=r.directiveEnd;for(let m=r.directiveStart;m<d;m++){const w=t.data[m];w.contentQueries&&w.contentQueries(1,s[m],m)}}finally{_s(a)}}}function Pf(t,r,s){za()&&(function xg(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;Os(s)&&function Av(t,r,s){const a=rs(r,t),c=_l(s);let m=16;s.signals?m=4096:s.onPush&&(m=64);const w=vl(t,ad(t,c,null,m,a,r,null,t[Yt].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=w}(r,s,t.data[c+s.componentOffset]),t.firstCreatePass||oc(s,r),hs(a,r);const m=s.initialInputs;for(let w=c;w<d;w++){const M=t.data[w],V=Xa(r,t,w,s);hs(V,r),null!==m&&Oy(0,w-c,V,M,0,m),Xr(M)&&(so(s.index,r)[nt]=Xa(r,t,w,s))}}(t,r,s,rs(s,r)),64==(64&s.flags)&&xy(t,r,s))}function kf(t,r,s=rs){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const m=a[d+1],w=-1===m?s(r,t):t[m];t[c++]=w}}}function _l(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Ff(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Ff(t,r,s,a,c,d,m,w,M,V,Q){const le=er+a,Pe=le+c,Ge=function Lf(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Ar);return s}(le,Pe),Tt="function"==typeof V?V():V;return Ge[Xt]={type:t,blueprint:Ge,template:s,queries:null,viewQuery:w,declTNode:r,data:Ge.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:Pe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:M,consts:Tt,incompleteFirstPass:!1,ssrId:Q}}let Ay=t=>null;function Uf(t,r,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const d=t[c];null===a?Cg(s,r,c,d):a.hasOwnProperty(c)&&Cg(s,r,a[c],d)}return s}function Cg(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function fa(t,r,s,a,c,d,m,w){const M=rs(r,s);let Q,V=r.inputs;!w&&null!=V&&(Q=V[a])?(wo(t,s,Q,a,c),Os(r)&&function Mg(t,r){const s=so(r,t);16&s[Gn]||(s[Gn]|=64)}(s,r.index)):3&r.type&&(a=function Ag(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=m?m(c,r.value||"",a):c,d.setProperty(M,a,c))}function Bf(t,r,s,a){if(za()){const c=null===a?null:{"":-1},d=function Dv(t,r){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const m=s[d];if(Vs(r,m.selectors,!1))if(a||(a=[]),Xr(m))if(null!==m.findHostDirectiveDefs){const w=[];c=c||new Map,m.findHostDirectiveDefs(m,w,c),a.unshift(...w,m),$f(t,r,w.length)}else a.unshift(m),$f(t,r,0);else c=c||new Map,m.findHostDirectiveDefs?.(m,a,c),a.push(m)}return null===a?null:[a,c]}(t,s);let m,w;null===d?m=w=null:[m,w]=d,null!==m&&jf(t,r,s,m,c,w),c&&function bv(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new Et(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=dn(s.mergedAttrs,s.attrs)}function jf(t,r,s,a,c,d){for(let V=0;V<a.length;V++)Ra(oc(s,r),t,a[V].type);!function Cv(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let V=0;V<a.length;V++){const Q=a[V];Q.providersResolver&&Q.providersResolver(Q)}let m=!1,w=!1,M=oh(t,r,a.length,null);for(let V=0;V<a.length;V++){const Q=a[V];s.mergedAttrs=dn(s.mergedAttrs,Q.hostAttrs),Sv(t,s,r,M,Q),Ny(M,Q,c),null!==Q.contentQueries&&(s.flags|=4),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(s.flags|=64);const le=Q.type.prototype;!m&&(le.ngOnChanges||le.ngOnInit||le.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),m=!0),!w&&(le.ngOnChanges||le.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),w=!0),M++}!function Sg(t,r,s){const c=r.directiveEnd,d=t.data,m=r.attrs,w=[];let M=null,V=null;for(let Q=r.directiveStart;Q<c;Q++){const le=d[Q],Pe=s?s.get(le):null,Tt=Pe?Pe.outputs:null;M=Uf(le.inputs,Q,M,Pe?Pe.inputs:null),V=Uf(le.outputs,Q,V,Tt);const jt=null===M||null===m||Ti(r)?null:Mv(M,Q,m);w.push(jt)}null!==M&&(M.hasOwnProperty("class")&&(r.flags|=8),M.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=w,r.inputs=M,r.outputs=V}(t,s,d)}function xy(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,m=function A(){return _n.lFrame.currentDirectiveIndex}();try{Ka(d);for(let w=a;w<c;w++){const M=t.data[w],V=r[w];F(w),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Tv(M,V)}}finally{Ka(-1),F(m)}}function Tv(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function $f(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function Ny(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;Xr(r)&&(s[""]=t)}}function Sv(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=fo(c.type)),m=new cu(d,Xr(c),od);t.blueprint[a]=m,s[a]=m,function Ry(t,r,s,a,c){const d=c.hostBindings;if(d){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const w=~r.index;(function ud(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(m)!=w&&m.push(w),m.push(s,a,d)}}(t,r,a,oh(t,s,c.hostVars,Ar),c)}function Vu(t,r,s,a,c,d){const m=rs(t,r);!function Hf(t,r,s,a,c,d,m){if(null==d)t.removeAttribute(r,c,s);else{const w=null==m?Lt(d):m(d,a||"",c);t.setAttribute(r,c,w,s)}}(r[St],m,d,t.value,s,a,c)}function Oy(t,r,s,a,c,d){const m=d[r];if(null!==m)for(let w=0;w<m.length;)Gf(a,s,m[w++],m[w++],m[w++])}function Gf(t,r,s,a,c){const d=_s(null);try{const m=t.inputTransforms;null!==m&&m.hasOwnProperty(a)&&(c=m[a].call(r,c)),null!==t.setInput?t.setInput(r,c,s,a):r[a]=c}finally{_s(d)}}function Mv(t,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const m=t[d];for(let w=0;w<m.length;w+=2)if(m[w]===r){a.push(d,m[w+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Ng(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function Og(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const m=t.data[d];Qe(s[a]),m.contentQueries(2,r[d],d)}}}function vl(t,r){return t[Pn]?t[mr][G]=r:t[Pn]=r,t[mr]=r,r}function li(t,r,s){Qe(0);const a=_s(null);try{r(t,s)}finally{_s(a)}}function Pg(t){return t[ke]||(t[ke]=[])}function cd(t){return t.cleanup||(t.cleanup=[])}function Py(t,r,s){return(null===t||Xr(t))&&(s=function qs(t){for(;Array.isArray(t);){if("object"==typeof t[oi])return t;t=t[Or]}return null}(s[r.index])),s[St]}function Ls(t,r){const s=t[Vt],a=s?s.get(Fu,null):null;a&&a.handleError(r)}function wo(t,r,s,a,c){for(let d=0;d<s.length;){const m=s[d++],w=s[d++];Gf(t.data[m],r[m],a,w,c)}}function Fo(t,r,s){const a=mo(r,t);!function Ll(t,r,s){t.setValue(r,s)}(t[St],a,s)}function xv(t,r){const s=so(r,t),a=s[Xt];!function w0(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const c=s[Or];null!==c&&null===s[Qr]&&(s[Qr]=Yl(c,s[Vt])),zf(a,s,s[nt])}function zf(t,r,s){ir(r);try{const a=t.viewQuery;null!==a&&li(1,a,s);const c=t.template;null!==c&&ah(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Og(t,r),t.staticViewQueries&&li(2,t.viewQuery,s);const d=t.components;null!==d&&function I0(t,r){for(let s=0;s<r.length;s++)xv(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[Gn]&=-5,sa()}}let kg=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,m=function ge(t,r,s){const a=Object.create(Xe);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=m=>{a.cleanupFn=m};return a.ref={notify:()=>Ca(a),run:()=>{if(a.dirty=!1,a.hasRun&&!po(a))return;a.hasRun=!0;const m=qo(a);try{a.cleanupFn(),a.cleanupFn=Le,a.fn(c)}finally{zs(a,m)}},cleanup:()=>a.cleanupFn()},a.ref}(s,V=>{this.all.has(V)&&this.queue.set(V,d)},c);let w;this.all.add(m),m.notify();const M=()=>{m.cleanup(),w?.(),this.all.delete(m),this.queue.delete(m)};return w=a?.onDestroy(M),{destroy:M}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=cr({token:t,providedIn:"root",factory:()=>new t})}return t})();function ld(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let m=0;m<r.length;m++){const w=r[m];"number"==typeof w?d=w:1==d?c=gt(c,w):2==d&&(a=gt(a,w+": "+r[++m]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function uh(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(dr(d)),xi(d)&&Ov(d,a);const m=s.type;if(8&m)uh(t,r,s.child,a);else if(32&m){const w=pc(s,r);let M;for(;M=w();)a.push(M)}else if(16&m){const w=Np(r,s);if(Array.isArray(w))a.push(...w);else{const M=Pd(r[Xn]);uh(M[Xt],M,w,a,!0)}}s=c?s.projectionNext:s.next}return a}function Ov(t,r){for(let s=Fi;s<t.length;s++){const a=t[s],c=a[Xt].firstChild;null!==c&&uh(a[Xt],a,c,r)}t[Ci]!==t[Or]&&r.push(t[Ci])}function Wi(t,r,s,a=!0){const c=r[Yt],d=c.rendererFactory,m=c.afterRenderEventManager;d.begin?.(),m?.begin();try{eo(t,r,t.template,s)}catch(M){throw a&&Ls(r,M),M}finally{d.end?.(),c.effectManager?.flush(),m?.end()}}function eo(t,r,s,a){const c=r[Gn];if(256!=(256&c)){r[Yt].effectManager?.flush(),ir(r);try{Lr(r),function Oc(t){return _n.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&ah(t,r,s,2,a);const m=3==(3&c);if(m){const V=t.preOrderCheckHooks;null!==V&&ic(r,V,null)}else{const V=t.preOrderHooks;null!==V&&Sa(r,V,0,null),Au(r,0)}if(function T0(t){for(let r=bp(t);null!==r;r=Fl(r)){if(!r[ms])continue;const s=r[Xi];for(let a=0;a<s.length;a++){Wr(s[a])}}}(r),Fg(r,2),null!==t.contentQueries&&Og(t,r),m){const V=t.contentCheckHooks;null!==V&&ic(r,V)}else{const V=t.contentHooks;null!==V&&Sa(r,V,1),Au(r,1)}!function vv(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=Cy(r,Gi);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)Ka(~d);else{const m=d,w=s[++c],M=s[++c];_(w,m),a.dirty=!1;const V=qo(a);try{M(2,r[m])}finally{zs(a,V)}}}}finally{null===r[Gi]&&xf(r,Gi),Ka(-1)}}(t,r);const w=t.components;null!==w&&kv(r,w,0);const M=t.viewQuery;if(null!==M&&li(2,M,a),m){const V=t.viewCheckHooks;null!==V&&ic(r,V)}else{const V=t.viewHooks;null!==V&&Sa(r,V,2),Au(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Gn]&=-73,nn(r)}finally{sa()}}}function Fg(t,r){for(let s=bp(t);null!==s;s=Fl(s))for(let a=Fi;a<s.length;a++)Lg(s[a],r)}function D0(t,r,s){Lg(so(r,t),s)}function Lg(t,r){if(!function Vn(t){return 128==(128&t[Gn])}(t))return;const s=t[Xt],a=t[Gn];if(80&a&&0===r||1024&a||2===r)eo(s,t,s.template,t[nt]);else if(t[pe]>0){Fg(t,1);const c=s.components;null!==c&&kv(t,c,1)}}function kv(t,r,s){for(let a=0;a<r.length;a++)D0(t,r[a],s)}class qf{get rootNodes(){const r=this._lView,s=r[Xt];return uh(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nt]}set context(r){this._lView[nt]=r}get destroyed(){return 256==(256&this._lView[Gn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[$];if(xi(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Vl(r,a),$c(s,a))}this._attachedToViewContainer=!1}$h(this._lView[Xt],this._lView)}onDestroy(r){!function Un(t,r){if(256==(256&t[Gn]))throw new Et(911,!1);null===t[_i]&&(t[_i]=[]),t[_i].push(r)}(this._lView,r)}markForCheck(){ml(this._cdRefInjectingView||this._lView)}detach(){this._lView[Gn]&=-129}reattach(){this._lView[Gn]|=128}detectChanges(){Wi(this._lView[Xt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Et(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function V_(t,r){Bd(t,r,r[St],2,null,null)}(this._lView[Xt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Et(902,!1);this._appRef=r}}class b0 extends qf{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Wi(r[Xt],r,r[nt],!1)}checkNoChanges(){}get context(){return null}}class Fv extends hl{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=jn(r);return new dd(s,this.ngModule)}}function Lv(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class S0{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=qn(a);const c=this.injector.get(r,ag,a);return c!==ag||s===ag?c:this.parentInjector.get(r,s,a)}}class dd extends mf{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=Lv(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return Lv(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function cs(t){return t.map(ki).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof vu?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const m=d?new S0(r,d):r,w=m.get(ly,null);if(null===w)throw new Et(407,!1);const le={rendererFactory:w,sanitizer:m.get(og,null),effectManager:m.get(kg,null),afterRenderEventManager:m.get(_g,null)},Pe=w.createRenderer(null,this.componentDef),Ge=this.componentDef.selectors[0][0]||"div",Tt=a?function Ev(t,r,s,a){const d=a.get(yl,!1)||s===Mi.ShadowDom,m=t.selectRootElement(r,d);return function wv(t){Ay(t)}(m),m}(Pe,a,this.componentDef.encapsulation,m):Fd(Pe,Ge,function C0(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Ge)),zn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Nt=null;null!==Tt&&(Nt=Yl(Tt,m,!0));const Nr=Ff(0,null,null,1,0,null,null,null,null,null,null),ni=ad(null,Nr,null,zn,null,null,le,Pe,m,null,Nt);let Qi,ou;ir(ni);try{const Dl=this.componentDef;let fp,p0=null;Dl.findHostDirectiveDefs?(fp=[],p0=new Map,Dl.findHostDirectiveDefs(Dl,fp,p0),fp.push(Dl)):fp=[Dl];const iS=function Vv(t,r){const s=t[Xt],a=er;return t[a]=r,Cc(s,a,2,"#host",null)}(ni,Tt),sS=function El(t,r,s,a,c,d,m){const w=c[Xt];!function hd(t,r,s,a){for(const c of t)r.mergedAttrs=dn(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(ld(r,r.mergedAttrs,!0),null!==s&&kp(a,s,r))}(a,t,r,m);let M=null;null!==r&&(M=Yl(r,c[Vt]));const V=d.rendererFactory.createRenderer(r,s);let Q=16;s.signals?Q=4096:s.onPush&&(Q=64);const le=ad(c,_l(s),null,Q,c[t.index],t,d,V,null,null,M);return w.firstCreatePass&&$f(w,t,a.length-1),vl(c,le),c[t.index]=le}(iS,Tt,Dl,fp,ni,le,Pe);ou=Wo(Nr,er),Tt&&function Vg(t,r,s,a){if(a)Ve(t,s,["ng-version",vf.full]);else{const{attrs:c,classes:d}=function Us(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!Mr(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&Ve(t,s,c),d&&d.length>0&&Um(t,s,d.join(" "))}}(Pe,Dl,Tt,a),void 0!==s&&function Ug(t,r,s){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(ou,this.ngContentSelectors,s),Qi=function A0(t,r,s,a,c,d){const m=$e(),w=c[Xt],M=rs(m,c);jf(w,c,m,s,null,a);for(let Q=0;Q<s.length;Q++)hs(Xa(c,w,m.directiveStart+Q,m),c);xy(w,c,m),M&&hs(M,c);const V=Xa(c,w,m.directiveStart+m.componentOffset,m);if(t[nt]=c[nt]=V,null!==d)for(const Q of d)Q(V,r);return Tg(w,m,t),V}(sS,Dl,fp,p0,ni,[Uv]),zf(Nr,ni,null)}finally{sa()}return new ch(this.componentType,Qi,ed(ou,ni),ni,ou)}}class ch extends sv{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new b0(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;wo(d[Xt],d,c,r,s),this.previousInputValues.set(r,s),ml(so(this._tNode.index,d))}}get injector(){return new B(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Uv(){const t=$e();qi(Rt()[Xt],t)}function Wf(t){let r=function ky(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(Xr(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Et(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const m=t;m.inputs=wl(t.inputs),m.inputTransforms=wl(t.inputTransforms),m.declaredInputs=wl(t.declaredInputs),m.outputs=wl(t.outputs);const w=c.hostBindings;w&&Bg(t,w);const M=c.viewQuery,V=c.contentQueries;if(M&&Bv(t,M),V&&fd(t,V),tt(t.inputs,c.inputs),tt(t.declaredInputs,c.declaredInputs),tt(t.outputs,c.outputs),null!==c.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),tt(m.inputTransforms,c.inputTransforms)),Xr(c)&&c.data.animation){const Q=t.data;Q.animation=(Q.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let m=0;m<d.length;m++){const w=d[m];w&&w.ngInherit&&w(t),w===Wf&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Fy(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=dn(c.hostAttrs,s=dn(s,c.hostAttrs))}}(a)}function wl(t){return t===fi?{}:t===or?[]:t}function Bv(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function fd(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function Bg(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function Sc(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}t.inputTransforms=s}function dh(t){return!!Gg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Gg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Lo(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function Tl(t,r,s,a,c){const d=function Il(t,r,s,a){const c=Lo(t,r,s);return Lo(t,r+1,a)||c}(t,r,s,a);return Lo(t,r+2,c)||d}function zg(t,r,s,a){const c=Rt();return Lo(c,ss(),r)&&(Kr(),Vu(Zi(),c,t,r,s,a)),zg}function gh(t,r,s,a,c,d,m,w){const V=Tl(t,function ra(){return _n.lFrame.bindingIndex}(),s,c,m);return Ro(3),V?r+Lt(s)+a+Lt(c)+d+Lt(m)+w:Ar}function Wy(t,r,s,a,c,d,m,w){const M=Rt(),V=Kr(),Q=t+er,le=V.firstCreatePass?function U0(t,r,s,a,c,d,m,w,M){const V=r.consts,Q=Cc(r,t,4,m||null,ur(V,w));Bf(r,s,Q,ur(V,M)),qi(r,Q);const le=Q.tView=Ff(2,Q,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,V,null);return null!==r.queries&&(r.queries.template(r,Q),le.queries=r.queries.embeddedTView(Q)),Q}(Q,V,M,r,s,a,c,d,m):V.data[Q];ta(le,!1);const Pe=Ky(V,M,le,t);Su()&&Ou(V,M,Pe,le),hs(Pe,M),vl(M,M[Q]=Ng(Pe,M,Pe,le)),Rr(le)&&Pf(V,M,le),null!=m&&kf(M,le,w)}let Ky=function Zy(t,r,s,a){return oa(!0),r[St].createComment("")};function Yy(t,r,s){const a=Rt();return Lo(a,ss(),r)&&fa(Kr(),Zi(),a,t,r,a[St],s,!1),Yy}function Qy(t,r,s,a,c){const m=c?"class":"style";wo(t,s,r.inputs[m],m,a)}function Jf(t,r,s,a){const c=Rt(),d=Kr(),m=er+t,w=c[St],M=d.firstCreatePass?function nE(t,r,s,a,c,d){const m=r.consts,M=Cc(r,t,2,a,ur(m,c));return Bf(r,s,M,ur(m,d)),null!==M.attrs&&ld(M,M.attrs,!1),null!==M.mergedAttrs&&ld(M,M.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,M),M}(m,d,c,r,s,a):d.data[m],V=Xy(d,c,M,w,r,t);c[m]=V;const Q=Rr(M);return ta(M,!0),kp(w,V,M),32!=(32&M.flags)&&Su()&&Ou(d,c,V,M),0===function is(){return _n.lFrame.elementDepthCount}()&&hs(V,c),function oo(){_n.lFrame.elementDepthCount++}(),Q&&(Pf(d,c,M),Tg(d,M,c)),null!==a&&kf(c,M),Jf}function Xf(){let t=$e();Ea()?na():(t=t.parent,ta(t,!1));const r=t;(function Fa(t){return _n.skipHydrationRootTNode===t})(r)&&function rc(){_n.skipHydrationRootTNode=null}(),function Ga(){_n.lFrame.elementDepthCount--}();const s=Kr();return s.firstCreatePass&&(qi(s,t),$o(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Qs(t){return 0!=(8&t.flags)}(r)&&Qy(s,r,Rt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function wd(t){return 0!=(16&t.flags)}(r)&&Qy(s,r,Rt(),r.stylesWithoutHost,!1),Xf}function Jy(t,r,s,a){return Jf(t,r,s,a),Xf(),Jy}let Xy=(t,r,s,a,c,d)=>(oa(!0),Fd(a,c,function Cu(){return _n.lFrame.currentNamespace}()));function Qg(t,r,s){const a=Rt(),c=Kr(),d=t+er,m=c.firstCreatePass?function iE(t,r,s,a,c){const d=r.consts,m=ur(d,a),w=Cc(r,t,8,"ng-container",m);return null!==m&&ld(w,m,!0),Bf(r,s,w,ur(d,c)),null!==r.queries&&r.queries.elementStart(r,w),w}(d,c,a,r,s):c.data[d];ta(m,!0);const w=oE(c,a,m,t);return a[d]=w,Su()&&Ou(c,a,w,m),hs(w,a),Rr(m)&&(Pf(c,a,m),Tg(c,m,a)),null!=s&&kf(a,m),Qg}function Jg(){let t=$e();const r=Kr();return Ea()?na():(t=t.parent,ta(t,!1)),r.firstCreatePass&&(qi(r,t),$o(t)&&r.queries.elementEnd(t)),Jg}let oE=(t,r,s,a)=>(oa(!0),jh(r[St],""));function aE(){return Rt()}function e_(t){return!!t&&"function"==typeof t.then}function Xg(t){return!!t&&"function"==typeof t.subscribe}function em(t,r,s,a){const c=Rt(),d=Kr(),m=$e();return function np(t,r,s,a,c,d,m){const w=Rr(a),V=t.firstCreatePass&&cd(t),Q=r[nt],le=Pg(r);let Pe=!0;if(3&a.type||m){const jt=rs(a,r),fn=m?m(jt):jt,zn=le.length,Nt=m?ni=>m(dr(ni[a.index])):a.index;let Nr=null;if(!m&&w&&(Nr=function tp(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const m=c[d];if(m===s&&c[d+1]===a){const w=r[ke],M=c[d+2];return w.length>M?w[M]:null}"string"==typeof m&&(d+=2)}return null}(t,r,c,a.index)),null!==Nr)(Nr.__ngLastListenerFn__||Nr).__ngNextListenerFn__=d,Nr.__ngLastListenerFn__=d,Pe=!1;else{d=rp(a,r,Q,d,!1);const ni=s.listen(fn,c,d);le.push(d,ni),V&&V.push(c,Nt,zn,zn+1)}}else d=rp(a,r,Q,d,!1);const Ge=a.outputs;let Tt;if(Pe&&null!==Ge&&(Tt=Ge[c])){const jt=Tt.length;if(jt)for(let fn=0;fn<jt;fn+=2){const Qi=r[Tt[fn]][Tt[fn+1]].subscribe(d),ou=le.length;le.push(d,Qi),V&&V.push(c,a.index,ou,-(ou+1))}}}(d,c,c[St],m,t,r,a),em}function t_(t,r,s,a){try{return wt(6,r,s),!1!==s(a)}catch(c){return Ls(t,c),!1}finally{wt(7,r,s)}}function rp(t,r,s,a,c){return function d(m){if(m===Function)return a;ml(t.componentOffset>-1?so(t.index,r):r);let M=t_(r,s,a,m),V=d.__ngNextListenerFn__;for(;V;)M=t_(r,s,V,m)&&M,V=V.__ngNextListenerFn__;return c&&!1===M&&m.preventDefault(),M}}function n_(t=1){return function bu(t){return(_n.lFrame.contextLView=function Zs(t,r){for(;t>0;)r=r[Pr],t--;return r}(t,_n.lFrame.contextLView))[nt]}(t)}function im(t,r){return t<<17|r<<2}function Rc(t){return t>>17&32767}function md(t){return 2|t}function xc(t){return(131068&t)>>2}function sm(t,r){return-131069&t|r<<2}function Dh(t){return 1|t}function l_(t,r,s,a,c){const d=t[s+1],m=null===r;let w=a?Rc(d):xc(d),M=!1;for(;0!==w&&(!1===M||m);){const Q=t[w+1];hE(t[w],r)&&(M=!0,t[w+1]=a?Dh(Q):md(Q)),w=a?Rc(Q):xc(Q)}M&&(t[s+1]=a?md(d):Dh(d))}function hE(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&mu(t,r)>=0}const Vo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fE(t){return t.substring(Vo.key,Vo.keyEnd)}function d_(t,r){const s=Vo.textEnd;return s===r?-1:(r=Vo.keyEnd=function mE(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,Vo.key=r,s),bh(t,r,s))}function bh(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function f_(t,r,s){return ju(t,r,s,!1),f_}function p_(t,r){return ju(t,r,null,!0),p_}function g_(t){!function $u(t,r,s,a){const c=Kr(),d=Ro(2);c.firstUpdatePass&&vE(c,null,d,a);const m=Rt();if(s!==Ar&&Lo(m,d,s)){const w=c.data[Ms()];if(IE(w,a)&&!_E(c,d)){let M=a?w.classesWithoutHost:w.stylesWithoutHost;null!==M&&(s=gt(M,s||"")),Qy(c,w,m,s,a)}else!function aw(t,r,s,a,c,d,m,w){c===Ar&&(c=or);let M=0,V=0,Q=0<c.length?c[0]:null,le=0<d.length?d[0]:null;for(;null!==Q||null!==le;){const Pe=M<c.length?c[M+1]:void 0,Ge=V<d.length?d[V+1]:void 0;let jt,Tt=null;Q===le?(M+=2,V+=2,Pe!==Ge&&(Tt=le,jt=Ge)):null===le||null!==Q&&Q<le?(M+=2,Tt=Q):(V+=2,Tt=le,jt=Ge),null!==Tt&&EE(t,r,s,a,Tt,jt,m,w),Q=M<c.length?c[M]:null,le=V<d.length?d[V]:null}}(c,w,m,m[St],m[d+1],m[d+1]=function sw(t,r,s){if(null==s||""===s)return or;const a=[],c=Pu(s);if(Array.isArray(c))for(let d=0;d<c.length;d++)t(a,c[d],!0);else if("object"==typeof c)for(const d in c)c.hasOwnProperty(d)&&t(a,d,c[d]);else"string"==typeof c&&r(a,c);return a}(t,r,s),a,d)}}(ow,ec,t,!0)}function ec(t,r){for(let s=function Y0(t){return function gE(t){Vo.key=0,Vo.keyEnd=0,Vo.value=0,Vo.valueEnd=0,Vo.textEnd=t.length}(t),d_(t,bh(t,0,Vo.textEnd))}(r);s>=0;s=d_(r,s))Oo(t,fE(r),!0)}function ju(t,r,s,a){const c=Rt(),d=Kr(),m=Ro(2);d.firstUpdatePass&&vE(d,t,m,a),r!==Ar&&Lo(c,m,r)&&EE(d,d.data[Ms()],c,c[St],t,c[m+1]=function uw(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Ze(Pu(t)))),t}(r,s),a,m)}function _E(t,r){return r>=t.expandoStartIndex}function vE(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[Ms()],m=_E(t,s);IE(d,a)&&null===r&&!m&&(r=!1),r=function tw(t,r,s,a){const c=Y(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=sp(s=m_(null,t,r,s,a),r.attrs,a),d=null);else{const m=r.directiveStylingLast;if(-1===m||t[m]!==c)if(s=m_(c,t,r,s,a),null===d){let M=function nw(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==xc(a))return t[Rc(a)]}(t,r,a);void 0!==M&&Array.isArray(M)&&(M=m_(null,t,r,M[1],a),M=sp(M,r.attrs,a),function rw(t,r,s,a){t[Rc(s?r.classBindings:r.styleBindings)]=a}(t,r,a,M))}else d=function iw(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=sp(a,t[d].hostAttrs,s);return sp(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function lE(t,r,s,a,c,d){let m=d?r.classBindings:r.styleBindings,w=Rc(m),M=xc(m);t[a]=s;let Q,V=!1;if(Array.isArray(s)?(Q=s[1],(null===Q||mu(s,Q)>0)&&(V=!0)):Q=s,c)if(0!==M){const Pe=Rc(t[w+1]);t[a+1]=im(Pe,w),0!==Pe&&(t[Pe+1]=sm(t[Pe+1],a)),t[w+1]=function z0(t,r){return 131071&t|r<<17}(t[w+1],a)}else t[a+1]=im(w,0),0!==w&&(t[w+1]=sm(t[w+1],a)),w=a;else t[a+1]=im(M,0),0===w?w=a:t[M+1]=sm(t[M+1],a),M=a;V&&(t[a+1]=md(t[a+1])),l_(t,Q,a,!0),l_(t,Q,a,!1),function dE(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&mu(d,r)>=0&&(s[a+1]=Dh(s[a+1]))}(r,Q,t,a,d),m=im(w,M),d?r.classBindings=m:r.styleBindings=m}(c,d,r,s,m,a)}}function m_(t,r,s,a,c){let d=null;const m=s.directiveEnd;let w=s.directiveStylingLast;for(-1===w?w=s.directiveStart:w++;w<m&&(d=r[w],a=sp(a,d.hostAttrs,c),d!==t);)w++;return null!==t&&(s.directiveStylingLast=w),a}function sp(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const m=r[d];"number"==typeof m?c=m:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Oo(t,m,!!s||r[++d]))}return void 0===t?null:t}function ow(t,r,s){const a=String(r);""!==a&&!a.includes(" ")&&Oo(t,a,s)}function EE(t,r,s,a,c,d,m,w){if(!(3&r.type))return;const M=t.data,V=M[w+1],Q=function q0(t){return 1==(1&t)}(V)?wE(M,r,s,c,xc(V),m):void 0;om(Q)||(om(d)||function cE(t){return 2==(2&t)}(V)&&(d=wE(M,null,s,c,w,m)),function jd(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:Qc.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Qc.Important),t.setStyle(s,a,c,d))}}(a,m,mo(Ms(),s),c,d))}function wE(t,r,s,a,c,d){const m=null===r;let w;for(;c>0;){const M=t[c],V=Array.isArray(M),Q=V?M[1]:M,le=null===Q;let Pe=s[c+1];Pe===Ar&&(Pe=le?or:void 0);let Ge=le?gu(Pe,a):Q===a?Pe:void 0;if(V&&!om(Ge)&&(Ge=gu(M,a)),om(Ge)&&(w=Ge,m))return w;const Tt=t[c+1];c=m?Rc(Tt):xc(Tt)}if(null!==r){let M=d?r.residualClasses:r.residualStyles;null!=M&&(w=gu(M,a))}return w}function om(t){return void 0!==t}function IE(t,r){return 0!=(t.flags&(r?8:16))}function TE(t,r=""){const s=Rt(),a=Kr(),c=t+er,d=a.firstCreatePass?Cc(a,c,1,r,null):a.data[c],m=DE(a,s,d,r,t);s[c]=m,Su()&&Ou(a,s,m,d),ta(d,!1)}let DE=(t,r,s,a,c)=>(oa(!0),function kd(t,r){return t.createText(r)}(r[St],a));function __(t){return am("",t,""),__}function am(t,r,s){const a=Rt(),c=function ph(t,r,s,a){return Lo(t,ss(),s)?r+Lt(s)+a:Ar}(a,t,r,s);return c!==Ar&&Fo(a,Ms(),c),am}function v_(t,r,s,a,c,d,m){const w=Rt(),M=gh(w,t,r,s,a,c,d,m);return M!==Ar&&Fo(w,Ms(),M),v_}function op(t,r,s){const a=Rt();if(Lo(a,ss(),r)){const d=Kr(),m=Zi();fa(d,m,a,t,r,Py(Y(d.data),m,a),s,!0)}return op}const Ch=void 0;var bT=["en",[["a","p"],["AM","PM"],Ch],[["AM","PM"],Ch,Ch],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ch,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ch,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ch,"{1} 'at' {0}",Ch],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DT(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let ap={};function xE(t){const r=function CT(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=gw(r);if(s)return s;const a=r.split("-")[0];if(s=gw(a),s)return s;if("en"===a)return bT;throw new Et(701,!1)}function pw(t){return xE(t)[up.PluralCase]}function gw(t){return t in ap||(ap[t]=yn.ng&&yn.ng.common&&yn.ng.common.locales&&yn.ng.common.locales[t]),ap[t]}var up=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(up||{});const cp="en-US";let mw=cp;function PE(t,r,s,a,c){if(t=ut(t),Array.isArray(t))for(let d=0;d<t.length;d++)PE(t[d],r,s,a,c);else{const d=Kr(),m=Rt(),w=$e();let M=ol(t)?t:ut(t.provide);const V=Xm(t),Q=1048575&w.providerIndexes,le=w.directiveStart,Pe=w.providerIndexes>>20;if(ol(t)||!t.multi){const Ge=new cu(V,c,od),Tt=FE(M,r,c?Q:Q+Pe,le);-1===Tt?(Ra(oc(w,m),d,M),kE(d,t,r.length),r.push(M),w.directiveStart++,w.directiveEnd++,c&&(w.providerIndexes+=1048576),s.push(Ge),m.push(Ge)):(s[Tt]=Ge,m[Tt]=Ge)}else{const Ge=FE(M,r,Q+Pe,le),Tt=FE(M,r,Q,Q+Pe),fn=Tt>=0&&s[Tt];if(c&&!fn||!c&&!(Ge>=0&&s[Ge])){Ra(oc(w,m),d,M);const zn=function DD(t,r,s,a,c){const d=new cu(t,s,od);return d.multi=[],d.index=r,d.componentProviders=0,jw(d,c,a&&!s),d}(c?TD:ID,s.length,c,a,V);!c&&fn&&(s[Tt].providerFactory=zn),kE(d,t,r.length,0),r.push(M),w.directiveStart++,w.directiveEnd++,c&&(w.providerIndexes+=1048576),s.push(zn),m.push(zn)}else kE(d,t,Ge>-1?Ge:Tt,jw(s[c?Tt:Ge],V,!c&&a));!c&&a&&fn&&s[Tt].componentProviders++}}}function kE(t,r,s,a){const c=ol(r),d=function Jm(t){return!!t.useClass}(r);if(c||d){const M=(d?ut(r.useClass):r).prototype.ngOnDestroy;if(M){const V=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const Q=V.indexOf(s);-1===Q?V.push(s,[a,M]):V[Q+1].push(a,M)}else V.push(s,M)}}}function jw(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function FE(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function ID(t,r,s,a){return LE(this.multi,[])}function TD(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,w=Xa(s,s[Xt],this.providerFactory.index,a);d=w.slice(0,m),LE(c,d);for(let M=m;M<w.length;M++)d.push(w[M])}else d=[],LE(c,d);return d}function LE(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function $w(t,r=[]){return s=>{s.providersResolver=(a,c)=>function wD(t,r,s){const a=Kr();if(a.firstCreatePass){const c=Xr(t);PE(s,a.data,a.blueprint,c,!0),PE(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Sh{}class Hw{}function bD(t,r){return new VE(t,r??null,[])}class VE extends Sh{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Fv(this);const c=si(r);this._bootstrapComponents=Yu(c.bootstrap),this._r3Injector=fy(r,s,[{provide:Sh,useValue:this},{provide:hl,useValue:this.componentFactoryResolver},...a],Ze(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class UE extends Hw{constructor(r){super(),this.moduleType=r}create(r){return new VE(this.moduleType,r,[])}}class Gw extends Sh{constructor(r){super(),this.componentFactoryResolver=new Fv(this),this.instance=null;const s=new ul([...r.providers,{provide:Sh,useValue:this},{provide:hl,useValue:this.componentFactoryResolver}],r.parent||al(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function zw(t,r,s=null){return new Gw({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let SD=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=rf(0,s.type),c=a.length>0?zw([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=cr({token:t,providedIn:"environment",factory:()=>new t(Zt(vu))})}return t})();function qw(t){t.getStandaloneInjector=r=>r.get(SD).getOrCreateStandaloneInjector(t)}function XD(){return this._results[Symbol.iterator]()}class jE{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Iu)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=jE.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=XD)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function _o(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function xu(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function tb(t,r,s,a=!0){const c=r[Xt];if(function Cp(t,r,s,a){const c=Fi+a,d=s.length;a>0&&(s[c-1][G]=r),a<d-Fi?(r[G]=s[c],jc(s,Fi+a,r)):(s.push(r),r[G]=null),r[$]=s;const m=r[qr];null!==m&&s!==m&&function U_(t,r){const s=t[Xi];r[Xn]!==r[$][$][Xn]&&(t[ms]=!0),null===s?t[Xi]=[r]:s.push(r)}(m,r);const w=r[Yr];null!==w&&w.insertView(t),r[Gn]|=128}(c,r,t,s),a){const d=Ud(s,t),m=r[St],w=ru(m,t[Ci]);null!==w&&function L_(t,r,s,a,c,d){a[Or]=c,a[we]=r,Bd(t,a,s,1,c,d)}(c,t[we],m,r,w,d)}}let gm=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ib}return t})();const nb=gm,rb=class extends nb{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function eb(t,r,s,a){const c=r.tView,w=ad(t,c,s,4096&t[Gn]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);w[qr]=t[r.index];const V=t[Yr];return null!==V&&(w[Yr]=V.createEmbeddedView(c)),zf(c,w,s),w}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new qf(c)}};function ib(){return b_($e(),Rt())}function b_(t,r){return 4&t.type?new rb(r,t,ed(t,r)):null}let S_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=lb}return t})();function lb(){return lI($e(),Rt())}const db=S_,uI=class extends db{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return ed(this._hostTNode,this._hostLView)}get injector(){return new B(this._hostTNode,this._hostLView)}get parentInjector(){const r=ca(this._hostTNode,this._hostLView);if(Zo(r)){const s=Yo(r,this._hostLView),a=wa(r);return new B(s[Xt].data[a+8],s)}return new B(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=cI(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-Fi}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const w=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(w,c,false),w}createComponent(r,s,a,c,d){const m=r&&!function tu(t){return"function"==typeof t}(r);let w;if(m)w=s;else{const jt=s||{};w=jt.index,a=jt.injector,c=jt.projectableNodes,d=jt.environmentInjector||jt.ngModuleRef}const M=m?r:new dd(jn(r)),V=a||this.parentInjector;if(!d&&null==M.ngModule){const fn=(m?V:this.parentInjector).get(vu,null);fn&&(d=fn)}jn(M.componentType??{});const Ge=M.create(V,c,null,d);return this.insertImpl(Ge.hostView,w,false),Ge}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function Mt(t){return xi(t[$])}(c)){const M=this.indexOf(r);if(-1!==M)this.detach(M);else{const V=c[$],Q=new uI(V,V[we],V[$]);Q.detach(Q.indexOf(r))}}const m=this._adjustIndex(s),w=this._lContainer;return tb(w,c,m,!a),r.attachToViewContainerRef(),jc($E(w),m,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=cI(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Vl(this._lContainer,s);a&&($c($E(this._lContainer),s),$h(a[Xt],a))}detach(r){const s=this._adjustIndex(r,-1),a=Vl(this._lContainer,s);return a&&null!=$c($E(this._lContainer),s)?new qf(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function cI(t){return t[8]}function $E(t){return t[8]||(t[8]=[])}function lI(t,r){let s;const a=r[t.index];return xi(a)?s=a:(s=Ng(a,r,null,t),r[t.index]=s,vl(r,s)),dI(s,r,t,a),new uI(s,t,r)}let dI=function hI(t,r,s,a){if(t[Ci])return;let c;c=8&s.type?dr(a):function hb(t,r){const s=t[St],a=s.createComment(""),c=rs(r,t);return Oa(s,ru(s,c),a,function Fm(t,r){return t.nextSibling(r)}(s,c),!1),a}(r,s),t[Ci]=c};class HE{constructor(r){this.queryList=r,this.matches=null}clone(){return new HE(this.queryList)}setDirty(){this.queryList.setDirty()}}class GE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const m=s.getByIndex(d);c.push(this.queries[m.indexInDeclarationView].clone())}return new GE(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==EI(r,s).matches&&this.queries[s].setDirty()}}class fI{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class zE{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new zE(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class qE{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new qE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,gb(s,d)),this.matchTNodeWithReadOption(r,s,du(s,r,d,!1,!1))}else a===gm?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,du(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===td||c===S_||c===gm&&4&s.type)this.addMatch(s.index,-2);else{const d=du(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function gb(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function yb(t,r,s,a){return-1===s?function mb(t,r){return 11&t.type?ed(t,r):4&t.type?b_(t,r):null}(r,t):-2===s?function _b(t,r,s){return s===td?ed(r,t):s===gm?b_(r,t):s===S_?lI(r,t):void 0}(t,r,a):Xa(t,t[Xt],s,r)}function pI(t,r,s,a){const c=r[Yr].queries[a];if(null===c.matches){const d=t.data,m=s.matches,w=[];for(let M=0;M<m.length;M+=2){const V=m[M];w.push(V<0?null:yb(r,d[V],m[M+1],s.metadata.read))}c.matches=w}return c.matches}function WE(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const m=pI(t,r,c,s);for(let w=0;w<d.length;w+=2){const M=d[w];if(M>0)a.push(m[w/2]);else{const V=d[w+1],Q=r[-M];for(let le=Fi;le<Q.length;le++){const Pe=Q[le];Pe[qr]===Pe[$]&&WE(Pe[Xt],Pe,V,a)}if(null!==Q[Xi]){const le=Q[Xi];for(let Pe=0;Pe<le.length;Pe++){const Ge=le[Pe];WE(Ge[Xt],Ge,V,a)}}}}}return a}function gI(t){const r=Rt(),s=Kr(),a=fe();Qe(a+1);const c=EI(s,a);if(t.dirty&&function rn(t){return 4==(4&t[Gn])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?WE(s,r,a,[]):pI(s,r,c,a);t.reset(d,cy),t.notifyOnChanges()}return!0}return!1}function mI(t,r,s,a){const c=Kr();if(c.firstCreatePass){const d=$e();(function vI(t,r,s){null===t.queries&&(t.queries=new zE),t.queries.track(new qE(r,s))})(c,new fI(r,s,a),d.index),function wb(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}!function _I(t,r,s){const a=new jE(4==(4&s));(function Dg(t,r,s,a){const c=Pg(r);c.push(s),t.firstCreatePass&&cd(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[Yr]&&(r[Yr]=new GE),r[Yr].queries.push(new HE(a))}(c,Rt(),s)}function yI(){return function Eb(t,r){return t[Yr].queries[r].queryList}(Rt(),fe())}function EI(t,r){return t.queries.getByIndex(r)}function KE(t){return!!si(t)}const LI=new Cn("Application Initializer");let XE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=Jt(LI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(e_(d))s.push(d);else if(Xg(d)){const m=new Promise((w,M)=>{d.subscribe({complete:w,error:M})});s.push(m)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=cr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),VI=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=cr({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const M_=new Cn("LocaleId",{providedIn:"root",factory:()=>Jt(M_,Kt.Optional|Kt.SkipSelf)||function Hb(){return typeof $localize<"u"&&$localize.locale||cp}()}),Gb=new Cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let UI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new de.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=cr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class qb{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let Wb=(()=>{class t{compileModuleSync(s){return new UE(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=Yu(si(s).declarations).reduce((m,w)=>{const M=jn(w);return M&&m.push(new dd(M)),m},[]);return new qb(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=cr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const HI=new Cn(""),GI=new Cn("");let n0,gC=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,n0||(function mC(t){n0=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Eo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(Zt(Eo),Zt(zI),Zt(GI))};static#t=this.\u0275prov=cr({token:t,factory:t.\u0275fac})}return t})(),zI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return n0?.findTestabilityInTree(this,s,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=cr({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),yd=null;const qI=new Cn("AllowMultipleToken"),r0=new Cn("PlatformDestroyListeners"),s0=new Cn("appBootstrapListener");class vC{constructor(r,s){this.name=r,this.token=s}}function ZI(t,r,s=[]){const a=`Platform: ${r}`,c=new Cn(a);return(d=[])=>{let m=o0();if(!m||m.injector.get(qI,!1)){const w=[...s,...d,{provide:c,useValue:!0}];t?t(w):function EC(t){if(yd&&!yd.get(qI,!1))throw new Et(400,!1);(function WI(){!function Ct(t){me=t}(()=>{throw new Et(600,!1)})})(),yd=t;const r=t.get(QI);(function KI(t){t.get(lf,null)?.forEach(s=>s())})(t)}(function YI(t=[],r){return wu.create({name:r,providers:[{provide:Wp,useValue:"platform"},{provide:r0,useValue:new Set([()=>yd=null])},...t]})}(w,a))}return function IC(t){const r=o0();if(!r)throw new Et(401,!1);return r}()}}function o0(){return yd?.get(QI)??null}let QI=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function TC(t="zone.js",r){return"noop"===t?new gg:"zone.js"===t?new Eo(r):t}(a?.ngZone,function JI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function CD(t,r,s){return new VE(t,r,s)}(s.moduleType,this.injector,function rT(t){return[{provide:Eo,useFactory:t},{provide:Zd,multi:!0,useFactory:()=>{const r=Jt(bC,{optional:!0});return()=>r.initialize()}},{provide:nT,useFactory:DC},{provide:vy,useFactory:Cf}]}(()=>c)),m=d.injector.get(Fu,null);return c.runOutsideAngular(()=>{const w=c.onError.subscribe({next:M=>{m.handleError(M)}});d.onDestroy(()=>{x_(this._modules,d),w.unsubscribe()})}),function XI(t,r,s){try{const a=s();return e_(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(m,c,()=>{const w=d.injector.get(XE);return w.runInitializers(),w.donePromise.then(()=>(function yw(t){nr(t,"Expected localeId to be defined"),"string"==typeof t&&(mw=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(M_,cp)||cp),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=eT({},a);return function yC(t,r,s){const a=new UE(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(hp);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Et(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Et(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(r0,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(Zt(wu))};static#t=this.\u0275prov=cr({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function eT(t,r){return Array.isArray(r)?r.reduce(eT,t):{...t,...r}}let hp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Jt(nT),this.zoneIsStable=Jt(vy),this.componentTypes=[],this.components=[],this.isStable=Jt(UI).hasPendingTasks.pipe((0,Dt.w)(s=>s?(0,ue.of)(!1):this.zoneIsStable),function an(t,r=Bt.y){return t=t??xt,(0,ot.e)((s,a)=>{let c,d=!0;s.subscribe((0,At.x)(a,m=>{const w=r(m);(d||!t(c,w))&&(d=!1,c=w,a.next(m))}))})}(),Ae()),this._injector=Jt(vu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof mf;if(!this._injector.get(XE).done)throw!c&&Ki(s),new Et(405,!1);let m;m=c?s:this._injector.get(hl).resolveComponentFactory(s),this.componentTypes.push(m.componentType);const w=function _C(t){return t.isBoundToModule}(m)?void 0:this._injector.get(Sh),V=m.create(wu.NULL,[],a||m.selector,w),Q=V.location.nativeElement,le=V.injector.get(HI,null);return le?.registerApplication(Q),V.onDestroy(()=>{this.detachView(V.hostView),x_(this.components,V),le?.unregisterApplication(Q)}),this._loadComponent(V),V}tick(){if(this._runningTick)throw new Et(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;x_(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(s0,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>x_(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Et(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=cr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function x_(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const nT=new Cn("",{providedIn:"root",factory:()=>Jt(Fu).handleError.bind(void 0)});function DC(){const t=Jt(Eo),r=Jt(Fu);return s=>t.runOutsideAngular(()=>r.handleError(s))}let bC=(()=>{class t{constructor(){this.zone=Jt(Eo),this.applicationRef=Jt(hp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=cr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function SC(){return!1}let AC=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=MC}return t})();function MC(t){return function RC(t,r,s){if(Os(t)&&!s){const a=so(t.index,r);return new qf(a,a)}return 47&t.type?new qf(r[Xn],r):null}($e(),Rt(),16==(16&t))}class aT{constructor(){}supports(r){return dh(r)}create(r){return new FC(r)}}const kC=(t,r)=>r;class FC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||kC}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const m=!a||s&&s.currentIndex<cT(a,c,d)?s:a,w=cT(m,c,d),M=m.currentIndex;if(m===a)c--,a=a._nextRemoved;else if(s=s._next,null==m.previousIndex)c++;else{d||(d=[]);const V=w-c,Q=M-c;if(V!=Q){for(let Pe=0;Pe<V;Pe++){const Ge=Pe<d.length?d[Pe]:d[Pe]=0,Tt=Ge+Pe;Q<=Tt&&Tt<V&&(d[Pe]=Ge+1)}d[m.previousIndex]=Q-V}}w!==M&&r(m,w,M)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!dh(r))throw new Et(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,m,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let w=0;w<this.length;w++)d=r[w],m=this._trackByFn(w,d),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,d,m,w)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,m,w),a=!0),s=s._next}else c=0,function hh(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,w=>{m=this._trackByFn(c,w),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,w,m,c)),Object.is(s.item,w)||this._addIdentityChange(s,w)):(s=this._mismatch(s,w,m,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new LC(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new uT),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uT),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class LC{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VC{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class uT{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new VC,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cT(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class lT{constructor(){}supports(r){return r instanceof Map||Gg(r)}create(){return new UC}}class UC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Gg(r)))throw new Et(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,m=c._next;return d&&(d._next=m),m&&(m._prev=d),c._next=null,c._prev=null,c}const a=new BC(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class BC{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dT(){return new d0([new aT])}let d0=(()=>{class t{static#e=this.\u0275prov=cr({token:t,providedIn:"root",factory:dT});constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||dT()),deps:[[t,new Po,new Ua]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Et(901,!1)}}return t})();function hT(){return new h0([new lT])}let h0=(()=>{class t{static#e=this.\u0275prov=cr({token:t,providedIn:"root",factory:hT});constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||hT()),deps:[[t,new Po,new Ua]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Et(901,!1)}}return t})();const HC=ZI(null,"core",[]);let GC=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(a){return new(a||t)(Zt(hp))};static#t=this.\u0275mod=jo({type:t});static#n=this.\u0275inj=Bn({})}return t})();function tS(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function rS(t){const r=jn(t);if(!r)return null;const s=new dd(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},95:(pn,ft,K)=>{K.d(ft,{Fj:()=>be,qu:()=>xi,u:()=>bs,sg:()=>jn,u5:()=>Xr,JJ:()=>Bn,JL:()=>On,UX:()=>Ho,kI:()=>ut,_Y:()=>us});var p=K(4946),he=K(6814),Ee=K(2459),Se=K(5592),Me=K(7453),ae=K(4829),R=K(4564),et=K(8251),ze=K(7400),de=K(2714),je=K(7398);let ot=(()=>{class j{constructor(O,X){this._renderer=O,this._elementRef=X,this.onChange=Ce=>{},this.onTouched=()=>{}}setProperty(O,X){this._renderer.setProperty(this._elementRef.nativeElement,O,X)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}static#e=this.\u0275fac=function(X){return new(X||j)(p.Y36(p.Qsj),p.Y36(p.SBq))};static#t=this.\u0275dir=p.lG2({type:j})}return j})(),Ae=(()=>{class j extends ot{static#e=this.\u0275fac=function(){let O;return function(Ce){return(O||(O=p.n5z(j)))(Ce||j)}}();static#t=this.\u0275dir=p.lG2({type:j,features:[p.qOj]})}return j})();const Ot=new p.OlP("NgValueAccessor"),At={provide:Ot,useExisting:(0,p.Gpc)(()=>be),multi:!0},xt=new p.OlP("CompositionEventMode");let be=(()=>{class j extends ot{constructor(O,X,Ce){super(O,X),this._compositionMode=Ce,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function an(){const j=(0,he.q)()?(0,he.q)().getUserAgent():"";return/android (\d+)/.test(j.toLowerCase())}())}writeValue(O){this.setProperty("value",O??"")}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}static#e=this.\u0275fac=function(X){return new(X||j)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(xt,8))};static#t=this.\u0275dir=p.lG2({type:j,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(X,Ce){1&X&&p.NdJ("input",function(Kn){return Ce._handleInput(Kn.target.value)})("blur",function(){return Ce.onTouched()})("compositionstart",function(){return Ce._compositionStart()})("compositionend",function(Kn){return Ce._compositionEnd(Kn.target.value)})},features:[p._Bn([At]),p.qOj]})}return j})();function tt(j){return null==j||("string"==typeof j||Array.isArray(j))&&0===j.length}function Ze(j){return null!=j&&"number"==typeof j.length}const gt=new p.OlP("NgValidators"),dt=new p.OlP("NgAsyncValidators"),ct=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ut{static min(z){return function vn(j){return z=>{if(tt(z.value)||tt(j))return null;const O=parseFloat(z.value);return!isNaN(O)&&O<j?{min:{min:j,actual:z.value}}:null}}(z)}static max(z){return function $n(j){return z=>{if(tt(z.value)||tt(j))return null;const O=parseFloat(z.value);return!isNaN(O)&&O>j?{max:{max:j,actual:z.value}}:null}}(z)}static required(z){return function gr(j){return tt(j.value)?{required:!0}:null}(z)}static requiredTrue(z){return function It(j){return!0===j.value?null:{required:!0}}(z)}static email(z){return function Et(j){return tt(j.value)||ct.test(j.value)?null:{email:!0}}(z)}static minLength(z){return function bn(j){return z=>tt(z.value)||!Ze(z.value)?null:z.value.length<j?{minlength:{requiredLength:j,actualLength:z.value.length}}:null}(z)}static maxLength(z){return function Lt(j){return z=>Ze(z.value)&&z.value.length>j?{maxlength:{requiredLength:j,actualLength:z.value.length}}:null}(z)}static pattern(z){return function An(j){if(!j)return He;let z,O;return"string"==typeof j?(O="","^"!==j.charAt(0)&&(O+="^"),O+=j,"$"!==j.charAt(j.length-1)&&(O+="$"),z=new RegExp(O)):(O=j.toString(),z=j),X=>{if(tt(X.value))return null;const Ce=X.value;return z.test(Ce)?null:{pattern:{requiredPattern:O,actualValue:Ce}}}}(z)}static nullValidator(z){return null}static compose(z){return We(z)}static composeAsync(z){return _t(z)}}function He(j){return null}function Je(j){return null!=j}function at(j){return(0,p.QGY)(j)?(0,Ee.D)(j):j}function De(j){let z={};return j.forEach(O=>{z=null!=O?{...z,...O}:z}),0===Object.keys(z).length?null:z}function ve(j,z){return z.map(O=>O(j))}function _e(j){return j.map(z=>function oe(j){return!j.validate}(z)?z:O=>z.validate(O))}function We(j){if(!j)return null;const z=j.filter(Je);return 0==z.length?null:function(O){return De(ve(O,z))}}function pt(j){return null!=j?We(_e(j)):null}function _t(j){if(!j)return null;const z=j.filter(Je);return 0==z.length?null:function(O){return function ue(...j){const z=(0,R.jO)(j),{args:O,keys:X}=(0,Me.D)(j),Ce=new Se.y(qt=>{const{length:Kn}=O;if(!Kn)return void qt.complete();const Li=new Array(Kn);let ys=Kn,$s=Kn;for(let bo=0;bo<Kn;bo++){let es=!1;(0,ae.Xf)(O[bo]).subscribe((0,et.x)(qt,Go=>{es||(es=!0,$s--),Li[bo]=Go},()=>ys--,void 0,()=>{(!ys||!es)&&($s||qt.next(X?(0,de.n)(X,Li):Li),qt.complete())}))}});return z?Ce.pipe((0,ze.Z)(z)):Ce}(ve(O,z).map(at)).pipe((0,je.U)(De))}}function zt(j){return null!=j?_t(_e(j)):null}function tr(j,z){return null===j?[z]:Array.isArray(j)?[...j,z]:[j,z]}function Qn(j){return j._rawValidators}function Rn(j){return j._rawAsyncValidators}function lr(j){return j?Array.isArray(j)?j:[j]:[]}function ar(j,z){return Array.isArray(j)?j.includes(z):j===z}function kn(j,z){const O=lr(z);return lr(j).forEach(Ce=>{ar(O,Ce)||O.push(Ce)}),O}function nr(j,z){return lr(z).filter(O=>!ar(j,O))}class mn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(z){this._rawValidators=z||[],this._composedValidatorFn=pt(this._rawValidators)}_setAsyncValidators(z){this._rawAsyncValidators=z||[],this._composedAsyncValidatorFn=zt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(z){this._onDestroyCallbacks.push(z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(z=>z()),this._onDestroyCallbacks=[]}reset(z=void 0){this.control&&this.control.reset(z)}hasError(z,O){return!!this.control&&this.control.hasError(z,O)}getError(z,O){return this.control?this.control.getError(z,O):null}}class hr extends mn{get formDirective(){return null}get path(){return null}}class En extends mn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gi{constructor(z){this._cd=z}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Bn=(()=>{class j extends gi{constructor(O){super(O)}static#e=this.\u0275fac=function(X){return new(X||j)(p.Y36(En,2))};static#t=this.\u0275dir=p.lG2({type:j,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(X,Ce){2&X&&p.ekj("ng-untouched",Ce.isUntouched)("ng-touched",Ce.isTouched)("ng-pristine",Ce.isPristine)("ng-dirty",Ce.isDirty)("ng-valid",Ce.isValid)("ng-invalid",Ce.isInvalid)("ng-pending",Ce.isPending)},features:[p.qOj]})}return j})(),On=(()=>{class j extends gi{constructor(O){super(O)}static#e=this.\u0275fac=function(X){return new(X||j)(p.Y36(hr,10))};static#t=this.\u0275dir=p.lG2({type:j,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(X,Ce){2&X&&p.ekj("ng-untouched",Ce.isUntouched)("ng-touched",Ce.isTouched)("ng-pristine",Ce.isPristine)("ng-dirty",Ce.isDirty)("ng-valid",Ce.isValid)("ng-invalid",Ce.isInvalid)("ng-pending",Ce.isPending)("ng-submitted",Ce.isSubmitted)},features:[p.qOj]})}return j})();const Cn="VALID",vr="INVALID",Hn="PENDING",Fr="DISABLED";function Te(j){return(ee(j)?j.validators:j)||null}function re(j,z){return(ee(z)?z.asyncValidators:j)||null}function ee(j){return null!=j&&!Array.isArray(j)&&"object"==typeof j}function Oe(j,z,O){const X=j.controls;if(!(z?Object.keys(X):X).length)throw new p.vHH(1e3,"");if(!X[O])throw new p.vHH(1001,"")}function yt(j,z,O){j._forEachChild((X,Ce)=>{if(void 0===O[Ce])throw new p.vHH(1002,"")})}class $t{constructor(z,O){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(z),this._assignAsyncValidators(O)}get validator(){return this._composedValidatorFn}set validator(z){this._rawValidators=this._composedValidatorFn=z}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(z){this._rawAsyncValidators=this._composedAsyncValidatorFn=z}get parent(){return this._parent}get valid(){return this.status===Cn}get invalid(){return this.status===vr}get pending(){return this.status==Hn}get disabled(){return this.status===Fr}get enabled(){return this.status!==Fr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(z){this._assignValidators(z)}setAsyncValidators(z){this._assignAsyncValidators(z)}addValidators(z){this.setValidators(kn(z,this._rawValidators))}addAsyncValidators(z){this.setAsyncValidators(kn(z,this._rawAsyncValidators))}removeValidators(z){this.setValidators(nr(z,this._rawValidators))}removeAsyncValidators(z){this.setAsyncValidators(nr(z,this._rawAsyncValidators))}hasValidator(z){return ar(this._rawValidators,z)}hasAsyncValidator(z){return ar(this._rawAsyncValidators,z)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(z={}){this.touched=!0,this._parent&&!z.onlySelf&&this._parent.markAsTouched(z)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(z=>z.markAllAsTouched())}markAsUntouched(z={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!z.onlySelf&&this._parent._updateTouched(z)}markAsDirty(z={}){this.pristine=!1,this._parent&&!z.onlySelf&&this._parent.markAsDirty(z)}markAsPristine(z={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!z.onlySelf&&this._parent._updatePristine(z)}markAsPending(z={}){this.status=Hn,!1!==z.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!z.onlySelf&&this._parent.markAsPending(z)}disable(z={}){const O=this._parentMarkedDirty(z.onlySelf);this.status=Fr,this.errors=null,this._forEachChild(X=>{X.disable({...z,onlySelf:!0})}),this._updateValue(),!1!==z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...z,skipPristineCheck:O}),this._onDisabledChange.forEach(X=>X(!0))}enable(z={}){const O=this._parentMarkedDirty(z.onlySelf);this.status=Cn,this._forEachChild(X=>{X.enable({...z,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:z.emitEvent}),this._updateAncestors({...z,skipPristineCheck:O}),this._onDisabledChange.forEach(X=>X(!1))}_updateAncestors(z){this._parent&&!z.onlySelf&&(this._parent.updateValueAndValidity(z),z.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(z){this._parent=z}getRawValue(){return this.value}updateValueAndValidity(z={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cn||this.status===Hn)&&this._runAsyncValidator(z.emitEvent)),!1!==z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!z.onlySelf&&this._parent.updateValueAndValidity(z)}_updateTreeValidity(z={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(z)),this.updateValueAndValidity({onlySelf:!0,emitEvent:z.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fr:Cn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(z){if(this.asyncValidator){this.status=Hn,this._hasOwnPendingAsyncValidator=!0;const O=at(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(X=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(X,{emitEvent:z})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(z,O={}){this.errors=z,this._updateControlsErrors(!1!==O.emitEvent)}get(z){let O=z;return null==O||(Array.isArray(O)||(O=O.split(".")),0===O.length)?null:O.reduce((X,Ce)=>X&&X._find(Ce),this)}getError(z,O){const X=O?this.get(O):this;return X&&X.errors?X.errors[z]:null}hasError(z,O){return!!this.getError(z,O)}get root(){let z=this;for(;z._parent;)z=z._parent;return z}_updateControlsErrors(z){this.status=this._calculateStatus(),z&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(z)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?Fr:this.errors?vr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hn)?Hn:this._anyControlsHaveStatus(vr)?vr:Cn}_anyControlsHaveStatus(z){return this._anyControls(O=>O.status===z)}_anyControlsDirty(){return this._anyControls(z=>z.dirty)}_anyControlsTouched(){return this._anyControls(z=>z.touched)}_updatePristine(z={}){this.pristine=!this._anyControlsDirty(),this._parent&&!z.onlySelf&&this._parent._updatePristine(z)}_updateTouched(z={}){this.touched=this._anyControlsTouched(),this._parent&&!z.onlySelf&&this._parent._updateTouched(z)}_registerOnCollectionChange(z){this._onCollectionChange=z}_setUpdateStrategy(z){ee(z)&&null!=z.updateOn&&(this._updateOn=z.updateOn)}_parentMarkedDirty(z){return!z&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(z){return null}_assignValidators(z){this._rawValidators=Array.isArray(z)?z.slice():z,this._composedValidatorFn=function J(j){return Array.isArray(j)?pt(j):j||null}(this._rawValidators)}_assignAsyncValidators(z){this._rawAsyncValidators=Array.isArray(z)?z.slice():z,this._composedAsyncValidatorFn=function ne(j){return Array.isArray(j)?zt(j):j||null}(this._rawAsyncValidators)}}class ln extends $t{constructor(z,O,X){super(Te(O),re(X,O)),this.controls=z,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(z,O){return this.controls[z]?this.controls[z]:(this.controls[z]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(z,O,X={}){this.registerControl(z,O),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}removeControl(z,O={}){this.controls[z]&&this.controls[z]._registerOnCollectionChange(()=>{}),delete this.controls[z],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(z,O,X={}){this.controls[z]&&this.controls[z]._registerOnCollectionChange(()=>{}),delete this.controls[z],O&&this.registerControl(z,O),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}contains(z){return this.controls.hasOwnProperty(z)&&this.controls[z].enabled}setValue(z,O={}){yt(this,0,z),Object.keys(z).forEach(X=>{Oe(this,!0,X),this.controls[X].setValue(z[X],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(z,O={}){null!=z&&(Object.keys(z).forEach(X=>{const Ce=this.controls[X];Ce&&Ce.patchValue(z[X],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(z={},O={}){this._forEachChild((X,Ce)=>{X.reset(z?z[Ce]:null,{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(z,O,X)=>(z[X]=O.getRawValue(),z))}_syncPendingControls(){let z=this._reduceChildren(!1,(O,X)=>!!X._syncPendingControls()||O);return z&&this.updateValueAndValidity({onlySelf:!0}),z}_forEachChild(z){Object.keys(this.controls).forEach(O=>{const X=this.controls[O];X&&z(X,O)})}_setUpControls(){this._forEachChild(z=>{z.setParent(this),z._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(z){for(const[O,X]of Object.entries(this.controls))if(this.contains(O)&&z(X))return!0;return!1}_reduceValue(){return this._reduceChildren({},(O,X,Ce)=>((X.enabled||this.disabled)&&(O[Ce]=X.value),O))}_reduceChildren(z,O){let X=z;return this._forEachChild((Ce,qt)=>{X=O(X,Ce,qt)}),X}_allControlsDisabled(){for(const z of Object.keys(this.controls))if(this.controls[z].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(z){return this.controls.hasOwnProperty(z)?this.controls[z]:null}}class Fn extends ln{}const Er=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>mi}),mi="always";function st(j,z,O=mi){Nn(j,z),z.valueAccessor.writeValue(j.value),(j.disabled||"always"===O)&&z.valueAccessor.setDisabledState?.(j.disabled),function qn(j,z){z.valueAccessor.registerOnChange(O=>{j._pendingValue=O,j._pendingChange=!0,j._pendingDirty=!0,"change"===j.updateOn&&Ir(j,z)})}(j,z),function Pi(j,z){const O=(X,Ce)=>{z.valueAccessor.writeValue(X),Ce&&z.viewToModelUpdate(X)};j.registerOnChange(O),z._registerOnDestroy(()=>{j._unregisterOnChange(O)})}(j,z),function ti(j,z){z.valueAccessor.registerOnTouched(()=>{j._pendingTouched=!0,"blur"===j.updateOn&&j._pendingChange&&Ir(j,z),"submit"!==j.updateOn&&j.markAsTouched()})}(j,z),function Zt(j,z){if(z.valueAccessor.setDisabledState){const O=X=>{z.valueAccessor.setDisabledState(X)};j.registerOnDisabledChange(O),z._registerOnDestroy(()=>{j._unregisterOnDisabledChange(O)})}}(j,z)}function Be(j,z,O=!0){const X=()=>{};z.valueAccessor&&(z.valueAccessor.registerOnChange(X),z.valueAccessor.registerOnTouched(X)),Jt(j,z),j&&(z._invokeOnDestroyCallbacks(),j._registerOnCollectionChange(()=>{}))}function bt(j,z){j.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(z)})}function Nn(j,z){const O=Qn(j);null!==z.validator?j.setValidators(tr(O,z.validator)):"function"==typeof O&&j.setValidators([O]);const X=Rn(j);null!==z.asyncValidator?j.setAsyncValidators(tr(X,z.asyncValidator)):"function"==typeof X&&j.setAsyncValidators([X]);const Ce=()=>j.updateValueAndValidity();bt(z._rawValidators,Ce),bt(z._rawAsyncValidators,Ce)}function Jt(j,z){let O=!1;if(null!==j){if(null!==z.validator){const Ce=Qn(j);if(Array.isArray(Ce)&&Ce.length>0){const qt=Ce.filter(Kn=>Kn!==z.validator);qt.length!==Ce.length&&(O=!0,j.setValidators(qt))}}if(null!==z.asyncValidator){const Ce=Rn(j);if(Array.isArray(Ce)&&Ce.length>0){const qt=Ce.filter(Kn=>Kn!==z.asyncValidator);qt.length!==Ce.length&&(O=!0,j.setAsyncValidators(qt))}}}const X=()=>{};return bt(z._rawValidators,X),bt(z._rawAsyncValidators,X),O}function Ir(j,z){j._pendingDirty&&j.markAsDirty(),j.setValue(j._pendingValue,{emitModelToViewChange:!1}),z.viewToModelUpdate(j._pendingValue),j._pendingChange=!1}function mt(j,z){const O=j.indexOf(z);O>-1&&j.splice(O,1)}function Pt(j){return"object"==typeof j&&null!==j&&2===Object.keys(j).length&&"value"in j&&"disabled"in j}const dn=class extends $t{constructor(z=null,O,X){super(Te(O),re(X,O)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(z),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ee(O)&&(O.nonNullable||O.initialValueIsDefault)&&(this.defaultValue=Pt(z)?z.value:z)}setValue(z,O={}){this.value=this._pendingValue=z,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(X=>X(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(z,O={}){this.setValue(z,O)}reset(z=this.defaultValue,O={}){this._applyFormState(z),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(z){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(z){this._onChange.push(z)}_unregisterOnChange(z){mt(this._onChange,z)}registerOnDisabledChange(z){this._onDisabledChange.push(z)}_unregisterOnDisabledChange(z){mt(this._onDisabledChange,z)}_forEachChild(z){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(z){Pt(z)?(this.value=this._pendingValue=z.value,z.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=z}};let us=(()=>{class j{static#e=this.\u0275fac=function(X){return new(X||j)};static#t=this.\u0275dir=p.lG2({type:j,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return j})(),xs=(()=>{class j{static#e=this.\u0275fac=function(X){return new(X||j)};static#t=this.\u0275mod=p.oAB({type:j});static#n=this.\u0275inj=p.cJS({})}return j})();const ho=new p.OlP("NgModelWithFormControlWarning"),Ds={provide:hr,useExisting:(0,p.Gpc)(()=>jn)};let jn=(()=>{class j extends hr{constructor(O,X,Ce){super(),this.callSetDisabledState=Ce,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(O),this._setAsyncValidators(X)}ngOnChanges(O){this._checkFormPresent(),O.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Jt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(O){const X=this.form.get(O.path);return st(X,O,this.callSetDisabledState),X.updateValueAndValidity({emitEvent:!1}),this.directives.push(O),X}getControl(O){return this.form.get(O.path)}removeControl(O){Be(O.control||null,O,!1),function Ii(j,z){const O=j.indexOf(z);O>-1&&j.splice(O,1)}(this.directives,O)}addFormGroup(O){this._setUpFormContainer(O)}removeFormGroup(O){this._cleanUpFormContainer(O)}getFormGroup(O){return this.form.get(O.path)}addFormArray(O){this._setUpFormContainer(O)}removeFormArray(O){this._cleanUpFormContainer(O)}getFormArray(O){return this.form.get(O.path)}updateModel(O,X){this.form.get(O.path).setValue(X)}onSubmit(O){return this.submitted=!0,function pi(j,z){j._syncPendingControls(),z.forEach(O=>{const X=O.control;"submit"===X.updateOn&&X._pendingChange&&(O.viewToModelUpdate(X._pendingValue),X._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(O),"dialog"===O?.target?.method}onReset(){this.resetForm()}resetForm(O=void 0){this.form.reset(O),this.submitted=!1}_updateDomValue(){this.directives.forEach(O=>{const X=O.control,Ce=this.form.get(O.path);X!==Ce&&(Be(X||null,O),(j=>j instanceof dn)(Ce)&&(st(Ce,O,this.callSetDisabledState),O.control=Ce))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(O){const X=this.form.get(O.path);(function fs(j,z){Nn(j,z)})(X,O),X.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(O){if(this.form){const X=this.form.get(O.path);X&&function as(j,z){return Jt(j,z)}(X,O)&&X.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Nn(this.form,this),this._oldForm&&Jt(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(X){return new(X||j)(p.Y36(gt,10),p.Y36(dt,10),p.Y36(Er,8))};static#t=this.\u0275dir=p.lG2({type:j,selectors:[["","formGroup",""]],hostBindings:function(X,Ce){1&X&&p.NdJ("submit",function(Kn){return Ce.onSubmit(Kn)})("reset",function(){return Ce.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Ds]),p.qOj,p.TTD]})}return j})();const gs={provide:En,useExisting:(0,p.Gpc)(()=>bs)};let bs=(()=>{class j extends En{set isDisabled(O){}static#e=this._ngModelWarningSentOnce=!1;constructor(O,X,Ce,qt,Kn){super(),this._ngModelWarningConfig=Kn,this._added=!1,this.name=null,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=O,this._setValidators(X),this._setAsyncValidators(Ce),this.valueAccessor=function Vi(j,z){if(!z)return null;let O,X,Ce;return Array.isArray(z),z.forEach(qt=>{qt.constructor===be?O=qt:function Zr(j){return Object.getPrototypeOf(j.constructor)===Ae}(qt)?X=qt:Ce=qt}),Ce||X||O||null}(0,qt)}ngOnChanges(O){this._added||this._setUpControl(),function $i(j,z){if(!j.hasOwnProperty("model"))return!1;const O=j.model;return!!O.isFirstChange()||!Object.is(z,O.currentValue)}(O,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}get path(){return function Si(j,z){return[...z.path,j]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(X){return new(X||j)(p.Y36(hr,13),p.Y36(gt,10),p.Y36(dt,10),p.Y36(Ot,10),p.Y36(ho,8))};static#n=this.\u0275dir=p.lG2({type:j,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([gs]),p.qOj,p.TTD]})}return j})(),Xi=(()=>{class j{static#e=this.\u0275fac=function(X){return new(X||j)};static#t=this.\u0275mod=p.oAB({type:j});static#n=this.\u0275inj=p.cJS({imports:[xs]})}return j})();class Do extends $t{constructor(z,O,X){super(Te(O),re(X,O)),this.controls=z,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(z){return this.controls[this._adjustIndex(z)]}push(z,O={}){this.controls.push(z),this._registerControl(z),this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}insert(z,O,X={}){this.controls.splice(z,0,O),this._registerControl(O),this.updateValueAndValidity({emitEvent:X.emitEvent})}removeAt(z,O={}){let X=this._adjustIndex(z);X<0&&(X=0),this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),this.controls.splice(X,1),this.updateValueAndValidity({emitEvent:O.emitEvent})}setControl(z,O,X={}){let Ce=this._adjustIndex(z);Ce<0&&(Ce=0),this.controls[Ce]&&this.controls[Ce]._registerOnCollectionChange(()=>{}),this.controls.splice(Ce,1),O&&(this.controls.splice(Ce,0,O),this._registerControl(O)),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(z,O={}){yt(this,0,z),z.forEach((X,Ce)=>{Oe(this,!1,Ce),this.at(Ce).setValue(X,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(z,O={}){null!=z&&(z.forEach((X,Ce)=>{this.at(Ce)&&this.at(Ce).patchValue(X,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(z=[],O={}){this._forEachChild((X,Ce)=>{X.reset(z[Ce],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this.controls.map(z=>z.getRawValue())}clear(z={}){this.controls.length<1||(this._forEachChild(O=>O._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:z.emitEvent}))}_adjustIndex(z){return z<0?z+this.length:z}_syncPendingControls(){let z=this.controls.reduce((O,X)=>!!X._syncPendingControls()||O,!1);return z&&this.updateValueAndValidity({onlySelf:!0}),z}_forEachChild(z){this.controls.forEach((O,X)=>{z(O,X)})}_updateValue(){this.value=this.controls.filter(z=>z.enabled||this.disabled).map(z=>z.value)}_anyControls(z){return this.controls.some(O=>O.enabled&&z(O))}_setUpControls(){this._forEachChild(z=>this._registerControl(z))}_allControlsDisabled(){for(const z of this.controls)if(z.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(z){z.setParent(this),z._registerOnCollectionChange(this._onCollectionChange)}_find(z){return this.at(z)??null}}function Ri(j){return!!j&&(void 0!==j.asyncValidators||void 0!==j.validators||void 0!==j.updateOn)}let xi=(()=>{class j{constructor(){this.useNonNullable=!1}get nonNullable(){const O=new j;return O.useNonNullable=!0,O}group(O,X=null){const Ce=this._reduceControls(O);let qt={};return Ri(X)?qt=X:null!==X&&(qt.validators=X.validator,qt.asyncValidators=X.asyncValidator),new ln(Ce,qt)}record(O,X=null){const Ce=this._reduceControls(O);return new Fn(Ce,X)}control(O,X,Ce){let qt={};return this.useNonNullable?(Ri(X)?qt=X:(qt.validators=X,qt.asyncValidators=Ce),new dn(O,{...qt,nonNullable:!0})):new dn(O,X,Ce)}array(O,X,Ce){const qt=O.map(Kn=>this._createControl(Kn));return new Do(qt,X,Ce)}_reduceControls(O){const X={};return Object.keys(O).forEach(Ce=>{X[Ce]=this._createControl(O[Ce])}),X}_createControl(O){return O instanceof dn||O instanceof $t?O:Array.isArray(O)?this.control(O[0],O.length>1?O[1]:null,O.length>2?O[2]:null):this.control(O)}static#e=this.\u0275fac=function(X){return new(X||j)};static#t=this.\u0275prov=p.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})(),Xr=(()=>{class j{static withConfig(O){return{ngModule:j,providers:[{provide:Er,useValue:O.callSetDisabledState??mi}]}}static#e=this.\u0275fac=function(X){return new(X||j)};static#t=this.\u0275mod=p.oAB({type:j});static#n=this.\u0275inj=p.cJS({imports:[Xi]})}return j})(),Ho=(()=>{class j{static withConfig(O){return{ngModule:j,providers:[{provide:ho,useValue:O.warnOnNgModelWithFormControl??"always"},{provide:Er,useValue:O.callSetDisabledState??mi}]}}static#e=this.\u0275fac=function(X){return new(X||j)};static#t=this.\u0275mod=p.oAB({type:j});static#n=this.\u0275inj=p.cJS({imports:[Xi]})}return j})()},6593:(pn,ft,K)=>{K.d(ft,{Dx:()=>En,H7:()=>zr,b2:()=>ar,q6:()=>tr,se:()=>ct});var p=K(4946),he=K(6814);class Ee extends he.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Se extends Ee{static makeCurrent(){(0,he.HT)(new Se)}onAndCancel(re,ne,ee){return re.addEventListener(ne,ee),()=>{re.removeEventListener(ne,ee)}}dispatchEvent(re,ne){re.dispatchEvent(ne)}remove(re){re.parentNode&&re.parentNode.removeChild(re)}createElement(re,ne){return(ne=ne||this.getDefaultDocument()).createElement(re)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(re){return re.nodeType===Node.ELEMENT_NODE}isShadowRoot(re){return re instanceof DocumentFragment}getGlobalEventTarget(re,ne){return"window"===ne?window:"document"===ne?re:"body"===ne?re.body:null}getBaseHref(re){const ne=function ae(){return Me=Me||document.querySelector("base"),Me?Me.getAttribute("href"):null}();return null==ne?null:function et(J){R=R||document.createElement("a"),R.setAttribute("href",J);const re=R.pathname;return"/"===re.charAt(0)?re:`/${re}`}(ne)}resetBaseElement(){Me=null}getUserAgent(){return window.navigator.userAgent}getCookie(re){return(0,he.Mx)(document.cookie,re)}}let R,Me=null,de=(()=>{class J{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(ee){return new(ee||J)};static#t=this.\u0275prov=p.Yz7({token:J,factory:J.\u0275fac})}return J})();const ue=new p.OlP("EventManagerPlugins");let je=(()=>{class J{constructor(ne,ee){this._zone=ee,this._eventNameToPlugin=new Map,ne.forEach(Oe=>{Oe.manager=this}),this._plugins=ne.slice().reverse()}addEventListener(ne,ee,Oe){return this._findPluginFor(ee).addEventListener(ne,ee,Oe)}getZone(){return this._zone}_findPluginFor(ne){let ee=this._eventNameToPlugin.get(ne);if(ee)return ee;if(ee=this._plugins.find(yt=>yt.supports(ne)),!ee)throw new p.vHH(5101,!1);return this._eventNameToPlugin.set(ne,ee),ee}static#e=this.\u0275fac=function(ee){return new(ee||J)(p.LFG(ue),p.LFG(p.R0b))};static#t=this.\u0275prov=p.Yz7({token:J,factory:J.\u0275fac})}return J})();class ot{constructor(re){this._doc=re}}const Ae="ng-app-id";let Ot=(()=>{class J{constructor(ne,ee,Oe,yt={}){this.doc=ne,this.appId=ee,this.nonce=Oe,this.platformId=yt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,he.PM)(yt),this.resetHostNodes()}addStyles(ne){for(const ee of ne)1===this.changeUsageCount(ee,1)&&this.onStyleAdded(ee)}removeStyles(ne){for(const ee of ne)this.changeUsageCount(ee,-1)<=0&&this.onStyleRemoved(ee)}ngOnDestroy(){const ne=this.styleNodesInDOM;ne&&(ne.forEach(ee=>ee.remove()),ne.clear());for(const ee of this.getAllStyles())this.onStyleRemoved(ee);this.resetHostNodes()}addHost(ne){this.hostNodes.add(ne);for(const ee of this.getAllStyles())this.addStyleToHost(ne,ee)}removeHost(ne){this.hostNodes.delete(ne)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ne){for(const ee of this.hostNodes)this.addStyleToHost(ee,ne)}onStyleRemoved(ne){const ee=this.styleRef;ee.get(ne)?.elements?.forEach(Oe=>Oe.remove()),ee.delete(ne)}collectServerRenderedStyles(){const ne=this.doc.head?.querySelectorAll(`style[${Ae}="${this.appId}"]`);if(ne?.length){const ee=new Map;return ne.forEach(Oe=>{null!=Oe.textContent&&ee.set(Oe.textContent,Oe)}),ee}return null}changeUsageCount(ne,ee){const Oe=this.styleRef;if(Oe.has(ne)){const yt=Oe.get(ne);return yt.usage+=ee,yt.usage}return Oe.set(ne,{usage:ee,elements:[]}),ee}getStyleElement(ne,ee){const Oe=this.styleNodesInDOM,yt=Oe?.get(ee);if(yt?.parentNode===ne)return Oe.delete(ee),yt.removeAttribute(Ae),yt;{const $t=this.doc.createElement("style");return this.nonce&&$t.setAttribute("nonce",this.nonce),$t.textContent=ee,this.platformIsServer&&$t.setAttribute(Ae,this.appId),$t}}addStyleToHost(ne,ee){const Oe=this.getStyleElement(ne,ee);ne.appendChild(Oe);const yt=this.styleRef,$t=yt.get(ee)?.elements;$t?$t.push(Oe):yt.set(ee,{elements:[Oe],usage:1})}resetHostNodes(){const ne=this.hostNodes;ne.clear(),ne.add(this.doc.head)}static#e=this.\u0275fac=function(ee){return new(ee||J)(p.LFG(he.K0),p.LFG(p.AFp),p.LFG(p.Ojb,8),p.LFG(p.Lbi))};static#t=this.\u0275prov=p.Yz7({token:J,factory:J.\u0275fac})}return J})();const Dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bt=/%COMP%/g,tt=new p.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function dt(J,re){return re.map(ne=>ne.replace(Bt,J))}let ct=(()=>{class J{constructor(ne,ee,Oe,yt,$t,ln,Mn,Jn=null){this.eventManager=ne,this.sharedStylesHost=ee,this.appId=Oe,this.removeStylesOnCompDestroy=yt,this.doc=$t,this.platformId=ln,this.ngZone=Mn,this.nonce=Jn,this.rendererByCompId=new Map,this.platformIsServer=(0,he.PM)(ln),this.defaultRenderer=new ut(ne,$t,Mn,this.platformIsServer)}createRenderer(ne,ee){if(!ne||!ee)return this.defaultRenderer;this.platformIsServer&&ee.encapsulation===p.ifc.ShadowDom&&(ee={...ee,encapsulation:p.ifc.Emulated});const Oe=this.getOrCreateRenderer(ne,ee);return Oe instanceof bn?Oe.applyToHost(ne):Oe instanceof Et&&Oe.applyStyles(),Oe}getOrCreateRenderer(ne,ee){const Oe=this.rendererByCompId;let yt=Oe.get(ee.id);if(!yt){const $t=this.doc,ln=this.ngZone,Mn=this.eventManager,Jn=this.sharedStylesHost,Fn=this.removeStylesOnCompDestroy,$r=this.platformIsServer;switch(ee.encapsulation){case p.ifc.Emulated:yt=new bn(Mn,Jn,ee,this.appId,Fn,$t,ln,$r);break;case p.ifc.ShadowDom:return new It(Mn,Jn,ne,ee,$t,ln,this.nonce,$r);default:yt=new Et(Mn,Jn,ee,Fn,$t,ln,$r)}Oe.set(ee.id,yt)}return yt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(ee){return new(ee||J)(p.LFG(je),p.LFG(Ot),p.LFG(p.AFp),p.LFG(tt),p.LFG(he.K0),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(p.Ojb))};static#t=this.\u0275prov=p.Yz7({token:J,factory:J.\u0275fac})}return J})();class ut{constructor(re,ne,ee,Oe){this.eventManager=re,this.doc=ne,this.ngZone=ee,this.platformIsServer=Oe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(re,ne){return ne?this.doc.createElementNS(Dt[ne]||ne,re):this.doc.createElement(re)}createComment(re){return this.doc.createComment(re)}createText(re){return this.doc.createTextNode(re)}appendChild(re,ne){(gr(re)?re.content:re).appendChild(ne)}insertBefore(re,ne,ee){re&&(gr(re)?re.content:re).insertBefore(ne,ee)}removeChild(re,ne){re&&re.removeChild(ne)}selectRootElement(re,ne){let ee="string"==typeof re?this.doc.querySelector(re):re;if(!ee)throw new p.vHH(-5104,!1);return ne||(ee.textContent=""),ee}parentNode(re){return re.parentNode}nextSibling(re){return re.nextSibling}setAttribute(re,ne,ee,Oe){if(Oe){ne=Oe+":"+ne;const yt=Dt[Oe];yt?re.setAttributeNS(yt,ne,ee):re.setAttribute(ne,ee)}else re.setAttribute(ne,ee)}removeAttribute(re,ne,ee){if(ee){const Oe=Dt[ee];Oe?re.removeAttributeNS(Oe,ne):re.removeAttribute(`${ee}:${ne}`)}else re.removeAttribute(ne)}addClass(re,ne){re.classList.add(ne)}removeClass(re,ne){re.classList.remove(ne)}setStyle(re,ne,ee,Oe){Oe&(p.JOm.DashCase|p.JOm.Important)?re.style.setProperty(ne,ee,Oe&p.JOm.Important?"important":""):re.style[ne]=ee}removeStyle(re,ne,ee){ee&p.JOm.DashCase?re.style.removeProperty(ne):re.style[ne]=""}setProperty(re,ne,ee){re[ne]=ee}setValue(re,ne){re.nodeValue=ne}listen(re,ne,ee){if("string"==typeof re&&!(re=(0,he.q)().getGlobalEventTarget(this.doc,re)))throw new Error(`Unsupported event target ${re} for event ${ne}`);return this.eventManager.addEventListener(re,ne,this.decoratePreventDefault(ee))}decoratePreventDefault(re){return ne=>{if("__ngUnwrap__"===ne)return re;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>re(ne)):re(ne))&&ne.preventDefault()}}}function gr(J){return"TEMPLATE"===J.tagName&&void 0!==J.content}class It extends ut{constructor(re,ne,ee,Oe,yt,$t,ln,Mn){super(re,yt,$t,Mn),this.sharedStylesHost=ne,this.hostEl=ee,this.shadowRoot=ee.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Jn=dt(Oe.id,Oe.styles);for(const Fn of Jn){const $r=document.createElement("style");ln&&$r.setAttribute("nonce",ln),$r.textContent=Fn,this.shadowRoot.appendChild($r)}}nodeOrShadowRoot(re){return re===this.hostEl?this.shadowRoot:re}appendChild(re,ne){return super.appendChild(this.nodeOrShadowRoot(re),ne)}insertBefore(re,ne,ee){return super.insertBefore(this.nodeOrShadowRoot(re),ne,ee)}removeChild(re,ne){return super.removeChild(this.nodeOrShadowRoot(re),ne)}parentNode(re){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(re)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Et extends ut{constructor(re,ne,ee,Oe,yt,$t,ln,Mn){super(re,yt,$t,ln),this.sharedStylesHost=ne,this.removeStylesOnCompDestroy=Oe,this.styles=Mn?dt(Mn,ee.styles):ee.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class bn extends Et{constructor(re,ne,ee,Oe,yt,$t,ln,Mn){const Jn=Oe+"-"+ee.id;super(re,ne,ee,yt,$t,ln,Mn,Jn),this.contentAttr=function Ze(J){return"_ngcontent-%COMP%".replace(Bt,J)}(Jn),this.hostAttr=function gt(J){return"_nghost-%COMP%".replace(Bt,J)}(Jn)}applyToHost(re){this.applyStyles(),this.setAttribute(re,this.hostAttr,"")}createElement(re,ne){const ee=super.createElement(re,ne);return super.setAttribute(ee,this.contentAttr,""),ee}}let Lt=(()=>{class J extends ot{constructor(ne){super(ne)}supports(ne){return!0}addEventListener(ne,ee,Oe){return ne.addEventListener(ee,Oe,!1),()=>this.removeEventListener(ne,ee,Oe)}removeEventListener(ne,ee,Oe){return ne.removeEventListener(ee,Oe)}static#e=this.\u0275fac=function(ee){return new(ee||J)(p.LFG(he.K0))};static#t=this.\u0275prov=p.Yz7({token:J,factory:J.\u0275fac})}return J})();const An=["alt","control","meta","shift"],He={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Je={alt:J=>J.altKey,control:J=>J.ctrlKey,meta:J=>J.metaKey,shift:J=>J.shiftKey};let at=(()=>{class J extends ot{constructor(ne){super(ne)}supports(ne){return null!=J.parseEventName(ne)}addEventListener(ne,ee,Oe){const yt=J.parseEventName(ee),$t=J.eventCallback(yt.fullKey,Oe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,he.q)().onAndCancel(ne,yt.domEventName,$t))}static parseEventName(ne){const ee=ne.toLowerCase().split("."),Oe=ee.shift();if(0===ee.length||"keydown"!==Oe&&"keyup"!==Oe)return null;const yt=J._normalizeKey(ee.pop());let $t="",ln=ee.indexOf("code");if(ln>-1&&(ee.splice(ln,1),$t="code."),An.forEach(Jn=>{const Fn=ee.indexOf(Jn);Fn>-1&&(ee.splice(Fn,1),$t+=Jn+".")}),$t+=yt,0!=ee.length||0===yt.length)return null;const Mn={};return Mn.domEventName=Oe,Mn.fullKey=$t,Mn}static matchEventFullKeyCode(ne,ee){let Oe=He[ne.key]||ne.key,yt="";return ee.indexOf("code.")>-1&&(Oe=ne.code,yt="code."),!(null==Oe||!Oe)&&(Oe=Oe.toLowerCase()," "===Oe?Oe="space":"."===Oe&&(Oe="dot"),An.forEach($t=>{$t!==Oe&&(0,Je[$t])(ne)&&(yt+=$t+".")}),yt+=Oe,yt===ee)}static eventCallback(ne,ee,Oe){return yt=>{J.matchEventFullKeyCode(yt,ne)&&Oe.runGuarded(()=>ee(yt))}}static _normalizeKey(ne){return"esc"===ne?"escape":ne}static#e=this.\u0275fac=function(ee){return new(ee||J)(p.LFG(he.K0))};static#t=this.\u0275prov=p.Yz7({token:J,factory:J.\u0275fac})}return J})();const tr=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:he.bD},{provide:p.g9A,useValue:function We(){Se.makeCurrent()},multi:!0},{provide:he.K0,useFactory:function _t(){return(0,p.RDi)(document),document},deps:[]}]),Qn=new p.OlP(""),Rn=[{provide:p.rWj,useClass:class ze{addToWindow(re){p.dqk.getAngularTestability=(ee,Oe=!0)=>{const yt=re.findTestabilityInTree(ee,Oe);if(null==yt)throw new p.vHH(5103,!1);return yt},p.dqk.getAllAngularTestabilities=()=>re.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>re.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(ee=>{const Oe=p.dqk.getAllAngularTestabilities();let yt=Oe.length,$t=!1;const ln=function(Mn){$t=$t||Mn,yt--,0==yt&&ee($t)};Oe.forEach(Mn=>{Mn.whenStable(ln)})})}findTestabilityInTree(re,ne,ee){return null==ne?null:re.getTestability(ne)??(ee?(0,he.q)().isShadowRoot(ne)?this.findTestabilityInTree(re,ne.host,!0):this.findTestabilityInTree(re,ne.parentElement,!0):null)}},deps:[]},{provide:p.lri,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]}],lr=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function pt(){return new p.qLn},deps:[]},{provide:ue,useClass:Lt,multi:!0,deps:[he.K0,p.R0b,p.Lbi]},{provide:ue,useClass:at,multi:!0,deps:[he.K0]},ct,Ot,je,{provide:p.FYo,useExisting:ct},{provide:he.JF,useClass:de,deps:[]},[]];let ar=(()=>{class J{constructor(ne){}static withServerTransition(ne){return{ngModule:J,providers:[{provide:p.AFp,useValue:ne.appId}]}}static#e=this.\u0275fac=function(ee){return new(ee||J)(p.LFG(Qn,12))};static#t=this.\u0275mod=p.oAB({type:J});static#n=this.\u0275inj=p.cJS({providers:[...lr,...Rn],imports:[he.ez,p.hGG]})}return J})(),En=(()=>{class J{constructor(ne){this._doc=ne}getTitle(){return this._doc.title}setTitle(ne){this._doc.title=ne||""}static#e=this.\u0275fac=function(ee){return new(ee||J)(p.LFG(he.K0))};static#t=this.\u0275prov=p.Yz7({token:J,factory:function(ee){let Oe=null;return Oe=ee?new ee:function hr(){return new En((0,p.LFG)(he.K0))}(),Oe},providedIn:"root"})}return J})();typeof window<"u"&&window;let zr=(()=>{class J{static#e=this.\u0275fac=function(ee){return new(ee||J)};static#t=this.\u0275prov=p.Yz7({token:J,factory:function(ee){let Oe=null;return Oe=ee?new(ee||J):p.LFG(wr),Oe},providedIn:"root"})}return J})(),wr=(()=>{class J extends zr{constructor(ne){super(),this._doc=ne}sanitize(ne,ee){if(null==ee)return null;switch(ne){case p.q3G.NONE:return ee;case p.q3G.HTML:return(0,p.qzn)(ee,"HTML")?(0,p.z3N)(ee):(0,p.EiD)(this._doc,String(ee)).toString();case p.q3G.STYLE:return(0,p.qzn)(ee,"Style")?(0,p.z3N)(ee):ee;case p.q3G.SCRIPT:if((0,p.qzn)(ee,"Script"))return(0,p.z3N)(ee);throw new p.vHH(5200,!1);case p.q3G.URL:return(0,p.qzn)(ee,"URL")?(0,p.z3N)(ee):(0,p.mCW)(String(ee));case p.q3G.RESOURCE_URL:if((0,p.qzn)(ee,"ResourceURL"))return(0,p.z3N)(ee);throw new p.vHH(5201,!1);default:throw new p.vHH(5202,!1)}}bypassSecurityTrustHtml(ne){return(0,p.JVY)(ne)}bypassSecurityTrustStyle(ne){return(0,p.L6k)(ne)}bypassSecurityTrustScript(ne){return(0,p.eBb)(ne)}bypassSecurityTrustUrl(ne){return(0,p.LAX)(ne)}bypassSecurityTrustResourceUrl(ne){return(0,p.pB0)(ne)}static#e=this.\u0275fac=function(ee){return new(ee||J)(p.LFG(he.K0))};static#t=this.\u0275prov=p.Yz7({token:J,factory:function(ee){let Oe=null;return Oe=ee?new ee:function ri(J){return new wr(J.get(he.K0))}(p.LFG(p.zs3)),Oe},providedIn:"root"})}return J})()},5920:(pn,ft,K)=>{K.d(ft,{F0:()=>dr,rH:()=>rs,Bz:()=>$e,lC:()=>pe});var p=K(4946),he=K(5592),Ee=K(4674),Me=K(2459),ae=K(2096),R=K(5619),et=K(7453),ze=K(2737),de=K(7400),ue=K(4564),je=K(2714),ot=K(8251),Ae=K(7103);function Ot(...E){const S=(0,ue.yG)(E),_=(0,ue.jO)(E),{args:A,keys:F}=(0,et.D)(E);if(0===A.length)return(0,Me.D)([],S);const Y=new he.y(function Dt(E,S,_=ze.y){return A=>{Bt(S,()=>{const{length:F}=E,Y=new Array(F);let fe=F,Qe=F;for(let Ke=0;Ke<F;Ke++)Bt(S,()=>{const sn=(0,Me.D)(E[Ke],S);let ir=!1;sn.subscribe((0,ot.x)(A,Vr=>{Y[Ke]=Vr,ir||(ir=!0,Qe--),Qe||A.next(_(Y.slice()))},()=>{--fe||A.complete()}))},A)},A)}}(A,S,F?fe=>(0,je.n)(F,fe):ze.y));return _?Y.pipe((0,de.Z)(_)):Y}function Bt(E,S,_){E?(0,Ae.f)(_,E,S):S()}const an=(0,K(2306).d)(E=>function(){E(this),this.name="EmptyError",this.message="no elements in sequence"});var xt=K(7537);function tt(...E){return function be(){return(0,xt.J)(1)}()((0,Me.D)(E,(0,ue.yG)(E)))}var Ze=K(4829);function gt(E){return new he.y(S=>{(0,Ze.Xf)(E()).subscribe(S)})}var dt=K(8407);function ct(E,S){const _=(0,Ee.m)(E)?E:()=>E,A=F=>F.error(_());return new he.y(S?F=>S.schedule(A,0,F):A)}var ut=K(6232),vn=K(7394),$n=K(9360);function gr(){return(0,$n.e)((E,S)=>{let _=null;E._refCount++;const A=(0,ot.x)(S,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(_=null);const F=E._connection,Y=_;_=null,F&&(!Y||F===Y)&&F.unsubscribe(),S.unsubscribe()});E.subscribe(A),A.closed||(_=E.connect())})}class It extends he.y{constructor(S,_){super(),this.source=S,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,$n.A)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new vn.w0;const _=this.getSubject();S.add(this.source.subscribe((0,ot.x)(_,void 0,()=>{this._teardown(),_.complete()},A=>{this._teardown(),_.error(A)},()=>this._teardown()))),S.closed&&(this._connection=null,S=vn.w0.EMPTY)}return S}refCount(){return gr()(this)}}var Et=K(8645),bn=K(6814),Lt=K(7398),An=K(4664);function He(E){return E<=0?()=>ut.E:(0,$n.e)((S,_)=>{let A=0;S.subscribe((0,ot.x)(_,F=>{++A<=E&&(_.next(F),E<=A&&_.complete())}))})}function at(E,S){return(0,$n.e)((_,A)=>{let F=0;_.subscribe((0,ot.x)(A,Y=>E.call(S,Y,F++)&&A.next(Y)))})}var De=K(1631);function ve(E){return(0,$n.e)((S,_)=>{let A=!1;S.subscribe((0,ot.x)(_,F=>{A=!0,_.next(F)},()=>{A||_.next(E),_.complete()}))})}function oe(E=_e){return(0,$n.e)((S,_)=>{let A=!1;S.subscribe((0,ot.x)(_,F=>{A=!0,_.next(F)},()=>A?_.complete():_.error(E())))})}function _e(){return new an}function We(E,S){const _=arguments.length>=2;return A=>A.pipe(E?at((F,Y)=>E(F,Y,A)):ze.y,He(1),_?ve(S):oe(()=>new an))}function pt(E,S){return(0,Ee.m)(S)?(0,De.z)(E,S,1):(0,De.z)(E,1)}var _t=K(9397);function zt(E){return(0,$n.e)((S,_)=>{let Y,A=null,F=!1;A=S.subscribe((0,ot.x)(_,void 0,void 0,fe=>{Y=(0,Ze.Xf)(E(fe,zt(E)(S))),A?(A.unsubscribe(),A=null,Y.subscribe(_)):F=!0})),F&&(A.unsubscribe(),A=null,Y.subscribe(_))})}function Rn(E){return E<=0?()=>ut.E:(0,$n.e)((S,_)=>{let A=[];S.subscribe((0,ot.x)(_,F=>{A.push(F),E<A.length&&A.shift()},()=>{for(const F of A)_.next(F);_.complete()},void 0,()=>{A=null}))})}function kn(E){return(0,$n.e)((S,_)=>{try{S.subscribe(_)}finally{_.add(E)}})}var nr=K(2420),hr=K(6593);const En="primary",gi=Symbol("RouteTitle");class cr{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const _=this.params[S];return Array.isArray(_)?_[0]:_}return null}getAll(S){if(this.has(S)){const _=this.params[S];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function sr(E){return new cr(E)}function Bn(E,S,_){const A=_.path.split("/");if(A.length>E.length||"full"===_.pathMatch&&(S.hasChildren()||A.length<E.length))return null;const F={};for(let Y=0;Y<A.length;Y++){const fe=A[Y],Qe=E[Y];if(fe.startsWith(":"))F[fe.substring(1)]=Qe;else if(fe!==Qe.path)return null}return{consumed:E.slice(0,A.length),posParams:F}}function yr(E,S){const _=E?Object.keys(E):void 0,A=S?Object.keys(S):void 0;if(!_||!A||_.length!=A.length)return!1;let F;for(let Y=0;Y<_.length;Y++)if(F=_[Y],!Gr(E[F],S[F]))return!1;return!0}function Gr(E,S){if(Array.isArray(E)&&Array.isArray(S)){if(E.length!==S.length)return!1;const _=[...E].sort(),A=[...S].sort();return _.every((F,Y)=>A[Y]===F)}return E===S}function ei(E){return E.length>0?E[E.length-1]:null}function Dr(E){return function Se(E){return!!E&&(E instanceof he.y||(0,Ee.m)(E.lift)&&(0,Ee.m)(E.subscribe))}(E)?E:(0,p.QGY)(E)?(0,Me.D)(Promise.resolve(E)):(0,ae.of)(E)}const kr={exact:function Kt(E,S,_){if(!Cn(E.segments,S.segments)||!ri(E.segments,S.segments,_)||E.numberOfChildren!==S.numberOfChildren)return!1;for(const A in S.children)if(!E.children[A]||!Kt(E.children[A],S.children[A],_))return!1;return!0},subset:Oi},di={exact:function hi(E,S){return yr(E,S)},subset:function ji(E,S){return Object.keys(S).length<=Object.keys(E).length&&Object.keys(S).every(_=>Gr(E[_],S[_]))},ignored:()=>!0};function _r(E,S,_){return kr[_.paths](E.root,S.root,_.matrixParams)&&di[_.queryParams](E.queryParams,S.queryParams)&&!("exact"===_.fragment&&E.fragment!==S.fragment)}function Oi(E,S,_){return zr(E,S,S.segments,_)}function zr(E,S,_,A){if(E.segments.length>_.length){const F=E.segments.slice(0,_.length);return!(!Cn(F,_)||S.hasChildren()||!ri(F,_,A))}if(E.segments.length===_.length){if(!Cn(E.segments,_)||!ri(E.segments,_,A))return!1;for(const F in S.children)if(!E.children[F]||!Oi(E.children[F],S.children[F],A))return!1;return!0}{const F=_.slice(0,E.segments.length),Y=_.slice(E.segments.length);return!!(Cn(E.segments,F)&&ri(E.segments,F,A)&&E.children[En])&&zr(E.children[En],S,Y,A)}}function ri(E,S,_){return S.every((A,F)=>di[_](E[F].parameters,A.parameters))}class wr{constructor(S=new yn([],{}),_={},A=null){this.root=S,this.queryParams=_,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sr(this.queryParams)),this._queryParamMap}toString(){return Te.serialize(this)}}class yn{constructor(S,_){this.segments=S,this.children=_,this.parent=null,Object.values(_).forEach(A=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return J(this)}}class bi{constructor(S,_){this.path=S,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=sr(this.parameters)),this._parameterMap}toString(){return Mn(this)}}function Cn(E,S){return E.length===S.length&&E.every((_,A)=>_.path===S[A].path)}let Hn=(()=>{class E{static#e=this.\u0275fac=function(A){return new(A||E)};static#t=this.\u0275prov=p.Yz7({token:E,factory:function(){return new Fr},providedIn:"root"})}return E})();class Fr{parse(S){const _=new Nn(S);return new wr(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(S){const _=`/${re(S.root,!0)}`,A=function Fn(E){const S=Object.keys(E).map(_=>{const A=E[_];return Array.isArray(A)?A.map(F=>`${ee(_)}=${ee(F)}`).join("&"):`${ee(_)}=${ee(A)}`}).filter(_=>!!_);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${_}${A}${"string"==typeof S.fragment?`#${function Oe(E){return encodeURI(E)}(S.fragment)}`:""}`}}const Te=new Fr;function J(E){return E.segments.map(S=>Mn(S)).join("/")}function re(E,S){if(!E.hasChildren())return J(E);if(S){const _=E.children[En]?re(E.children[En],!1):"",A=[];return Object.entries(E.children).forEach(([F,Y])=>{F!==En&&A.push(`${F}:${re(Y,!1)}`)}),A.length>0?`${_}(${A.join("//")})`:_}{const _=function vr(E,S){let _=[];return Object.entries(E.children).forEach(([A,F])=>{A===En&&(_=_.concat(S(F,A)))}),Object.entries(E.children).forEach(([A,F])=>{A!==En&&(_=_.concat(S(F,A)))}),_}(E,(A,F)=>F===En?[re(E.children[En],!1)]:[`${F}:${re(A,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[En]?`${J(E)}/${_[0]}`:`${J(E)}/(${_.join("//")})`}}function ne(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ee(E){return ne(E).replace(/%3B/gi,";")}function yt(E){return ne(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $t(E){return decodeURIComponent(E)}function ln(E){return $t(E.replace(/\+/g,"%20"))}function Mn(E){return`${yt(E.path)}${function Jn(E){return Object.keys(E).map(S=>`;${yt(S)}=${yt(E[S])}`).join("")}(E.parameters)}`}const $r=/^[^\/()?;#]+/;function Er(E){const S=E.match($r);return S?S[0]:""}const mi=/^[^\/()?;=#]+/,st=/^[^=?&#]+/,bt=/^[^&#]+/;class Nn{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yn([],{}):new yn([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(S.length>0||Object.keys(_).length>0)&&(A[En]=new yn(S,_)),A}parseSegment(){const S=Er(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(S),new bi($t(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const _=function Si(E){const S=E.match(mi);return S?S[0]:""}(this.remaining);if(!_)return;this.capture(_);let A="";if(this.consumeOptional("=")){const F=Er(this.remaining);F&&(A=F,this.capture(A))}S[$t(_)]=$t(A)}parseQueryParam(S){const _=function Be(E){const S=E.match(st);return S?S[0]:""}(this.remaining);if(!_)return;this.capture(_);let A="";if(this.consumeOptional("=")){const fe=function Zt(E){const S=E.match(bt);return S?S[0]:""}(this.remaining);fe&&(A=fe,this.capture(A))}const F=ln(_),Y=ln(A);if(S.hasOwnProperty(F)){let fe=S[F];Array.isArray(fe)||(fe=[fe],S[F]=fe),fe.push(Y)}else S[F]=Y}parseParens(S){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=Er(this.remaining),F=this.remaining[A.length];if("/"!==F&&")"!==F&&";"!==F)throw new p.vHH(4010,!1);let Y;A.indexOf(":")>-1?(Y=A.slice(0,A.indexOf(":")),this.capture(Y),this.capture(":")):S&&(Y=En);const fe=this.parseChildren();_[Y]=1===Object.keys(fe).length?fe[En]:new yn([],fe),this.consumeOptional("//")}return _}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new p.vHH(4011,!1)}}function Jt(E){return E.segments.length>0?new yn([],{[En]:E}):E}function qn(E){const S={};for(const A of Object.keys(E.children)){const Y=qn(E.children[A]);if(A===En&&0===Y.segments.length&&Y.hasChildren())for(const[fe,Qe]of Object.entries(Y.children))S[fe]=Qe;else(Y.segments.length>0||Y.hasChildren())&&(S[A]=Y)}return function ti(E){if(1===E.numberOfChildren&&E.children[En]){const S=E.children[En];return new yn(E.segments.concat(S.segments),S.children)}return E}(new yn(E.segments,S))}function Ir(E){return E instanceof wr}function fs(E){let S;const F=Jt(function _(Y){const fe={};for(const Ke of Y.children){const sn=_(Ke);fe[Ke.outlet]=sn}const Qe=new yn(Y.url,fe);return Y===E&&(S=Qe),Qe}(E.root));return S??F}function as(E,S,_,A){let F=E;for(;F.parent;)F=F.parent;if(0===S.length)return Mi(F,F,F,_,A);const Y=function $i(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new or(!0,0,E);let S=0,_=!1;const A=E.reduce((F,Y,fe)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const Qe={};return Object.entries(Y.outlets).forEach(([Ke,sn])=>{Qe[Ke]="string"==typeof sn?sn.split("/"):sn}),[...F,{outlets:Qe}]}if(Y.segmentPath)return[...F,Y.segmentPath]}return"string"!=typeof Y?[...F,Y]:0===fe?(Y.split("/").forEach((Qe,Ke)=>{0==Ke&&"."===Qe||(0==Ke&&""===Qe?_=!0:".."===Qe?S++:""!=Qe&&F.push(Qe))}),F):[...F,Y]},[]);return new or(_,S,A)}(S);if(Y.toRoot())return Mi(F,F,new yn([],{}),_,A);const fe=function pi(E,S,_){if(E.isAbsolute)return new Zr(S,!0,0);if(!_)return new Zr(S,!1,NaN);if(null===_.parent)return new Zr(_,!0,0);const A=br(E.commands[0])?0:1;return function Vi(E,S,_){let A=E,F=S,Y=_;for(;Y>F;){if(Y-=F,A=A.parent,!A)throw new p.vHH(4005,!1);F=A.segments.length}return new Zr(A,!1,F-Y)}(_,_.segments.length-1+A,E.numberOfDoubleDots)}(Y,F,E),Qe=fe.processChildren?Re(fe.segmentGroup,fe.index,Y.commands):Is(fe.segmentGroup,fe.index,Y.commands);return Mi(F,fe.segmentGroup,Qe,_,A)}function br(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function Ai(E){return"object"==typeof E&&null!=E&&E.outlets}function Mi(E,S,_,A,F){let fe,Y={};A&&Object.entries(A).forEach(([Ke,sn])=>{Y[Ke]=Array.isArray(sn)?sn.map(ir=>`${ir}`):`${sn}`}),fe=E===S?_:fi(E,S,_);const Qe=Jt(qn(fe));return new wr(Qe,Y,F)}function fi(E,S,_){const A={};return Object.entries(E.children).forEach(([F,Y])=>{A[F]=Y===S?_:fi(Y,S,_)}),new yn(E.segments,A)}class or{constructor(S,_,A){if(this.isAbsolute=S,this.numberOfDoubleDots=_,this.commands=A,S&&A.length>0&&br(A[0]))throw new p.vHH(4003,!1);const F=A.find(Ai);if(F&&F!==ei(A))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zr{constructor(S,_,A){this.segmentGroup=S,this.processChildren=_,this.index=A}}function Is(E,S,_){if(E||(E=new yn([],{})),0===E.segments.length&&E.hasChildren())return Re(E,S,_);const A=function xe(E,S,_){let A=0,F=S;const Y={match:!1,pathIndex:0,commandIndex:0};for(;F<E.segments.length;){if(A>=_.length)return Y;const fe=E.segments[F],Qe=_[A];if(Ai(Qe))break;const Ke=`${Qe}`,sn=A<_.length-1?_[A+1]:null;if(F>0&&void 0===Ke)break;if(Ke&&sn&&"object"==typeof sn&&void 0===sn.outlets){if(!dn(Ke,sn,fe))return Y;A+=2}else{if(!dn(Ke,{},fe))return Y;A++}F++}return{match:!0,pathIndex:F,commandIndex:A}}(E,S,_),F=_.slice(A.commandIndex);if(A.match&&A.pathIndex<E.segments.length){const Y=new yn(E.segments.slice(0,A.pathIndex),{});return Y.children[En]=new yn(E.segments.slice(A.pathIndex),E.children),Re(Y,0,F)}return A.match&&0===F.length?new yn(E.segments,{}):A.match&&!E.hasChildren()?Ve(E,S,_):A.match?Re(E,0,F):Ve(E,S,_)}function Re(E,S,_){if(0===_.length)return new yn(E.segments,{});{const A=function Ii(E){return Ai(E[0])?E[0].outlets:{[En]:E}}(_),F={};if(Object.keys(A).some(Y=>Y!==En)&&E.children[En]&&1===E.numberOfChildren&&0===E.children[En].segments.length){const Y=Re(E.children[En],S,_);return new yn(E.segments,Y.children)}return Object.entries(A).forEach(([Y,fe])=>{"string"==typeof fe&&(fe=[fe]),null!==fe&&(F[Y]=Is(E.children[Y],S,fe))}),Object.entries(E.children).forEach(([Y,fe])=>{void 0===A[Y]&&(F[Y]=fe)}),new yn(E.segments,F)}}function Ve(E,S,_){const A=E.segments.slice(0,S);let F=0;for(;F<_.length;){const Y=_[F];if(Ai(Y)){const Ke=mt(Y.outlets);return new yn(A,Ke)}if(0===F&&br(_[0])){A.push(new bi(E.segments[S].path,Pt(_[0]))),F++;continue}const fe=Ai(Y)?Y.outlets[En]:`${Y}`,Qe=F<_.length-1?_[F+1]:null;fe&&Qe&&br(Qe)?(A.push(new bi(fe,Pt(Qe))),F+=2):(A.push(new bi(fe,{})),F++)}return new yn(A,{})}function mt(E){const S={};return Object.entries(E).forEach(([_,A])=>{"string"==typeof A&&(A=[A]),null!==A&&(S[_]=Ve(new yn([],{}),0,A))}),S}function Pt(E){const S={};return Object.entries(E).forEach(([_,A])=>S[_]=`${A}`),S}function dn(E,S,_){return E==_.path&&yr(S,_.parameters)}const Wn="imperative";class xn{constructor(S,_){this.id=S,this.url=_}}class rr extends xn{constructor(S,_,A="imperative",F=null){super(S,_),this.type=0,this.navigationTrigger=A,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ti extends xn{constructor(S,_,A){super(S,_),this.urlAfterRedirects=A,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yi extends xn{constructor(S,_,A,F){super(S,_),this.reason=A,this.code=F,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ii extends xn{constructor(S,_,A,F){super(S,_),this.reason=A,this.code=F,this.type=16}}class Mr extends xn{constructor(S,_,A,F){super(S,_),this.error=A,this.target=F,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ps extends xn{constructor(S,_,A,F){super(S,_),this.urlAfterRedirects=A,this.state=F,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vs extends xn{constructor(S,_,A,F){super(S,_),this.urlAfterRedirects=A,this.state=F,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Io extends xn{constructor(S,_,A,F,Y){super(S,_),this.urlAfterRedirects=A,this.state=F,this.shouldActivate=Y,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ts extends xn{constructor(S,_,A,F){super(S,_),this.urlAfterRedirects=A,this.state=F,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uo extends xn{constructor(S,_,A,F){super(S,_),this.urlAfterRedirects=A,this.state=F,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class us{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class co{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ki{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cs{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Us{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xs{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class no{constructor(S,_,A){this.routerEvent=S,this.position=_,this.anchor=A,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class lo{}class Bo{constructor(S){this.url=S}}class ho{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ui,this.attachRef=null}}let Ui=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(_,A){const F=this.getOrCreateContext(_);F.outlet=A,this.contexts.set(_,F)}onChildOutletDestroyed(_){const A=this.getContext(_);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let A=this.getContext(_);return A||(A=new ho,this.contexts.set(_,A)),A}getContext(_){return this.contexts.get(_)||null}static#e=this.\u0275fac=function(A){return new(A||E)};static#t=this.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();class Ji{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const _=this.pathFromRoot(S);return _.length>1?_[_.length-2]:null}children(S){const _=Ds(S,this._root);return _?_.children.map(A=>A.value):[]}firstChild(S){const _=Ds(S,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(S){const _=jn(S,this._root);return _.length<2?[]:_[_.length-2].children.map(F=>F.value).filter(F=>F!==S)}pathFromRoot(S){return jn(S,this._root).map(_=>_.value)}}function Ds(E,S){if(E===S.value)return S;for(const _ of S.children){const A=Ds(E,_);if(A)return A}return null}function jn(E,S){if(E===S.value)return[S];for(const _ of S.children){const A=jn(E,_);if(A.length)return A.unshift(S),A}return[]}class fr{constructor(S,_){this.value=S,this.children=_}toString(){return`TreeNode(${this.value})`}}function Ln(E){const S={};return E&&E.children.forEach(_=>S[_.value.outlet]=_),S}class Ki extends Ji{constructor(S,_){super(S),this.snapshot=_,Xt(this,S)}toString(){return this.snapshot.toString()}}function si(E,S){const _=function Ns(E,S){const fe=new Bs([],{},{},"",{},En,S,null,{});return new Or("",new fr(fe,[]))}(0,S),A=new R.X([new bi("",{})]),F=new R.X({}),Y=new R.X({}),fe=new R.X({}),Qe=new R.X(""),Ke=new gs(A,F,fe,Qe,Y,En,S,_.root);return Ke.snapshot=_.root,new Ki(new fr(Ke,[]),_)}class gs{constructor(S,_,A,F,Y,fe,Qe,Ke){this.urlSubject=S,this.paramsSubject=_,this.queryParamsSubject=A,this.fragmentSubject=F,this.dataSubject=Y,this.outlet=fe,this.component=Qe,this._futureSnapshot=Ke,this.title=this.dataSubject?.pipe((0,Lt.U)(sn=>sn[gi]))??(0,ae.of)(void 0),this.url=S,this.params=_,this.queryParams=A,this.fragment=F,this.data=Y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Lt.U)(S=>sr(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Lt.U)(S=>sr(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bs(E,S="emptyOnly"){const _=E.pathFromRoot;let A=0;if("always"!==S)for(A=_.length-1;A>=1;){const F=_[A],Y=_[A-1];if(F.routeConfig&&""===F.routeConfig.path)A--;else{if(Y.component)break;A--}}return function To(E){return E.reduce((S,_)=>({params:{...S.params,..._.params},data:{...S.data,..._.data},resolve:{..._.data,...S.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(A))}class Bs{get title(){return this.data?.[gi]}constructor(S,_,A,F,Y,fe,Qe,Ke,sn){this.url=S,this.params=_,this.queryParams=A,this.fragment=F,this.data=Y,this.outlet=fe,this.component=Qe,this.routeConfig=Ke,this._resolve=sn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Or extends Ji{constructor(S,_){super(_),this.url=S,Xt(this,_)}toString(){return Gn(this._root)}}function Xt(E,S){S.value._routerState=E,S.children.forEach(_=>Xt(E,_))}function Gn(E){const S=E.children.length>0?` { ${E.children.map(Gn).join(", ")} } `:"";return`${E.value}${S}`}function $(E){if(E.snapshot){const S=E.snapshot,_=E._futureSnapshot;E.snapshot=_,yr(S.queryParams,_.queryParams)||E.queryParamsSubject.next(_.queryParams),S.fragment!==_.fragment&&E.fragmentSubject.next(_.fragment),yr(S.params,_.params)||E.paramsSubject.next(_.params),function On(E,S){if(E.length!==S.length)return!1;for(let _=0;_<E.length;++_)if(!yr(E[_],S[_]))return!1;return!0}(S.url,_.url)||E.urlSubject.next(_.url),yr(S.data,_.data)||E.dataSubject.next(_.data)}else E.snapshot=E._futureSnapshot,E.dataSubject.next(E._futureSnapshot.data)}function G(E,S){const _=yr(E.params,S.params)&&function wi(E,S){return Cn(E,S)&&E.every((_,A)=>yr(_.parameters,S[A].parameters))}(E.url,S.url);return _&&!(!E.parent!=!S.parent)&&(!E.parent||G(E.parent,S.parent))}let pe=(()=>{class E{constructor(){this.activated=null,this._activatedRoute=null,this.name=En,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(Ui),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb),this.inputBinder=(0,p.f3M)(ke,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(_){if(_.name){const{firstChange:A,previousValue:F}=_.name;if(A)return;this.isTrackedInParentContexts(F)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(F)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,!1);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,A){this.activated=_,this._activatedRoute=A,this.location.insert(_.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,A){if(this.isActivated)throw new p.vHH(4013,!1);this._activatedRoute=_;const F=this.location,fe=_.snapshot.component,Qe=this.parentContexts.getOrCreateContext(this.name).children,Ke=new we(_,Qe,F.injector);this.activated=F.createComponent(fe,{index:F.length,injector:Ke,environmentInjector:A??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(A){return new(A||E)};static#t=this.\u0275dir=p.lG2({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]})}return E})();class we{constructor(S,_,A){this.route=S,this.childContexts=_,this.parent=A}get(S,_){return S===gs?this.route:S===Ui?this.childContexts:this.parent.get(S,_)}}const ke=new p.OlP("");let nt=(()=>{class E{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(_){this.unsubscribeFromRouteData(_),this.subscribeToRouteData(_)}unsubscribeFromRouteData(_){this.outletDataSubscriptions.get(_)?.unsubscribe(),this.outletDataSubscriptions.delete(_)}subscribeToRouteData(_){const{activatedRoute:A}=_,F=Ot([A.queryParams,A.params,A.data]).pipe((0,An.w)(([Y,fe,Qe],Ke)=>(Qe={...Y,...fe,...Qe},0===Ke?(0,ae.of)(Qe):Promise.resolve(Qe)))).subscribe(Y=>{if(!_.isActivated||!_.activatedComponentRef||_.activatedRoute!==A||null===A.component)return void this.unsubscribeFromRouteData(_);const fe=(0,p.qFp)(A.component);if(fe)for(const{templateName:Qe}of fe.inputs)_.activatedComponentRef.setInput(Qe,Y[Qe]);else this.unsubscribeFromRouteData(_)});this.outletDataSubscriptions.set(_,F)}static#e=this.\u0275fac=function(A){return new(A||E)};static#t=this.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac})}return E})();function Yt(E,S,_){if(_&&E.shouldReuseRoute(S.value,_.value.snapshot)){const A=_.value;A._futureSnapshot=S.value;const F=function St(E,S,_){return S.children.map(A=>{for(const F of _.children)if(E.shouldReuseRoute(A.value,F.value.snapshot))return Yt(E,A,F);return Yt(E,A)})}(E,S,_);return new fr(A,F)}{if(E.shouldAttach(S.value)){const Y=E.retrieve(S.value);if(null!==Y){const fe=Y.route;return fe.value._futureSnapshot=S.value,fe.children=S.children.map(Qe=>Yt(E,Qe)),fe}}const A=function Pn(E){return new gs(new R.X(E.url),new R.X(E.params),new R.X(E.queryParams),new R.X(E.fragment),new R.X(E.data),E.outlet,E.component,E)}(S.value),F=S.children.map(Y=>Yt(E,Y));return new fr(A,F)}}const mr="ngNavigationCancelingError";function Pr(E,S){const{redirectTo:_,navigationBehaviorOptions:A}=Ir(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,F=Xn(!1,0,S);return F.url=_,F.navigationBehaviorOptions=A,F}function Xn(E,S,_){const A=new Error("NavigationCancelingError: "+(E||""));return A[mr]=!0,A.cancellationCode=S,_&&(A.url=_),A}function Tr(E){return E&&E[mr]}let Yr=(()=>{class E{static#e=this.\u0275fac=function(A){return new(A||E)};static#t=this.\u0275cmp=p.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(A,F){1&A&&p._UZ(0,"router-outlet")},dependencies:[pe],encapsulation:2})}return E})();function ms(E){const S=E.children&&E.children.map(ms),_=S?{...E,children:S}:{...E};return!_.component&&!_.loadComponent&&(S||_.loadChildren)&&_.outlet&&_.outlet!==En&&(_.component=Yr),_}function Ci(E){return E.outlet||En}function Xi(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let S=E.parent;S;S=S.parent){const _=S.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class pa{constructor(S,_,A,F,Y){this.routeReuseStrategy=S,this.futureState=_,this.currState=A,this.forwardEvent=F,this.inputBindingEnabled=Y}activate(S){const _=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,A,S),$(this.futureState.root),this.activateChildRoutes(_,A,S)}deactivateChildRoutes(S,_,A){const F=Ln(_);S.children.forEach(Y=>{const fe=Y.value.outlet;this.deactivateRoutes(Y,F[fe],A),delete F[fe]}),Object.values(F).forEach(Y=>{this.deactivateRouteAndItsChildren(Y,A)})}deactivateRoutes(S,_,A){const F=S.value,Y=_?_.value:null;if(F===Y)if(F.component){const fe=A.getContext(F.outlet);fe&&this.deactivateChildRoutes(S,_,fe.children)}else this.deactivateChildRoutes(S,_,A);else Y&&this.deactivateRouteAndItsChildren(_,A)}deactivateRouteAndItsChildren(S,_){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,_):this.deactivateRouteAndOutlet(S,_)}detachAndStoreRouteSubtree(S,_){const A=_.getContext(S.value.outlet),F=A&&S.value.component?A.children:_,Y=Ln(S);for(const fe of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[fe],F);if(A&&A.outlet){const fe=A.outlet.detach(),Qe=A.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:fe,route:S,contexts:Qe})}}deactivateRouteAndOutlet(S,_){const A=_.getContext(S.value.outlet),F=A&&S.value.component?A.children:_,Y=Ln(S);for(const fe of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[fe],F);A&&(A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated()),A.attachRef=null,A.route=null)}activateChildRoutes(S,_,A){const F=Ln(_);S.children.forEach(Y=>{this.activateRoutes(Y,F[Y.value.outlet],A),this.forwardEvent(new xs(Y.value.snapshot))}),S.children.length&&this.forwardEvent(new cs(S.value.snapshot))}activateRoutes(S,_,A){const F=S.value,Y=_?_.value:null;if($(F),F===Y)if(F.component){const fe=A.getOrCreateContext(F.outlet);this.activateChildRoutes(S,_,fe.children)}else this.activateChildRoutes(S,_,A);else if(F.component){const fe=A.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const Qe=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),fe.children.onOutletReAttached(Qe.contexts),fe.attachRef=Qe.componentRef,fe.route=Qe.route.value,fe.outlet&&fe.outlet.attach(Qe.componentRef,Qe.route.value),$(Qe.route.value),this.activateChildRoutes(S,null,fe.children)}else{const Qe=Xi(F.snapshot);fe.attachRef=null,fe.route=F,fe.injector=Qe,fe.outlet&&fe.outlet.activateWith(F,fe.injector),this.activateChildRoutes(S,null,fe.children)}}else this.activateChildRoutes(S,null,A)}}class Ri{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class xi{constructor(S,_){this.component=S,this.route=_}}function $o(E,S,_){const A=E._root;return Xr(A,S?S._root:null,_,[A.value])}function Rr(E,S){const _=Symbol(),A=S.get(E,_);return A===_?"function"!=typeof E||(0,p.Z0I)(E)?S.get(E):E:A}function Xr(E,S,_,A,F={canDeactivateChecks:[],canActivateChecks:[]}){const Y=Ln(S);return E.children.forEach(fe=>{(function Ho(E,S,_,A,F={canDeactivateChecks:[],canActivateChecks:[]}){const Y=E.value,fe=S?S.value:null,Qe=_?_.getContext(E.value.outlet):null;if(fe&&Y.routeConfig===fe.routeConfig){const Ke=function j(E,S,_){if("function"==typeof _)return _(E,S);switch(_){case"pathParamsChange":return!Cn(E.url,S.url);case"pathParamsOrQueryParamsChange":return!Cn(E.url,S.url)||!yr(E.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!G(E,S)||!yr(E.queryParams,S.queryParams);default:return!G(E,S)}}(fe,Y,Y.routeConfig.runGuardsAndResolvers);Ke?F.canActivateChecks.push(new Ri(A)):(Y.data=fe.data,Y._resolvedData=fe._resolvedData),Xr(E,S,Y.component?Qe?Qe.children:null:_,A,F),Ke&&Qe&&Qe.outlet&&Qe.outlet.isActivated&&F.canDeactivateChecks.push(new xi(Qe.outlet.component,fe))}else fe&&z(S,Qe,F),F.canActivateChecks.push(new Ri(A)),Xr(E,null,Y.component?Qe?Qe.children:null:_,A,F)})(fe,Y[fe.value.outlet],_,A.concat([fe.value]),F),delete Y[fe.value.outlet]}),Object.entries(Y).forEach(([fe,Qe])=>z(Qe,_.getContext(fe),F)),F}function z(E,S,_){const A=Ln(E),F=E.value;Object.entries(A).forEach(([Y,fe])=>{z(fe,F.component?S?S.children.getContext(Y):null:S,_)}),_.canDeactivateChecks.push(new xi(F.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,F))}function O(E){return"function"==typeof E}function es(E){return E instanceof an||"EmptyError"===E?.name}const Go=Symbol("INITIAL_VALUE");function zi(){return(0,An.w)(E=>Ot(E.map(S=>S.pipe(He(1),function Je(...E){const S=(0,ue.yG)(E);return(0,$n.e)((_,A)=>{(S?tt(E,_,S):tt(E,_)).subscribe(A)})}(Go)))).pipe((0,Lt.U)(S=>{for(const _ of S)if(!0!==_){if(_===Go)return Go;if(!1===_||_ instanceof wr)return _}return!0}),at(S=>S!==Go),He(1)))}function Ps(E){return(0,dt.z)((0,_t.b)(S=>{if(Ir(S))throw Pr(0,S)}),(0,Lt.U)(S=>!0===S))}class _a{constructor(S){this.segmentGroup=S||null}}class Sr{constructor(S){this.urlTree=S}}function Co(E){return ct(new _a(E))}function _s(E){return ct(new Sr(E))}class ns{constructor(S,_){this.urlSerializer=S,this.urlTree=_}noMatchError(S){return new p.vHH(4002,!1)}lineralizeSegments(S,_){let A=[],F=_.root;for(;;){if(A=A.concat(F.segments),0===F.numberOfChildren)return(0,ae.of)(A);if(F.numberOfChildren>1||!F.children[En])return ct(new p.vHH(4e3,!1));F=F.children[En]}}applyRedirectCommands(S,_,A){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),S,A)}applyRedirectCreateUrlTree(S,_,A,F){const Y=this.createSegmentGroup(S,_.root,A,F);return new wr(Y,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(S,_){const A={};return Object.entries(S).forEach(([F,Y])=>{if("string"==typeof Y&&Y.startsWith(":")){const Qe=Y.substring(1);A[F]=_[Qe]}else A[F]=Y}),A}createSegmentGroup(S,_,A,F){const Y=this.createSegments(S,_.segments,A,F);let fe={};return Object.entries(_.children).forEach(([Qe,Ke])=>{fe[Qe]=this.createSegmentGroup(S,Ke,A,F)}),new yn(Y,fe)}createSegments(S,_,A,F){return _.map(Y=>Y.path.startsWith(":")?this.findPosParam(S,Y,F):this.findOrReturn(Y,A))}findPosParam(S,_,A){const F=A[_.path.substring(1)];if(!F)throw new p.vHH(4001,!1);return F}findOrReturn(S,_){let A=0;for(const F of _){if(F.path===S.path)return _.splice(A),F;A++}return S}}const zo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xr(E,S,_,A,F){const Y=Ca(E,S,_);return Y.matched?(A=function Hr(E,S){return E.providers&&!E._injector&&(E._injector=(0,p.MMx)(E.providers,S,`Route: ${E.path}`)),E._injector??S}(S,A),function ts(E,S,_,A){const F=S.canMatch;if(!F||0===F.length)return(0,ae.of)(!0);const Y=F.map(fe=>{const Qe=Rr(fe,E);return Dr(function ys(E){return E&&O(E.canMatch)}(Qe)?Qe.canMatch(S,_):E.runInContext(()=>Qe(S,_)))});return(0,ae.of)(Y).pipe(zi(),Ps())}(A,S,_).pipe((0,Lt.U)(fe=>!0===fe?Y:{...zo}))):(0,ae.of)(Y)}function Ca(E,S,_){if(""===S.path)return"full"===S.pathMatch&&(E.hasChildren()||_.length>0)?{...zo}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const F=(S.matcher||Bn)(_,E,S);if(!F)return{...zo};const Y={};Object.entries(F.posParams??{}).forEach(([Qe,Ke])=>{Y[Qe]=Ke.path});const fe=F.consumed.length>0?{...Y,...F.consumed[F.consumed.length-1].parameters}:Y;return{matched:!0,consumedSegments:F.consumed,remainingSegments:_.slice(F.consumed.length),parameters:fe,positionalParamSegments:F.posParams??{}}}function qo(E,S,_,A){return _.length>0&&function va(E,S,_){return _.some(A=>So(E,S,A)&&Ci(A)!==En)}(E,_,A)?{segmentGroup:new yn(S,po(A,new yn(_,E.children))),slicedSegments:[]}:0===_.length&&function io(E,S,_){return _.some(A=>So(E,S,A))}(E,_,A)?{segmentGroup:new yn(E.segments,zs(E,0,_,A,E.children)),slicedSegments:_}:{segmentGroup:new yn(E.segments,E.children),slicedSegments:_}}function zs(E,S,_,A,F){const Y={};for(const fe of A)if(So(E,_,fe)&&!F[Ci(fe)]){const Qe=new yn([],{});Y[Ci(fe)]=Qe}return{...F,...Y}}function po(E,S){const _={};_[En]=S;for(const A of E)if(""===A.path&&Ci(A)!==En){const F=new yn([],{});_[Ci(A)]=F}return _}function So(E,S,_){return(!(E.hasChildren()||S.length>0)||"full"!==_.pathMatch)&&""===_.path}class Bi{constructor(S,_,A,F,Y,fe,Qe){this.injector=S,this.configLoader=_,this.rootComponentType=A,this.config=F,this.urlTree=Y,this.paramsInheritanceStrategy=fe,this.urlSerializer=Qe,this.allowRedirects=!0,this.applyRedirects=new ns(this.urlSerializer,this.urlTree)}noMatchError(S){return new p.vHH(4002,!1)}recognize(){const S=qo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,En).pipe(zt(_=>{if(_ instanceof Sr)return this.allowRedirects=!1,this.urlTree=_.urlTree,this.match(_.urlTree);throw _ instanceof _a?this.noMatchError(_):_}),(0,Lt.U)(_=>{const A=new Bs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},En,this.rootComponentType,null,{}),F=new fr(A,_),Y=new Or("",F),fe=function Pi(E,S,_=null,A=null){return as(fs(E),S,_,A)}(A,[],this.urlTree.queryParams,this.urlTree.fragment);return fe.queryParams=this.urlTree.queryParams,Y.url=this.urlSerializer.serialize(fe),this.inheritParamsAndData(Y._root),{state:Y,tree:fe}}))}match(S){return this.processSegmentGroup(this.injector,this.config,S.root,En).pipe(zt(A=>{throw A instanceof _a?this.noMatchError(A):A}))}inheritParamsAndData(S){const _=S.value,A=bs(_,this.paramsInheritanceStrategy);_.params=Object.freeze(A.params),_.data=Object.freeze(A.data),S.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(S,_,A,F){return 0===A.segments.length&&A.hasChildren()?this.processChildren(S,_,A):this.processSegment(S,_,A,A.segments,F,!0)}processChildren(S,_,A){const F=[];for(const Y of Object.keys(A.children))"primary"===Y?F.unshift(Y):F.push(Y);return(0,Me.D)(F).pipe(pt(Y=>{const fe=A.children[Y],Qe=function ai(E,S){const _=E.filter(A=>Ci(A)===S);return _.push(...E.filter(A=>Ci(A)!==S)),_}(_,Y);return this.processSegmentGroup(S,Qe,fe,Y)}),function Qn(E,S){return(0,$n.e)(function tr(E,S,_,A,F){return(Y,fe)=>{let Qe=_,Ke=S,sn=0;Y.subscribe((0,ot.x)(fe,ir=>{const Vr=sn++;Ke=Qe?E(Ke,ir,Vr):(Qe=!0,ir),A&&fe.next(Ke)},F&&(()=>{Qe&&fe.next(Ke),fe.complete()})))}}(E,S,arguments.length>=2,!0))}((Y,fe)=>(Y.push(...fe),Y)),ve(null),function lr(E,S){const _=arguments.length>=2;return A=>A.pipe(E?at((F,Y)=>E(F,Y,A)):ze.y,Rn(1),_?ve(S):oe(()=>new an))}(),(0,De.z)(Y=>{if(null===Y)return Co(A);const fe=Z(Y);return function Xo(E){E.sort((S,_)=>S.value.outlet===En?-1:_.value.outlet===En?1:S.value.outlet.localeCompare(_.value.outlet))}(fe),(0,ae.of)(fe)}))}processSegment(S,_,A,F,Y,fe){return(0,Me.D)(_).pipe(pt(Qe=>this.processSegmentAgainstRoute(Qe._injector??S,_,Qe,A,F,Y,fe).pipe(zt(Ke=>{if(Ke instanceof _a)return(0,ae.of)(null);throw Ke}))),We(Qe=>!!Qe),zt(Qe=>{if(es(Qe))return function Ss(E,S,_){return 0===S.length&&!E.children[_]}(A,F,Y)?(0,ae.of)([]):Co(A);throw Qe}))}processSegmentAgainstRoute(S,_,A,F,Y,fe,Qe){return function go(E,S,_,A){return!!(Ci(E)===A||A!==En&&So(S,_,E))&&("**"===E.path||Ca(S,E,_).matched)}(A,F,Y,fe)?void 0===A.redirectTo?this.matchSegmentAgainstRoute(S,F,A,Y,fe,Qe):Qe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,F,_,A,Y,fe):Co(F):Co(F)}expandSegmentAgainstRouteUsingRedirect(S,_,A,F,Y,fe){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,A,F,fe):this.expandRegularSegmentAgainstRouteUsingRedirect(S,_,A,F,Y,fe)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,_,A,F){const Y=this.applyRedirects.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?_s(Y):this.applyRedirects.lineralizeSegments(A,Y).pipe((0,De.z)(fe=>{const Qe=new yn(fe,{});return this.processSegment(S,_,Qe,fe,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,_,A,F,Y,fe){const{matched:Qe,consumedSegments:Ke,remainingSegments:sn,positionalParamSegments:ir}=Ca(_,F,Y);if(!Qe)return Co(_);const Vr=this.applyRedirects.applyRedirectCommands(Ke,F.redirectTo,ir);return F.redirectTo.startsWith("/")?_s(Vr):this.applyRedirects.lineralizeSegments(F,Vr).pipe((0,De.z)(Ur=>this.processSegment(S,A,_,Ur.concat(sn),fe,!1)))}matchSegmentAgainstRoute(S,_,A,F,Y,fe){let Qe;if("**"===A.path){const Ke=F.length>0?ei(F).parameters:{},sn=new Bs(F,Ke,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,q(A),Ci(A),A.component??A._loadedComponent??null,A,me(A));Qe=(0,ae.of)({snapshot:sn,consumedSegments:[],remainingSegments:[]}),_.children={}}else Qe=xr(_,A,F,S).pipe((0,Lt.U)(({matched:Ke,consumedSegments:sn,remainingSegments:ir,parameters:Vr})=>Ke?{snapshot:new Bs(sn,Vr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,q(A),Ci(A),A.component??A._loadedComponent??null,A,me(A)),consumedSegments:sn,remainingSegments:ir}:null));return Qe.pipe((0,An.w)(Ke=>null===Ke?Co(_):this.getChildConfig(S=A._injector??S,A,F).pipe((0,An.w)(({routes:sn})=>{const ir=A._loadedInjector??S,{snapshot:Vr,consumedSegments:Ur,remainingSegments:ia}=Ke,{segmentGroup:Ks,slicedSegments:sa}=qo(_,Ur,ia,sn);if(0===sa.length&&Ks.hasChildren())return this.processChildren(ir,sn,Ks).pipe((0,Lt.U)(Zs=>null===Zs?null:[new fr(Vr,Zs)]));if(0===sn.length&&0===sa.length)return(0,ae.of)([new fr(Vr,[])]);const bu=Ci(A)===Y;return this.processSegment(ir,sn,Ks,sa,bu?En:Y,!0).pipe((0,Lt.U)(Zs=>[new fr(Vr,Zs)]))}))))}getChildConfig(S,_,A){return _.children?(0,ae.of)({routes:_.children,injector:S}):_.loadChildren?void 0!==_._loadedRoutes?(0,ae.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function fo(E,S,_,A){const F=S.canLoad;if(void 0===F||0===F.length)return(0,ae.of)(!0);const Y=F.map(fe=>{const Qe=Rr(fe,E);return Dr(function Ce(E){return E&&O(E.canLoad)}(Qe)?Qe.canLoad(S,_):E.runInContext(()=>Qe(S,_)))});return(0,ae.of)(Y).pipe(zi(),Ps())}(S,_,A).pipe((0,De.z)(F=>F?this.configLoader.loadChildren(S,_).pipe((0,_t.b)(Y=>{_._loadedRoutes=Y.routes,_._loadedInjector=Y.injector})):function ba(E){return ct(Xn(!1,3))}())):(0,ae.of)({routes:[],injector:S})}}function D(E){const S=E.value.routeConfig;return S&&""===S.path}function Z(E){const S=[],_=new Set;for(const A of E){if(!D(A)){S.push(A);continue}const F=S.find(Y=>A.value.routeConfig===Y.value.routeConfig);void 0!==F?(F.children.push(...A.children),_.add(F)):S.push(A)}for(const A of _){const F=Z(A.children);S.push(new fr(A.value,F))}return S.filter(A=>!_.has(A))}function q(E){return E.data||{}}function me(E){return E.resolve||{}}function y(E){return"string"==typeof E.title||null===E.title}function v(E){return(0,An.w)(S=>{const _=E(S);return _?(0,Me.D)(_).pipe((0,Lt.U)(()=>S)):(0,ae.of)(S)})}const x=new p.OlP("ROUTES");let L=(()=>{class E{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,ae.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const A=Dr(_.loadComponent()).pipe((0,Lt.U)(ge),(0,_t.b)(Y=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=Y}),kn(()=>{this.componentLoaders.delete(_)})),F=new It(A,()=>new Et.x).pipe(gr());return this.componentLoaders.set(_,F),F}loadChildren(_,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,ae.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const Y=function te(E,S,_,A){return Dr(E.loadChildren()).pipe((0,Lt.U)(ge),(0,De.z)(F=>F instanceof p.YKP||Array.isArray(F)?(0,ae.of)(F):(0,Me.D)(S.compileModuleAsync(F))),(0,Lt.U)(F=>{A&&A(E);let Y,fe,Qe=!1;return Array.isArray(F)?(fe=F,!0):(Y=F.create(_).injector,fe=Y.get(x,[],{optional:!0,self:!0}).flat()),{routes:fe.map(ms),injector:Y}}))}(A,this.compiler,_,this.onLoadEndListener).pipe(kn(()=>{this.childrenLoaders.delete(A)})),fe=new It(Y,()=>new Et.x).pipe(gr());return this.childrenLoaders.set(A,fe),fe}static#e=this.\u0275fac=function(A){return new(A||E)};static#t=this.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function ge(E){return function ye(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let Le=(()=>{class E{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Et.x,this.transitionAbortSubject=new Et.x,this.configLoader=(0,p.f3M)(L),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(Hn),this.rootContexts=(0,p.f3M)(Ui),this.inputBindingEnabled=null!==(0,p.f3M)(ke,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=F=>this.events.next(new co(F)),this.configLoader.onLoadStartListener=F=>this.events.next(new us(F))}complete(){this.transitions?.complete()}handleNavigationRequest(_){const A=++this.navigationId;this.transitions?.next({...this.transitions.value,..._,id:A})}setupNavigations(_,A,F){return this.transitions=new R.X({id:0,currentUrlTree:A,currentRawUrl:A,currentBrowserUrl:A,extractedUrl:_.urlHandlingStrategy.extract(A),urlAfterRedirects:_.urlHandlingStrategy.extract(A),rawUrl:A,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Wn,restoredState:null,currentSnapshot:F.snapshot,targetSnapshot:null,currentRouterState:F,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(at(Y=>0!==Y.id),(0,Lt.U)(Y=>({...Y,extractedUrl:_.urlHandlingStrategy.extract(Y.rawUrl)})),(0,An.w)(Y=>{this.currentTransition=Y;let fe=!1,Qe=!1;return(0,ae.of)(Y).pipe((0,_t.b)(Ke=>{this.currentNavigation={id:Ke.id,initialUrl:Ke.rawUrl,extractedUrl:Ke.extractedUrl,trigger:Ke.source,extras:Ke.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,An.w)(Ke=>{const sn=Ke.currentBrowserUrl.toString(),ir=!_.navigated||Ke.extractedUrl.toString()!==sn||sn!==Ke.currentUrlTree.toString();if(!ir&&"reload"!==(Ke.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const Ur="";return this.events.next(new ii(Ke.id,this.urlSerializer.serialize(Ke.rawUrl),Ur,0)),Ke.resolve(null),ut.E}if(_.urlHandlingStrategy.shouldProcessUrl(Ke.rawUrl))return(0,ae.of)(Ke).pipe((0,An.w)(Ur=>{const ia=this.transitions?.getValue();return this.events.next(new rr(Ur.id,this.urlSerializer.serialize(Ur.extractedUrl),Ur.source,Ur.restoredState)),ia!==this.transitions?.getValue()?ut.E:Promise.resolve(Ur)}),function rt(E,S,_,A,F,Y){return(0,De.z)(fe=>function As(E,S,_,A,F,Y,fe="emptyOnly"){return new Bi(E,S,_,A,F,fe,Y).recognize()}(E,S,_,A,fe.extractedUrl,F,Y).pipe((0,Lt.U)(({state:Qe,tree:Ke})=>({...fe,targetSnapshot:Qe,urlAfterRedirects:Ke}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,_.config,this.urlSerializer,_.paramsInheritanceStrategy),(0,_t.b)(Ur=>{Y.targetSnapshot=Ur.targetSnapshot,Y.urlAfterRedirects=Ur.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ur.urlAfterRedirects};const ia=new ps(Ur.id,this.urlSerializer.serialize(Ur.extractedUrl),this.urlSerializer.serialize(Ur.urlAfterRedirects),Ur.targetSnapshot);this.events.next(ia)}));if(ir&&_.urlHandlingStrategy.shouldProcessUrl(Ke.currentRawUrl)){const{id:Ur,extractedUrl:ia,source:Ks,restoredState:sa,extras:bu}=Ke,Zs=new rr(Ur,this.urlSerializer.serialize(ia),Ks,sa);this.events.next(Zs);const Ms=si(0,this.rootComponentType).snapshot;return this.currentTransition=Y={...Ke,targetSnapshot:Ms,urlAfterRedirects:ia,extras:{...bu,skipLocationChange:!1,replaceUrl:!1}},(0,ae.of)(Y)}{const Ur="";return this.events.next(new ii(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),Ur,1)),Ke.resolve(null),ut.E}}),(0,_t.b)(Ke=>{const sn=new Vs(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),this.urlSerializer.serialize(Ke.urlAfterRedirects),Ke.targetSnapshot);this.events.next(sn)}),(0,Lt.U)(Ke=>(this.currentTransition=Y={...Ke,guards:$o(Ke.targetSnapshot,Ke.currentSnapshot,this.rootContexts)},Y)),function ga(E,S){return(0,De.z)(_=>{const{targetSnapshot:A,currentSnapshot:F,guards:{canActivateChecks:Y,canDeactivateChecks:fe}}=_;return 0===fe.length&&0===Y.length?(0,ae.of)({..._,guardsResult:!0}):function ma(E,S,_,A){return(0,Me.D)(E).pipe((0,De.z)(F=>function Jo(E,S,_,A,F){const Y=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!Y||0===Y.length)return(0,ae.of)(!0);const fe=Y.map(Qe=>{const Ke=Xi(S)??F,sn=Rr(Qe,Ke);return Dr(function Li(E){return E&&O(E.canDeactivate)}(sn)?sn.canDeactivate(E,S,_,A):Ke.runInContext(()=>sn(E,S,_,A))).pipe(We())});return(0,ae.of)(fe).pipe(zi())}(F.component,F.route,_,S,A)),We(F=>!0!==F,!0))}(fe,A,F,E).pipe((0,De.z)(Qe=>Qe&&function X(E){return"boolean"==typeof E}(Qe)?function Pa(E,S,_,A){return(0,Me.D)(S).pipe(pt(F=>tt(function ya(E,S){return null!==E&&S&&S(new ki(E)),(0,ae.of)(!0)}(F.route.parent,A),function Hs(E,S){return null!==E&&S&&S(new Us(E)),(0,ae.of)(!0)}(F.route,A),function ro(E,S,_){const A=S[S.length-1],Y=S.slice(0,S.length-1).reverse().map(fe=>function Os(E){const S=E.routeConfig?E.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:E,guards:S}:null}(fe)).filter(fe=>null!==fe).map(fe=>gt(()=>{const Qe=fe.guards.map(Ke=>{const sn=Xi(fe.node)??_,ir=Rr(Ke,sn);return Dr(function Kn(E){return E&&O(E.canActivateChild)}(ir)?ir.canActivateChild(A,E):sn.runInContext(()=>ir(A,E))).pipe(We())});return(0,ae.of)(Qe).pipe(zi())}));return(0,ae.of)(Y).pipe(zi())}(E,F.path,_),function ls(E,S,_){const A=S.routeConfig?S.routeConfig.canActivate:null;if(!A||0===A.length)return(0,ae.of)(!0);const F=A.map(Y=>gt(()=>{const fe=Xi(S)??_,Qe=Rr(Y,fe);return Dr(function qt(E){return E&&O(E.canActivate)}(Qe)?Qe.canActivate(S,E):fe.runInContext(()=>Qe(S,E))).pipe(We())}));return(0,ae.of)(F).pipe(zi())}(E,F.route,_))),We(F=>!0!==F,!0))}(A,Y,E,S):(0,ae.of)(Qe)),(0,Lt.U)(Qe=>({..._,guardsResult:Qe})))})}(this.environmentInjector,Ke=>this.events.next(Ke)),(0,_t.b)(Ke=>{if(Y.guardsResult=Ke.guardsResult,Ir(Ke.guardsResult))throw Pr(0,Ke.guardsResult);const sn=new Io(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),this.urlSerializer.serialize(Ke.urlAfterRedirects),Ke.targetSnapshot,!!Ke.guardsResult);this.events.next(sn)}),at(Ke=>!!Ke.guardsResult||(this.cancelNavigationTransition(Ke,"",3),!1)),v(Ke=>{if(Ke.guards.canActivateChecks.length)return(0,ae.of)(Ke).pipe((0,_t.b)(sn=>{const ir=new Ts(sn.id,this.urlSerializer.serialize(sn.extractedUrl),this.urlSerializer.serialize(sn.urlAfterRedirects),sn.targetSnapshot);this.events.next(ir)}),(0,An.w)(sn=>{let ir=!1;return(0,ae.of)(sn).pipe(function Ct(E,S){return(0,De.z)(_=>{const{targetSnapshot:A,guards:{canActivateChecks:F}}=_;if(!F.length)return(0,ae.of)(_);let Y=0;return(0,Me.D)(F).pipe(pt(fe=>function Tn(E,S,_,A){const F=E.routeConfig,Y=E._resolve;return void 0!==F?.title&&!y(F)&&(Y[gi]=F.title),function ui(E,S,_,A){const F=function vi(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===F.length)return(0,ae.of)({});const Y={};return(0,Me.D)(F).pipe((0,De.z)(fe=>function U(E,S,_,A){const F=Xi(S)??A,Y=Rr(E,F);return Dr(Y.resolve?Y.resolve(S,_):F.runInContext(()=>Y(S,_)))}(E[fe],S,_,A).pipe(We(),(0,_t.b)(Qe=>{Y[fe]=Qe}))),Rn(1),function ar(E){return(0,Lt.U)(()=>E)}(Y),zt(fe=>es(fe)?ut.E:ct(fe)))}(Y,E,S,A).pipe((0,Lt.U)(fe=>(E._resolvedData=fe,E.data=bs(E,_).resolve,F&&y(F)&&(E.data[gi]=F.title),null)))}(fe.route,A,E,S)),(0,_t.b)(()=>Y++),Rn(1),(0,De.z)(fe=>Y===F.length?(0,ae.of)(_):ut.E))})}(_.paramsInheritanceStrategy,this.environmentInjector),(0,_t.b)({next:()=>ir=!0,complete:()=>{ir||this.cancelNavigationTransition(sn,"",2)}}))}),(0,_t.b)(sn=>{const ir=new Uo(sn.id,this.urlSerializer.serialize(sn.extractedUrl),this.urlSerializer.serialize(sn.urlAfterRedirects),sn.targetSnapshot);this.events.next(ir)}))}),v(Ke=>{const sn=ir=>{const Vr=[];ir.routeConfig?.loadComponent&&!ir.routeConfig._loadedComponent&&Vr.push(this.configLoader.loadComponent(ir.routeConfig).pipe((0,_t.b)(Ur=>{ir.component=Ur}),(0,Lt.U)(()=>{})));for(const Ur of ir.children)Vr.push(...sn(Ur));return Vr};return Ot(sn(Ke.targetSnapshot.root)).pipe(ve(),He(1))}),v(()=>this.afterPreactivation()),(0,Lt.U)(Ke=>{const sn=function Vt(E,S,_){const A=Yt(E,S._root,_?_._root:void 0);return new Ki(A,S)}(_.routeReuseStrategy,Ke.targetSnapshot,Ke.currentRouterState);return this.currentTransition=Y={...Ke,targetRouterState:sn},Y}),(0,_t.b)(()=>{this.events.next(new lo)}),((E,S,_,A)=>(0,Lt.U)(F=>(new pa(S,F.targetRouterState,F.currentRouterState,_,A).activate(E),F)))(this.rootContexts,_.routeReuseStrategy,Ke=>this.events.next(Ke),this.inputBindingEnabled),He(1),(0,_t.b)({next:Ke=>{fe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ti(Ke.id,this.urlSerializer.serialize(Ke.extractedUrl),this.urlSerializer.serialize(Ke.urlAfterRedirects))),_.titleStrategy?.updateTitle(Ke.targetRouterState.snapshot),Ke.resolve(!0)},complete:()=>{fe=!0}}),function mn(E){return(0,$n.e)((S,_)=>{(0,Ze.Xf)(E).subscribe((0,ot.x)(_,()=>_.complete(),nr.Z)),!_.closed&&S.subscribe(_)})}(this.transitionAbortSubject.pipe((0,_t.b)(Ke=>{throw Ke}))),kn(()=>{fe||Qe||this.cancelNavigationTransition(Y,"",1),this.currentNavigation?.id===Y.id&&(this.currentNavigation=null)}),zt(Ke=>{if(Qe=!0,Tr(Ke))this.events.next(new yi(Y.id,this.urlSerializer.serialize(Y.extractedUrl),Ke.message,Ke.cancellationCode)),function qr(E){return Tr(E)&&Ir(E.url)}(Ke)?this.events.next(new Bo(Ke.url)):Y.resolve(!1);else{this.events.next(new Mr(Y.id,this.urlSerializer.serialize(Y.extractedUrl),Ke,Y.targetSnapshot??void 0));try{Y.resolve(_.errorHandler(Ke))}catch(sn){Y.reject(sn)}}return ut.E}))}))}cancelNavigationTransition(_,A,F){const Y=new yi(_.id,this.urlSerializer.serialize(_.extractedUrl),A,F);this.events.next(Y),_.resolve(!1)}static#e=this.\u0275fac=function(A){return new(A||E)};static#t=this.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function Xe(E){return E!==Wn}let Gt=(()=>{class E{buildTitle(_){let A,F=_.root;for(;void 0!==F;)A=this.getResolvedTitleForRoute(F)??A,F=F.children.find(Y=>Y.outlet===En);return A}getResolvedTitleForRoute(_){return _.data[gi]}static#e=this.\u0275fac=function(A){return new(A||E)};static#t=this.\u0275prov=p.Yz7({token:E,factory:function(){return(0,p.f3M)(on)},providedIn:"root"})}return E})(),on=(()=>{class E extends Gt{constructor(_){super(),this.title=_}updateTitle(_){const A=this.buildTitle(_);void 0!==A&&this.title.setTitle(A)}static#e=this.\u0275fac=function(A){return new(A||E)(p.LFG(hr.Dx))};static#t=this.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})(),it=(()=>{class E{static#e=this.\u0275fac=function(A){return new(A||E)};static#t=this.\u0275prov=p.Yz7({token:E,factory:function(){return(0,p.f3M)(In)},providedIn:"root"})}return E})();class Sn{shouldDetach(S){return!1}store(S,_){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,_){return S.routeConfig===_.routeConfig}}let In=(()=>{class E extends Sn{static#e=this.\u0275fac=function(){let _;return function(F){return(_||(_=p.n5z(E)))(F||E)}}();static#t=this.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();const Zn=new p.OlP("",{providedIn:"root",factory:()=>({})});let Ht=(()=>{class E{static#e=this.\u0275fac=function(A){return new(A||E)};static#t=this.\u0275prov=p.Yz7({token:E,factory:function(){return(0,p.f3M)(tn)},providedIn:"root"})}return E})(),tn=(()=>{class E{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,A){return _}static#e=this.\u0275fac=function(A){return new(A||E)};static#t=this.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();var Hi=function(E){return E[E.COMPLETE=0]="COMPLETE",E[E.FAILED=1]="FAILED",E[E.REDIRECTING=2]="REDIRECTING",E}(Hi||{});function Ft(E,S){E.events.pipe(at(_=>_ instanceof Ti||_ instanceof yi||_ instanceof Mr||_ instanceof ii),(0,Lt.U)(_=>_ instanceof Ti||_ instanceof ii?Hi.COMPLETE:_ instanceof yi&&(0===_.code||1===_.code)?Hi.REDIRECTING:Hi.FAILED),at(_=>_!==Hi.REDIRECTING),He(1)).subscribe(()=>{S()})}function qe(E){throw E}function wt(E,S,_){return S.parse("/")}const ci={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let dr=(()=>{class E{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this._events=new Et.x,this.options=(0,p.f3M)(Zn,{optional:!0})||{},this.pendingTasks=(0,p.f3M)(p.HDt),this.errorHandler=this.options.errorHandler||qe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||wt,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(Ht),this.routeReuseStrategy=(0,p.f3M)(it),this.titleStrategy=(0,p.f3M)(Gt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,p.f3M)(x,{optional:!0})?.flat()??[],this.navigationTransitions=(0,p.f3M)(Le),this.urlSerializer=(0,p.f3M)(Hn),this.location=(0,p.f3M)(bn.Ye),this.componentInputBindingEnabled=!!(0,p.f3M)(ke,{optional:!0}),this.eventsSubscription=new vn.w0,this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new wr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=si(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(_=>{this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const _=this.navigationTransitions.events.subscribe(A=>{try{const{currentTransition:F}=this.navigationTransitions;if(null===F)return void(mo(A)&&this._events.next(A));if(A instanceof rr)Xe(F.source)&&(this.browserUrlTree=F.extractedUrl);else if(A instanceof ii)this.rawUrlTree=F.rawUrl;else if(A instanceof ps){if("eager"===this.urlUpdateStrategy){if(!F.extras.skipLocationChange){const Y=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl);this.setBrowserUrl(Y,F)}this.browserUrlTree=F.urlAfterRedirects}}else if(A instanceof lo)this.currentUrlTree=F.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl),this.routerState=F.targetRouterState,"deferred"===this.urlUpdateStrategy&&(F.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,F),this.browserUrlTree=F.urlAfterRedirects);else if(A instanceof yi)0!==A.code&&1!==A.code&&(this.navigated=!0),(3===A.code||2===A.code)&&this.restoreHistory(F);else if(A instanceof Bo){const Y=this.urlHandlingStrategy.merge(A.url,F.currentRawUrl),fe={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Xe(F.source)};this.scheduleNavigation(Y,Wn,null,fe,{resolve:F.resolve,reject:F.reject,promise:F.promise})}A instanceof Mr&&this.restoreHistory(F,!0),A instanceof Ti&&(this.navigated=!0),mo(A)&&this._events.next(A)}catch(F){this.navigationTransitions.transitionAbortSubject.next(F)}});this.eventsSubscription.add(_)}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const _=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Wn,_)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const A="popstate"===_.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{this.navigateToSyncWithBrowser(_.url,A,_.state)},0)}))}navigateToSyncWithBrowser(_,A,F){const Y={replaceUrl:!0},fe=F?.navigationId?F:null;if(F){const Ke={...F};delete Ke.navigationId,delete Ke.\u0275routerPageId,0!==Object.keys(Ke).length&&(Y.state=Ke)}const Qe=this.parseUrl(_);this.scheduleNavigation(Qe,A,fe,Y)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(_){this.config=_.map(ms),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(_,A={}){const{relativeTo:F,queryParams:Y,fragment:fe,queryParamsHandling:Qe,preserveFragment:Ke}=A,sn=Ke?this.currentUrlTree.fragment:fe;let Vr,ir=null;switch(Qe){case"merge":ir={...this.currentUrlTree.queryParams,...Y};break;case"preserve":ir=this.currentUrlTree.queryParams;break;default:ir=Y||null}null!==ir&&(ir=this.removeEmptyProps(ir));try{Vr=fs(F?F.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof _[0]||!_[0].startsWith("/"))&&(_=[]),Vr=this.currentUrlTree.root}return as(Vr,_,ir,sn??null)}navigateByUrl(_,A={skipLocationChange:!1}){const F=Ir(_)?_:this.parseUrl(_),Y=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(Y,Wn,null,A)}navigate(_,A={skipLocationChange:!1}){return function qs(E){for(let S=0;S<E.length;S++)if(null==E[S])throw new p.vHH(4008,!1)}(_),this.navigateByUrl(this.createUrlTree(_,A),A)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let A;try{A=this.urlSerializer.parse(_)}catch(F){A=this.malformedUriErrorHandler(F,this.urlSerializer,_)}return A}isActive(_,A){let F;if(F=!0===A?{...ci}:!1===A?{...vs}:A,Ir(_))return _r(this.currentUrlTree,_,F);const Y=this.parseUrl(_);return _r(this.currentUrlTree,Y,F)}removeEmptyProps(_){return Object.keys(_).reduce((A,F)=>{const Y=_[F];return null!=Y&&(A[F]=Y),A},{})}scheduleNavigation(_,A,F,Y,fe){if(this.disposed)return Promise.resolve(!1);let Qe,Ke,sn;fe?(Qe=fe.resolve,Ke=fe.reject,sn=fe.promise):sn=new Promise((Vr,Ur)=>{Qe=Vr,Ke=Ur});const ir=this.pendingTasks.add();return Ft(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ir))}),this.navigationTransitions.handleNavigationRequest({source:A,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:_,extras:Y,resolve:Qe,reject:Ke,promise:sn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),sn.catch(Vr=>Promise.reject(Vr))}setBrowserUrl(_,A){const F=this.urlSerializer.serialize(_);if(this.location.isCurrentPathEqualTo(F)||A.extras.replaceUrl){const fe={...A.extras.state,...this.generateNgRouterState(A.id,this.browserPageId)};this.location.replaceState(F,"",fe)}else{const Y={...A.extras.state,...this.generateNgRouterState(A.id,this.browserPageId+1)};this.location.go(F,"",Y)}}restoreHistory(_,A=!1){if("computed"===this.canceledNavigationResolution){const Y=this.currentPageId-this.browserPageId;0!==Y?this.location.historyGo(Y):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Y&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,A){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:A}:{navigationId:_}}static#e=this.\u0275fac=function(A){return new(A||E)};static#t=this.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function mo(E){return!(E instanceof lo||E instanceof Bo)}let rs=(()=>{class E{constructor(_,A,F,Y,fe,Qe){this.router=_,this.route=A,this.tabIndexAttribute=F,this.renderer=Y,this.el=fe,this.locationStrategy=Qe,this.href=null,this.commands=null,this.onChanges=new Et.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ke=fe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ke||"area"===Ke,this.isAnchorElement?this.subscription=_.events.subscribe(sn=>{sn instanceof Ti&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_)}ngOnChanges(_){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(_,A,F,Y,fe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==_||A||F||Y||fe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const _=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",_)}applyAttributeValue(_,A){const F=this.renderer,Y=this.el.nativeElement;null!==A?F.setAttribute(Y,_,A):F.removeAttribute(Y,_)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(A){return new(A||E)(p.Y36(dr),p.Y36(gs),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(bn.S$))};static#t=this.\u0275dir=p.lG2({type:E,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(A,F){1&A&&p.NdJ("click",function(fe){return F.onClick(fe.button,fe.ctrlKey,fe.shiftKey,fe.altKey,fe.metaKey)}),2&A&&p.uIk("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",p.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",p.VuI],replaceUrl:["replaceUrl","replaceUrl",p.VuI],routerLink:"routerLink"},standalone:!0,features:[p.Xq5,p.TTD]})}return E})();class Ao{}let Vn=(()=>{class E{constructor(_,A,F,Y,fe){this.router=_,this.injector=F,this.preloadingStrategy=Y,this.loader=fe}setUpPreloading(){this.subscription=this.router.events.pipe(at(_=>_ instanceof Ti),pt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,A){const F=[];for(const Y of A){Y.providers&&!Y._injector&&(Y._injector=(0,p.MMx)(Y.providers,_,`Route: ${Y.path}`));const fe=Y._injector??_,Qe=Y._loadedInjector??fe;(Y.loadChildren&&!Y._loadedRoutes&&void 0===Y.canLoad||Y.loadComponent&&!Y._loadedComponent)&&F.push(this.preloadConfig(fe,Y)),(Y.children||Y._loadedRoutes)&&F.push(this.processRoutes(Qe,Y.children??Y._loadedRoutes))}return(0,Me.D)(F).pipe((0,xt.J)())}preloadConfig(_,A){return this.preloadingStrategy.preload(A,()=>{let F;F=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(_,A):(0,ae.of)(null);const Y=F.pipe((0,De.z)(fe=>null===fe?(0,ae.of)(void 0):(A._loadedRoutes=fe.routes,A._loadedInjector=fe.injector,this.processRoutes(fe.injector??_,fe.routes))));if(A.loadComponent&&!A._loadedComponent){const fe=this.loader.loadComponent(A);return(0,Me.D)([Y,fe]).pipe((0,xt.J)())}return Y})}static#e=this.\u0275fac=function(A){return new(A||E)(p.LFG(dr),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(Ao),p.LFG(L))};static#t=this.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();const Mt=new p.OlP("");let ur=(()=>{class E{constructor(_,A,F,Y,fe={}){this.urlSerializer=_,this.transitions=A,this.viewportScroller=F,this.zone=Y,this.options=fe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},fe.scrollPositionRestoration=fe.scrollPositionRestoration||"disabled",fe.anchorScrolling=fe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof rr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof Ti?(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment)):_ instanceof ii&&0===_.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof no&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,A){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new no(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(A){p.$Z()};static#t=this.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac})}return E})();function nn(E,S){return{\u0275kind:E,\u0275providers:S}}function kt(){const E=(0,p.f3M)(p.zs3);return S=>{const _=E.get(p.z2F);if(S!==_.components[0])return;const A=E.get(dr),F=E.get(Ws);1===E.get(is)&&A.initialNavigation(),E.get(ka,null,p.XFs.Optional)?.setUpPreloading(),E.get(Mt,null,p.XFs.Optional)?.init(),A.resetRootComponentType(_.componentTypes[0]),F.closed||(F.next(),F.complete(),F.unsubscribe())}}const Ws=new p.OlP("",{factory:()=>new Et.x}),is=new p.OlP("",{providedIn:"root",factory:()=>1}),ka=new p.OlP("");function Fa(E){return nn(0,[{provide:ka,useExisting:Vn},{provide:Ao,useExisting:E}])}const Kr=new p.OlP("ROUTER_FORROOT_GUARD"),Ko=[bn.Ye,{provide:Hn,useClass:Fr},dr,Ui,{provide:gs,useFactory:function Wr(E){return E.routerState.root},deps:[dr]},L,[]];function au(){return new p.PXZ("Router",dr)}let $e=(()=>{class E{constructor(_){}static forRoot(_,A){return{ngModule:E,providers:[Ko,[],{provide:x,multi:!0,useValue:_},{provide:Kr,useFactory:Ea,deps:[[dr,new p.FiY,new p.tp0]]},{provide:Zn,useValue:A||{}},A?.useHash?{provide:bn.S$,useClass:bn.Do}:{provide:bn.S$,useClass:bn.b0},{provide:Mt,useFactory:()=>{const E=(0,p.f3M)(bn.EM),S=(0,p.f3M)(p.R0b),_=(0,p.f3M)(Zn),A=(0,p.f3M)(Le),F=(0,p.f3M)(Hn);return _.scrollOffset&&E.setOffset(_.scrollOffset),new ur(F,A,E,S,_)}},A?.preloadingStrategy?Fa(A.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:au},A?.initialNavigation?na(A):[],A?.bindToComponentInputs?nn(8,[nt,{provide:ke,useExisting:nt}]).\u0275providers:[],[{provide:qa,useFactory:kt},{provide:p.tb,multi:!0,useExisting:qa}]]}}static forChild(_){return{ngModule:E,providers:[{provide:x,multi:!0,useValue:_}]}}static#e=this.\u0275fac=function(A){return new(A||E)(p.LFG(Kr,8))};static#t=this.\u0275mod=p.oAB({type:E});static#n=this.\u0275inj=p.cJS({})}return E})();function Ea(E){return"guarded"}function na(E){return["disabled"===E.initialNavigation?nn(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const S=(0,p.f3M)(dr);return()=>{S.setUpLocationChangeListener()}}},{provide:is,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?nn(2,[{provide:is,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:S=>{const _=S.get(bn.V_,Promise.resolve());return()=>_.then(()=>new Promise(A=>{const F=S.get(dr),Y=S.get(Ws);Ft(F,()=>{A(!0)}),S.get(Le).afterPreactivation=()=>(A(!0),Y.closed?(0,ae.of)(void 0):Y),F.initialNavigation()}))}}]).\u0275providers:[]]}const qa=new p.OlP("")},3106:(pn,ft,K)=>{K.d(ft,{Z:()=>Ot});var p=K(9058),he=K(4537),Ee=K(534),Se=K(7879);class Me{constructor(Bt,At){this._delegate=Bt,this.firebase=At,(0,Ee._addComponent)(Bt,new he.wA("app-compat",()=>this,"PUBLIC")),this.container=Bt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Bt){this._delegate.automaticDataCollectionEnabled=Bt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Bt=>{this._delegate.checkDestroyed(),Bt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Ee.deleteApp)(this._delegate)))}_getService(Bt,At=Ee._DEFAULT_ENTRY_NAME){var an;this._delegate.checkDestroyed();const xt=this._delegate.container.getProvider(Bt);return!xt.isInitialized()&&"EXPLICIT"===(null===(an=xt.getComponent())||void 0===an?void 0:an.instantiationMode)&&xt.initialize(),xt.getImmediate({identifier:At})}_removeServiceInstance(Bt,At=Ee._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Bt).clearInstance(At)}_addComponent(Bt){(0,Ee._addComponent)(this._delegate,Bt)}_addOrOverwriteComponent(Bt){(0,Ee._addOrOverwriteComponent)(this._delegate,Bt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const R=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),de=function ze(){const Dt=function et(Dt){const Bt={},At={__esModule:!0,initializeApp:function be(dt,ct={}){const ut=Ee.initializeApp(dt,ct);if((0,p.r3)(Bt,ut.name))return Bt[ut.name];const vn=new Dt(ut,At);return Bt[ut.name]=vn,vn},app:xt,registerVersion:Ee.registerVersion,setLogLevel:Ee.setLogLevel,onLog:Ee.onLog,apps:null,SDK_VERSION:Ee.SDK_VERSION,INTERNAL:{registerComponent:function Ze(dt){const ct=dt.name,ut=ct.replace("-compat","");if(Ee._registerComponent(dt)&&"PUBLIC"===dt.type){const vn=($n=xt())=>{if("function"!=typeof $n[ut])throw R.create("invalid-app-argument",{appName:ct});return $n[ut]()};void 0!==dt.serviceProps&&(0,p.ZB)(vn,dt.serviceProps),At[ut]=vn,Dt.prototype[ut]=function(...$n){return this._getService.bind(this,ct).apply(this,dt.multipleInstances?$n:[])}}return"PUBLIC"===dt.type?At[ut]:null},removeApp:function an(dt){delete Bt[dt]},useAsService:function gt(dt,ct){return"serverAuth"===ct?null:ct},modularAPIs:Ee}};function xt(dt){if(!(0,p.r3)(Bt,dt=dt||Ee._DEFAULT_ENTRY_NAME))throw R.create("no-app",{appName:dt});return Bt[dt]}return At.default=At,Object.defineProperty(At,"apps",{get:function tt(){return Object.keys(Bt).map(dt=>Bt[dt])}}),xt.App=Dt,At}(Me);return Dt.INTERNAL=Object.assign(Object.assign({},Dt.INTERNAL),{createFirebaseNamespace:ze,extendNamespace:function Bt(At){(0,p.ZB)(Dt,At)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),Dt}(),ue=new Se.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Dt=self.firebase.SDK_VERSION;Dt&&Dt.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ot=de;!function Ae(Dt){(0,Ee.registerVersion)("@firebase/app-compat","0.2.13",Dt)}()},534:(pn,ft,K)=>{K.r(ft),K.d(ft,{FirebaseError:()=>Se.ZR,SDK_VERSION:()=>Oi,_DEFAULT_ENTRY_NAME:()=>sr,_addComponent:()=>Gr,_addOrOverwriteComponent:()=>ei,_apps:()=>On,_clearComponents:()=>_r,_components:()=>yr,_getProvider:()=>kr,_registerComponent:()=>Dr,_removeServiceInstance:()=>di,deleteApp:()=>yn,getApp:()=>ri,getApps:()=>wr,initializeApp:()=>zr,onLog:()=>Cn,registerVersion:()=>wi,setLogLevel:()=>vr});var p=K(5861),he=K(4537),Ee=K(7879),Se=K(9058);const Me=(st,Be)=>Be.some(bt=>st instanceof bt);let ae,R;const de=new WeakMap,ue=new WeakMap,je=new WeakMap,ot=new WeakMap,Ae=new WeakMap;let Bt={get(st,Be,bt){if(st instanceof IDBTransaction){if("done"===Be)return ue.get(st);if("objectStoreNames"===Be)return st.objectStoreNames||je.get(st);if("store"===Be)return bt.objectStoreNames[1]?void 0:bt.objectStore(bt.objectStoreNames[0])}return be(st[Be])},set:(st,Be,bt)=>(st[Be]=bt,!0),has:(st,Be)=>st instanceof IDBTransaction&&("done"===Be||"store"===Be)||Be in st};function xt(st){return"function"==typeof st?function an(st){return st!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ze(){return R||(R=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(st)?function(...Be){return st.apply(tt(this),Be),be(de.get(this))}:function(...Be){return be(st.apply(tt(this),Be))}:function(Be,...bt){const Zt=st.call(tt(this),Be,...bt);return je.set(Zt,Be.sort?Be.sort():[Be]),be(Zt)}}(st):(st instanceof IDBTransaction&&function Dt(st){if(ue.has(st))return;const Be=new Promise((bt,Zt)=>{const Nn=()=>{st.removeEventListener("complete",Jt),st.removeEventListener("error",qn),st.removeEventListener("abort",qn)},Jt=()=>{bt(),Nn()},qn=()=>{Zt(st.error||new DOMException("AbortError","AbortError")),Nn()};st.addEventListener("complete",Jt),st.addEventListener("error",qn),st.addEventListener("abort",qn)});ue.set(st,Be)}(st),Me(st,function et(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(st,Bt):st)}function be(st){if(st instanceof IDBRequest)return function Ot(st){const Be=new Promise((bt,Zt)=>{const Nn=()=>{st.removeEventListener("success",Jt),st.removeEventListener("error",qn)},Jt=()=>{bt(be(st.result)),Nn()},qn=()=>{Zt(st.error),Nn()};st.addEventListener("success",Jt),st.addEventListener("error",qn)});return Be.then(bt=>{bt instanceof IDBCursor&&de.set(bt,st)}).catch(()=>{}),Ae.set(Be,st),Be}(st);if(ot.has(st))return ot.get(st);const Be=xt(st);return Be!==st&&(ot.set(st,Be),Ae.set(Be,st)),Be}const tt=st=>Ae.get(st),dt=["get","getKey","getAll","getAllKeys","count"],ct=["put","add","delete","clear"],ut=new Map;function vn(st,Be){if(!(st instanceof IDBDatabase)||Be in st||"string"!=typeof Be)return;if(ut.get(Be))return ut.get(Be);const bt=Be.replace(/FromIndex$/,""),Zt=Be!==bt,Nn=ct.includes(bt);if(!(bt in(Zt?IDBIndex:IDBObjectStore).prototype)||!Nn&&!dt.includes(bt))return;const Jt=function(){var qn=(0,p.Z)(function*(ti,...Ir){const Pi=this.transaction(ti,Nn?"readwrite":"readonly");let fs=Pi.store;return Zt&&(fs=fs.index(Ir.shift())),(yield Promise.all([fs[bt](...Ir),Nn&&Pi.done]))[0]});return function(Ir){return qn.apply(this,arguments)}}();return ut.set(Be,Jt),Jt}!function At(st){Bt=st(Bt)}(st=>({...st,get:(Be,bt,Zt)=>vn(Be,bt)||st.get(Be,bt,Zt),has:(Be,bt)=>!!vn(Be,bt)||st.has(Be,bt)}));class $n{constructor(Be){this.container=Be}getPlatformInfoString(){return this.container.getProviders().map(bt=>{if(function gr(st){const Be=st.getComponent();return"VERSION"===Be?.type}(bt)){const Zt=bt.getImmediate();return`${Zt.library}/${Zt.version}`}return null}).filter(bt=>bt).join(" ")}}const It="@firebase/app",bn=new Ee.Yd("@firebase/app"),sr="[DEFAULT]",Bn={[It]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},On=new Map,yr=new Map;function Gr(st,Be){try{st.container.addComponent(Be)}catch(bt){bn.debug(`Component ${Be.name} failed to register with FirebaseApp ${st.name}`,bt)}}function ei(st,Be){st.container.addOrOverwriteComponent(Be)}function Dr(st){const Be=st.name;if(yr.has(Be))return bn.debug(`There were multiple attempts to register component ${Be}.`),!1;yr.set(Be,st);for(const bt of On.values())Gr(bt,st);return!0}function kr(st,Be){const bt=st.container.getProvider("heartbeat").getImmediate({optional:!0});return bt&&bt.triggerHeartbeat(),st.container.getProvider(Be)}function di(st,Be,bt=sr){kr(st,Be).clearInstance(bt)}function _r(){yr.clear()}const Kt=new Se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ji{constructor(Be,bt,Zt){this._isDeleted=!1,this._options=Object.assign({},Be),this._config=Object.assign({},bt),this._name=bt.name,this._automaticDataCollectionEnabled=bt.automaticDataCollectionEnabled,this._container=Zt,this.container.addComponent(new he.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this.checkDestroyed(),this._automaticDataCollectionEnabled=Be}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Be){this._isDeleted=Be}checkDestroyed(){if(this.isDeleted)throw Kt.create("app-deleted",{appName:this._name})}}const Oi="9.23.0";function zr(st,Be={}){let bt=st;"object"!=typeof Be&&(Be={name:Be});const Zt=Object.assign({name:sr,automaticDataCollectionEnabled:!1},Be),Nn=Zt.name;if("string"!=typeof Nn||!Nn)throw Kt.create("bad-app-name",{appName:String(Nn)});if(bt||(bt=(0,Se.aH)()),!bt)throw Kt.create("no-options");const Jt=On.get(Nn);if(Jt){if((0,Se.vZ)(bt,Jt.options)&&(0,Se.vZ)(Zt,Jt.config))return Jt;throw Kt.create("duplicate-app",{appName:Nn})}const qn=new he.H0(Nn);for(const Ir of yr.values())qn.addComponent(Ir);const ti=new ji(bt,Zt,qn);return On.set(Nn,ti),ti}function ri(st=sr){const Be=On.get(st);if(!Be&&st===sr&&(0,Se.aH)())return zr();if(!Be)throw Kt.create("no-app",{appName:st});return Be}function wr(){return Array.from(On.values())}function yn(st){return bi.apply(this,arguments)}function bi(){return(bi=(0,p.Z)(function*(st){const Be=st.name;On.has(Be)&&(On.delete(Be),yield Promise.all(st.container.getProviders().map(bt=>bt.delete())),st.isDeleted=!0)})).apply(this,arguments)}function wi(st,Be,bt){var Zt;let Nn=null!==(Zt=Bn[st])&&void 0!==Zt?Zt:st;bt&&(Nn+=`-${bt}`);const Jt=Nn.match(/\s|\//),qn=Be.match(/\s|\//);if(Jt||qn){const ti=[`Unable to register library "${Nn}" with version "${Be}":`];return Jt&&ti.push(`library name "${Nn}" contains illegal characters (whitespace or "/")`),Jt&&qn&&ti.push("and"),qn&&ti.push(`version name "${Be}" contains illegal characters (whitespace or "/")`),void bn.warn(ti.join(" "))}Dr(new he.wA(`${Nn}-version`,()=>({library:Nn,version:Be}),"VERSION"))}function Cn(st,Be){if(null!==st&&"function"!=typeof st)throw Kt.create("invalid-log-argument");(0,Ee.Am)(st,Be)}function vr(st){(0,Ee.Ub)(st)}const Hn="firebase-heartbeat-database",Fr=1,Te="firebase-heartbeat-store";let J=null;function re(){return J||(J=function Ze(st,Be,{blocked:bt,upgrade:Zt,blocking:Nn,terminated:Jt}={}){const qn=indexedDB.open(st,Be),ti=be(qn);return Zt&&qn.addEventListener("upgradeneeded",Ir=>{Zt(be(qn.result),Ir.oldVersion,Ir.newVersion,be(qn.transaction),Ir)}),bt&&qn.addEventListener("blocked",Ir=>bt(Ir.oldVersion,Ir.newVersion,Ir)),ti.then(Ir=>{Jt&&Ir.addEventListener("close",()=>Jt()),Nn&&Ir.addEventListener("versionchange",Pi=>Nn(Pi.oldVersion,Pi.newVersion,Pi))}).catch(()=>{}),ti}(Hn,Fr,{upgrade:(st,Be)=>{0===Be&&st.createObjectStore(Te)}}).catch(st=>{throw Kt.create("idb-open",{originalErrorMessage:st.message})})),J}function ee(){return(ee=(0,p.Z)(function*(st){try{return yield(yield re()).transaction(Te).objectStore(Te).get($t(st))}catch(Be){if(Be instanceof Se.ZR)bn.warn(Be.message);else{const bt=Kt.create("idb-get",{originalErrorMessage:Be?.message});bn.warn(bt.message)}}})).apply(this,arguments)}function Oe(st,Be){return yt.apply(this,arguments)}function yt(){return(yt=(0,p.Z)(function*(st,Be){try{const Zt=(yield re()).transaction(Te,"readwrite");yield Zt.objectStore(Te).put(Be,$t(st)),yield Zt.done}catch(bt){if(bt instanceof Se.ZR)bn.warn(bt.message);else{const Zt=Kt.create("idb-set",{originalErrorMessage:bt?.message});bn.warn(Zt.message)}}})).apply(this,arguments)}function $t(st){return`${st.name}!${st.options.appId}`}class Jn{constructor(Be){this.container=Be,this._heartbeatsCache=null;const bt=this.container.getProvider("app").getImmediate();this._storage=new Er(bt),this._heartbeatsCachePromise=this._storage.read().then(Zt=>(this._heartbeatsCache=Zt,Zt))}triggerHeartbeat(){var Be=this;return(0,p.Z)(function*(){const Zt=Be.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nn=Fn();if(null===Be._heartbeatsCache&&(Be._heartbeatsCache=yield Be._heartbeatsCachePromise),Be._heartbeatsCache.lastSentHeartbeatDate!==Nn&&!Be._heartbeatsCache.heartbeats.some(Jt=>Jt.date===Nn))return Be._heartbeatsCache.heartbeats.push({date:Nn,agent:Zt}),Be._heartbeatsCache.heartbeats=Be._heartbeatsCache.heartbeats.filter(Jt=>{const qn=new Date(Jt.date).valueOf();return Date.now()-qn<=2592e6}),Be._storage.overwrite(Be._heartbeatsCache)})()}getHeartbeatsHeader(){var Be=this;return(0,p.Z)(function*(){if(null===Be._heartbeatsCache&&(yield Be._heartbeatsCachePromise),null===Be._heartbeatsCache||0===Be._heartbeatsCache.heartbeats.length)return"";const bt=Fn(),{heartbeatsToSend:Zt,unsentEntries:Nn}=function $r(st,Be=1024){const bt=[];let Zt=st.slice();for(const Nn of st){const Jt=bt.find(qn=>qn.agent===Nn.agent);if(Jt){if(Jt.dates.push(Nn.date),mi(bt)>Be){Jt.dates.pop();break}}else if(bt.push({agent:Nn.agent,dates:[Nn.date]}),mi(bt)>Be){bt.pop();break}Zt=Zt.slice(1)}return{heartbeatsToSend:bt,unsentEntries:Zt}}(Be._heartbeatsCache.heartbeats),Jt=(0,Se.L)(JSON.stringify({version:2,heartbeats:Zt}));return Be._heartbeatsCache.lastSentHeartbeatDate=bt,Nn.length>0?(Be._heartbeatsCache.heartbeats=Nn,yield Be._storage.overwrite(Be._heartbeatsCache)):(Be._heartbeatsCache.heartbeats=[],Be._storage.overwrite(Be._heartbeatsCache)),Jt})()}}function Fn(){return(new Date).toISOString().substring(0,10)}class Er{constructor(Be){this.app=Be,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,Se.hl)()&&(0,Se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Be=this;return(0,p.Z)(function*(){return(yield Be._canUseIndexedDBPromise)&&(yield function ne(st){return ee.apply(this,arguments)}(Be.app))||{heartbeats:[]}})()}overwrite(Be){var bt=this;return(0,p.Z)(function*(){var Zt;if(yield bt._canUseIndexedDBPromise){const Jt=yield bt.read();return Oe(bt.app,{lastSentHeartbeatDate:null!==(Zt=Be.lastSentHeartbeatDate)&&void 0!==Zt?Zt:Jt.lastSentHeartbeatDate,heartbeats:Be.heartbeats})}})()}add(Be){var bt=this;return(0,p.Z)(function*(){var Zt;if(yield bt._canUseIndexedDBPromise){const Jt=yield bt.read();return Oe(bt.app,{lastSentHeartbeatDate:null!==(Zt=Be.lastSentHeartbeatDate)&&void 0!==Zt?Zt:Jt.lastSentHeartbeatDate,heartbeats:[...Jt.heartbeats,...Be.heartbeats]})}})()}}function mi(st){return(0,Se.L)(JSON.stringify({version:2,heartbeats:st})).length}!function Si(st){Dr(new he.wA("platform-logger",Be=>new $n(Be),"PRIVATE")),Dr(new he.wA("heartbeat",Be=>new Jn(Be),"PRIVATE")),wi(It,"0.9.13",st),wi(It,"0.9.13","esm2017"),wi("fire-js","")}("")},4537:(pn,ft,K)=>{K.d(ft,{H0:()=>et,wA:()=>Ee});var p=K(5861),he=K(9058);class Ee{constructor(de,ue,je){this.name=de,this.instanceFactory=ue,this.type=je,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(de){return this.instantiationMode=de,this}setMultipleInstances(de){return this.multipleInstances=de,this}setServiceProps(de){return this.serviceProps=de,this}setInstanceCreatedCallback(de){return this.onInstanceCreated=de,this}}const Se="[DEFAULT]";class Me{constructor(de,ue){this.name=de,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(de){const ue=this.normalizeInstanceIdentifier(de);if(!this.instancesDeferred.has(ue)){const je=new he.BH;if(this.instancesDeferred.set(ue,je),this.isInitialized(ue)||this.shouldAutoInitialize())try{const ot=this.getOrInitializeService({instanceIdentifier:ue});ot&&je.resolve(ot)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(de){var ue;const je=this.normalizeInstanceIdentifier(de?.identifier),ot=null!==(ue=de?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(je)&&!this.shouldAutoInitialize()){if(ot)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:je})}catch(Ae){if(ot)return null;throw Ae}}getComponent(){return this.component}setComponent(de){if(de.name!==this.name)throw Error(`Mismatching Component ${de.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=de,this.shouldAutoInitialize()){if(function R(ze){return"EAGER"===ze.instantiationMode}(de))try{this.getOrInitializeService({instanceIdentifier:Se})}catch{}for(const[ue,je]of this.instancesDeferred.entries()){const ot=this.normalizeInstanceIdentifier(ue);try{const Ae=this.getOrInitializeService({instanceIdentifier:ot});je.resolve(Ae)}catch{}}}}clearInstance(de=Se){this.instancesDeferred.delete(de),this.instancesOptions.delete(de),this.instances.delete(de)}delete(){var de=this;return(0,p.Z)(function*(){const ue=Array.from(de.instances.values());yield Promise.all([...ue.filter(je=>"INTERNAL"in je).map(je=>je.INTERNAL.delete()),...ue.filter(je=>"_delete"in je).map(je=>je._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(de=Se){return this.instances.has(de)}getOptions(de=Se){return this.instancesOptions.get(de)||{}}initialize(de={}){const{options:ue={}}=de,je=this.normalizeInstanceIdentifier(de.instanceIdentifier);if(this.isInitialized(je))throw Error(`${this.name}(${je}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ot=this.getOrInitializeService({instanceIdentifier:je,options:ue});for(const[Ae,Ot]of this.instancesDeferred.entries())je===this.normalizeInstanceIdentifier(Ae)&&Ot.resolve(ot);return ot}onInit(de,ue){var je;const ot=this.normalizeInstanceIdentifier(ue),Ae=null!==(je=this.onInitCallbacks.get(ot))&&void 0!==je?je:new Set;Ae.add(de),this.onInitCallbacks.set(ot,Ae);const Ot=this.instances.get(ot);return Ot&&de(Ot,ot),()=>{Ae.delete(de)}}invokeOnInitCallbacks(de,ue){const je=this.onInitCallbacks.get(ue);if(je)for(const ot of je)try{ot(de,ue)}catch{}}getOrInitializeService({instanceIdentifier:de,options:ue={}}){let je=this.instances.get(de);if(!je&&this.component&&(je=this.component.instanceFactory(this.container,{instanceIdentifier:(ze=de,ze===Se?void 0:ze),options:ue}),this.instances.set(de,je),this.instancesOptions.set(de,ue),this.invokeOnInitCallbacks(je,de),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,de,je)}catch{}var ze;return je||null}normalizeInstanceIdentifier(de=Se){return this.component?this.component.multipleInstances?de:Se:de}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class et{constructor(de){this.name=de,this.providers=new Map}addComponent(de){const ue=this.getProvider(de.name);if(ue.isComponentSet())throw new Error(`Component ${de.name} has already been registered with ${this.name}`);ue.setComponent(de)}addOrOverwriteComponent(de){this.getProvider(de.name).isComponentSet()&&this.providers.delete(de.name),this.addComponent(de)}getProvider(de){if(this.providers.has(de))return this.providers.get(de);const ue=new Me(de,this);return this.providers.set(de,ue),ue}getProviders(){return Array.from(this.providers.values())}}},7879:(pn,ft,K)=>{K.d(ft,{Am:()=>ze,Ub:()=>et,Yd:()=>R,in:()=>he});const p=[];var he=function(de){return de[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",de}(he||{});const Ee={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},Se=he.INFO,Me={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},ae=(de,ue,...je)=>{if(ue<de.logLevel)return;const ot=(new Date).toISOString(),Ae=Me[ue];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[Ae](`[${ot}]  ${de.name}:`,...je)};class R{constructor(ue){this.name=ue,this._logLevel=Se,this._logHandler=ae,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in he))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?Ee[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...ue),this._logHandler(this,he.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...ue),this._logHandler(this,he.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,he.INFO,...ue),this._logHandler(this,he.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,he.WARN,...ue),this._logHandler(this,he.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...ue),this._logHandler(this,he.ERROR,...ue)}}function et(de){p.forEach(ue=>{ue.setLogLevel(de)})}function ze(de,ue){for(const je of p){let ot=null;ue&&ue.level&&(ot=Ee[ue.level]),je.userLogHandler=null===de?null:(Ae,Ot,...Dt)=>{const Bt=Dt.map(At=>{if(null==At)return null;if("string"==typeof At)return At;if("number"==typeof At||"boolean"==typeof At)return At.toString();if(At instanceof Error)return At.message;try{return JSON.stringify(At)}catch{return null}}).filter(At=>At).join(" ");Ot>=(ot??Ae.logLevel)&&de({level:he[Ot].toLowerCase(),message:Bt,args:Dt,type:Ae.name})}}}},3182:(pn,ft,K)=>{K.d(ft,{C6:()=>p.getApps,KN:()=>p.registerVersion,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=K(534);(0,p.registerVersion)("firebase","9.23.0","app")},7142:(pn,ft,K)=>{K.d(ft,{Z:()=>p.Z});var p=K(3106);p.Z.registerVersion("firebase","9.23.0","app-compat")},6315:(pn,ft,K)=>{K.d(ft,{KV:()=>p.KV,cF:()=>p.cF,iH:()=>p.iH});var p=K(8153)},2425:(pn,ft,K)=>{K.d(ft,{Rh:()=>Lt,_W:()=>gr,nd:()=>bn});var p=K(4946),he=K(6825),Ee=K(6814),Se=K(8645),Me=K(6593);const ae=["toast-component",""];function R(De,ve){if(1&De){const oe=p.EpF();p.TgZ(0,"button",5),p.NdJ("click",function(){p.CHM(oe);const We=p.oxw();return p.KtG(We.remove())}),p.TgZ(1,"span",6),p._uU(2,"\xd7"),p.qZA()()}}function et(De,ve){if(1&De&&(p.ynx(0),p._uU(1),p.BQk()),2&De){const oe=p.oxw(2);p.xp6(1),p.hij("[",oe.duplicatesCount+1,"]")}}function ze(De,ve){if(1&De&&(p.TgZ(0,"div"),p._uU(1),p.YNc(2,et,2,1,"ng-container",4),p.qZA()),2&De){const oe=p.oxw();p.Tol(oe.options.titleClass),p.uIk("aria-label",oe.title),p.xp6(1),p.hij(" ",oe.title," "),p.xp6(1),p.Q6J("ngIf",oe.duplicatesCount)}}function de(De,ve){if(1&De&&p._UZ(0,"div",7),2&De){const oe=p.oxw();p.Tol(oe.options.messageClass),p.Q6J("innerHTML",oe.message,p.oJD)}}function ue(De,ve){if(1&De&&(p.TgZ(0,"div",8),p._uU(1),p.qZA()),2&De){const oe=p.oxw();p.Tol(oe.options.messageClass),p.uIk("aria-label",oe.message),p.xp6(1),p.hij(" ",oe.message," ")}}function je(De,ve){if(1&De&&(p.TgZ(0,"div"),p._UZ(1,"div",9),p.qZA()),2&De){const oe=p.oxw();p.xp6(1),p.Udp("width",oe.width+"%")}}class xt{_attachedHost;component;viewContainerRef;injector;constructor(ve,oe){this.component=ve,this.injector=oe}attach(ve,oe){return this._attachedHost=ve,ve.attach(this,oe)}detach(){const ve=this._attachedHost;if(ve)return this._attachedHost=void 0,ve.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(ve){this._attachedHost=ve}}class be{_attachedPortal;_disposeFn;attach(ve,oe){return this._attachedPortal=ve,this.attachComponentPortal(ve,oe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(ve){this._disposeFn=ve}}class tt{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Se.x;_activate=new Se.x;_manualClose=new Se.x;_resetTimeout=new Se.x;_countDuplicate=new Se.x;constructor(ve){this._overlayRef=ve}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(ve,oe){ve&&this._resetTimeout.next(),oe&&this._countDuplicate.next(++this.duplicatesCount)}}class Ze{toastId;config;message;title;toastType;toastRef;_onTap=new Se.x;_onAction=new Se.x;constructor(ve,oe,_e,We,pt,_t){this.toastId=ve,this.config=oe,this.message=_e,this.title=We,this.toastType=pt,this.toastRef=_t,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(ve){this._onAction.next(ve)}onAction(){return this._onAction.asObservable()}}const dt=new p.OlP("ToastConfig");class ct extends be{_hostDomElement;_componentFactoryResolver;_appRef;constructor(ve,oe,_e){super(),this._hostDomElement=ve,this._componentFactoryResolver=oe,this._appRef=_e}attachComponentPortal(ve,oe){const _e=this._componentFactoryResolver.resolveComponentFactory(ve.component);let We;return We=_e.create(ve.injector),this._appRef.attachView(We.hostView),this.setDisposeFn(()=>{this._appRef.detachView(We.hostView),We.destroy()}),oe?this._hostDomElement.insertBefore(this._getComponentRootNode(We),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(We)),We}_getComponentRootNode(ve){return ve.hostView.rootNodes[0]}}let ut=(()=>{class De{_document=(0,p.f3M)(Ee.K0);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const oe=this._document.createElement("div");oe.classList.add("overlay-container"),oe.setAttribute("aria-live","polite"),this._document.body.appendChild(oe),this._containerElement=oe}static \u0275fac=function(_e){return new(_e||De)};static \u0275prov=p.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})();class vn{_portalHost;constructor(ve){this._portalHost=ve}attach(ve,oe=!0){return this._portalHost.attach(ve,oe)}detach(){return this._portalHost.detach()}}let $n=(()=>{class De{_overlayContainer=(0,p.f3M)(ut);_componentFactoryResolver=(0,p.f3M)(p._Vd);_appRef=(0,p.f3M)(p.z2F);_document=(0,p.f3M)(Ee.K0);_paneElements=new Map;create(oe,_e){return this._createOverlayRef(this.getPaneElement(oe,_e))}getPaneElement(oe="",_e){return this._paneElements.get(_e)||this._paneElements.set(_e,{}),this._paneElements.get(_e)[oe]||(this._paneElements.get(_e)[oe]=this._createPaneElement(oe,_e)),this._paneElements.get(_e)[oe]}_createPaneElement(oe,_e){const We=this._document.createElement("div");return We.id="toast-container",We.classList.add(oe),We.classList.add("toast-container"),_e?_e.getContainerElement().appendChild(We):this._overlayContainer.getContainerElement().appendChild(We),We}_createPortalHost(oe){return new ct(oe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(oe){return new vn(this._createPortalHost(oe))}static \u0275fac=function(_e){return new(_e||De)};static \u0275prov=p.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})(),gr=(()=>{class De{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(oe,_e,We,pt,_t){this.overlay=_e,this._injector=We,this.sanitizer=pt,this.ngZone=_t,this.toastrConfig={...oe.default,...oe.config},oe.config.iconClasses&&(this.toastrConfig.iconClasses={...oe.default.iconClasses,...oe.config.iconClasses})}show(oe,_e,We={},pt=""){return this._preBuildNotification(pt,oe,_e,this.applyConfig(We))}success(oe,_e,We={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",oe,_e,this.applyConfig(We))}error(oe,_e,We={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",oe,_e,this.applyConfig(We))}info(oe,_e,We={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",oe,_e,this.applyConfig(We))}warning(oe,_e,We={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",oe,_e,this.applyConfig(We))}clear(oe){for(const _e of this.toasts)if(void 0!==oe){if(_e.toastId===oe)return void _e.toastRef.manualClose()}else _e.toastRef.manualClose()}remove(oe){const _e=this._findToast(oe);if(!_e||(_e.activeToast.toastRef.close(),this.toasts.splice(_e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const We=this.toasts[this.currentlyActive].toastRef;We.isInactive()||(this.currentlyActive=this.currentlyActive+1,We.activate())}return!0}findDuplicate(oe="",_e="",We,pt){const{includeTitleDuplicates:_t}=this.toastrConfig;for(const zt of this.toasts)if((!_t||_t&&zt.title===oe)&&zt.message===_e)return zt.toastRef.onDuplicate(We,pt),zt;return null}applyConfig(oe={}){return{...this.toastrConfig,...oe}}_findToast(oe){for(let _e=0;_e<this.toasts.length;_e++)if(this.toasts[_e].toastId===oe)return{index:_e,activeToast:this.toasts[_e]};return null}_preBuildNotification(oe,_e,We,pt){return pt.onActivateTick?this.ngZone.run(()=>this._buildNotification(oe,_e,We,pt)):this._buildNotification(oe,_e,We,pt)}_buildNotification(oe,_e,We,pt){if(!pt.toastComponent)throw new Error("toastComponent required");const _t=this.findDuplicate(We,_e,this.toastrConfig.resetTimeoutOnDuplicate&&pt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&We||_e)&&this.toastrConfig.preventDuplicates&&null!==_t)return _t;this.previousToastMessage=_e;let zt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(zt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const tr=this.overlay.create(pt.positionClass,this.overlayContainer);this.index=this.index+1;let Qn=_e;_e&&pt.enableHtml&&(Qn=this.sanitizer.sanitize(p.q3G.HTML,_e));const Rn=new tt(tr),lr=new Ze(this.index,pt,Qn,We,oe,Rn),kn=p.zs3.create({providers:[{provide:Ze,useValue:lr}],parent:this._injector}),nr=new xt(pt.toastComponent,kn),mn=tr.attach(nr,pt.newestOnTop);Rn.componentInstance=mn.instance;const hr={toastId:this.index,title:We||"",message:_e||"",toastRef:Rn,onShown:Rn.afterActivate(),onHidden:Rn.afterClosed(),onTap:lr.onTap(),onAction:lr.onAction(),portal:mn};return zt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{hr.toastRef.activate()})),this.toasts.push(hr),hr}static \u0275fac=function(_e){return new(_e||De)(p.LFG(dt),p.LFG($n),p.LFG(p.zs3),p.LFG(Me.H7),p.LFG(p.R0b))};static \u0275prov=p.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})();const Et={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class De{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(oe,_e,We){this.toastrService=oe,this.toastPackage=_e,this.ngZone=We,this.message=_e.message,this.title=_e.title,this.options=_e.config,this.originalTimeout=_e.config.timeOut,this.toastClasses=`${_e.toastType} ${_e.config.toastClass}`,this.sub=_e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=_e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=_e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=_e.toastRef.countDuplicate().subscribe(pt=>{this.duplicatesCount=pt}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const oe=(new Date).getTime();this.width=(this.hideTime-oe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(oe,_e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(oe),_e)):this.timeout=setTimeout(()=>oe(),_e)}outsideInterval(oe,_e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(oe),_e)):this.intervalId=setInterval(()=>oe(),_e)}runInsideAngular(oe){this.ngZone?this.ngZone.run(()=>oe()):oe()}static \u0275fac=function(_e){return new(_e||De)(p.Y36(gr),p.Y36(Ze),p.Y36(p.R0b))};static \u0275cmp=p.Xpm({type:De,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(_e,We){1&_e&&p.NdJ("click",function(){return We.tapToast()})("mouseenter",function(){return We.stickAround()})("mouseleave",function(){return We.delayedHideToast()}),2&_e&&(p.d8E("@flyInOut",We.state),p.Tol(We.toastClasses),p.Udp("display",We.displayStyle))},standalone:!0,features:[p.jDz],attrs:ae,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(_e,We){1&_e&&(p.YNc(0,R,3,0,"button",0),p.YNc(1,ze,3,5,"div",1),p.YNc(2,de,1,3,"div",2),p.YNc(3,ue,2,4,"div",3),p.YNc(4,je,2,2,"div",4)),2&_e&&(p.Q6J("ngIf",We.options.closeButton),p.xp6(1),p.Q6J("ngIf",We.title),p.xp6(1),p.Q6J("ngIf",We.message&&We.options.enableHtml),p.xp6(1),p.Q6J("ngIf",We.message&&!We.options.enableHtml),p.xp6(1),p.Q6J("ngIf",We.options.progressBar))},dependencies:[Ee.O5],encapsulation:2,data:{animation:[(0,he.X$)("flyInOut",[(0,he.SB)("inactive",(0,he.oB)({opacity:0})),(0,he.SB)("active",(0,he.oB)({opacity:1})),(0,he.SB)("removed",(0,he.oB)({opacity:0})),(0,he.eR)("inactive => active",(0,he.jt)("{{ easeTime }}ms {{ easing }}")),(0,he.eR)("active => removed",(0,he.jt)("{{ easeTime }}ms {{ easing }}"))])]}})}return De})()},bn=(De={})=>(0,p.MR2)([{provide:dt,useValue:{default:Et,config:De}}]);let Lt=(()=>{class De{static forRoot(oe={}){return{ngModule:De,providers:[bn(oe)]}}static \u0275fac=function(_e){return new(_e||De)};static \u0275mod=p.oAB({type:De});static \u0275inj=p.cJS({})}return De})()},5861:(pn,ft,K)=>{function p(Ee,Se,Me,ae,R,et,ze){try{var de=Ee[et](ze),ue=de.value}catch(je){return void Me(je)}de.done?Se(ue):Promise.resolve(ue).then(ae,R)}function he(Ee){return function(){var Se=this,Me=arguments;return new Promise(function(ae,R){var et=Ee.apply(Se,Me);function ze(ue){p(et,ae,R,ze,de,"next",ue)}function de(ue){p(et,ae,R,ze,de,"throw",ue)}ze(void 0)})}}K.d(ft,{Z:()=>he})},7582:(pn,ft,K)=>{function Se(He,Je){var at={};for(var De in He)Object.prototype.hasOwnProperty.call(He,De)&&Je.indexOf(De)<0&&(at[De]=He[De]);if(null!=He&&"function"==typeof Object.getOwnPropertySymbols){var ve=0;for(De=Object.getOwnPropertySymbols(He);ve<De.length;ve++)Je.indexOf(De[ve])<0&&Object.prototype.propertyIsEnumerable.call(He,De[ve])&&(at[De[ve]]=He[De[ve]])}return at}function je(He,Je,at,De){return new(at||(at=Promise))(function(oe,_e){function We(zt){try{_t(De.next(zt))}catch(tr){_e(tr)}}function pt(zt){try{_t(De.throw(zt))}catch(tr){_e(tr)}}function _t(zt){zt.done?oe(zt.value):function ve(oe){return oe instanceof at?oe:new at(function(_e){_e(oe)})}(zt.value).then(We,pt)}_t((De=De.apply(He,Je||[])).next())})}function be(He){return this instanceof be?(this.v=He,this):new be(He)}function tt(He,Je,at){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,De=at.apply(He,Je||[]),oe=[];return ve={},_e("next"),_e("throw"),_e("return"),ve[Symbol.asyncIterator]=function(){return this},ve;function _e(Qn){De[Qn]&&(ve[Qn]=function(Rn){return new Promise(function(lr,ar){oe.push([Qn,Rn,lr,ar])>1||We(Qn,Rn)})})}function We(Qn,Rn){try{!function pt(Qn){Qn.value instanceof be?Promise.resolve(Qn.value.v).then(_t,zt):tr(oe[0][2],Qn)}(De[Qn](Rn))}catch(lr){tr(oe[0][3],lr)}}function _t(Qn){We("next",Qn)}function zt(Qn){We("throw",Qn)}function tr(Qn,Rn){Qn(Rn),oe.shift(),oe.length&&We(oe[0][0],oe[0][1])}}function gt(He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var at,Je=He[Symbol.asyncIterator];return Je?Je.call(He):(He=function Dt(He){var Je="function"==typeof Symbol&&Symbol.iterator,at=Je&&He[Je],De=0;if(at)return at.call(He);if(He&&"number"==typeof He.length)return{next:function(){return He&&De>=He.length&&(He=void 0),{value:He&&He[De++],done:!He}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")}(He),at={},De("next"),De("throw"),De("return"),at[Symbol.asyncIterator]=function(){return this},at);function De(oe){at[oe]=He[oe]&&function(_e){return new Promise(function(We,pt){!function ve(oe,_e,We,pt){Promise.resolve(pt).then(function(_t){oe({value:_t,done:We})},_e)}(We,pt,(_e=He[oe](_e)).done,_e.value)})}}}K.d(ft,{FC:()=>tt,KL:()=>gt,_T:()=>Se,mG:()=>je,qq:()=>be}),"function"==typeof SuppressedError&&SuppressedError}},pn=>{pn(pn.s=8973)}]);