"use strict";(self.webpackChunkTP=self.webpackChunkTP||[]).push([[699],{4699:(S,h,d)=>{d.r(h),d.d(h,{UsuariosModule:()=>$});var c=d(6814),p=d(5920),u=d(8537),o=d(4946),_=d(2333),m=d(2425),g=d(5723),b=d(5861),a=d(95),f=d(6315),C=d(2788);function x(n,i){1&n&&(o.TgZ(0,"span",3),o._uU(1," El nombre solo debe contener letras. "),o.qZA())}function A(n,i){1&n&&(o.TgZ(0,"span",3),o._uU(1," El nombre es requerido. "),o.qZA())}function v(n,i){1&n&&(o.TgZ(0,"span",3),o._uU(1," El apellido solo debe contener letras. "),o.qZA())}function Z(n,i){1&n&&(o.TgZ(0,"span",3),o._uU(1," El apellido es requerido. "),o.qZA())}function T(n,i){1&n&&(o.TgZ(0,"span",3),o._uU(1," La edad debe estar entre 1 y 99 a\xf1os, inclusive. "),o.qZA())}function M(n,i){1&n&&(o.TgZ(0,"span",3),o._uU(1," La edad debe estar entre 1 y 99 a\xf1os, inclusive. "),o.qZA())}function I(n,i){1&n&&(o.TgZ(0,"span",3),o._uU(1," La edad solo debe contener numeros. "),o.qZA())}function q(n,i){1&n&&(o.TgZ(0,"span",3),o._uU(1," La edad es requerida. "),o.qZA())}function U(n,i){1&n&&(o.TgZ(0,"span",3),o._uU(1," El DNI debe contener 7 caracteres por lo menos. "),o.qZA())}function N(n,i){1&n&&(o.TgZ(0,"span",3),o._uU(1," El DNI debe contener 8 caracteres como m\xe1ximo. "),o.qZA())}function O(n,i){1&n&&(o.TgZ(0,"span",3),o._uU(1," El DNI solo debe contener numeros. "),o.qZA())}function k(n,i){1&n&&(o.TgZ(0,"span",3),o._uU(1," El DNI es requerido. "),o.qZA())}function E(n,i){1&n&&(o.TgZ(0,"span",3),o._uU(1," Ingrese un correo v\xe1lido. "),o.qZA())}function J(n,i){1&n&&(o.TgZ(0,"span",3),o._uU(1," El correo es requerido. "),o.qZA())}function y(n,i){1&n&&(o.TgZ(0,"span",3),o._uU(1," La clave debe contener al menos 6 caracteres. "),o.qZA())}function P(n,i){1&n&&(o.TgZ(0,"span",3),o._uU(1," La clave es requerida. "),o.qZA())}let w=(()=>{class n{constructor(t,r,e,s,l){this.auth=t,this.angularFirestorage=r,this.formBuilder=e,this.toast=s,this.firestore=l,this.nombre="",this.apellido="",this.edad="",this.dni="",this.email="",this.clave="",this.form=this.formBuilder.group({nombre:["",[a.kI.required,this.letrasValidator()]],apellido:["",[a.kI.required,this.letrasValidator()]],dni:["",[a.kI.required,a.kI.minLength(7),a.kI.maxLength(8),a.kI.pattern("^[0-9]+$")]],edad:["",[a.kI.required,a.kI.pattern("^[0-9]+$"),a.kI.min(1),a.kI.max(99)]],email:["",[a.kI.required,a.kI.pattern(/^[\w-.]+@([\w-]+.)+[\w-]{2,4}$/),a.kI.email]],clave:["",[a.kI.required,a.kI.minLength(6)]]})}letrasValidator(){return t=>{const r=t.value;if(r){const e=r.trim();if(!/^[A-Za-z\xc1\xe1\xc9\xe9\xcd\xed\xd3\xf3\xda\xfa\xdc\xfc\xd1\xf1 \s]+$/.test(e))return{invalido:!0}}return null}}enviar(){let t=document.getElementById("foto");t.files.length>0?this.auth.signup(this.email,this.clave).then(()=>{let e={nombre:this.nombre,apellido:this.apellido,dni:this.dni,edad:this.edad,email:this.email,perfil:"administrador"};const s=t.files[0],l=`administradores/${this.dni}/${s.name}`;this.subirFoto(s,l)?.then(()=>{this.angularFirestorage.ref(l).getDownloadURL().toPromise().then(j=>{u.C.guardarFs("administradores",{...e,foto:j},this.firestore),this.toast.success("Alta de administrador, realizada con exito.","Perfecto!")})})}).catch(r=>{this.toast.error(r.code,"Error")}):this.toast.error("Debe subir la foto","Error")}subirFoto(t,r){return(0,b.Z)(function*(){try{const e=(0,f.cF)(),s=(0,f.iH)(e,r);return(0,f.KV)(s,t)}catch(e){return void console.log("error"+e)}})()}static#o=this.\u0275fac=function(r){return new(r||n)(o.Y36(_.e),o.Y36(C.Q1),o.Y36(a.qu),o.Y36(m._W),o.Y36(g.gg))};static#e=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-alta-admin"]],decls:51,vars:24,consts:[[1,"contenedor"],["id","form",1,"row","py-1",3,"formGroup"],[1,"row","py-2"],[1,"col"],[1,"row"],["type","text","formControlName","nombre","placeholder","Nombre",1,"col",3,"ngModel","ngModelChange"],["class","col",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Apellido",1,"col",3,"ngModel","ngModelChange"],[1,"row","py-0"],["type","text","formControlName","edad","placeholder","Edad",3,"ngModel","ngModelChange"],["type","text","formControlName","dni","placeholder","DNI",3,"ngModel","ngModelChange"],["formControlName","email","type","email","placeholder","Email",3,"ngModel","ngModelChange"],["formControlName","clave","type","password","placeholder","Contrase\xf1a",3,"ngModel","ngModelChange"],["id","foto","type","file"],["type","submit",3,"disabled","click"]],template:function(r,e){1&r&&(o.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h1"),o._uU(5,"ALTA DE ADMINISTRADOR"),o.qZA()()(),o.TgZ(6,"div",4)(7,"div",3)(8,"input",5),o.NdJ("ngModelChange",function(l){return e.nombre=l}),o.qZA(),o.TgZ(9,"div",4),o.YNc(10,x,2,0,"span",6),o.YNc(11,A,2,0,"span",6),o.qZA()(),o.TgZ(12,"div",3)(13,"input",7),o.NdJ("ngModelChange",function(l){return e.apellido=l}),o.qZA(),o.TgZ(14,"div",4),o.YNc(15,v,2,0,"span",6),o.YNc(16,Z,2,0,"span",6),o.qZA()()(),o.TgZ(17,"div",8)(18,"div",3)(19,"input",9),o.NdJ("ngModelChange",function(l){return e.edad=l}),o.qZA(),o.TgZ(20,"div",4),o.YNc(21,T,2,0,"span",6),o.YNc(22,M,2,0,"span",6),o.YNc(23,I,2,0,"span",6),o.YNc(24,q,2,0,"span",6),o.qZA()(),o.TgZ(25,"div",3)(26,"input",10),o.NdJ("ngModelChange",function(l){return e.dni=l}),o.qZA(),o.TgZ(27,"div",4),o.YNc(28,U,2,0,"span",6),o.YNc(29,N,2,0,"span",6),o.YNc(30,O,2,0,"span",6),o.YNc(31,k,2,0,"span",6),o.qZA()()(),o.TgZ(32,"div",8)(33,"div",3)(34,"input",11),o.NdJ("ngModelChange",function(l){return e.email=l}),o.qZA(),o.TgZ(35,"div",4),o.YNc(36,E,2,0,"span",6),o.YNc(37,J,2,0,"span",6),o.qZA()()(),o.TgZ(38,"div",8)(39,"div",3)(40,"input",12),o.NdJ("ngModelChange",function(l){return e.clave=l}),o.qZA(),o.TgZ(41,"div",4),o.YNc(42,y,2,0,"span",6),o.YNc(43,P,2,0,"span",6),o.qZA()()(),o.TgZ(44,"div",8)(45,"div",3),o._UZ(46,"input",13),o.qZA()(),o.TgZ(47,"div",8)(48,"div",3)(49,"button",14),o.NdJ("click",function(){return e.enviar()}),o._uU(50,"ENVIAR"),o.qZA()()()()()),2&r&&(o.xp6(1),o.Q6J("formGroup",e.form),o.xp6(7),o.Q6J("ngModel",e.nombre),o.xp6(2),o.Q6J("ngIf",e.form.controls.nombre.touched&&e.form.controls.nombre.hasError("invalido")),o.xp6(1),o.Q6J("ngIf",e.form.controls.nombre.touched&&e.form.controls.nombre.hasError("required")),o.xp6(2),o.Q6J("ngModel",e.apellido),o.xp6(2),o.Q6J("ngIf",e.form.controls.apellido.touched&&e.form.controls.apellido.hasError("invalido")),o.xp6(1),o.Q6J("ngIf",e.form.controls.apellido.touched&&e.form.controls.apellido.hasError("required")),o.xp6(3),o.Q6J("ngModel",e.edad),o.xp6(2),o.Q6J("ngIf",e.form.controls.edad.touched&&e.form.controls.edad.hasError("min")),o.xp6(1),o.Q6J("ngIf",e.form.controls.edad.touched&&e.form.controls.edad.hasError("max")),o.xp6(1),o.Q6J("ngIf",e.form.controls.edad.touched&&e.form.controls.edad.hasError("pattern")),o.xp6(1),o.Q6J("ngIf",e.form.controls.edad.touched&&e.form.controls.edad.hasError("required")),o.xp6(2),o.Q6J("ngModel",e.dni),o.xp6(2),o.Q6J("ngIf",e.form.controls.dni.touched&&e.form.controls.dni.hasError("minlength")),o.xp6(1),o.Q6J("ngIf",e.form.controls.dni.touched&&e.form.controls.dni.hasError("maxlength")),o.xp6(1),o.Q6J("ngIf",e.form.controls.dni.touched&&e.form.controls.dni.hasError("pattern")),o.xp6(1),o.Q6J("ngIf",e.form.controls.dni.touched&&e.form.controls.dni.hasError("required")),o.xp6(3),o.Q6J("ngModel",e.email),o.xp6(2),o.Q6J("ngIf",e.form.controls.email.touched&&e.form.controls.email.hasError("pattern")),o.xp6(1),o.Q6J("ngIf",e.form.controls.email.touched&&e.form.controls.email.hasError("required")),o.xp6(3),o.Q6J("ngModel",e.clave),o.xp6(2),o.Q6J("ngIf",e.form.controls.clave.touched&&e.form.controls.clave.hasError("minlength")),o.xp6(1),o.Q6J("ngIf",e.form.controls.clave.touched&&e.form.controls.clave.hasError("required")),o.xp6(6),o.Q6J("disabled",!e.form.valid))},dependencies:[c.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:[".contenedor[_ngcontent-%COMP%]{width:100%;height:100%;text-align:center;box-shadow:4px 4px 4px #000;background-color:#ffe97f;border-radius:10px;display:flex;flex-direction:column;justify-content:center}#form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:auto;height:auto}#form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:5px 0}#form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%;padding:10px;font-size:20px;border-radius:10px;border:2px solid #94e1af}#form[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{width:auto}#form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{transform:scale(1.1);border:2px solid #94e1af}#form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:10px;width:auto;background-color:#94e1af;font-size:18px;border:2px solid #94e1af;box-shadow:4px 4px 10px #00000080}#form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#78d1b6;transform:scale(1.05);color:#fff}#form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#537e62}span[_ngcontent-%COMP%]{color:#eb7769}"]})}return n})();function Y(n,i){if(1&n){const t=o.EpF();o.TgZ(0,"ul",3)(1,"li",4),o.NdJ("click",function(){const s=o.CHM(t).$implicit,l=o.oxw();return o.KtG(l.mostrar(s))}),o._uU(2),o._UZ(3,"img",5),o.qZA()()}if(2&n){const t=i.$implicit;o.xp6(2),o.lnq("",t.nombre," ",t.apellido," DNI: ",t.dni," "),o.xp6(1),o.Q6J("src",t.foto,o.LSH)}}function Q(n,i){if(1&n){const t=o.EpF();o.TgZ(0,"div",6)(1,"div",7)(2,"span",8),o.NdJ("click",function(){o.CHM(t);const e=o.oxw();return o.KtG(e.mostrarModal=!1)}),o._uU(3,"\xd7"),o.qZA(),o.TgZ(4,"h2"),o._uU(5,"\xbfDESEA ACEPTAR COMO ADMIN A?:"),o.qZA(),o.TgZ(6,"p"),o._uU(7),o._UZ(8,"img",5),o.qZA(),o.TgZ(9,"div",9)(10,"button",10),o.NdJ("click",function(){o.CHM(t);const e=o.oxw();return o.KtG(e.decidir(!0))}),o._uU(11,"ACEPTAR"),o.qZA(),o.TgZ(12,"button",10),o.NdJ("click",function(){o.CHM(t);const e=o.oxw();return o.KtG(e.decidir(!1))}),o._uU(13,"RECHAZAR"),o.qZA()()()()}if(2&n){const t=o.oxw();o.xp6(7),o.lnq("",t.userModal.nombre," ",t.userModal.apellido," DNI: ",t.userModal.dni," "),o.xp6(1),o.Q6J("src",t.userModal.foto,o.LSH)}}let L=(()=>{class n{constructor(t,r){this.firestore=t,this.toast=r,this.especialistas=[],this.aux=[],this.mostrarModal=!1,u.C.traerFs("especialistas",this.firestore).subscribe(e=>{this.aux=e,this.especialistas=[],e.forEach(s=>{"espera"===s.aprobado&&this.especialistas.push(s)})})}ngOnInit(){this.especialistas=[],this.aux.forEach(t=>{"espera"===t.aprobado&&this.especialistas.push(t)})}mostrar(t){this.mostrarModal=!0,this.userModal=t}decidir(t){let r={...this.userModal};r.aprobado=t,u.C.actualizarFs("especialistas",r,this.firestore).then(()=>{let e=t?`${this.userModal.nombre} ha sido aprobado/a`:`${this.userModal.nombre} ha sido rechazado/a`;this.mostrarModal=!1,this.toast.info(e)})}static#o=this.\u0275fac=function(r){return new(r||n)(o.Y36(g.gg),o.Y36(m._W))};static#e=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-listado"]],decls:3,vars:2,consts:[[1,"contenedor"],["class","list-group center",4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[1,"list-group","center"],[1,"list-group-item",3,"click"],[1,"perfil",3,"src"],[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],[1,"col"],[1,"col","btn",3,"click"]],template:function(r,e){1&r&&(o.TgZ(0,"div",0),o.YNc(1,Y,4,4,"ul",1),o.YNc(2,Q,14,4,"div",2),o.qZA()),2&r&&(o.xp6(1),o.Q6J("ngForOf",e.especialistas),o.xp6(1),o.Q6J("ngIf",e.mostrarModal))},dependencies:[c.sg,c.O5],styles:[".contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;align-items:center;justify-content:center;background-color:#74c69d;height:100%;border-radius:10px;box-shadow:4px 4px 4px #000}.perfil[_ngcontent-%COMP%]{width:8%;margin-left:10px}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}li[_ngcontent-%COMP%]{margin:5px;cursor:pointer;width:80%}li[_ngcontent-%COMP%]:hover{background-color:#afaeae;transform:scale(1.05)}li[_ngcontent-%COMP%]:active{background-color:#d0cece}.modal[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:1;display:flex;justify-content:center;align-items:center}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;text-align:center;width:auto;height:auto;box-shadow:4px 4px 4px #000}.close[_ngcontent-%COMP%]{position:absolute;top:1px;right:10px;font-size:24px;cursor:pointer}.btn[_ngcontent-%COMP%]{padding:5px 10px;border:none;border-radius:10px;width:auto;background-color:#94e1af;font-size:18px;border:2px solid #94e1af;box-shadow:4px 4px 10px #00000080;margin-left:5px}.btn[_ngcontent-%COMP%]:hover{background-color:#78d1b6;transform:scale(1.05);color:#fff}.btn[_ngcontent-%COMP%]:active{background-color:#537e62}"]})}return n})();function F(n,i){1&n&&(o.TgZ(0,"button",18),o._uU(1,"LOGIN"),o.qZA())}function z(n,i){1&n&&(o.TgZ(0,"button",19),o._uU(1,"REGISTRO"),o.qZA())}function D(n,i){if(1&n&&(o.TgZ(0,"button"),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Oqu(t.user.email.split("@")[0].toUpperCase())}}function R(n,i){if(1&n){const t=o.EpF();o.TgZ(0,"button",20),o.NdJ("click",function(){o.CHM(t);const e=o.oxw();return o.KtG(e.cerrarSesion())}),o._uU(1,"LOGOUT"),o.qZA()}}const G=[{path:"",component:(()=>{class n{constructor(t,r,e,s){this.auth=t,this.toast=r,this.firestore=e,this.router=s,this.admins=[],u.C.traerFs("administradores",this.firestore).subscribe(l=>{this.admins=l})}ngOnInit(){this.user=this.auth.get_user(),console.log(this.user)}cerrarSesion(){this.toast.info("Cerrando sesion","Espera..."),this.auth.logout()?.then(()=>{setTimeout(()=>{this.toast.success("Cerraste sesion","Todo normal"),this.user=null},2e3)})}static#o=this.\u0275fac=function(r){return new(r||n)(o.Y36(_.e),o.Y36(m._W),o.Y36(g.gg),o.Y36(p.F0))};static#e=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-usuarios"]],decls:24,vars:4,consts:[[1,"contenedor"],[1,"navbar","navbar-expand-xxl"],[1,"container-fluid"],["src","assets/medico.png","width","2%","routerLink","/home",1,"navbar-brand",2,"cursor","pointer"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarsExampleXxl","aria-controls","navbarsExampleXxl","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleXxl",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-xl-0"],[1,"nav-item"],["href","/home",1,"nav-link","active"],["href","/usuarios",1,"nav-link","active"],["routerLink","/login",4,"ngIf"],["style","margin-left: 10px;","routerLink","/registro",4,"ngIf"],[4,"ngIf"],["style","margin-left: 10px;",3,"click",4,"ngIf"],[1,"row",2,"width","100%"],[1,"col",2,"margin","10px","margin-left","30px","height","88vh"],[1,"col",2,"margin","10px","padding","auto","height","88vh"],["routerLink","/login"],["routerLink","/registro",2,"margin-left","10px"],[2,"margin-left","10px",3,"click"]],template:function(r,e){1&r&&(o.TgZ(0,"div",0)(1,"nav",1)(2,"div",2),o._UZ(3,"img",3),o.TgZ(4,"button",4),o._UZ(5,"span",5),o.qZA(),o.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),o._uU(10,"Home"),o.qZA()(),o.TgZ(11,"li",8)(12,"a",10),o._uU(13,"Usuarios"),o.qZA()()(),o.YNc(14,F,2,0,"button",11),o.YNc(15,z,2,0,"button",12),o.YNc(16,D,2,1,"button",13),o.YNc(17,R,2,0,"button",14),o.qZA()()(),o.TgZ(18,"div",15)(19,"div",16),o._UZ(20,"app-alta-admin"),o.qZA(),o.TgZ(21,"div",17),o._UZ(22,"app-listado"),o.qZA()()(),o._UZ(23,"router-outlet")),2&r&&(o.xp6(14),o.Q6J("ngIf",!e.user),o.xp6(1),o.Q6J("ngIf",!e.user),o.xp6(1),o.Q6J("ngIf",e.user),o.xp6(1),o.Q6J("ngIf",e.user))},dependencies:[c.O5,p.lC,p.rH,w,L],styles:[".contenedor[_ngcontent-%COMP%]{width:100vw;height:100vh;background-color:#94e1af}.navbar[_ngcontent-%COMP%]{background-color:#d8f3dc;font-size:20px}button[_ngcontent-%COMP%]:hover{background-color:#78d1b6;transform:scale(1.05);color:#fff}button[_ngcontent-%COMP%]{padding:.4%;border:none;border-radius:10px;width:auto;background-color:#94e1af;font-size:18px;border:2px solid #94e1af;box-shadow:4px 4px 10px #00000080}button[_ngcontent-%COMP%]:active{background-color:#537e62}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}a[_ngcontent-%COMP%]{cursor:pointer}"]})}return n})()}];let H=(()=>{class n{static#o=this.\u0275fac=function(r){return new(r||n)};static#e=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[p.Bz.forChild(G),p.Bz]})}return n})(),$=(()=>{class n{static#o=this.\u0275fac=function(r){return new(r||n)};static#e=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[c.ez,H,a.u5,a.UX]})}return n})()}}]);