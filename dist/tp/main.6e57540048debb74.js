"use strict";(self.webpackChunkTP=self.webpackChunkTP||[]).push([[179],{7247:(ln,pt,Z)=>{Z.d(pt,{nm:()=>ei});var p=Z(8186),Me=(Z(4946),Z(8726),Z(3182),Z(5861)),ae=Z(534),E=Z(4537),Xe=Z(9058),We=Z(7879);const he=new Map,ue={activated:!1,tokenObservers:[]},Ve={initialized:!1,enabled:!1};function it(xe){return he.get(xe)||Object.assign({},ue)}function Nt(){return Ve}const bt="https://content-firebaseappcheck.googleapis.com/v1",nn="exchangeDebugToken",Mt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class tt{constructor(Re,je,mt,kt,on){if(this.operation=Re,this.retryPolicy=je,this.getWaitDuration=mt,this.lowerBound=kt,this.upperBound=on,this.pending=null,this.nextErrorWaitInterval=kt,kt>on)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Re){var je=this;return(0,Me.Z)(function*(){je.stop();try{je.pending=new Xe.BH,yield function Ze(xe){return new Promise(Re=>{setTimeout(Re,xe)})}(je.getNextRun(Re)),je.pending.resolve(),yield je.pending.promise,je.pending=new Xe.BH,yield je.operation(),je.pending.resolve(),yield je.pending.promise,je.process(!0).catch(()=>{})}catch(mt){je.retryPolicy(mt)?je.process(!1).catch(()=>{}):je.stop()}})()}getNextRun(Re){if(Re)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const je=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),je}}}const ut=new Xe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function at(xe){if(!it(xe).activated)throw ut.create("use-before-activation",{appName:xe.name})}function or(xe,Re){return wt.apply(this,arguments)}function wt(){return(wt=(0,Me.Z)(function*({url:xe,body:Re},je){const mt={"Content-Type":"application/json"},kt=je.getImmediate({optional:!0});if(kt){const Fr=yield kt.getHeartbeatsHeader();Fr&&(mt["X-Firebase-Client"]=Fr)}const on={method:"POST",body:JSON.stringify(Re),headers:mt};let nr,Un;try{nr=yield fetch(xe,on)}catch(Fr){throw ut.create("fetch-network-error",{originalErrorMessage:Fr?.message})}if(200!==nr.status)throw ut.create("fetch-status-error",{httpStatus:nr.status});try{Un=yield nr.json()}catch(Fr){throw ut.create("fetch-parse-error",{originalErrorMessage:Fr?.message})}const ar=Un.ttl.match(/^([\d.]+)(s)$/);if(!ar||!ar[2]||isNaN(Number(ar[1])))throw ut.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Un.ttl}`});const ji=1e3*Number(ar[1]),gi=Date.now();return{token:Un.token,expireTimeMillis:gi+ji,issuedAtTimeMillis:gi}})).apply(this,arguments)}function Ft(xe,Re){const{projectId:je,appId:mt,apiKey:kt}=xe.options;return{url:`${bt}/projects/${je}/apps/${mt}:${nn}?key=${kt}`,body:{debug_token:Re}}}const Cn="firebase-app-check-database",$e=1,Je="firebase-app-check-store";let Te=null;function jt(){return(jt=(0,Me.Z)(function*(xe,Re){const mt=(yield function ve(){return Te||(Te=new Promise((xe,Re)=>{try{const je=indexedDB.open(Cn,$e);je.onsuccess=mt=>{xe(mt.target.result)},je.onerror=mt=>{var kt;Re(ut.create("storage-open",{originalErrorMessage:null===(kt=mt.target.error)||void 0===kt?void 0:kt.message}))},je.onupgradeneeded=mt=>{0===mt.oldVersion&&mt.target.result.createObjectStore(Je,{keyPath:"compositeKey"})}}catch(je){Re(ut.create("storage-open",{originalErrorMessage:je?.message}))}}),Te)}()).transaction(Je,"readwrite"),on=mt.objectStore(Je).put({compositeKey:xe,value:Re});return new Promise((nr,Un)=>{on.onsuccess=ar=>{nr()},mt.onerror=ar=>{var ji;Un(ut.create("storage-set",{originalErrorMessage:null===(ji=ar.target.error)||void 0===ji?void 0:ji.message}))}})})).apply(this,arguments)}const ir=new We.Yd("@firebase/app-check");function qn(xe,Re){return(0,Xe.hl)()?function ye(xe,Re){return function _t(xe,Re){return jt.apply(this,arguments)}(function Sn(xe){return`${xe.options.appId}-${xe.name}`}(xe),Re)}(xe,Re).catch(je=>{ir.warn(`Failed to write token to IndexedDB. Error: ${je}`)}):Promise.resolve()}function mn(){return Nt().enabled}function fi(){return er.apply(this,arguments)}function er(){return(er=(0,Me.Z)(function*(){const xe=Nt();if(xe.enabled&&xe.token)return xe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Pn={error:"UNKNOWN_ERROR"};function Mn(xe){return Xe.US.encodeString(JSON.stringify(xe),!1)}function cr(xe){return Br.apply(this,arguments)}function Br(){return(Br=(0,Me.Z)(function*(xe,Re=!1){const je=xe.app;at(je);const mt=it(je);let on,kt=mt.token;if(kt&&!Zi(kt)&&(mt.token=void 0,kt=void 0),!kt){const ar=yield mt.cachedTokenPromise;ar&&(Zi(ar)?kt=ar:yield qn(je,void 0))}if(!Re&&kt&&Zi(kt))return{token:kt.token};let Un,nr=!1;if(mn()){mt.exchangeTokenPromise||(mt.exchangeTokenPromise=or(Ft(je,yield fi()),xe.heartbeatServiceProvider).finally(()=>{mt.exchangeTokenPromise=void 0}),nr=!0);const ar=yield mt.exchangeTokenPromise;return yield qn(je,ar),mt.token=ar,{token:ar.token}}try{mt.exchangeTokenPromise||(mt.exchangeTokenPromise=mt.provider.getToken().finally(()=>{mt.exchangeTokenPromise=void 0}),nr=!0),kt=yield it(je).exchangeTokenPromise}catch(ar){"appCheck/throttled"===ar.code?ir.warn(ar.message):ir.error(ar),on=ar}return kt?on?Un=Zi(kt)?{token:kt.token,internalError:on}:Ui(on):(Un={token:kt.token},mt.token=kt,yield qn(je,kt)):Un=Ui(on),nr&&function zt(xe,Re){const je=it(xe).tokenObservers;for(const mt of je)try{"EXTERNAL"===mt.type&&null!=Re.error?mt.error(Re.error):mt.next(Re)}catch{}}(je,Un),Un})).apply(this,arguments)}function Zr(xe){return hr.apply(this,arguments)}function hr(){return(hr=(0,Me.Z)(function*(xe){const Re=xe.app;at(Re);const{provider:je}=it(Re);if(mn()){const mt=yield fi(),{token:kt}=yield or(Ft(Re,mt),xe.heartbeatServiceProvider);return{token:kt}}{const{token:mt}=yield je.getToken();return{token:mt}}})).apply(this,arguments)}function ai(xe,Re){const je=it(xe),mt=je.tokenObservers.filter(kt=>kt.next!==Re);0===mt.length&&je.tokenRefresher&&je.tokenRefresher.isRunning()&&je.tokenRefresher.stop(),je.tokenObservers=mt}function lr(xe){const{app:Re}=xe,je=it(Re);let mt=je.tokenRefresher;mt||(mt=function ui(xe){const{app:Re}=xe;return new tt((0,Me.Z)(function*(){let mt;if(mt=it(Re).token?yield cr(xe,!0):yield cr(xe),mt.error)throw mt.error;if(mt.internalError)throw mt.internalError}),()=>!0,()=>{const je=it(Re);if(je.token){let mt=je.token.issuedAtTimeMillis+.5*(je.token.expireTimeMillis-je.token.issuedAtTimeMillis)+3e5;return mt=Math.min(mt,je.token.expireTimeMillis-3e5),Math.max(0,mt-Date.now())}return 0},Mt.RETRIAL_MIN_WAIT,Mt.RETRIAL_MAX_WAIT)}(xe),je.tokenRefresher=mt),!mt.isRunning()&&je.isTokenAutoRefreshEnabled&&mt.start()}function Zi(xe){return xe.expireTimeMillis-Date.now()>0}function Ui(xe){return{token:Mn(Pn),error:xe}}class jr{constructor(Re,je){this.app=Re,this.heartbeatServiceProvider=je}_delete(){const{tokenObservers:Re}=it(this.app);for(const je of Re)ai(this.app,je.next);return Promise.resolve()}}const Kt="app-check-internal";!function An(){(0,ae._registerComponent)(new E.wA("app-check",xe=>function Xr(xe,Re){return new jr(xe,Re)}(xe.getProvider("app").getImmediate(),xe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((xe,Re,je)=>{xe.getProvider(Kt).initialize()})),(0,ae._registerComponent)(new E.wA(Kt,xe=>function fr(xe){return{getToken:Re=>cr(xe,Re),getLimitedUseToken:()=>Zr(xe),addTokenListener:Re=>function Rr(xe,Re,je,mt){const{app:kt}=xe,on=it(kt);if(on.tokenObservers=[...on.tokenObservers,{next:je,error:mt,type:Re}],on.token&&Zi(on.token)){const Un=on.token;Promise.resolve().then(()=>{je({token:Un.token}),lr(xe)}).catch(()=>{})}on.cachedTokenPromise.then(()=>lr(xe))}(xe,"INTERNAL",Re),removeTokenListener:Re=>ai(xe.app,Re)}}(xe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)("@firebase/app-check","0.8.0")}();class ei{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window},8726:(ln,pt,Z)=>{Z.d(pt,{Ot:()=>De,ZF:()=>Vt,hX:()=>it,z6:()=>Me});var p=Z(3182),de=Z(4946),Ee=Z(8186);class De{constructor(tt){return tt}}class Me{constructor(){return(0,p.C6)()}}const Xe=new de.OlP("angularfire2._apps"),We={provide:De,useFactory:function E(Ce){return Ce&&1===Ce.length?Ce[0]:new De((0,p.Mq)())},deps:[[new de.FiY,Xe]]},he={provide:Me,deps:[[new de.FiY,Xe]]};function ue(Ce){return(tt,Ze)=>{const gt=tt.runOutsideAngular(()=>Ce(Ze));return new De(gt)}}let Ve=(()=>{class Ce{constructor(Ze){(0,p.KN)("angularfire",Ee.q4.full,"core"),(0,p.KN)("angularfire",Ee.q4.full,"app"),(0,p.KN)("angular",de.q4F.full,Ze.toString())}}return Ce.\u0275fac=function(Ze){return new(Ze||Ce)(de.LFG(de.Lbi))},Ce.\u0275mod=de.oAB({type:Ce}),Ce.\u0275inj=de.cJS({providers:[We,he]}),Ce})();function it(Ce,...tt){return{ngModule:Ve,providers:[{provide:Xe,useFactory:ue(Ce),multi:!0,deps:[de.R0b,de.zs3,Ee.HU,...tt]}]}}const Vt=(0,Ee.u3)(p.ZF,!0)},5609:(ln,pt,Z)=>{Z.d(pt,{gx:()=>wu,dh:()=>Iu,Xb:()=>Ml,v0:()=>vp,AR:()=>zc,w$:()=>Zu,e5:()=>Mm,w7:()=>uu});var p=Z(8186),de=Z(4946),Ee=Z(8726),De=Z(3182),Me=Z(7247),ae=Z(5861),E=Z(9058),Xe=Z(534),We=Z(7582),he=Z(7879),ue=Z(4537);const Mt=function St(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ce=new E.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ze=new he.Yd("@firebase/auth");function ut(C,...h){Ze.logLevel<=he.in.ERROR&&Ze.error(`Auth (${Xe.SDK_VERSION}): ${C}`,...h)}function ct(C,...h){throw or(C,...h)}function at(C,...h){return or(C,...h)}function or(C,...h){if("string"!=typeof C){const g=h[0],M=[...h.slice(1)];return M[0]&&(M[0].appName=C.name),C._errorFactory.create(g,...M)}return Ce.create(C,...h)}function wt(C,h,...g){if(!C)throw or(h,...g)}function Et(C){const h="INTERNAL ASSERTION FAILED: "+C;throw ut(h),new Error(h)}function In(C,h){C||Et(h)}function Ft(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function $e(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Te{constructor(h,g){this.shortDelay=h,this.longDelay=g,In(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,E.uI)()||(0,E.b$)()}get(){return function Je(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Cn(){return"http:"===$e()||"https:"===$e()}()||(0,E.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ve(C,h){In(C.emulator,"Emulator should always be set here");const{url:g}=C.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class oe{static initialize(h,g,M){this.fetchImpl=h,g&&(this.headersImpl=g),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ke=new Te(3e4,6e4);function ht(C,h){return C.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:C.tenantId}):h}function _t(C,h,g,M){return jt.apply(this,arguments)}function jt(){return(jt=(0,ae.Z)(function*(C,h,g,M,W={}){return Wn(C,W,(0,ae.Z)(function*(){let se={},Le={};M&&("GET"===h?Le=M:se={body:JSON.stringify(M)});const lt=(0,E.xO)(Object.assign({key:C.config.apiKey},Le)).slice(1),Qt=yield C._getAdditionalHeaders();return Qt["Content-Type"]="application/json",C.languageCode&&(Qt["X-Firebase-Locale"]=C.languageCode),oe.fetch()(Xn(C,C.config.apiHost,g,lt),Object.assign({method:h,headers:Qt,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function Wn(C,h,g){return zn.apply(this,arguments)}function zn(){return(zn=(0,ae.Z)(function*(C,h,g){C._canInitEmulator=!1;const M=Object.assign(Object.assign({},ye),h);try{const W=new Ur(C),se=yield Promise.race([g(),W.promise]);W.clearNetworkTimeout();const Le=yield se.json();if("needConfirmation"in Le)throw qn(C,"account-exists-with-different-credential",Le);if(se.ok&&!("errorMessage"in Le))return Le;{const lt=se.ok?Le.errorMessage:Le.error.message,[Qt,un]=lt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qt)throw qn(C,"credential-already-in-use",Le);if("EMAIL_EXISTS"===Qt)throw qn(C,"email-already-in-use",Le);if("USER_DISABLED"===Qt)throw qn(C,"user-disabled",Le);const _n=M[Qt]||Qt.toLowerCase().replace(/[_\s]+/g,"-");if(un)throw function vn(C,h,g){const M=Object.assign(Object.assign({},Mt()),{[h]:g});return new E.LL("auth","Firebase",M).create(h,{appName:C.name})}(C,_n,un);ct(C,_n)}}catch(W){if(W instanceof E.ZR)throw W;ct(C,"network-request-failed",{message:String(W)})}})).apply(this,arguments)}function Sn(C,h,g,M){return ir.apply(this,arguments)}function ir(){return(ir=(0,ae.Z)(function*(C,h,g,M,W={}){const se=yield _t(C,h,g,M,W);return"mfaPendingCredential"in se&&ct(C,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function Xn(C,h,g,M){const W=`${h}${g}?${M}`;return C.config.emulator?ve(C.config,W):`${C.config.apiScheme}://${W}`}class Ur{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,M)=>{this.timer=setTimeout(()=>M(at(this.auth,"network-request-failed")),Ke.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(C,h,g){const M={appName:C.name};g.email&&(M.email=g.email),g.phoneNumber&&(M.phoneNumber=g.phoneNumber);const W=at(C,h,M);return W.customData._tokenResponse=g,W}function sr(){return(sr=(0,ae.Z)(function*(C,h){return _t(C,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Qn(){return(Qn=(0,ae.Z)(function*(C,h){return _t(C,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Pn(C){if(C)try{const h=new Date(Number(C));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Br(){return(Br=(0,ae.Z)(function*(C,h=!1){const g=(0,E.m9)(C),M=yield g.getIdToken(h),W=hr(M);wt(W&&W.exp&&W.auth_time&&W.iat,g.auth,"internal-error");const se="object"==typeof W.firebase?W.firebase:void 0,Le=se?.sign_in_provider;return{claims:W,token:M,authTime:Pn(Zr(W.auth_time)),issuedAtTime:Pn(Zr(W.iat)),expirationTime:Pn(Zr(W.exp)),signInProvider:Le||null,signInSecondFactor:se?.sign_in_second_factor||null}})).apply(this,arguments)}function Zr(C){return 1e3*Number(C)}function hr(C){const[h,g,M]=C.split(".");if(void 0===h||void 0===g||void 0===M)return ut("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,E.tV)(g);return W?JSON.parse(W):(ut("Failed to decode base64 JWT payload"),null)}catch(W){return ut("Caught error parsing JWT payload as JSON",W?.toString()),null}}function ai(C,h){return lr.apply(this,arguments)}function lr(){return(lr=(0,ae.Z)(function*(C,h,g=!1){if(g)return h;try{return yield h}catch(M){throw M instanceof E.ZR&&function ui({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(M)&&C.auth.currentUser===C&&(yield C.auth.signOut()),M}})).apply(this,arguments)}class zt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const W=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const M=this.getInterval(h);this.timerId=setTimeout((0,ae.Z)(function*(){yield g.iteration()}),M)}iteration(){var h=this;return(0,ae.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&h.schedule(!0))}h.schedule()})()}}class Zi{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pn(this.lastLoginAt),this.creationTime=Pn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ui(C){return jr.apply(this,arguments)}function jr(){return jr=(0,ae.Z)(function*(C){var h;const g=C.auth,M=yield C.getIdToken(),W=yield ai(C,function er(C,h){return Qn.apply(this,arguments)}(g,{idToken:M}));wt(W?.users.length,g,"internal-error");const se=W.users[0];C._notifyReloadListener(se);const Le=null!==(h=se.providerUserInfo)&&void 0!==h&&h.length?function Ai(C){return C.map(h=>{var{providerId:g}=h,M=(0,We._T)(h,["providerId"]);return{providerId:g,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}(se.providerUserInfo):[],lt=function hn(C,h){return[...C.filter(M=>!h.some(W=>W.providerId===M.providerId)),...h]}(C.providerData,Le),_n=!!C.isAnonymous&&!(C.email&&se.passwordHash||lt?.length),Pr={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:lt,metadata:new Zi(se.createdAt,se.lastLoginAt),isAnonymous:_n};Object.assign(C,Pr)}),jr.apply(this,arguments)}function fr(){return(fr=(0,ae.Z)(function*(C){const h=(0,E.m9)(C);yield Ui(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function bn(){return(bn=(0,ae.Z)(function*(C,h){const g=yield Wn(C,{},(0,ae.Z)(function*(){const M=(0,E.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:W,apiKey:se}=C.config,Le=Xn(C,W,"/v1/token",`key=${se}`),lt=yield C._getAdditionalHeaders();return lt["Content-Type"]="application/x-www-form-urlencoded",oe.fetch()(Le,{method:"POST",headers:lt,body:M})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class dr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){wt(h.idToken,"internal-error"),wt(typeof h.idToken<"u","internal-error"),wt(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Rr(C){const h=hr(C);return wt(h,"internal-error"),wt(typeof h.exp<"u","internal-error"),wt(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var M=this;return(0,ae.Z)(function*(){return wt(!M.accessToken||M.refreshToken,h,"user-token-expired"),g||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(h,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var M=this;return(0,ae.Z)(function*(){const{accessToken:W,refreshToken:se,expiresIn:Le}=yield function vi(C,h){return bn.apply(this,arguments)}(h,g);M.updateTokensAndExpiration(W,se,Number(Le))})()}updateTokensAndExpiration(h,g,M){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(h,g){const{refreshToken:M,accessToken:W,expirationTime:se}=g,Le=new dr;return M&&(wt("string"==typeof M,"internal-error",{appName:h}),Le.refreshToken=M),W&&(wt("string"==typeof W,"internal-error",{appName:h}),Le.accessToken=W),se&&(wt("number"==typeof se,"internal-error",{appName:h}),Le.expirationTime=se),Le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new dr,this.toJSON())}_performRefresh(){return Et("not implemented")}}function Fn(C,h){wt("string"==typeof C||typeof C>"u","internal-error",{appName:h})}class Nr{constructor(h){var{uid:g,auth:M,stsTokenManager:W}=h,se=(0,We._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=M,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new Zi(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,ae.Z)(function*(){const M=yield ai(g,g.stsTokenManager.getToken(g.auth,h));return wt(M,g.auth,"internal-error"),g.accessToken!==M&&(g.accessToken=M,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),M})()}getIdTokenResult(h){return function cr(C){return Br.apply(this,arguments)}(this,h)}reload(){return function Xr(C){return fr.apply(this,arguments)}(this)}_assign(h){this!==h&&(wt(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new Nr(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var M=this;return(0,ae.Z)(function*(){let W=!1;h.idToken&&h.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(h),W=!0),g&&(yield Ui(M)),yield M.auth._persistUserIfCurrent(M),W&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var h=this;return(0,ae.Z)(function*(){const g=yield h.getIdToken();return yield ai(h,function gn(C,h){return sr.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var M,W,se,Le,lt,Qt,un,_n;const Pr=null!==(M=g.displayName)&&void 0!==M?M:void 0,so=null!==(W=g.email)&&void 0!==W?W:void 0,ga=null!==(se=g.phoneNumber)&&void 0!==se?se:void 0,Cs=null!==(Le=g.photoURL)&&void 0!==Le?Le:void 0,bu=null!==(lt=g.tenantId)&&void 0!==lt?lt:void 0,Jc=null!==(Qt=g._redirectEventId)&&void 0!==Qt?Qt:void 0,Pl=null!==(un=g.createdAt)&&void 0!==un?un:void 0,Pd=null!==(_n=g.lastLoginAt)&&void 0!==_n?_n:void 0,{uid:kl,emailVerified:kd,isAnonymous:Fl,providerData:Fd,stsTokenManager:Ld}=g;wt(kl&&Ld,h,"internal-error");const Tp=dr.fromJSON(this.name,Ld);wt("string"==typeof kl,h,"internal-error"),Fn(Pr,h.name),Fn(so,h.name),wt("boolean"==typeof kd,h,"internal-error"),wt("boolean"==typeof Fl,h,"internal-error"),Fn(ga,h.name),Fn(Cs,h.name),Fn(bu,h.name),Fn(Jc,h.name),Fn(Pl,h.name),Fn(Pd,h.name);const Vd=new Nr({uid:kl,auth:h,email:so,emailVerified:kd,displayName:Pr,isAnonymous:Fl,photoURL:Cs,phoneNumber:ga,tenantId:bu,stsTokenManager:Tp,createdAt:Pl,lastLoginAt:Pd});return Fd&&Array.isArray(Fd)&&(Vd.providerData=Fd.map(Xc=>Object.assign({},Xc))),Jc&&(Vd._redirectEventId=Jc),Vd}static _fromIdTokenResponse(h,g,M=!1){return(0,ae.Z)(function*(){const W=new dr;W.updateFromServerResponse(g);const se=new Nr({uid:g.localId,auth:h,stsTokenManager:W,isAnonymous:M});return yield Ui(se),se})()}}const be=new Map;function X(C){In(C instanceof Function,"Expected a class definition");let h=be.get(C);return h?(In(h instanceof C,"Instance stored in cache mismatched with class"),h):(h=new C,be.set(C,h),h)}const ne=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ae.Z)(function*(){return!0})()}_set(g,M){var W=this;return(0,ae.Z)(function*(){W.storage[g]=M})()}_get(g){var M=this;return(0,ae.Z)(function*(){const W=M.storage[g];return void 0===W?null:W})()}_remove(g){var M=this;return(0,ae.Z)(function*(){delete M.storage[g]})()}_addListener(g,M){}_removeListener(g,M){}}return C.type="NONE",C})();function te(C,h,g){return`firebase:${C}:${h}:${g}`}class Pe{constructor(h,g,M){this.persistence=h,this.auth=g,this.userKey=M;const{config:W,name:se}=this.auth;this.fullUserKey=te(this.userKey,W.apiKey,se),this.fullPersistenceKey=te("persistence",W.apiKey,se),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,ae.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?Nr._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,ae.Z)(function*(){if(g.persistence===h)return;const M=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,M?g.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,M="authUser"){return(0,ae.Z)(function*(){if(!g.length)return new Pe(X(ne),h,M);const W=(yield Promise.all(g.map(function(){var un=(0,ae.Z)(function*(_n){if(yield _n._isAvailable())return _n});return function(_n){return un.apply(this,arguments)}}()))).filter(un=>un);let se=W[0]||X(ne);const Le=te(M,h.config.apiKey,h.name);let lt=null;for(const un of g)try{const _n=yield un._get(Le);if(_n){const Pr=Nr._fromJSON(h,_n);un!==se&&(lt=Pr),se=un;break}}catch{}const Qt=W.filter(un=>un._shouldAllowMigration);return se._shouldAllowMigration&&Qt.length?(se=Qt[0],lt&&(yield se._set(Le,lt.toJSON())),yield Promise.all(g.map(function(){var un=(0,ae.Z)(function*(_n){if(_n!==se)try{yield _n._remove(Le)}catch{}});return function(_n){return un.apply(this,arguments)}}())),new Pe(se,h,M)):new Pe(se,h,M)})()}}function yt(C){const h=C.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Kn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Bt(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Wr(h))return"Blackberry";if(Yr(h))return"Webos";if(En(h))return"Safari";if((h.includes("chrome/")||Dn(h))&&!h.includes("edge/"))return"Chrome";if(Xt(h))return"Android";{const M=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function Bt(C=(0,E.z$)()){return/firefox\//i.test(C)}function En(C=(0,E.z$)()){const h=C.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Dn(C=(0,E.z$)()){return/crios\//i.test(C)}function Kn(C=(0,E.z$)()){return/iemobile/i.test(C)}function Xt(C=(0,E.z$)()){return/android/i.test(C)}function Wr(C=(0,E.z$)()){return/blackberry/i.test(C)}function Yr(C=(0,E.z$)()){return/webos/i.test(C)}function Ei(C=(0,E.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function At(C=(0,E.z$)()){return Ei(C)||Xt(C)||Yr(C)||Wr(C)||/windows phone/i.test(C)||Kn(C)}function An(C,h=[]){let g;switch(C){case"Browser":g=yt((0,E.z$)());break;case"Worker":g=`${yt((0,E.z$)())}-${C}`;break;default:g=C}const M=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${Xe.SDK_VERSION}/${M}`}function ei(C,h){return vr.apply(this,arguments)}function vr(){return(vr=(0,ae.Z)(function*(C,h){return _t(C,"GET","/v2/recaptchaConfig",ht(C,h))})).apply(this,arguments)}function xs(C){return void 0!==C&&void 0!==C.enterprise}class Rs{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Bi(C){return new Promise((h,g)=>{const M=document.createElement("script");M.setAttribute("src",C),M.onload=h,M.onerror=W=>{const se=at("internal-error");se.customData=W,g(se)},M.type="text/javascript",M.charset="UTF-8",function gr(){var C,h;return null!==(h=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==h?h:document}().appendChild(M)})}function Oi(C){return`__${C}${Math.floor(1e6*Math.random())}`}class ti{constructor(h){this.type="recaptcha-enterprise",this.auth=xe(h)}verify(h="verify",g=!1){var M=this;return(0,ae.Z)(function*(){function se(){return se=(0,ae.Z)(function*(lt){if(!g){if(null==lt.tenantId&&null!=lt._agentRecaptchaConfig)return lt._agentRecaptchaConfig.siteKey;if(null!=lt.tenantId&&void 0!==lt._tenantRecaptchaConfigs[lt.tenantId])return lt._tenantRecaptchaConfigs[lt.tenantId].siteKey}return new Promise(function(){var Qt=(0,ae.Z)(function*(un,_n){ei(lt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Pr=>{if(void 0!==Pr.recaptchaKey){const so=new Rs(Pr);return null==lt.tenantId?lt._agentRecaptchaConfig=so:lt._tenantRecaptchaConfigs[lt.tenantId]=so,un(so.siteKey)}_n(new Error("recaptcha Enterprise site key undefined"))}).catch(Pr=>{_n(Pr)})});return function(un,_n){return Qt.apply(this,arguments)}}())}),se.apply(this,arguments)}function Le(lt,Qt,un){const _n=window.grecaptcha;xs(_n)?_n.enterprise.ready(()=>{_n.enterprise.execute(lt,{action:h}).then(Pr=>{Qt(Pr)}).catch(()=>{Qt("NO_RECAPTCHA")})}):un(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((lt,Qt)=>{(function W(lt){return se.apply(this,arguments)})(M.auth).then(un=>{if(!g&&xs(window.grecaptcha))Le(un,lt,Qt);else{if(typeof window>"u")return void Qt(new Error("RecaptchaVerifier is only supported in browser"));Bi("https://www.google.com/recaptcha/enterprise.js?render="+un).then(()=>{Le(un,lt,Qt)}).catch(_n=>{Qt(_n)})}}).catch(un=>{Qt(un)})})})()}}function pi(C,h,g){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,ae.Z)(function*(C,h,g,M=!1){const W=new ti(C);let se;try{se=yield W.verify(g)}catch{se=yield W.verify(g,!0)}const Le=Object.assign({},h);return Object.assign(Le,M?{captchaResp:se}:{captchaResponse:se}),Object.assign(Le,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Le,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Le})).apply(this,arguments)}class fs{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const M=se=>new Promise((Le,lt)=>{try{Le(h(se))}catch(Qt){lt(Qt)}});M.onAbort=g,this.queue.push(M);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,ae.Z)(function*(){if(g.auth.currentUser===h)return;const M=[];try{for(const W of g.queue)yield W(h),W.onAbort&&M.push(W.onAbort)}catch(W){M.reverse();for(const se of M)try{se()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:W?.message})}})()}}class Zs{constructor(h,g,M,W){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=M,this.config=W,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Re(this),this.idTokenSubscription=new Re(this),this.beforeStateQueue=new fs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ce,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=W.sdkClientVersion}_initializeWithPersistence(h,g){var M=this;return g&&(this._popupRedirectResolver=X(g)),this._initializationPromise=this.queue((0,ae.Z)(function*(){var W,se;if(!M._deleted&&(M.persistenceManager=yield Pe.create(M,h),!M._deleted)){if(null!==(W=M._popupRedirectResolver)&&void 0!==W&&W._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(g),M.lastNotifiedUid=(null===(se=M.currentUser)||void 0===se?void 0:se.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,ae.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,ae.Z)(function*(){var M;const W=yield g.assertedPersistence.getCurrentUser();let se=W,Le=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const lt=null===(M=g.redirectUser)||void 0===M?void 0:M._redirectEventId,Qt=se?._redirectEventId,un=yield g.tryRedirectSignIn(h);(!lt||lt===Qt)&&un?.user&&(se=un.user,Le=!0)}if(!se)return g.directlySetCurrentUser(null);if(!se._redirectEventId){if(Le)try{yield g.beforeStateQueue.runMiddleware(se)}catch(lt){se=W,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(lt))}return se?g.reloadAndSetCurrentUserOrClear(se):g.directlySetCurrentUser(null)}return wt(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===se._redirectEventId?g.directlySetCurrentUser(se):g.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(h){var g=this;return(0,ae.Z)(function*(){let M=null;try{M=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,ae.Z)(function*(){try{yield Ui(h)}catch(M){if("auth/network-request-failed"!==M?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function st(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var h=this;return(0,ae.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,ae.Z)(function*(){const M=h?(0,E.m9)(h):null;return M&&wt(M.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(M&&M._clone(g))})()}_updateCurrentUser(h,g=!1){var M=this;return(0,ae.Z)(function*(){if(!M._deleted)return h&&wt(M.tenantId===h.tenantId,M,"tenant-id-mismatch"),g||(yield M.beforeStateQueue.runMiddleware(h)),M.queue((0,ae.Z)(function*(){yield M.directlySetCurrentUser(h),M.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,ae.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,ae.Z)(function*(){yield g.assertedPersistence.setPersistence(X(h))}))}initializeRecaptchaConfig(){var h=this;return(0,ae.Z)(function*(){const g=yield ei(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),M=new Rs(g);null==h.tenantId?h._agentRecaptchaConfig=M:h._tenantRecaptchaConfigs[h.tenantId]=M,M.emailPasswordEnabled&&new ti(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new E.LL("auth","Firebase",h())}onAuthStateChanged(h,g,M){return this.registerStateListener(this.authStateSubscription,h,g,M)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,M){return this.registerStateListener(this.idTokenSubscription,h,g,M)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var M=this;return(0,ae.Z)(function*(){const W=yield M.getOrInitRedirectPersistenceManager(g);return null===h?W.removeCurrentUser():W.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,ae.Z)(function*(){if(!g.redirectPersistenceManager){const M=h&&X(h)||g._popupRedirectResolver;wt(M,g,"argument-error"),g.redirectPersistenceManager=yield Pe.create(g,[X(M._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,ae.Z)(function*(){var M,W;return g._isInitialized&&(yield g.queue((0,ae.Z)(function*(){}))),(null===(M=g._currentUser)||void 0===M?void 0:M._redirectEventId)===h?g._currentUser:(null===(W=g.redirectUser)||void 0===W?void 0:W._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,ae.Z)(function*(){if(h===g.currentUser)return g.queue((0,ae.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,M,W){if(this._deleted)return()=>{};const se="function"==typeof g?g:g.next.bind(g),Le=this._isInitialized?Promise.resolve():this._initializationPromise;return wt(Le,this,"internal-error"),Le.then(()=>se(this.currentUser)),"function"==typeof g?h.addObserver(g,M,W):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,ae.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=An(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,ae.Z)(function*(){var g;const M={"X-Client-Version":h.clientVersion};h.app.options.appId&&(M["X-Firebase-gmpid"]=h.app.options.appId);const W=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();W&&(M["X-Firebase-Client"]=W);const se=yield h._getAppCheckToken();return se&&(M["X-Firebase-AppCheck"]=se),M})()}_getAppCheckToken(){var h=this;return(0,ae.Z)(function*(){var g;const M=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return M?.error&&function gt(C,...h){Ze.logLevel<=he.in.WARN&&Ze.warn(`Auth (${Xe.SDK_VERSION}): ${C}`,...h)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function xe(C){return(0,E.m9)(C)}class Re{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,E.ne)(g=>this.observer=g)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function on(C){const h=C.indexOf(":");return h<0?"":C.substr(0,h+1)}function Un(C){if(!C)return null;const h=Number(C);return isNaN(h)?null:h}class ji{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return Et("not implemented")}_getIdTokenResponse(h){return Et("not implemented")}_linkToIdToken(h,g){return Et("not implemented")}_getReauthenticationResolver(h){return Et("not implemented")}}function Ir(C,h){return $s.apply(this,arguments)}function $s(){return($s=(0,ae.Z)(function*(C,h){return _t(C,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Mi(C,h){return ho.apply(this,arguments)}function ho(){return(ho=(0,ae.Z)(function*(C,h){return Sn(C,"POST","/v1/accounts:signInWithPassword",ht(C,h))})).apply(this,arguments)}function Ys(){return(Ys=(0,ae.Z)(function*(C,h){return _t(C,"POST","/v1/accounts:sendOobCode",ht(C,h))})).apply(this,arguments)}function Hi(){return(Hi=(0,ae.Z)(function*(C,h){return function _s(C,h){return Ys.apply(this,arguments)}(C,h)})).apply(this,arguments)}function $i(){return($i=(0,ae.Z)(function*(C,h){return Sn(C,"POST","/v1/accounts:signInWithEmailLink",ht(C,h))})).apply(this,arguments)}function Ps(){return(Ps=(0,ae.Z)(function*(C,h){return Sn(C,"POST","/v1/accounts:signInWithEmailLink",ht(C,h))})).apply(this,arguments)}class Vn extends ji{constructor(h,g,M,W=null){super("password",M),this._email=h,this._password=g,this._tenantId=W}static _fromEmailAndPassword(h,g){return new Vn(h,g,"password")}static _fromEmailAndCode(h,g,M=null){return new Vn(h,g,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,ae.Z)(function*(){var M;switch(g.signInMethod){case"password":const W={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(M=h._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const se=yield pi(h,W,"signInWithPassword");return Mi(h,se)}return Mi(h,W).catch(function(){var se=(0,ae.Z)(function*(Le){if("auth/missing-recaptcha-token"===Le.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const lt=yield pi(h,W,"signInWithPassword");return Mi(h,lt)}return Promise.reject(Le)});return function(Le){return se.apply(this,arguments)}}());case"emailLink":return function _a(C,h){return $i.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:ct(h,"internal-error")}})()}_linkToIdToken(h,g){var M=this;return(0,ae.Z)(function*(){switch(M.signInMethod){case"password":return Ir(h,{idToken:g,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function Xi(C,h){return Ps.apply(this,arguments)}(h,{idToken:g,email:M._email,oobCode:M._password});default:ct(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function pr(C,h){return xn.apply(this,arguments)}function xn(){return(xn=(0,ae.Z)(function*(C,h){return Sn(C,"POST","/v1/accounts:signInWithIdp",ht(C,h))})).apply(this,arguments)}class Oe{constructor(h){var g,M,W,se,Le,lt;const Qt=(0,E.zd)((0,E.pd)(h)),un=null!==(g=Qt.apiKey)&&void 0!==g?g:null,_n=null!==(M=Qt.oobCode)&&void 0!==M?M:null,Pr=function pe(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=Qt.mode)&&void 0!==W?W:null);wt(un&&_n&&Pr,"argument-error"),this.apiKey=un,this.operation=Pr,this.code=_n,this.continueUrl=null!==(se=Qt.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(Le=Qt.languageCode)&&void 0!==Le?Le:null,this.tenantId=null!==(lt=Qt.tenantId)&&void 0!==lt?lt:null}static parseLink(h){const g=function _e(C){const h=(0,E.zd)((0,E.pd)(C)).link,g=h?(0,E.zd)((0,E.pd)(h)).deep_link_id:null,M=(0,E.zd)((0,E.pd)(C)).deep_link_id;return(M?(0,E.zd)((0,E.pd)(M)).link:null)||M||g||h||C}(h);try{return new Oe(g)}catch{return null}}}let Pt=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(g,M){return Vn._fromEmailAndPassword(g,M)}static credentialWithLink(g,M){const W=Oe.parseLink(M);return wt(W,"argument-error"),Vn._fromEmailAndCode(g,W.code,W.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Wt{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Ct extends Wt{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}function Ii(C,h){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,ae.Z)(function*(C,h){return Sn(C,"POST","/v1/accounts:signUp",ht(C,h))})).apply(this,arguments)}class ur{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,M,W=!1){return(0,ae.Z)(function*(){const se=yield Nr._fromIdTokenResponse(h,M,W),Le=ss(M);return new ur({user:se,providerId:Le,_tokenResponse:M,operationType:g})})()}static _forOperation(h,g,M){return(0,ae.Z)(function*(){yield h._updateTokensIfNecessary(M,!0);const W=ss(M);return new ur({user:h,providerId:W,_tokenResponse:M,operationType:g})})()}}function ss(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}class mi extends E.ZR{constructor(h,g,M,W){var se;super(g.code,g.message),this.operationType=M,this.user=W,Object.setPrototypeOf(this,mi.prototype),this.customData={appName:h.name,tenantId:null!==(se=h.tenantId)&&void 0!==se?se:void 0,_serverResponse:g.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(h,g,M,W){return new mi(h,g,M,W)}}function es(C,h,g,M){return("reauthenticate"===h?g._getReauthenticationResolver(C):g._getIdTokenResponse(C)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?mi._fromErrorAndOperation(C,se,h,M):se})}function bi(){return(bi=(0,ae.Z)(function*(C,h,g=!1){const M=yield ai(C,h._linkToIdToken(C.auth,yield C.getIdToken()),g);return ur._forOperation(C,"link",M)})).apply(this,arguments)}function Co(){return(Co=(0,ae.Z)(function*(C,h,g=!1){const{auth:M}=C,W="reauthenticate";try{const se=yield ai(C,es(M,W,h,C),g);wt(se.idToken,M,"internal-error");const Le=hr(se.idToken);wt(Le,M,"internal-error");const{sub:lt}=Le;return wt(C.uid===lt,M,"user-mismatch"),ur._forOperation(C,W,se)}catch(se){throw"auth/user-not-found"===se?.code&&ct(M,"user-mismatch"),se}})).apply(this,arguments)}function Hs(C,h){return br.apply(this,arguments)}function br(){return(br=(0,ae.Z)(function*(C,h,g=!1){const M="signIn",W=yield es(C,M,h),se=yield ur._fromIdTokenResponse(C,M,W);return g||(yield C._updateCurrentUser(se.user)),se})).apply(this,arguments)}function Jo(){return(Jo=(0,ae.Z)(function*(C,h){return Hs(xe(C),h)})).apply(this,arguments)}function jo(C,h,g){return Xs.apply(this,arguments)}function Xs(){return Xs=(0,ae.Z)(function*(C,h,g){var M;const W=xe(C),se={returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"};let Le;if(null!==(M=W._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const un=yield pi(W,se,"signUpPassword");Le=Ii(W,un)}else Le=Ii(W,se).catch(function(){var un=(0,ae.Z)(function*(_n){if("auth/missing-recaptcha-token"===_n.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Pr=yield pi(W,se,"signUpPassword");return Ii(W,Pr)}return Promise.reject(_n)});return function(_n){return un.apply(this,arguments)}}());const lt=yield Le.catch(un=>Promise.reject(un)),Qt=yield ur._fromIdTokenResponse(W,"signIn",lt);return yield W._updateCurrentUser(Qt.user),Qt}),Xs.apply(this,arguments)}function ms(C,h,g){return function ri(C,h){return Jo.apply(this,arguments)}((0,E.m9)(C),Pt.credential(h,g))}function Ra(C,h){return $o.apply(this,arguments)}function $o(){return $o=(0,ae.Z)(function*(C,h){const g=(0,E.m9)(C),W={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};h&&function Ss(C,h,g){var M;wt((null===(M=g.url)||void 0===M?void 0:M.length)>0,C,"invalid-continue-uri"),wt(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(wt(g.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(wt(g.android.packageName.length>0,C,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}(g.auth,W,h);const{email:se}=yield function Io(C,h){return Hi.apply(this,arguments)}(g.auth,W);se!==C.email&&(yield C.reload())}),$o.apply(this,arguments)}function li(C){return(0,E.m9)(C).signOut()}const qt="__sak";class rt{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(qt,"1"),this.storage.removeItem(qt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const $a=(()=>{class C extends rt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,M)=>this.onStorageEvent(g,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dt(){const C=(0,E.z$)();return En(C)||Ei(C)}()&&function Kt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=At(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const M of Object.keys(this.listeners)){const W=this.storage.getItem(M),se=this.localCache[M];W!==se&&g(M,se,W)}}onStorageEvent(g,M=!1){if(!g.key)return void this.forAllChangedKeys((lt,Qt,un)=>{this.notifyListeners(lt,un)});const W=g.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const lt=this.storage.getItem(W);if(g.newValue!==lt)null!==g.newValue?this.storage.setItem(W,g.newValue):this.storage.removeItem(W);else if(this.localCache[W]===g.newValue&&!M)return}const se=()=>{const lt=this.storage.getItem(W);!M&&this.localCache[W]===lt||this.notifyListeners(W,lt)},Le=this.storage.getItem(W);!function Be(){return(0,E.w1)()&&10===document.documentMode}()||Le===g.newValue||g.newValue===g.oldValue?se():setTimeout(se,10)}notifyListeners(g,M){this.localCache[g]=M;const W=this.listeners[g];if(W)for(const se of Array.from(W))se(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,M,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:M,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(M)}_removeListener(g,M){this.listeners[g]&&(this.listeners[g].delete(M),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,M){var W=()=>super._set,se=this;return(0,ae.Z)(function*(){yield W().call(se,g,M),se.localCache[g]=JSON.stringify(M)})()}_get(g){var M=()=>super._get,W=this;return(0,ae.Z)(function*(){const se=yield M().call(W,g);return W.localCache[g]=JSON.stringify(se),se})()}_remove(g){var M=()=>super._remove,W=this;return(0,ae.Z)(function*(){yield M().call(W,g),delete W.localCache[g]})()}}return C.type="LOCAL",C})(),Is=(()=>{class C extends rt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,M){}_removeListener(g,M){}}return C.type="SESSION",C})();let fu=(()=>{class C{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const M=this.receivers.find(se=>se.isListeningto(g));if(M)return M;const W=new C(g);return this.receivers.push(W),W}isListeningto(g){return this.eventTarget===g}handleEvent(g){var M=this;return(0,ae.Z)(function*(){const W=g,{eventId:se,eventType:Le,data:lt}=W.data,Qt=M.handlersMap[Le];if(!Qt?.size)return;W.ports[0].postMessage({status:"ack",eventId:se,eventType:Le});const un=Array.from(Qt).map(function(){var Pr=(0,ae.Z)(function*(so){return so(W.origin,lt)});return function(so){return Pr.apply(this,arguments)}}()),_n=yield function Xa(C){return Promise.all(C.map(function(){var h=(0,ae.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(M){return{fulfilled:!1,reason:M}}});return function(g){return h.apply(this,arguments)}}()))}(un);W.ports[0].postMessage({status:"done",eventId:se,eventType:Le,response:_n})})()}_subscribe(g,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(M)}_unsubscribe(g,M){this.handlersMap[g]&&M&&this.handlersMap[g].delete(M),(!M||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function na(C="",h=10){let g="";for(let M=0;M<h;M++)g+=Math.floor(10*Math.random());return C+g}class Ro{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,M=50){var W=this;return(0,ae.Z)(function*(){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let Le,lt;return new Promise((Qt,un)=>{const _n=na("",20);se.port1.start();const Pr=setTimeout(()=>{un(new Error("unsupported_event"))},M);lt={messageChannel:se,onMessage(so){const ga=so;if(ga.data.eventId===_n)switch(ga.data.status){case"ack":clearTimeout(Pr),Le=setTimeout(()=>{un(new Error("timeout"))},3e3);break;case"done":clearTimeout(Le),Qt(ga.data.response);break;default:clearTimeout(Pr),clearTimeout(Le),un(new Error("invalid_response"))}}},W.handlers.add(lt),se.port1.addEventListener("message",lt.onMessage),W.target.postMessage({eventType:h,eventId:_n,data:g},[se.port2])}).finally(()=>{lt&&W.removeMessageHandler(lt)})})()}}function as(){return window}function yn(){return typeof as().WorkerGlobalScope<"u"&&"function"==typeof as().importScripts}function bs(){return(bs=(0,ae.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Na="firebaseLocalStorageDb",pu="firebaseLocalStorage",N="fbase_key";class _{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function m(C,h){return C.transaction([pu],h?"readwrite":"readonly").objectStore(pu)}function L(){const C=indexedDB.open(Na,1);return new Promise((h,g)=>{C.addEventListener("error",()=>{g(C.error)}),C.addEventListener("upgradeneeded",()=>{const M=C.result;try{M.createObjectStore(pu,{keyPath:N})}catch(W){g(W)}}),C.addEventListener("success",(0,ae.Z)(function*(){const M=C.result;M.objectStoreNames.contains(pu)?h(M):(M.close(),yield function x(){const C=indexedDB.deleteDatabase(Na);return new _(C).toPromise()}(),h(yield L()))}))})}function Q(C,h,g){return me.apply(this,arguments)}function me(){return(me=(0,ae.Z)(function*(C,h,g){const M=m(C,!0).put({[N]:h,value:g});return new _(M).toPromise()})).apply(this,arguments)}function He(){return(He=(0,ae.Z)(function*(C,h){const g=m(C,!1).get(h),M=yield new _(g).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function dt(C,h){const g=m(C,!0).delete(h);return new _(g).toPromise()}const et=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,ae.Z)(function*(){return g.db||(g.db=yield L()),g.db})()}_withRetries(g){var M=this;return(0,ae.Z)(function*(){let W=0;for(;;)try{const se=yield M._openDb();return yield g(se)}catch(se){if(W++>3)throw se;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,ae.Z)(function*(){return yn()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,ae.Z)(function*(){g.receiver=fu._getInstance(function pn(){return yn()?self:null}()),g.receiver._subscribe("keyChanged",function(){var M=(0,ae.Z)(function*(W,se){return{keyProcessed:(yield g._poll()).includes(se.key)}});return function(W,se){return M.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var M=(0,ae.Z)(function*(W,se){return["keyChanged"]});return function(W,se){return M.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,ae.Z)(function*(){var M,W;if(g.activeServiceWorker=yield function zs(){return bs.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Ro(g.activeServiceWorker);const se=yield g.sender._send("ping",{},800);se&&null!==(M=se[0])&&void 0!==M&&M.fulfilled&&null!==(W=se[0])&&void 0!==W&&W.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var M=this;return(0,ae.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function Fi(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:g},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ae.Z)(function*(){try{if(!indexedDB)return!1;const g=yield L();return yield Q(g,qt,"1"),yield dt(g,qt),!0}catch{}return!1})()}_withPendingWrite(g){var M=this;return(0,ae.Z)(function*(){M.pendingWrites++;try{yield g()}finally{M.pendingWrites--}})()}_set(g,M){var W=this;return(0,ae.Z)(function*(){return W._withPendingWrite((0,ae.Z)(function*(){return yield W._withRetries(se=>Q(se,g,M)),W.localCache[g]=M,W.notifyServiceWorker(g)}))})()}_get(g){var M=this;return(0,ae.Z)(function*(){const W=yield M._withRetries(se=>function we(C,h){return He.apply(this,arguments)}(se,g));return M.localCache[g]=W,W})()}_remove(g){var M=this;return(0,ae.Z)(function*(){return M._withPendingWrite((0,ae.Z)(function*(){return yield M._withRetries(W=>dt(W,g)),delete M.localCache[g],M.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,ae.Z)(function*(){const M=yield g._withRetries(Le=>{const lt=m(Le,!1).getAll();return new _(lt).toPromise()});if(!M)return[];if(0!==g.pendingWrites)return[];const W=[],se=new Set;for(const{fbase_key:Le,value:lt}of M)se.add(Le),JSON.stringify(g.localCache[Le])!==JSON.stringify(lt)&&(g.notifyListeners(Le,lt),W.push(Le));for(const Le of Object.keys(g.localCache))g.localCache[Le]&&!se.has(Le)&&(g.notifyListeners(Le,null),W.push(Le));return W})()}notifyListeners(g,M){this.localCache[g]=M;const W=this.listeners[g];if(W)for(const se of Array.from(W))se(M)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,ae.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(M)}_removeListener(g,M){this.listeners[g]&&(this.listeners[g].delete(M),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();Oi("rcb"),new Te(3e4,6e4);class to extends ji{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return pr(h,this._buildIdpRequest())}_linkToIdToken(h,g){return pr(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return pr(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function Oa(C){return Hs(C.auth,new to(C),C.bypassAuthState)}function no(C){const{auth:h,user:g}=C;return wt(g,h,"internal-error"),function ki(C,h){return Co.apply(this,arguments)}(g,new to(C),C.bypassAuthState)}function Bs(C){return eu.apply(this,arguments)}function eu(){return(eu=(0,ae.Z)(function*(C){const{auth:h,user:g}=C;return wt(g,h,"internal-error"),function Qs(C,h){return bi.apply(this,arguments)}(g,new to(C),C.bypassAuthState)})).apply(this,arguments)}class cs{constructor(h,g,M,W,se=!1){this.auth=h,this.resolver=M,this.user=W,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,ae.Z)(function*(M,W){h.pendingPromise={resolve:M,reject:W};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(se){h.reject(se)}});return function(M,W){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,ae.Z)(function*(){const{urlResponse:M,sessionId:W,postBody:se,tenantId:Le,error:lt,type:Qt}=h;if(lt)return void g.reject(lt);const un={auth:g.auth,requestUri:M,sessionId:W,tenantId:Le||void 0,postBody:se||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Qt)(un))}catch(_n){g.reject(_n)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Oa;case"linkViaPopup":case"linkViaRedirect":return Bs;case"reauthViaPopup":case"reauthViaRedirect":return no;default:ct(this.auth,"internal-error")}}resolve(h){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Te(2e3,1e4);const Dl="pendingRedirect",rs=new Map;class oc extends cs{constructor(h,g,M=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,M),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,ae.Z)(function*(){let M=rs.get(g.auth._key());if(!M){try{const se=(yield function Pa(C,h){return Nu.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;M=()=>Promise.resolve(se)}catch(W){M=()=>Promise.reject(W)}rs.set(g.auth._key(),M)}return g.bypassAuthState||rs.set(g.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,M=this;return(0,ae.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(M,h);if("unknown"!==h.type){if(h.eventId){const W=yield M.auth._redirectUserForId(h.eventId);if(W)return M.user=W,g().call(M,h);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,ae.Z)(function*(){})()}cleanUp(){}}function Nu(){return(Nu=(0,ae.Z)(function*(C,h){const g=function mu(C){return te(Dl,C.config.apiKey,C.name)}(h),M=function gu(C){return X(C._redirectPersistence)}(C);if(!(yield M._isAvailable()))return!1;const W="true"===(yield M._get(g));return yield M._remove(g),W})).apply(this,arguments)}function Si(C,h){rs.set(C._key(),h)}function Ou(C,h){return Go.apply(this,arguments)}function Go(){return(Go=(0,ae.Z)(function*(C,h,g=!1){const M=xe(C),W=function Di(C,h){return h?X(h):(wt(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}(M,h),Le=yield new oc(M,W,g).execute();return Le&&!g&&(delete Le.user._redirectEventId,yield M._persistUserIfCurrent(Le.user),yield M._setRedirectUser(null,h)),Le})).apply(this,arguments)}class ha{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(h,M)&&(g=!0,this.sendToConsumer(h,M),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function uc(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nu(C);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var M;if(h.error&&!nu(h)){const W=(null===(M=h.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";g.onError(at(this.auth,W))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const M=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&M}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zo(h))}saveEventToCache(h){this.cachedEventUids.add(zo(h)),this.lastProcessedEventTime=Date.now()}}function zo(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(h=>h).join("-")}function nu({type:C,error:h}){return"unknown"===C&&"auth/no-auth-event"===h?.code}function Pu(){return(Pu=(0,ae.Z)(function*(C,h={}){return _t(C,"GET","/v1/projects",h)})).apply(this,arguments)}const fa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,La=/^https?/;function iu(){return iu=(0,ae.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:h}=yield function ru(C){return Pu.apply(this,arguments)}(C);for(const g of h)try{if(qa(g))return}catch{}ct(C,"unauthorized-domain")}),iu.apply(this,arguments)}function qa(C){const h=Ft(),{protocol:g,hostname:M}=new URL(h);if(C.startsWith("chrome-extension://")){const Le=new URL(C);return""===Le.hostname&&""===M?"chrome-extension:"===g&&C.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Le.hostname===M}if(!La.test(g))return!1;if(fa.test(C))return M===C;const W=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(M)}const Lc=new Te(3e4,6e4);function pa(){const C=as().___jsl;if(C?.H)for(const h of Object.keys(C.H))if(C.H[h].r=C.H[h].r||[],C.H[h].L=C.H[h].L||[],C.H[h].r=[...C.H[h].L],C.CP)for(let g=0;g<C.CP.length;g++)C.CP[g]=null}let yu=null;const Sd=new Te(5e3,15e3),Vc="__/auth/iframe",Uc="emulator/auth/iframe",b={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B(C){const h=C.config;wt(h.authDomain,C,"auth-domain-config-required");const g=h.emulator?ve(h,Uc):`https://${C.config.authDomain}/${Vc}`,M={apiKey:h.apiKey,appName:C.name,v:Xe.SDK_VERSION},W=O.get(C.config.apiHost);W&&(M.eid=W);const se=C._getFrameworks();return se.length&&(M.fw=se.join(",")),`${g}?${(0,E.xO)(M).slice(1)}`}function Ne(){return Ne=(0,ae.Z)(function*(C){const h=yield function su(C){return yu=yu||function Wu(C){return new Promise((h,g)=>{var M,W,se;function Le(){pa(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{pa(),g(at(C,"network-request-failed"))},timeout:Lc.get()})}if(null!==(W=null===(M=as().gapi)||void 0===M?void 0:M.iframes)&&void 0!==W&&W.Iframe)h(gapi.iframes.getContext());else{if(null===(se=as().gapi)||void 0===se||!se.load){const lt=Oi("iframefcb");return as()[lt]=()=>{gapi.load?Le():g(at(C,"network-request-failed"))},Bi(`https://apis.google.com/js/api.js?onload=${lt}`).catch(Qt=>g(Qt))}Le()}}).catch(h=>{throw yu=null,h})}(C),yu}(C),g=as().gapi;return wt(g,C,"internal-error"),h.open({where:document.body,url:B(C),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b,dontclear:!0},M=>new Promise(function(){var W=(0,ae.Z)(function*(se,Le){yield M.restyle({setHideOnLeave:!1});const lt=at(C,"network-request-failed"),Qt=as().setTimeout(()=>{Le(lt)},Sd.get());function un(){as().clearTimeout(Qt),se(M)}M.ping(un).then(un,()=>{Le(lt)})});return function(se,Le){return W.apply(this,arguments)}}()))}),Ne.apply(this,arguments)}const Ue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rn{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ts="__/auth/handler",Va="emulator/auth/handler",cc=encodeURIComponent("fac");function _u(C,h,g,M,W,se){return sa.apply(this,arguments)}function sa(){return(sa=(0,ae.Z)(function*(C,h,g,M,W,se){wt(C.config.authDomain,C,"auth-domain-config-required"),wt(C.config.apiKey,C,"invalid-api-key");const Le={apiKey:C.config.apiKey,appName:C.name,authType:g,redirectUrl:M,v:Xe.SDK_VERSION,eventId:W};if(h instanceof Wt){h.setDefaultLanguage(C.languageCode),Le.providerId=h.providerId||"",(0,E.xb)(h.getCustomParameters())||(Le.customParameters=JSON.stringify(h.getCustomParameters()));for(const[_n,Pr]of Object.entries(se||{}))Le[_n]=Pr}if(h instanceof Ct){const _n=h.getScopes().filter(Pr=>""!==Pr);_n.length>0&&(Le.scopes=_n.join(","))}C.tenantId&&(Le.tid=C.tenantId);const lt=Le;for(const _n of Object.keys(lt))void 0===lt[_n]&&delete lt[_n];const Qt=yield C._getAppCheckToken(),un=Qt?`#${cc}=${encodeURIComponent(Qt)}`:"";return`${function ou({config:C}){return C.emulator?ve(C,Va):`https://${C.authDomain}/${Ts}`}(C)}?${(0,E.xO)(lt).slice(1)}${un}`})).apply(this,arguments)}const Bc="webStorageSupport",vm=class _m{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Is,this._completeRedirectFn=Ou,this._overrideRedirectResult=Si}_openPopup(h,g,M,W){var se=this;return(0,ae.Z)(function*(){var Le;In(null===(Le=se.eventManagers[h._key()])||void 0===Le?void 0:Le.manager,"_initialize() not called before _openPopup()");const lt=yield _u(h,g,M,Ft(),W);return function Gn(C,h,g,M=500,W=600){const se=Math.max((window.screen.availHeight-W)/2,0).toString(),Le=Math.max((window.screen.availWidth-M)/2,0).toString();let lt="";const Qt=Object.assign(Object.assign({},Ue),{width:M.toString(),height:W.toString(),top:se,left:Le}),un=(0,E.z$)().toLowerCase();g&&(lt=Dn(un)?"_blank":g),Bt(un)&&(h=h||"http://localhost",Qt.scrollbars="yes");const _n=Object.entries(Qt).reduce((so,[ga,Cs])=>`${so}${ga}=${Cs},`,"");if(function ot(C=(0,E.z$)()){var h;return Ei(C)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(un)&&"_self"!==lt)return function Oo(C,h){const g=document.createElement("a");g.href=C,g.target=h;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(M)}(h||"",lt),new rn(null);const Pr=window.open(h||"",lt,_n);wt(Pr,C,"popup-blocked");try{Pr.focus()}catch{}return new rn(Pr)}(h,lt,na())})()}_openRedirect(h,g,M,W){var se=this;return(0,ae.Z)(function*(){return yield se._originValidation(h),function Ha(C){as().location.href=C}(yield _u(h,g,M,Ft(),W)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:W,promise:se}=this.eventManagers[g];return W?Promise.resolve(W):(In(se,"If manager is not set, promise should be"),se)}const M=this.initAndGetManager(h);return this.eventManagers[g]={promise:M},M.catch(()=>{delete this.eventManagers[g]}),M}initAndGetManager(h){var g=this;return(0,ae.Z)(function*(){const M=yield function ce(C){return Ne.apply(this,arguments)}(h),W=new ha(h);return M.register("authEvent",se=>(wt(se?.authEvent,h,"invalid-auth-event"),{status:W.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:W},g.iframes[h._key()]=M,W})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(Bc,{type:Bc},W=>{var se;const Le=null===(se=W?.[0])||void 0===se?void 0:se[Bc];void 0!==Le&&g(!!Le),ct(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Fc(C){return iu.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return At()||En()||Ei()}};var ku="@firebase/auth";class vu{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,ae.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(M=>{h(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Eu=(0,E.Pz)("authIdTokenMaxAge")||300;let Nh=null;const dc=C=>function(){var h=(0,ae.Z)(function*(g){const M=g&&(yield g.getIdTokenResult()),W=M&&((new Date).getTime()-Date.parse(M.issuedAtTime))/1e3;if(W&&W>Eu)return;const se=M?.token;Nh!==se&&(Nh=se,yield fetch(C,{method:se?"POST":"DELETE",headers:se?{Authorization:`Bearer ${se}`}:{}}))});return function(g){return h.apply(this,arguments)}}();function yp(C=(0,Xe.getApp)()){const h=(0,Xe._getProvider)(C,"auth");if(h.isInitialized())return h.getImmediate();const g=function je(C,h){const g=(0,Xe._getProvider)(C,"auth");if(g.isInitialized()){const W=g.getImmediate(),se=g.getOptions();if((0,E.vZ)(se,h??{}))return W;ct(W,"already-initialized")}return g.initialize({options:h})}(C,{popupRedirectResolver:vm,persistence:[et,$a,Is]}),M=(0,E.Pz)("authTokenSyncURL");if(M){const se=dc(M);(function rr(C,h,g){(0,E.m9)(C).beforeAuthStateChanged(h,g)})(g,se,()=>se(g.currentUser)),function Dr(C,h,g,M){(0,E.m9)(C).onIdTokenChanged(h,g,M)}(g,Le=>se(Le))}const W=(0,E.q4)("auth");return W&&function kt(C,h,g){const M=xe(C);wt(M._canInitEmulator,M,"emulator-config-failed"),wt(/^https?:\/\//.test(h),M,"invalid-emulator-scheme");const W=!!g?.disableWarnings,se=on(h),{host:Le,port:lt}=function nr(C){const h=on(C),g=/(\/\/)?([^?#/]+)/.exec(C.substr(h.length));if(!g)return{host:"",port:null};const M=g[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(M);if(W){const se=W[1];return{host:se,port:Un(M.substr(se.length+1))}}{const[se,Le]=M.split(":");return{host:se,port:Un(Le)}}}(h);M.config.emulator={url:`${se}//${Le}${null===lt?"":`:${lt}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:Le,port:lt,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function ar(){function C(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}(g,`http://${W}`),g}!function $c(C){(0,Xe._registerComponent)(new ue.wA("auth",(h,{options:g})=>{const M=h.getProvider("app").getImmediate(),W=h.getProvider("heartbeat"),se=h.getProvider("app-check-internal"),{apiKey:Le,authDomain:lt}=M.options;wt(Le&&!Le.includes(":"),"invalid-api-key",{appName:M.name});const Qt={apiKey:Le,authDomain:lt,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:An(C)},un=new Zs(M,W,se,Qt);return function mt(C,h){const g=h?.persistence||[],M=(Array.isArray(g)?g:[g]).map(X);h?.errorMap&&C._updateErrorMap(h.errorMap),C._initializeWithPersistence(M,h?.popupRedirectResolver)}(un,g),un},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,M)=>{h.getProvider("auth-internal").initialize()})),(0,Xe._registerComponent)(new ue.wA("auth-internal",h=>{const g=xe(h.getProvider("auth").getImmediate());return new vu(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Xe.registerVersion)(ku,"0.23.2",function jc(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,Xe.registerVersion)(ku,"0.23.2","esm2017")}("Browser");class wu{constructor(h){return h}}class Iu{constructor(){return(0,p.vb)("auth")}}const Eo=new de.OlP("angularfire2.auth-instances");function Sl(C){return(h,g)=>{const M=h.runOutsideAngular(()=>C(g));return new wu(M)}}const Gc={provide:Iu,deps:[[new de.FiY,Eo]]},Oh={provide:wu,useFactory:function Ad(C,h){const g=(0,p.JM)("auth",C,h);return g&&new wu(g)},deps:[[new de.FiY,Eo],Ee.Ot]};let Md=(()=>{class C{constructor(){(0,De.KN)("angularfire",p.q4.full,"auth")}}return C.\u0275fac=function(g){return new(g||C)},C.\u0275mod=de.oAB({type:C}),C.\u0275inj=de.cJS({providers:[Oh,Gc]}),C})();function zc(C,...h){return{ngModule:Md,providers:[{provide:Eo,useFactory:Sl(C),multi:!0,deps:[de.R0b,de.zs3,p.HU,Ee.z6,[new de.FiY,Me.nm],...h]}]}}const Ml=(0,p.u3)(jo,!0),vp=(0,p.u3)(yp,!0),Zu=(0,p.u3)(Ra,!0),Mm=(0,p.u3)(ms,!0),uu=(0,p.u3)(li,!0)},2788:(ln,pt,Z)=>{Z.d(pt,{Q1:()=>$e,TE:()=>Te});var p=Z(5592),de=Z(2096),Ee=Z(2459),De=Z(6321),Me=Z(9360),ae=Z(8251),Xe=Z(7398),We=Z(4664),he=Z(8186),ue=Z(4946),Ve=Z(6304),it=Z(3106),Ae=Z(8153),Nt=Z(4537);class bt{constructor(oe,ye,Ke){this._delegate=oe,this.task=ye,this.ref=Ke}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Vt{constructor(oe,ye){this._delegate=oe,this._ref=ye,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new bt(this._delegate.snapshot,this,this._ref)}then(oe,ye){return this._delegate.then(Ke=>{if(oe)return oe(new bt(Ke,this,this._ref))},ye)}on(oe,ye,Ke,ht){let _t;return ye&&(_t="function"==typeof ye?jt=>ye(new bt(jt,this,this._ref)):{next:ye.next?jt=>ye.next(new bt(jt,this,this._ref)):void 0,complete:ye.complete||void 0,error:ye.error||void 0}),this._delegate.on(oe,_t,Ke||void 0,ht||void 0)}}class St{constructor(oe,ye){this._delegate=oe,this._service=ye}get prefixes(){return this._delegate.prefixes.map(oe=>new nn(oe,this._service))}get items(){return this._delegate.items.map(oe=>new nn(oe,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class nn{constructor(oe,ye){this._delegate=oe,this.storage=ye}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(oe){const ye=(0,Ae.g6)(this._delegate,oe);return new nn(ye,this.storage)}get root(){return new nn(this._delegate.root,this.storage)}get parent(){const oe=this._delegate.parent;return null==oe?null:new nn(oe,this.storage)}put(oe,ye){return this._throwIfRoot("put"),new Vt((0,Ae.B0)(this._delegate,oe,ye),this)}putString(oe,ye=Ae.bm.RAW,Ke){this._throwIfRoot("putString");const ht=(0,Ae.qm)(ye,oe),_t=Object.assign({},Ke);return null==_t.contentType&&null!=ht.contentType&&(_t.contentType=ht.contentType),new Vt(new Ae.IX(this._delegate,new Ae.UJ(ht.data,!0),_t),this)}listAll(){return(0,Ae.aF)(this._delegate).then(oe=>new St(oe,this.storage))}list(oe){return(0,Ae.pb)(this._delegate,oe||void 0).then(ye=>new St(ye,this.storage))}getMetadata(){return(0,Ae.sd)(this._delegate)}updateMetadata(oe){return(0,Ae.Ym)(this._delegate,oe)}getDownloadURL(){return(0,Ae.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Ae.oq)(this._delegate)}_throwIfRoot(oe){if(""===this._delegate._location.path)throw(0,Ae.y4)(oe)}}class Mt{constructor(oe,ye){this.app=oe,this._delegate=ye}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(oe){if(Ce(oe))throw(0,Ae.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new nn((0,Ae.iH)(this._delegate,oe),this)}refFromURL(oe){if(!Ce(oe))throw(0,Ae.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ae.gE.makeFromUrl(oe,this._delegate.host)}catch{throw(0,Ae.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new nn((0,Ae.iH)(this._delegate,oe),this)}setMaxUploadRetryTime(oe){this._delegate.maxUploadRetryTime=oe}setMaxOperationRetryTime(oe){this._delegate.maxOperationRetryTime=oe}useEmulator(oe,ye,Ke={}){(0,Ae.a1)(this._delegate,oe,ye,Ke)}}function Ce(ve){return/^[A-Za-z]+:\/\//.test(ve)}function ut(ve,{instanceIdentifier:oe}){const ye=ve.getProvider("app-compat").getImmediate(),Ke=ve.getProvider("storage").getImmediate({identifier:oe});return new Mt(ye,Ke)}!function ct(ve){const oe={TaskState:Ae.$Y,TaskEvent:Ae.FN,StringFormat:Ae.bm,Storage:Mt,Reference:nn};ve.INTERNAL.registerComponent(new Nt.wA("storage-compat",ut,"PUBLIC").setServiceProps(oe).setMultipleInstances(!0)),ve.registerVersion("@firebase/storage-compat","0.3.2")}(it.Z);var at=Z(7247),vn=Z(7142);function or(ve){const oe=function kn(ve){return new p.y(oe=>{const ye=jt=>oe.next(jt);ye(ve.snapshot);const _t=ve.on("state_changed",ye);return ve.then(jt=>{ye(jt),oe.complete()},jt=>{ye(ve.snapshot),(jt=>{oe.error(jt)})(jt)}),function(){_t()}}).pipe(function E(ve,oe=De.z){return(0,Me.e)((ye,Ke)=>{let ht=null,_t=null,jt=null;const Wn=()=>{if(ht){ht.unsubscribe(),ht=null;const Sn=_t;_t=null,Ke.next(Sn)}};function zn(){const Sn=jt+ve,ir=oe.now();if(ir<Sn)return ht=this.schedule(void 0,Sn-ir),void Ke.add(ht);Wn()}ye.subscribe((0,ae.x)(Ke,Sn=>{_t=Sn,jt=oe.now(),ht||(ht=oe.schedule(zn,ve),Ke.add(ht))},()=>{Wn(),Ke.complete()},void 0,()=>{_t=ht=null}))})}(0))}(ve);return{task:ve,then:ve.then.bind(ve),catch:ve.catch.bind(ve),pause:ve.pause.bind(ve),cancel:ve.cancel.bind(ve),resume:ve.resume.bind(ve),snapshotChanges:()=>oe,percentageChanges:()=>oe.pipe((0,Xe.U)(ye=>ye.bytesTransferred/ye.totalBytes*100))}}function wt(ve){return{getDownloadURL:()=>(0,de.of)(void 0).pipe(he.fc,(0,We.w)(()=>ve.getDownloadURL()),he.iC),getMetadata:()=>(0,de.of)(void 0).pipe(he.fc,(0,We.w)(()=>ve.getMetadata()),he.iC),delete:()=>(0,Ee.D)(ve.delete()),child:oe=>wt(ve.child(oe)),updateMetadata:oe=>(0,Ee.D)(ve.updateMetadata(oe)),put:(oe,ye)=>or(ve.put(oe,ye)),putString:(oe,ye,Ke)=>or(ve.putString(oe,ye,Ke)),list:oe=>(0,Ee.D)(ve.list(oe)),listAll:()=>(0,Ee.D)(ve.listAll())}}const Et=new ue.OlP("angularfire2.storageBucket"),In=new ue.OlP("angularfire2.storage.maxUploadRetryTime"),Ft=new ue.OlP("angularfire2.storage.maxOperationRetryTime"),Cn=new ue.OlP("angularfire2.storage.use-emulator");let $e=(()=>{class ve{constructor(ye,Ke,ht,_t,jt,Wn,zn,Sn,ir,Xn){const Ur=(0,Ve.on)(ye,jt,Ke);this.storage=(0,Ve.cc)(`${Ur.name}.storage.${ht}`,"AngularFireStorage",Ur.name,()=>{const qn=jt.runOutsideAngular(()=>Ur.storage(ht||void 0)),gn=ir;return gn&&qn.useEmulator(...gn),zn&&qn.setMaxUploadRetryTime(zn),Sn&&qn.setMaxOperationRetryTime(Sn),qn},[zn,Sn])}ref(ye){return wt(this.storage.ref(ye))}refFromURL(ye){return wt(this.storage.refFromURL(ye))}upload(ye,Ke,ht){return wt(this.storage.ref(ye)).put(Ke,ht)}}return ve.\u0275fac=function(ye){return new(ye||ve)(ue.LFG(Ve.Dh),ue.LFG(Ve.xv,8),ue.LFG(Et,8),ue.LFG(ue.Lbi),ue.LFG(ue.R0b),ue.LFG(he.HU),ue.LFG(In,8),ue.LFG(Ft,8),ue.LFG(Cn,8),ue.LFG(at.nm,8))},ve.\u0275prov=ue.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"any"}),ve})(),st=(()=>{class ve{}return ve.\u0275fac=function(ye){return new(ye||ve)},ve.\u0275mod=ue.oAB({type:ve}),ve.\u0275inj=ue.cJS({}),ve})(),Te=(()=>{class ve{constructor(){vn.Z.registerVersion("angularfire",he.q4.full,"gcs-compat")}}return ve.\u0275fac=function(ye){return new(ye||ve)},ve.\u0275mod=ue.oAB({type:ve}),ve.\u0275inj=ue.cJS({providers:[$e],imports:[st]}),ve})()},6304:(ln,pt,Z)=>{Z.d(pt,{Dh:()=>Xe,cc:()=>Ae,hO:()=>it,on:()=>he,xv:()=>We});var p=Z(4946),de=Z(7142),Ee=Z(8186);ln=Z.hmd(ln);class E{constructor(nn){return nn}}const Xe=new p.OlP("angularfire2.app.options"),We=new p.OlP("angularfire2.app.name");function he(St,nn,Mt){const tt="object"==typeof Mt&&Mt||{};tt.name=tt.name||"string"==typeof Mt&&Mt||"[DEFAULT]";const gt=de.Z.apps.filter(ut=>ut&&ut.name===tt.name)[0]||nn.runOutsideAngular(()=>de.Z.initializeApp(St,tt));try{JSON.stringify(St)!==JSON.stringify(gt.options)&&ue("error",`${gt.name} Firebase App already initialized with different options${ln.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new E(gt)}const ue=(St,...nn)=>{(0,p.X6Q)()&&typeof console<"u"&&console[St](...nn)},Ve={provide:E,useFactory:he,deps:[Xe,p.R0b,[new p.FiY,We]]};let it=(()=>{class St{constructor(Mt){de.Z.registerVersion("angularfire",Ee.q4.full,"core"),de.Z.registerVersion("angularfire",Ee.q4.full,"app-compat"),de.Z.registerVersion("angular",p.q4F.full,Mt.toString())}static initializeApp(Mt,Ce){return{ngModule:St,providers:[{provide:Xe,useValue:Mt},{provide:We,useValue:Ce}]}}}return St.\u0275fac=function(Mt){return new(Mt||St)(p.LFG(p.Lbi))},St.\u0275mod=p.oAB({type:St}),St.\u0275inj=p.cJS({providers:[Ve]}),St})();function Ae(St,nn,Mt,Ce,tt){const[,Ze,gt]=globalThis.\u0275AngularfireInstanceCache.find(ut=>ut[0]===St)||[];if(Ze)return function Nt(St,nn){try{return St.toString()===nn.toString()}catch{return St===nn}}(tt,gt)||(Vt("error",`${nn} was already initialized on the ${Mt} Firebase App with different settings.${bt?" You may need to reload as Firebase is not HMR aware.":""}`),Vt("warn",{is:tt,was:gt})),Ze;{const ut=Ce();return globalThis.\u0275AngularfireInstanceCache.push([St,ut,tt]),ut}}const bt=!!ln.hot,Vt=(St,...nn)=>{(0,p.X6Q)()&&typeof console<"u"&&console[St](...nn)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5723:(ln,pt,Z)=>{Z.d(pt,{gg:()=>Ed,ET:()=>v0,hJ:()=>h_,BS:()=>d_,JU:()=>g_,ad:()=>y_,Xo:()=>__,Cm:()=>g0,IO:()=>S0,r7:()=>I_});var Ae,p=Z(8186),de=Z(4946),Ee=Z(5609),De=Z(8726),Me=Z(3182),ae=Z(7247),E=Z(5861),Xe=Z(534),We=Z(4537),he=Z(7879),ue=Z(9058),Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},it={},Nt=Nt||{},bt=Ve||self;function Vt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function St(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Mt="closure_uid_"+(1e9*Math.random()>>>0),Ce=0;function tt(i,e,n){return i.call.apply(i.bind,arguments)}function Ze(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function gt(i,e,n){return(gt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tt:Ze).apply(null,arguments)}function ut(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function ct(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,l){for(var f=Array(arguments.length-2),A=2;A<arguments.length;A++)f[A-2]=arguments[A];return e.prototype[u].apply(o,f)}}function at(){this.s=this.s,this.o=this.o}at.prototype.s=!1,at.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function nn(i){Object.prototype.hasOwnProperty.call(i,Mt)&&i[Mt]||(i[Mt]=++Ce)}(this)},at.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function or(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function wt(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Vt(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=o[f]}else i.push(o)}}function Et(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Et.prototype.h=function(){this.defaultPrevented=!0};var In=function(){if(!bt.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{bt.addEventListener("test",()=>{},e),bt.removeEventListener("test",()=>{},e)}catch{}return i}();function Ft(i){return/^[\s\xa0]*$/.test(i)}function Cn(){var i=bt.navigator;return i&&(i=i.userAgent)?i:""}function $e(i){return-1!=Cn().indexOf(i)}function Je(i){return Je[" "](i),i}Je[" "]=function(){};var jt,i,Te=$e("Opera"),ve=$e("Trident")||$e("MSIE"),oe=$e("Edge"),ye=oe||ve,Ke=$e("Gecko")&&!(-1!=Cn().toLowerCase().indexOf("webkit")&&!$e("Edge"))&&!($e("Trident")||$e("MSIE"))&&!$e("Edge"),ht=-1!=Cn().toLowerCase().indexOf("webkit")&&!$e("Edge");function _t(){var i=bt.document;return i?i.documentMode:void 0}e:{var Wn="",zn=(i=Cn(),Ke?/rv:([^\);]+)(\)|;)/.exec(i):oe?/Edge\/([\d\.]+)/.exec(i):ve?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ht?/WebKit\/(\S+)/.exec(i):Te?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(zn&&(Wn=zn?zn[1]:""),ve){var Sn=_t();if(null!=Sn&&Sn>parseFloat(Wn)){jt=String(Sn);break e}}jt=Wn}var Ur=bt.document&&ve&&(_t()||parseInt(jt,10))||void 0;function qn(i,e){if(Et.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Ke){e:{try{Je(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:gn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&qn.$.h.call(this)}}ct(qn,Et);var gn={2:"touch",3:"pen",4:"mouse"};qn.prototype.h=function(){qn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var sr="closure_listenable_"+(1e6*Math.random()|0),mn=0;function fi(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++mn,this.fa=this.ia=!1}function er(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Qn(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function Mn(i){const e={};for(const n in i)e[n]=i[n];return e}const cr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Br(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<cr.length;l++)n=cr[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function Zr(i){this.src=i,this.g={},this.h=0}function hr(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=kn(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(er(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Rr(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==o)return u}return-1}Zr.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=Rr(i,e,o,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new fi(e,this.src,l,!!o,u)).ia=n,i.push(e)),e};var ai="closure_lm_"+(1e6*Math.random()|0),lr={};function ui(i,e,n,o,u){if(o&&o.once)return Ui(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)ui(i,e[l],n,o,u);return null}return n=bn(n),i&&i[sr]?i.O(e,n,St(o)?!!o.capture:!!o,u):zt(i,e,n,!1,o,u)}function zt(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=St(u)?!!u.capture:!!u,A=Ai(i);if(A||(i[ai]=A=new Zr(i)),(n=A.add(e,n,o,f,l)).proxy)return n;if(o=function Zi(){const e=hn;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)In||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(fr(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function Ui(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Ui(i,e[l],n,o,u);return null}return n=bn(n),i&&i[sr]?i.P(e,n,St(o)?!!o.capture:!!o,u):zt(i,e,n,!0,o,u)}function jr(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)jr(i,e[l],n,o,u);else o=St(o)?!!o.capture:!!o,n=bn(n),i&&i[sr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Rr(l=i.g[e],n,o,u))&&(er(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=Ai(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Rr(e,n,o,u)),(n=-1<i?e[i]:null)&&Xr(n))}function Xr(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[sr])hr(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(fr(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=Ai(e))?(hr(n,i),0==n.h&&(n.src=null,e[ai]=null)):er(i)}}}function fr(i){return i in lr?lr[i]:lr[i]="on"+i}function hn(i,e){if(i.fa)i=!0;else{e=new qn(e,this);var n=i.listener,o=i.la||i.src;i.ia&&Xr(i),i=n.call(o,e)}return i}function Ai(i){return(i=i[ai])instanceof Zr?i:null}var vi="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(i){return"function"==typeof i?i:(i[vi]||(i[vi]=function(e){return i.handleEvent(e)}),i[vi])}function dr(){at.call(this),this.i=new Zr(this),this.S=this,this.J=null}function Fn(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new Et(e,i);else if(e instanceof Et)e.target=e.target||i;else{var u=e;Br(e=new Et(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=Nr(f,o,!0,e)&&u}if(u=Nr(f=e.g=i,o,!0,e)&&u,u=Nr(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=Nr(f=e.g=n[l],o,!1,e)&&u}function Nr(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var A=f.listener,V=f.la||f.src;f.ia&&hr(i.i,f),u=!1!==A.call(V,o)&&u}}return u&&!o.defaultPrevented}ct(dr,at),dr.prototype[sr]=!0,dr.prototype.removeEventListener=function(i,e,n,o){jr(this,i,e,n,o)},dr.prototype.N=function(){if(dr.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)er(n[o]);delete i.g[e],i.h--}}this.J=null},dr.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},dr.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var be=bt.JSON.stringify;function re(){var i=Kn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var te=new class X{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Pe,i=>i.reset());class Pe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function yt(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function Bt(i){bt.setTimeout(()=>{throw i},0)}let En,Dn=!1,Kn=new class ne{constructor(){this.h=this.g=null}add(e,n){const o=te.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},Xt=()=>{const i=bt.Promise.resolve(void 0);En=()=>{i.then(Wr)}};var Wr=()=>{for(var i;i=re();){try{i.h.call(i.g)}catch(n){Bt(n)}var e=te;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Dn=!1};function Yr(i,e){dr.call(this),this.h=i||1,this.g=e||bt,this.j=gt(this.qb,this),this.l=Date.now()}function Ei(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Ri(i,e,n){if("function"==typeof i)n&&(i=gt(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=gt(i.handleEvent,i)}return 2147483647<Number(e)?-1:bt.setTimeout(i,e||0)}function ot(i){i.g=Ri(()=>{i.g=null,i.i&&(i.i=!1,ot(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ct(Yr,dr),(Ae=Yr.prototype).ga=!1,Ae.T=null,Ae.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fn(this,"tick"),this.ga&&(Ei(this),this.start()))}},Ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ae.N=function(){Yr.$.N.call(this),Ei(this),delete this.g};class Be extends at{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ot(this)}N(){super.N(),this.g&&(bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function At(i){at.call(this),this.h=i,this.g={}}ct(At,at);var Kt=[];function An(i,e,n,o){Array.isArray(n)||(n&&(Kt[0]=n.toString()),n=Kt);for(var u=0;u<n.length;u++){var l=ui(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function Zt(i){Qn(i.g,function(e,n){this.g.hasOwnProperty(n)&&Xr(e)},i),i.g={}}function $n(){this.g=!0}function Ni(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Rs(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return be(n)}catch{return e}}(i,n)+(o?" "+o:"")})}At.prototype.N=function(){At.$.N.call(this),Zt(this)},At.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$n.prototype.Ea=function(){this.g=!1},$n.prototype.info=function(){};var gr={},Bi=null;function Oi(){return Bi=Bi||new dr}function wi(i){Et.call(this,gr.Ta,i)}function tr(i){const e=Oi();Fn(e,new wi(e))}function hs(i,e){Et.call(this,gr.STAT_EVENT,i),this.stat=e}function ti(i){const e=Oi();Fn(e,new hs(e,i))}function pi(i,e){Et.call(this,gr.Ua,i),this.size=e}function Ji(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return bt.setTimeout(function(){i()},e)}gr.Ta="serverreachability",ct(wi,Et),gr.STAT_EVENT="statevent",ct(hs,Et),gr.Ua="timingevent",ct(pi,Et);var fs={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Zs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xe(){}function je(){}xe.prototype.h=null;var nr,mt={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function kt(){Et.call(this,"d")}function on(){Et.call(this,"c")}function Un(){}function ar(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new At(this),this.P=gi,this.V=new Yr(i=ye?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ji}function ji(){this.i=null,this.g="",this.h=!1}ct(kt,Et),ct(on,Et),ct(Un,xe),Un.prototype.g=function(){return new XMLHttpRequest},Un.prototype.i=function(){return{}},nr=new Un;var gi=45e3,Fr={},Ir={};function $s(i,e,n){i.L=1,i.v=Yi(Xi(e)),i.s=n,i.S=!0,co(i,null)}function co(i,e){i.G=Date.now(),_s(i),i.A=Xi(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),_e(n.i,"t",o),i.C=0,n=i.l.J,i.h=new ji,i.g=Xs(i.l,n?e:null,!i.s),0<i.O&&(i.M=new Be(gt(i.Pa,i,i.g),i.O)),An(i.U,i.g,"readystatechange",i.nb),e=i.I?Mn(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),tr(),function ei(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",A=l.split("&"),V=0;V<A.length;V++){var $=A[V].split("=");if(1<$.length){var ie=$[0];$=$[1];var Ie=ie.split("_");f=2<=Ie.length&&"type"==Ie[1]?f+(ie+"=")+$+"&":f+(ie+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function lo(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Mi(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=ho(i,n),u==Ir){4==e&&(i.o=4,ti(14),o=!1),Ni(i.j,i.m,null,"[Incomplete Response]");break}if(u==Fr){i.o=4,ti(15),Ni(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Ni(i.j,i.m,u,null),Os(i,u)}lo(i)&&u!=Ir&&u!=Fr&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,ti(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xo(e),e.M=!0,ti(11))):(Ni(i.j,i.m,n,"[Invalid Chunked Response]"),Ns(i),Hi(i))}function ho(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Ir:(n=Number(e.substring(n,o)),isNaN(n)?Fr:(o+=1)+n>e.length?Ir:(e=e.slice(o,o+n),i.C=o+n,e))}function _s(i){i.Y=Date.now()+i.P,Ys(i,i.P)}function Ys(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ji(gt(i.lb,i),e)}function Io(i){i.B&&(bt.clearTimeout(i.B),i.B=null)}function Hi(i){0==i.l.H||i.J||wa(i.l,i)}function Ns(i){Io(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Ei(i.V),Zt(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Os(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||xr(n.i,i)))if(!i.K&&xr(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;go(n),Bn(n)}va(n),ti(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ji(gt(n.ib,n),6e3));if(1>=Jn(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ma(n,11)}else if((i.K||n.g==i)&&go(n),!Ft(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let $=u[e];if(n.V=$[0],$=$[1],2==n.H)if("c"==$[0]){n.K=$[1],n.pa=$[2];const ie=$[3];null!=ie&&(n.ra=ie,n.l.info("VER="+n.ra));const Ie=$[4];null!=Ie&&(n.Ga=Ie,n.l.info("SVER="+n.Ga));const Ye=$[5];null!=Ye&&"number"==typeof Ye&&0<Ye&&(n.L=o=1.5*Ye,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const vt=i.g;if(vt){const Gt=vt.g?vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gt){var l=o.i;l.g||-1==Gt.indexOf("spdy")&&-1==Gt.indexOf("quic")&&-1==Gt.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Zn(l,l.h),l.h=null))}if(o.F){const dn=vt.g?vt.g.getResponseHeader("X-HTTP-Session-Id"):null;dn&&(o.Da=dn,xn(o.I,o.F,dn))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((o=n).wa=jo(o,o.J?o.pa:null,o.Y),f.K){Hr(o.i,f);var A=f,V=o.L;V&&A.setTimeout(V),A.B&&(Io(A),_s(A)),o.g=f}else ts(o);0<n.j.length&&Gs(n)}else"stop"!=$[0]&&"close"!=$[0]||Ma(n,7);else 3==n.H&&("stop"==$[0]||"close"==$[0]?"stop"==$[0]?Ma(n,7):tn(n):"noop"!=$[0]&&n.h&&n.h.Aa($),n.A=0)}tr()}catch{}}function bo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Vt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function po(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Vt(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function fo(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Vt(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(Ae=ar.prototype).setTimeout=function(i){this.P=i},Ae.nb=function(i){i=i.target;const e=this.M;e&&3==ri(i)?e.l():this.Pa(i)},Ae.Pa=function(i){try{if(i==this.g)e:{const ie=ri(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ie)&&(3!=ie||ye||this.g&&(this.h.h||this.g.ja()||Jo(this.g)))){this.J||4!=ie||7==e||tr(),Io(this);var n=this.g.da();this.ca=n;t:if(lo(this)){var o=Jo(this.g);i="";var u=o.length,l=4==ri(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ns(this),Hi(this);var f="";break t}this.h.i=new bt.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function vr(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,ie,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var A,V=this.g;if((A=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ft(A)){var $=A;break t}}$=null}if(!(n=$)){this.i=!1,this.o=3,ti(12),Ns(this),Hi(this);break e}Ni(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Os(this,n)}this.S?(Mi(this,ie,f),ye&&this.i&&3==ie&&(An(this.U,this.V,"tick",this.mb),this.V.start())):(Ni(this.j,this.m,f,null),Os(this,f)),4==ie&&Ns(this),this.i&&!this.J&&(4==ie?wa(this.l,this):(this.i=!1,_s(this)))}else(function j(i){const e={};i=(i.g&&2<=ri(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(Ft(i[o]))continue;var n=yt(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function Pn(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,ti(12)):(this.o=0,ti(13)),Ns(this),Hi(this)}}}catch{}},Ae.mb=function(){if(this.g){var i=ri(this.g),e=this.g.ja();this.C<e.length&&(Io(this),Mi(this,i,e),this.i&&4!=i&&_s(this))}},Ae.cancel=function(){this.J=!0,Ns(this)},Ae.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function xs(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(tr(),ti(17)),Ns(this),this.o=2,Hi(this)):Ys(this,this.Y-i)};var To=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $i(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof $i){this.h=i.h,Ps(this,i.j),this.s=i.s,this.g=i.g,Vn(this,i.m),this.l=i.l;var e=i.i,n=new Rn;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),pr(this,n),this.o=i.o}else i&&(e=String(i).match(To))?(this.h=!1,Ps(this,e[1]||"",!0),this.s=$r(e[2]||""),this.g=$r(e[3]||"",!0),Vn(this,e[4]),this.l=$r(e[5]||"",!0),pr(this,e[6]||"",!0),this.o=$r(e[7]||"")):(this.h=!1,this.i=new Rn(null,this.h))}function Xi(i){return new $i(i)}function Ps(i,e,n){i.j=n?$r(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Vn(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function pr(i,e,n){e instanceof Rn?(i.i=e,function Qe(i,e){e&&!i.j&&(H(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(z(this,o),_e(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=ks(e,mr)),i.i=new Rn(e,i.h))}function xn(i,e,n){i.i.set(e,n)}function Yi(i){return xn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function $r(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ks(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Ds),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ds(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}$i.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ks(e,vs,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ks(e,vs,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(ks(n,"/"==n.charAt(0)?Fs:ps,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",ks(n,Yt)),i.join("")};var vs=/[#\/\?@]/g,ps=/[#\?:]/g,Fs=/[#\?]/g,mr=/[#\?@]/g,Yt=/#/g;function Rn(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function H(i){i.g||(i.g=new Map,i.h=0,i.i&&function _a(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function z(i,e){H(i),e=Oe(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function pe(i,e){return H(i),e=Oe(i,e),i.g.has(e)}function _e(i,e,n){z(i,e),0<n.length&&(i.i=null,i.g.set(Oe(i,e),or(n)),i.h+=n.length)}function Oe(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Wt(i){this.l=i||Ct,i=bt.PerformanceNavigationTiming?0<(i=bt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(bt.g&&bt.g.Ka&&bt.g.Ka()&&bt.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ae=Rn.prototype).add=function(i,e){H(this),this.i=null,i=Oe(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Ae.forEach=function(i,e){H(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},Ae.ta=function(){H(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},Ae.Z=function(i){H(this);let e=[];if("string"==typeof i)pe(this,i)&&(e=e.concat(this.g.get(Oe(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},Ae.set=function(i,e){return H(this),this.i=null,pe(this,i=Oe(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ae.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var u=l;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var Ct=10;function Nn(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Jn(i){return i.h?1:i.g?i.g.size:0}function xr(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Zn(i,e){i.g?i.g.add(e):i.h=e}function Hr(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function yr(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return or(i.i)}Wt.prototype.cancel=function(){if(this.i=yr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Kr=class{stringify(i){return bt.JSON.stringify(i,void 0)}parse(i){return bt.JSON.parse(i,void 0)}};function Lr(){this.g=new Kr}function ci(i,e,n){const o=n||"";try{bo(i,function(u,l){let f=u;St(u)&&(f=be(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Gr(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function ur(i){this.l=i.fc||null,this.j=i.ob||!1}function ss(i,e){dr.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Yn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ct(ur,xe),ur.prototype.g=function(){return new ss(this.l,this.j)},ur.prototype.i=function(i){return function(){return i}}({}),ct(ss,dr);var Yn=0;function Vo(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function mi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,es(i)}function es(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ae=ss.prototype).open=function(i,e){if(this.readyState!=Yn)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,es(this)},Ae.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||bt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mi(this)),this.readyState=Yn},Ae.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof bt.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vo(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Ae.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?mi(this):es(this),3==this.readyState&&Vo(this)}},Ae.Za=function(i){this.g&&(this.response=this.responseText=i,mi(this))},Ae.Ya=function(i){this.g&&(this.response=i,mi(this))},Ae.ka=function(){this.g&&mi(this)},Ae.setRequestHeader=function(i,e){this.v.append(i,e)},Ae.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ae.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(ss.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var xi=bt.JSON.parse;function ni(i){dr.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gs,this.L=this.M=!1}ct(ni,dr);var gs="",Qs=/^https?$/i,bi=["POST","PUT"];function Pi(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,ki(i),Hs(i)}function ki(i){i.F||(i.F=!0,Fn(i,"complete"),Fn(i,"error"))}function Co(i){if(i.h&&typeof Nt<"u"&&(!i.C[1]||4!=ri(i)||2!=i.da()))if(i.v&&4==ri(i))Ri(i.La,0,i);else if(Fn(i,"readystatechange"),4==ri(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var u=String(i.I).match(To)[1]||null;!u&&bt.self&&bt.self.location&&(u=bt.self.location.protocol.slice(0,-1)),o=!Qs.test(u?u.toLowerCase():"")}n=o}if(n)Fn(i,"complete"),Fn(i,"success");else{i.m=6;try{var l=2<ri(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",ki(i)}}finally{Hs(i)}}}function Hs(i,e){if(i.g){br(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Fn(i,"ready");try{n.onreadystatechange=o}catch{}}}function br(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(bt.clearTimeout(i.A),i.A=null)}function ri(i){return i.g?i.g.readyState:0}function Jo(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case gs:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function q(i){let e="";return Qn(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function P(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=q(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):xn(i,e,n))}function ee(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function Se(i){this.Ga=0,this.j=[],this.l=new $n,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ee("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ee("baseRetryDelayMs",5e3,i),this.hb=ee("retryDelaySeedMs",1e4,i),this.eb=ee("forwardChannelMaxRetries",2,i),this.xa=ee("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Wt(i&&i.concurrentRequestLimit),this.Ja=new Lr,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function tn(i){if(os(i),3==i.H){var e=i.W++,n=Xi(i.I);if(xn(n,"SID",i.K),xn(n,"RID",e),xn(n,"TYPE","terminate"),Ss(i,n),(e=new ar(i,i.l,e)).L=2,e.v=Yi(Xi(n)),n=!1,bt.navigator&&bt.navigator.sendBeacon)try{n=bt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&bt.Image&&((new Image).src=e.v,n=!0),n||(e.g=Xs(e.l,null),e.g.ha(e.v)),e.G=Date.now(),_s(e)}Bo(i)}function Bn(i){i.g&&(Xo(i),i.g.cancel(),i.g=null)}function os(i){Bn(i),i.u&&(bt.clearTimeout(i.u),i.u=null),go(i),i.i.cancel(),i.m&&("number"==typeof i.m&&bt.clearTimeout(i.m),i.m=null)}function Gs(i){if(!Nn(i.i)&&!i.m){i.m=!0;var e=i.Na;En||Xt(),Dn||(En(),Dn=!0),Kn.add(e,i),i.C=0}}function Uo(i,e){var n;n=e?e.m:i.W++;const o=Xi(i.I);xn(o,"SID",i.K),xn(o,"RID",n),xn(o,"AID",i.V),Ss(i,o),i.o&&i.s&&P(o,i.o,i.s),n=new ar(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Do(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Zn(i.i,n),$s(n,o,e)}function Ss(i,e){i.na&&Qn(i.na,function(n,o){xn(e,o,n)}),i.h&&bo({},function(n,o){xn(e,o,n)})}function Do(i,e,n){n=Math.min(i.j.length,n);var o=i.h?gt(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let A=!0;for(let V=0;V<n;V++){let $=u[V].g;const ie=u[V].map;if($-=l,0>$)l=Math.max(0,u[V].g-100),A=!1;else try{ci(ie,f,"req"+$+"_")}catch{o&&o(ie)}}if(A){o=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function ts(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;En||Xt(),Dn||(En(),Dn=!0),Kn.add(e,i),i.A=0}}function va(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Ji(gt(i.Ma,i),Aa(i,i.A)),i.A++,0))}function Xo(i){null!=i.B&&(bt.clearTimeout(i.B),i.B=null)}function Ea(i){i.g=new ar(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Xi(i.wa);xn(e,"RID","rpc"),xn(e,"SID",i.K),xn(e,"AID",i.V),xn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&xn(e,"TO",i.qa),xn(e,"TYPE","xmlhttp"),Ss(i,e),i.o&&i.s&&P(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=Yi(Xi(e)),n.s=null,n.S=!0,co(n,i)}function go(i){null!=i.v&&(bt.clearTimeout(i.v),i.v=null)}function wa(i,e){var n=null;if(i.g==e){go(i),Xo(i),i.g=null;var o=2}else{if(!xr(i.i,e))return;n=e.F,Hr(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;Fn(o=Oi(),new pi(o,n)),Gs(i)}else ts(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function Js(i,e){return!(Jn(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Ji(gt(i.Na,i,e),Aa(i,i.C)),i.C++,0)))}(i,e)||2==o&&va(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:Ma(i,5);break;case 4:Ma(i,10);break;case 3:Ma(i,6);break;default:Ma(i,2)}}function Aa(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function Ma(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=gt(i.pb,i);n||(n=new $i("//www.google.com/images/cleardot.gif"),bt.location&&"http"==bt.location.protocol||Ps(n,"https"),Yi(n)),function Ii(i,e){const n=new $n;if(bt.Image){const o=new Image;o.onload=ut(Gr,n,o,"TestLoadImage: loaded",!0,e),o.onerror=ut(Gr,n,o,"TestLoadImage: error",!1,e),o.onabort=ut(Gr,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=ut(Gr,n,o,"TestLoadImage: timeout",!1,e),bt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else ti(2);i.H=0,i.h&&i.h.za(e),Bo(i),os(i)}function Bo(i){if(i.H=0,i.ma=[],i.h){const e=yr(i.i);(0!=e.length||0!=i.j.length)&&(wt(i.ma,e),wt(i.ma,i.j),i.i.i.length=0,or(i.j),i.j.length=0),i.h.ya()}}function jo(i,e,n){var o=n instanceof $i?Xi(n):new $i(n);if(""!=o.g)e&&(o.g=e+"."+o.g),Vn(o,o.m);else{var u=bt.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new $i(null);o&&Ps(l,o),e&&(l.g=e),u&&Vn(l,u),n&&(l.l=n),o=l}return e=i.Da,(n=i.F)&&e&&xn(o,n,e),xn(o,"VER",i.ra),Ss(i,o),o}function Xs(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ni(n&&i.Ha&&!i.va?new ur({ob:!0}):i.va)).Oa(i.J),e}function ms(){}function Ia(){if(ve&&!(10<=Number(Ur)))throw Error("Environmental error: no available transport.")}function Tr(i,e){dr.call(this),this.g=new Se(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Ft(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ft(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ao(this)}function So(i){kt.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Ls(){on.call(this),this.status=1}function Ao(i){this.g=i}function Es(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ea(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+o[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function Cr(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var l=0|i[u];o&&l==e||(n[u]=l,o=!1)}this.g=n}(Ae=ni.prototype).Oa=function(i){this.M=i},Ae.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():nr.g(),this.C=function Re(i){return i.h||(i.h=i.i())}(this.u?this.u:nr),this.g.onreadystatechange=gt(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void Pi(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=bt.FormData&&i instanceof bt.FormData,!(0<=kn(bi,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{br(this),0<this.B&&((this.L=function oa(i){return ve&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gt(this.ua,this)):this.A=Ri(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){Pi(this,l)}},Ae.ua=function(){typeof Nt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fn(this,"timeout"),this.abort(8))},Ae.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Fn(this,"complete"),Fn(this,"abort"),Hs(this))},Ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hs(this,!0)),ni.$.N.call(this)},Ae.La=function(){this.s||(this.G||this.v||this.l?Co(this):this.kb())},Ae.kb=function(){Co(this)},Ae.isActive=function(){return!!this.g},Ae.da=function(){try{return 2<ri(this)?this.g.status:-1}catch{return-1}},Ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ae.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),xi(e)}},Ae.Ia=function(){return this.m},Ae.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ae=Se.prototype).ra=8,Ae.H=1,Ae.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new ar(this,this.l,i);let l=this.s;if(this.U&&(l?(l=Mn(l),Br(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Do(this,u,e),xn(n=Xi(this.I),"RID",i),xn(n,"CVER",22),this.F&&xn(n,"X-HTTP-Session-Id",this.F),Ss(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(q(l)))+"&"+e:this.o&&P(n,this.o,l)),Zn(this.i,u),this.bb&&xn(n,"TYPE","init"),this.P?(xn(n,"$req",e),xn(n,"SID","null"),u.aa=!0,$s(u,n,null)):$s(u,n,e),this.H=2}}else 3==this.H&&(i?Uo(this,i):0==this.j.length||Nn(this.i)||Uo(this))},Ae.Ma=function(){if(this.u=null,Ea(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Ji(gt(this.jb,this),i)}},Ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ti(10),Bn(this),Ea(this))},Ae.ib=function(){null!=this.v&&(this.v=null,Bn(this),va(this),ti(19))},Ae.pb=function(i){i?(this.l.info("Successfully pinged google.com"),ti(2)):(this.l.info("Failed to ping google.com"),ti(1))},Ae.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ae=ms.prototype).Ba=function(){},Ae.Aa=function(){},Ae.za=function(){},Ae.ya=function(){},Ae.isActive=function(){return!0},Ae.Va=function(){},Ia.prototype.g=function(i,e){return new Tr(i,e)},ct(Tr,dr),Tr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;ti(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=jo(i,null,i.Y),Gs(i)},Tr.prototype.close=function(){tn(this.g)},Tr.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=be(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&Gs(e)},Tr.prototype.N=function(){this.g.h=null,delete this.j,tn(this.g),delete this.g,Tr.$.N.call(this)},ct(So,kt),ct(Ls,on),ct(Ao,ms),Ao.prototype.Ba=function(){Fn(this.g,"a")},Ao.prototype.Aa=function(i){Fn(this.g,new So(i))},Ao.prototype.za=function(i){Fn(this.g,new Ls)},Ao.prototype.ya=function(){Fn(this.g,"b")},ct(Es,function xa(){this.blockSize=-1}),Es.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Es.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)ea(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(o[u++]=i.charCodeAt(l++),u==this.blockSize){ea(this,o),u=0;break}}else for(;l<e;)if(o[u++]=i[l++],u==this.blockSize){ea(this,o),u=0;break}}this.h=u,this.i+=e},Es.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var Ra={};function $o(i){return-128<=i&&128>i?function st(i,e){var n=Ra;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new Cr([0|e],0>e?-1:0)}):new Cr([0|i],0>i?-1:0)}function mo(i){if(isNaN(i)||!isFinite(i))return yo;if(0>i)return Gi(mo(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=ba;return new Cr(e,0)}var ba=4294967296,yo=$o(0),Mo=$o(1),xo=$o(16777216);function Vs(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Us(i){return-1==i.h}function Gi(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new Cr(n,~i.h).add(Mo)}function ta(i,e){return i.add(Gi(e))}function D(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function K(i,e){this.g=i,this.h=e}function k(i,e){if(Vs(e))throw Error("division by zero");if(Vs(i))return new K(yo,yo);if(Us(i))return e=k(Gi(i),e),new K(Gi(e.g),Gi(e.h));if(Us(e))return e=k(i,Gi(e)),new K(Gi(e.g),e.h);if(30<i.g.length){if(Us(i)||Us(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Mo,o=e;0>=o.X(i);)n=G(n),o=G(o);var u=ge(n,1),l=ge(o,1);for(o=ge(o,2),n=ge(n,2);!Vs(o);){var f=l.add(o);0>=f.X(i)&&(u=u.add(n),l=f),o=ge(o,1),n=ge(n,1)}return e=ta(i,u.R(e)),new K(u,e)}for(u=yo;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(l=mo(n)).R(e);Us(f)||0<f.X(i);)f=(l=mo(n-=o)).R(e);Vs(l)&&(l=Mo),u=u.add(l),i=ta(i,f)}return new K(u,i)}function G(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new Cr(n,i.h)}function ge(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],l=0;l<o;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new Cr(u,i.h)}(Ae=Cr.prototype).ea=function(){if(Us(this))return-Gi(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:ba+o)*e,e*=ba}return i},Ae.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Vs(this))return"0";if(Us(this))return"-"+Gi(this).toString(i);for(var e=mo(Math.pow(i,6)),n=this,o="";;){var u=k(n,e).g,l=((0<(n=ta(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(Vs(n=u))return l+o;for(;6>l.length;)l="0"+l;o=l+o}},Ae.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Ae.X=function(i){return Us(i=ta(this,i))?-1:Vs(i)?0:1},Ae.abs=function(){return Us(this)?Gi(this):this},Ae.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var l=o+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new Cr(n,-2147483648&n[n.length-1]?-1:0)},Ae.R=function(i){if(Vs(this)||Vs(i))return yo;if(Us(this))return Us(i)?Gi(this).R(Gi(i)):Gi(Gi(this).R(i));if(Us(i))return Gi(this.R(Gi(i)));if(0>this.X(xo)&&0>i.X(xo))return mo(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var l=this.D(o)>>>16,f=65535&this.D(o),A=i.D(u)>>>16,V=65535&i.D(u);n[2*o+2*u]+=f*V,D(n,2*o+2*u),n[2*o+2*u+1]+=l*V,D(n,2*o+2*u+1),n[2*o+2*u+1]+=f*A,D(n,2*o+2*u+1),n[2*o+2*u+2]+=l*A,D(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new Cr(n,0)},Ae.gb=function(i){return k(this,i).h},Ae.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new Cr(n,this.h&i.h)},Ae.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new Cr(n,this.h|i.h)},Ae.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new Cr(n,this.h^i.h)},Ia.prototype.createWebChannel=Ia.prototype.g,Tr.prototype.send=Tr.prototype.u,Tr.prototype.open=Tr.prototype.m,Tr.prototype.close=Tr.prototype.close,fs.NO_ERROR=0,fs.TIMEOUT=8,fs.HTTP_ERROR=6,Zs.COMPLETE="complete",je.EventType=mt,mt.OPEN="a",mt.CLOSE="b",mt.ERROR="c",mt.MESSAGE="d",dr.prototype.listen=dr.prototype.O,ni.prototype.listenOnce=ni.prototype.P,ni.prototype.getLastError=ni.prototype.Sa,ni.prototype.getLastErrorCode=ni.prototype.Ia,ni.prototype.getStatus=ni.prototype.da,ni.prototype.getResponseJson=ni.prototype.Wa,ni.prototype.getResponseText=ni.prototype.ja,ni.prototype.send=ni.prototype.ha,ni.prototype.setWithCredentials=ni.prototype.Oa,Es.prototype.digest=Es.prototype.l,Es.prototype.reset=Es.prototype.reset,Es.prototype.update=Es.prototype.j,Cr.prototype.add=Cr.prototype.add,Cr.prototype.multiply=Cr.prototype.R,Cr.prototype.modulo=Cr.prototype.gb,Cr.prototype.compare=Cr.prototype.X,Cr.prototype.toNumber=Cr.prototype.ea,Cr.prototype.toString=Cr.prototype.toString,Cr.prototype.getBits=Cr.prototype.D,Cr.fromNumber=mo,Cr.fromString=function aa(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Gi(aa(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=mo(Math.pow(e,8)),o=yo,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=mo(Math.pow(e,l)),o=o.R(l).add(mo(f))):o=(o=o.R(n)).add(mo(f))}return o};var nt=it.createWebChannelTransport=function(){return new Ia},Tt=it.getStatEventTarget=function(){return Oi()},fn=it.ErrorCode=fs,ii=it.EventType=Zs,yi=it.Event=gr,Dr=it.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},rr=it.FetchXmlHttpFactory=ur,si=it.WebChannel=je,Or=it.XhrIo=ni,zi=it.Md5=Es,li=it.Integer=Cr;const ws="@firebase/firestore";class Qr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qr.UNAUTHENTICATED=new Qr(null),Qr.GOOGLE_CREDENTIALS=new Qr("google-credentials-uid"),Qr.FIRST_PARTY=new Qr("first-party-uid"),Qr.MOCK_USER=new Qr("mock-user");let di="9.23.0";const qi=new he.Yd("@firebase/firestore");function Ho(){return qi.logLevel}function xt(i,...e){if(qi.logLevel<=he.in.DEBUG){const n=e.map(ca);qi.debug(`Firestore (${di}): ${i}`,...n)}}function Wi(i,...e){if(qi.logLevel<=he.in.ERROR){const n=e.map(ca);qi.error(`Firestore (${di}): ${i}`,...n)}}function _o(i,...e){if(qi.logLevel<=he.in.WARN){const n=e.map(ca);qi.warn(`Firestore (${di}): ${i}`,...n)}}function ca(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function an(i="Unexpected state"){const e=`FIRESTORE (${di}) INTERNAL ASSERTION FAILED: `+i;throw Wi(e),new Error(e)}function Tn(i,e){i||an()}function qt(i,e){return i}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dt extends ue.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class ja{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qr.UNAUTHENTICATED))}shutdown(){}}class $a{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ja{constructor(e){this.t=e,this.currentUser=Qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=$=>this.i!==u?(u=this.i,n($)):Promise.resolve();let f=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Qi,e.enqueueRetryable(()=>l(this.currentUser))};const A=()=>{const $=f;e.enqueueRetryable((0,E.Z)(function*(){yield $.promise,yield l(o.currentUser)}))},V=$=>{xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=$,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit($=>V($)),setTimeout(()=>{if(!this.auth){const $=this.t.getImmediate({optional:!0});$?V($):(xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Qi)}},0),A()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Tn("string"==typeof o.accessToken),new ja(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tn(null===e||"string"==typeof e),new Qr(e)}}class Is{constructor(e,n,o){this.h=e,this.l=n,this.m=o,this.type="FirstParty",this.user=Qr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Xa{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new Is(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class na{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const o=l=>{null!=l.error&&xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,xt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?u(l):xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Tn("string"==typeof n.token),this.T=n.token,new fu(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function as(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class Ha{static A(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=as(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function yn(i,e){return i<e?-1:i>e?1:0}function zs(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class Fi{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Dt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Dt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Dt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Dt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fi.fromMillis(Date.now())}static fromDate(e){return Fi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Fi(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yn(this.nanoseconds,e.nanoseconds):yn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class pn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pn(e)}static min(){return new pn(new Fi(0,0))}static max(){return new pn(new Fi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Na{constructor(e,n,o){void 0===n?n=0:n>e.length&&an(),void 0===o?o=e.length-n:o>e.length-n&&an(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Na.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Na?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Vr extends Na{construct(e,n,o){return new Vr(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Dt(rt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Vr(n)}static emptyPath(){return new Vr([])}}const pu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class N extends Na{construct(e,n,o){return new N(e,n,o)}static isValidIdentifier(e){return pu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),N.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new N(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new Dt(rt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const A=e[u];if("\\"===A){if(u+1===e.length)throw new Dt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[u+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new Dt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=V,u+=2}else"`"===A?(f=!f,u++):"."!==A||f?(o+=A,u++):(l(),u++)}if(l(),f)throw new Dt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new N(n)}static emptyPath(){return new N([])}}class _{constructor(e){this.path=e}static fromPath(e){return new _(Vr.fromString(e))}static fromName(e){return new _(Vr.fromString(e).popFirst(5))}static empty(){return new _(Vr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Vr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _(new Vr(e.slice()))}}function en(i){return new $t(i.readTime,i.key,-1)}class $t{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new $t(pn.min(),_.empty(),-1)}static max(){return new $t(pn.max(),_.empty(),-1)}}function Er(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=_.comparator(i.documentKey,e.documentKey),0!==n?n:yn(i.largestBatchId,e.largestBatchId))}const et="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ht{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function On(i){return hi.apply(this,arguments)}function hi(){return hi=(0,E.Z)(function*(i){if(i.code!==rt.FAILED_PRECONDITION||i.message!==et)throw i;xt("LocalStore","Unexpectedly lost primary lease")}),hi.apply(this,arguments)}class Fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&an(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Fe((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Fe?n:Fe.resolve(n)}catch(n){return Fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Fe.reject(n)}static resolve(e){return new Fe((n,o)=>{n(e)})}static reject(e){return new Fe((n,o)=>{o(e)})}static waitFor(e){return new Fe((n,o)=>{let u=0,l=0,f=!1;e.forEach(A=>{++u,A.next(()=>{++l,f&&l===u&&n()},V=>o(V))}),f=!0,l===u&&n()})}static or(e){let n=Fe.resolve(!1);for(const o of e)n=n.next(u=>u?Fe.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new Fe((o,u)=>{const l=e.length,f=new Array(l);let A=0;for(let V=0;V<l;V++){const $=V;n(e[$]).next(ie=>{f[$]=ie,++A,A===l&&o(f)},ie=>u(ie))}})}static doWhile(e,n){return new Fe((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function us(i){return"IndexedDbTransactionError"===i.name}let Ci=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>o.writeSequenceNumber(u))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return i.ct=-1,i})();function eo(i){return null==i}function w(i){return 0===i&&1/i==-1/0}function oc(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Pa(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Nu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Vi{constructor(e,n){this.comparator=e,this.root=n||ro.EMPTY}insert(e,n){return new Vi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ro.BLACK,null,null))}remove(e){return new Vi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ro.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tu(this.root,e,this.comparator,!1)}getReverseIterator(){return new tu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tu(this.root,e,this.comparator,!0)}}class tu{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ro{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??ro.RED,this.left=u??ro.EMPTY,this.right=l??ro.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new ro(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ro.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return ro.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ro.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ro.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw an();const e=this.left.check();if(e!==this.right.check())throw an();return e+(this.isRed()?0:1)}}ro.EMPTY=null,ro.RED=!0,ro.BLACK=!1,ro.EMPTY=new class{constructor(){this.size=0}get key(){throw an()}get value(){throw an()}get color(){throw an()}get left(){throw an()}get right(){throw an()}copy(i,e,n,o,u){return this}insert(i,e,n){return new ro(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Si{constructor(e){this.comparator=e,this.data=new Vi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gu(this.data.getIterator())}getIteratorFrom(e){return new gu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Si)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Si(this.comparator);return n.data=e,n}}class gu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class da{constructor(e){this.fields=e,e.sort(N.comparator)}static empty(){return new da([])}unionWith(e){let n=new Si(N.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new da(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class ac extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class io{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ac("Invalid base64 string: "+u):u}}(e);return new io(n)}static fromUint8Array(e){const n=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new io(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}io.EMPTY_BYTE_STRING=new io("");const Dd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ka(i){if(Tn(!!i),"string"==typeof i){let e=0;const n=Dd.exec(i);if(Tn(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Ms(i.seconds),nanos:Ms(i.nanos)}}function Ms(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ra(i){return"string"==typeof i?io.fromBase64String(i):io.fromUint8Array(i)}function Ta(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function kc(i){const e=i.mapValue.fields.__previous_value__;return Ta(e)?kc(e):e}function ia(i){const e=ka(i.mapValue.fields.__local_write_time__.timestampValue);return new Fi(e.seconds,e.nanos)}class Ou{constructor(e,n,o,u,l,f,A,V,$){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=A,this.longPollingOptions=V,this.useFetchStreams=$}}class Go{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Go("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Go&&e.projectId===this.projectId&&e.database===this.database}}const Fa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ca(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ta(i)?4:yu(i)?9007199254740991:10:an()}function ha(i,e){if(i===e)return!0;const n=Ca(i);if(n!==Ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ia(i).isEqual(ia(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=ka(o.timestampValue),f=ka(u.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,ra(i.bytesValue).isEqual(ra(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Ms(o.geoPointValue.latitude)===Ms(u.geoPointValue.latitude)&&Ms(o.geoPointValue.longitude)===Ms(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ms(o.integerValue)===Ms(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=Ms(o.doubleValue),f=Ms(u.doubleValue);return l===f?w(l)===w(f):isNaN(l)&&isNaN(f)}return!1}(i,e);case 9:return zs(i.arrayValue.values||[],e.arrayValue.values||[],ha);case 10:return function(o,u){const l=o.mapValue.fields||{},f=u.mapValue.fields||{};if(oc(l)!==oc(f))return!1;for(const A in l)if(l.hasOwnProperty(A)&&(void 0===f[A]||!ha(l[A],f[A])))return!1;return!0}(i,e);default:return an()}var u}function zo(i,e){return void 0!==(i.values||[]).find(n=>ha(n,e))}function nu(i,e){if(i===e)return 0;const n=Ca(i),o=Ca(e);if(n!==o)return yn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return yn(i.booleanValue,e.booleanValue);case 2:return function(u,l){const f=Ms(u.integerValue||u.doubleValue),A=Ms(l.integerValue||l.doubleValue);return f<A?-1:f>A?1:f===A?0:isNaN(f)?isNaN(A)?0:-1:1}(i,e);case 3:return uc(i.timestampValue,e.timestampValue);case 4:return uc(ia(i),ia(e));case 5:return yn(i.stringValue,e.stringValue);case 6:return function(u,l){const f=ra(u),A=ra(l);return f.compareTo(A)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const f=u.split("/"),A=l.split("/");for(let V=0;V<f.length&&V<A.length;V++){const $=yn(f[V],A[V]);if(0!==$)return $}return yn(f.length,A.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const f=yn(Ms(u.latitude),Ms(l.latitude));return 0!==f?f:yn(Ms(u.longitude),Ms(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const f=u.values||[],A=l.values||[];for(let V=0;V<f.length&&V<A.length;++V){const $=nu(f[V],A[V]);if($)return $}return yn(f.length,A.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===Fa.mapValue&&l===Fa.mapValue)return 0;if(u===Fa.mapValue)return 1;if(l===Fa.mapValue)return-1;const f=u.fields||{},A=Object.keys(f),V=l.fields||{},$=Object.keys(V);A.sort(),$.sort();for(let ie=0;ie<A.length&&ie<$.length;++ie){const Ie=yn(A[ie],$[ie]);if(0!==Ie)return Ie;const Ye=nu(f[A[ie]],V[$[ie]]);if(0!==Ye)return Ye}return yn(A.length,$.length)}(i.mapValue,e.mapValue);default:throw an()}}function uc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return yn(i,e);const n=ka(i),o=ka(e),u=yn(n.seconds,o.seconds);return 0!==u?u:yn(n.nanos,o.nanos)}function ru(i){return Pu(i)}function Pu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=ka(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ra(i.bytesValue).toBase64():"referenceValue"in i?_.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const f of o.values||[])l?l=!1:u+=",",u+=Pu(f);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",f=!0;for(const A of u)f?f=!1:l+=",",l+=`${A}:${Pu(o.fields[A])}`;return l+"}"}(i.mapValue):an();var e}function La(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Fc(i){return!!i&&"integerValue"in i}function iu(i){return!!i&&"arrayValue"in i}function qa(i){return!!i&&"nullValue"in i}function Lc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function pa(i){return!!i&&"mapValue"in i}function Wu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Pa(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Wu(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wu(i.arrayValue.values[n]);return e}return Object.assign({},i)}function yu(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class b{constructor(e){this.value=e}static empty(){return new b({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!pa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wu(n)}setAll(e){let n=N.emptyPath(),o={},u=[];e.forEach((f,A)=>{if(!n.isImmediateParentOf(A)){const V=this.getFieldsMap(n);this.applyChanges(V,o,u),o={},u=[],n=A.popLast()}f?o[A.lastSegment()]=Wu(f):u.push(A.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());pa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ha(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];pa(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Pa(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new b(Wu(this.value))}}function O(i){const e=[];return Pa(i.fields,(n,o)=>{const u=new N([n]);if(pa(o)){const l=O(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new da(e)}class B{constructor(e,n,o,u,l,f,A){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=f,this.documentState=A}static newInvalidDocument(e){return new B(e,0,pn.min(),pn.min(),pn.min(),b.empty(),0)}static newFoundDocument(e,n,o,u){return new B(e,1,n,pn.min(),o,u,0)}static newNoDocument(e,n){return new B(e,2,n,pn.min(),pn.min(),b.empty(),0)}static newUnknownDocument(e,n){return new B(e,3,n,pn.min(),pn.min(),b.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=b.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=b.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof B&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new B(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ce{constructor(e,n){this.position=e,this.inclusive=n}}function Ne(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?_.comparator(_.fromName(f.referenceValue),n.key):nu(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function Ue(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ha(i.position[n],e.position[n]))return!1;return!0}class ft{constructor(e,n="asc"){this.field=e,this.dir=n}}function sn(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Jt{}class Lt extends Jt{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new Bc(e,n,o):"array-contains"===n?new Ku(e,o):"in"===n?new mp(e,o):"not-in"===n?new wm(e,o):"array-contains-any"===n?new js(e,o):new Lt(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new _m(e,o):new vm(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(nu(n,this.value)):null!==n&&Ca(this.value)===Ca(n)&&this.matchesComparison(nu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return an()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class rn extends Jt{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new rn(e,n)}matches(e){return Gn(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Gn(i){return"and"===i.op}function Ts(i){return function Va(i){for(const e of i.filters)if(e instanceof rn)return!1;return!0}(i)&&Gn(i)}function cc(i){if(i instanceof Lt)return i.field.canonicalString()+i.op.toString()+ru(i.value);if(Ts(i))return i.filters.map(e=>cc(e)).join(",");{const e=i.filters.map(n=>cc(n)).join(",");return`${i.op}(${e})`}}function _u(i,e){return i instanceof Lt?(n=i,(o=e)instanceof Lt&&n.op===o.op&&n.field.isEqual(o.field)&&ha(n.value,o.value)):i instanceof rn?function(n,o){return o instanceof rn&&n.op===o.op&&n.filters.length===o.filters.length&&n.filters.reduce((u,l,f)=>u&&_u(l,o.filters[f]),!0)}(i,e):void an();var n,o}function ou(i){return i instanceof Lt?`${(e=i).field.canonicalString()} ${e.op} ${ru(e.value)}`:i instanceof rn?function(e){return e.op.toString()+" {"+e.getFilters().map(ou).join(" ,")+"}"}(i):"Filter";var e}class Bc extends Lt{constructor(e,n,o){super(e,n,o),this.key=_.fromName(o.referenceValue)}matches(e){const n=_.comparator(e.key,this.key);return this.matchesComparison(n)}}class _m extends Lt{constructor(e,n){super(e,"in",n),this.keys=Em(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vm extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=Em(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Em(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>_.fromName(o.referenceValue))}class Ku extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return iu(n)&&zo(n.arrayValue,this.value)}}class mp extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&zo(this.value.arrayValue,n)}}class wm extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(zo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!zo(this.value.arrayValue,n)}}class js extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!iu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>zo(this.value.arrayValue,o))}}class Rh{constructor(e,n=null,o=[],u=[],l=null,f=null,A=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=A,this.dt=null}}function au(i,e=null,n=[],o=[],u=null,l=null,f=null){return new Rh(i,e,n,o,u,l,f)}function ku(i){const e=qt(i);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>cc(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),eo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>ru(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>ru(o)).join(",")),e.dt=n}return e.dt}function Po(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!sn(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!_u(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ue(i.startAt,e.startAt)&&Ue(i.endAt,e.endAt)}function vu(i){return _.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Eu{constructor(e,n=null,o=[],u=[],l=null,f="F",A=null,V=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=A,this.endAt=V,this.wt=null,this._t=null}}function dc(i){return new Eu(i)}function yp(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function qo(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function wu(i){for(const e of i.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Iu(i){return null!==i.collectionGroup}function Hc(i){const e=qt(i);if(null===e.wt){e.wt=[];const n=wu(e),o=qo(e);if(null!==n&&null===o)n.isKeyField()||e.wt.push(new ft(n)),e.wt.push(new ft(N.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ft(N.keyField(),l))}}}return e.wt}function Eo(i){const e=qt(i);if(!e._t)if("F"===e.limitType)e._t=au(e.path,e.collectionGroup,Hc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of Hc(e))n.push(new ft(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new ce(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new ce(e.startAt.position,e.startAt.inclusive):null;e._t=au(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e._t}function Ad(i,e){e.getFirstInequalityField(),wu(i);const n=i.filters.concat([e]);return new Eu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Sl(i,e,n){return new Eu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Gc(i,e){return Po(Eo(i),Eo(e))&&i.limitType===e.limitType}function Oh(i){return`${ku(Eo(i))}|lt:${i.limitType}`}function Md(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(o=>ou(o)).join(", ")}]`),eo(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>ru(o)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>ru(o)).join(",")),`Target(${n})`}(Eo(i))}; limitType=${i.limitType})`}function zc(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):_.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of Hc(n))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,l,f){const A=Ne(u,l,f);return u.inclusive?A<=0:A<0}(n.startAt,Hc(n),o)||n.endAt&&!function(u,l,f){const A=Ne(u,l,f);return u.inclusive?A>=0:A>0}(n.endAt,Hc(n),o)));var n,o}function Al(i){return(e,n)=>{let o=!1;for(const u of Hc(i)){const l=Im(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function Im(i,e,n){const o=i.field.isKeyField()?_.comparator(e.key,n.key):function(u,l,f){const A=l.data.field(u),V=f.data.field(u);return null!==A&&null!==V?nu(A,V):an()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return an()}}class Wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return Nu(this.inner)}size(){return this.innerSize}}const bm=new Vi(_.comparator);function Wo(){return bm}const _p=new Vi(_.comparator);function qc(...i){let e=_p;for(const n of i)e=e.insert(n.key,n);return e}function Ml(i){let e=_p;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Ua(){return xl()}function Ph(){return xl()}function xl(){return new Wa(i=>i.toString(),(i,e)=>i.isEqual(e))}const vp=new Vi(_.comparator),Wc=new Si(_.comparator);function _r(...i){let e=Wc;for(const n of i)e=e.add(n);return e}const Tm=new Si(yn);function kh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:w(e)?"-0":e}}function wp(i){return{integerValue:""+i}}function Cm(i,e){return function T(i){return"number"==typeof i&&Number.isInteger(i)&&!w(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?wp(e):kh(i,e)}class Rd{constructor(){this._=void 0}}function Dm(i,e,n){return i instanceof hc?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ta(u)&&(u=kc(u)),u&&(l.fields.__previous_value__=u),{mapValue:l}}(n,e):i instanceof fc?Fh(i,e):i instanceof Kc?Lh(i,e):function(o,u){const l=Rl(o,u),f=Ip(l)+Ip(o.gt);return Fc(l)&&Fc(o.gt)?wp(f):kh(o.serializer,f)}(i,e)}function Sm(i,e,n){return i instanceof fc?Fh(i,e):i instanceof Kc?Lh(i,e):n}function Rl(i,e){return i instanceof Nl?Fc(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class hc extends Rd{}class fc extends Rd{constructor(e){super(),this.elements=e}}function Fh(i,e){const n=bp(e);for(const o of i.elements)n.some(u=>ha(u,o))||n.push(o);return{arrayValue:{values:n}}}class Kc extends Rd{constructor(e){super(),this.elements=e}}function Lh(i,e){let n=bp(e);for(const o of i.elements)n=n.filter(u=>!ha(u,o));return{arrayValue:{values:n}}}class Nl extends Rd{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Ip(i){return Ms(i.integerValue||i.doubleValue)}function bp(i){return iu(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class V_{constructor(e,n){this.version=e,this.transformResults=n}}class ls{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ls}static exists(e){return new ls(void 0,e)}static updateTime(e){return new ls(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Uh{}function Am(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new gc(i.key,ls.none()):new Fu(i.key,i.data,ls.none());{const n=i.data,o=b.empty();let u=new Si(N.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new uu(i.key,o,new da(u.toArray()),ls.none())}}function Mm(i,e,n){i instanceof Fu?function(o,u,l){const f=o.value.clone(),A=jh(o.fieldTransforms,u,l.transformResults);f.setAll(A),u.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(i,e,n):i instanceof uu?function(o,u,l){if(!Vh(o.precondition,u))return void u.convertToUnknownDocument(l.version);const f=jh(o.fieldTransforms,u,l.transformResults),A=u.data;A.setAll(Bh(o)),A.setAll(f),u.convertToFoundDocument(l.version,A).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Nd(i,e,n,o){return i instanceof Fu?function(u,l,f,A){if(!Vh(u.precondition,l))return f;const V=u.value.clone(),$=pc(u.fieldTransforms,A,l);return V.setAll($),l.convertToFoundDocument(l.version,V).setHasLocalMutations(),null}(i,e,n,o):i instanceof uu?function(u,l,f,A){if(!Vh(u.precondition,l))return f;const V=pc(u.fieldTransforms,A,l),$=l.data;return $.setAll(Bh(u)),$.setAll(V),l.convertToFoundDocument(l.version,$).setHasLocalMutations(),null===f?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(ie=>ie.field))}(i,e,n,o):(f=n,Vh(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function xm(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=Rl(o.transform,u||null);null!=l&&(null===n&&(n=b.empty()),n.set(o.field,l))}return n||null}function Ol(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&zs(n,o,(u,l)=>function L_(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof fc&&o instanceof fc||n instanceof Kc&&o instanceof Kc?zs(n.elements,o.elements,ha):n instanceof Nl&&o instanceof Nl?ha(n.gt,o.gt):n instanceof hc&&o instanceof hc);var n,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class Fu extends Uh{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class uu extends Uh{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Bh(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function jh(i,e,n){const o=new Map;Tn(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,A=e.data.field(l.field);o.set(l.field,Sm(f,A,n[u]))}return o}function pc(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,Dm(l,f,e))}return o}class gc extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Od extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zc{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&Mm(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Nd(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Nd(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=Ph();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let A=this.applyToLocalView(f,l.mutatedFields);A=n.has(u.key)?null:A;const V=Am(f,A);null!==V&&o.set(u.key,V),f.isValidDocument()||f.convertToNoDocument(pn.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_r())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(n,o)=>Ol(n,o))&&zs(this.baseMutations,e.baseMutations,(n,o)=>Ol(n,o))}}class Yc{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Tn(e.mutations.length===o.length);let u=vp;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new Yc(e,n,o,u)}}class Qc{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class C{constructor(e,n){this.count=e,this.unchangedNames=n}}var h,g;function W(i){if(void 0===i)return Wi("GRPC error has no .code"),rt.UNKNOWN;switch(i){case h.OK:return rt.OK;case h.CANCELLED:return rt.CANCELLED;case h.UNKNOWN:return rt.UNKNOWN;case h.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case h.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case h.INTERNAL:return rt.INTERNAL;case h.UNAVAILABLE:return rt.UNAVAILABLE;case h.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case h.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case h.NOT_FOUND:return rt.NOT_FOUND;case h.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case h.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case h.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case h.ABORTED:return rt.ABORTED;case h.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case h.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case h.DATA_LOSS:return rt.DATA_LOSS;default:return an()}}(g=h||(h={}))[g.OK=0]="OK",g[g.CANCELLED=1]="CANCELLED",g[g.UNKNOWN=2]="UNKNOWN",g[g.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",g[g.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",g[g.NOT_FOUND=5]="NOT_FOUND",g[g.ALREADY_EXISTS=6]="ALREADY_EXISTS",g[g.PERMISSION_DENIED=7]="PERMISSION_DENIED",g[g.UNAUTHENTICATED=16]="UNAUTHENTICATED",g[g.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",g[g.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",g[g.ABORTED=10]="ABORTED",g[g.OUT_OF_RANGE=11]="OUT_OF_RANGE",g[g.UNIMPLEMENTED=12]="UNIMPLEMENTED",g[g.INTERNAL=13]="INTERNAL",g[g.UNAVAILABLE=14]="UNAVAILABLE",g[g.DATA_LOSS=15]="DATA_LOSS";class se{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Le}static getOrCreateInstance(){return null===Le&&(Le=new se),Le}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Le=null;const Qt=new li([4294967295,4294967295],0);function un(i){const e=function lt(){return new TextEncoder}().encode(i),n=new zi;return n.update(e),new Uint8Array(n.digest())}function _n(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new li([n,o],0),new li([u,l],0)]}class Pr{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new so(`Invalid padding: ${n}`);if(o<0)throw new so(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new so(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new so(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=li.fromNumber(this.It)}Et(e,n,o){let u=e.add(n.multiply(li.fromNumber(o)));return 1===u.compare(Qt)&&(u=new li([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=un(e),[o,u]=_n(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);if(!this.At(f))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new Pr(l,u,n);return o.forEach(A=>f.insert(A)),f}insert(e){if(0===this.It)return;const n=un(e),[o,u]=_n(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);this.Rt(f)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class so extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ga{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,Cs.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new ga(pn.min(),u,new Vi(yn),Wo(),_r())}}class Cs{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Cs(o,n,_r(),_r(),_r())}}class bu{constructor(e,n,o,u){this.Pt=e,this.removedTargetIds=n,this.key=o,this.bt=u}}class Jc{constructor(e,n){this.targetId=e,this.Vt=n}}class Pl{constructor(e,n,o=io.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Pd{constructor(){this.St=0,this.Dt=Fl(),this.Ct=io.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=_r(),n=_r(),o=_r();return this.Dt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:an()}}),new Cs(this.Ct,this.xt,e,n,o)}Ft(){this.Nt=!1,this.Dt=Fl()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class kl{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Wo(),this.zt=kd(),this.Wt=new Vi(yn)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const o=this.Zt(n);switch(e.state){case 0:this.te(n)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(n);break;case 3:this.te(n)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),o.$t(e.resumeToken));break;default:an()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((o,u)=>{this.te(u)&&n(u)})}ne(e){var n;const o=e.targetId,u=e.Vt.count,l=this.se(o);if(l){const f=l.target;if(vu(f))if(0===u){const A=new _(f.path);this.Yt(o,A,B.newNoDocument(A,pn.min()))}else Tn(1===u);else{const A=this.ie(o);if(A!==u){const V=this.re(e,A);0!==V&&(this.ee(o),this.Wt=this.Wt.insert(o,2===V?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=se.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function($,ie,Ie){var Ye,vt,Gt,dn,wn,kr;const _i={localCacheCount:ie,existenceFilterCount:Ie.count},qr=Ie.unchangedNames;return qr&&(_i.bloomFilter={applied:0===$,hashCount:null!==(Ye=qr?.hashCount)&&void 0!==Ye?Ye:0,bitmapLength:null!==(dn=null===(Gt=null===(vt=qr?.bits)||void 0===vt?void 0:vt.bitmap)||void 0===Gt?void 0:Gt.length)&&void 0!==dn?dn:0,padding:null!==(kr=null===(wn=qr?.bits)||void 0===wn?void 0:wn.padding)&&void 0!==kr?kr:0}),_i}(V,A,e.Vt))}}}}re(e,n){const{unchangedNames:o,count:u}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:A=0}=o;let V,$;try{V=ra(l).toUint8Array()}catch(ie){if(ie instanceof ac)return _o("Decoding the base64 bloom filter in existence filter failed ("+ie.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw ie}try{$=new Pr(V,f,A)}catch(ie){return _o(ie instanceof so?"BloomFilter error: ":"Applying bloom filter failed: ",ie),1}return 0===$.It?1:u!==n-this.oe(e.targetId,$)?2:0}oe(e,n){const o=this.Gt.getRemoteKeysForTarget(e);let u=0;return o.forEach(l=>{const f=this.Gt.ue(),A=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;n.vt(A)||(this.Yt(e,l,null),u++)}),u}ce(e){const n=new Map;this.Qt.forEach((l,f)=>{const A=this.se(f);if(A){if(l.current&&vu(A.target)){const V=new _(A.target.path);null!==this.jt.get(V)||this.ae(f,V)||this.Yt(f,V,B.newNoDocument(V,e))}l.Mt&&(n.set(f,l.Ot()),l.Ft())}});let o=_r();this.zt.forEach((l,f)=>{let A=!0;f.forEachWhile(V=>{const $=this.se(V);return!$||"TargetPurposeLimboResolution"===$.purpose||(A=!1,!1)}),A&&(o=o.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const u=new ga(e,n,this.Wt,this.jt,o);return this.jt=Wo(),this.zt=kd(),this.Wt=new Vi(yn),u}Jt(e,n){if(!this.te(e))return;const o=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,o),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,o){if(!this.te(e))return;const u=this.Zt(e);this.ae(e,n)?u.Bt(n,1):u.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),o&&(this.jt=this.jt.insert(n,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Pd,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Si(yn),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||xt("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Pd),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function kd(){return new Vi(_.comparator)}function Fl(){return new Vi(_.comparator)}const Fd={asc:"ASCENDING",desc:"DESCENDING"},Ld={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tp={and:"AND",or:"OR"};class Vd{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xc(i,e){return i.useProto3Json||eo(e)?e:{value:e}}function mc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nm(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Ud(i,e){return mc(i,e.toTimestamp())}function oo(i){return Tn(!!i),pn.fromTimestamp(function(e){const n=ka(e);return new Fi(n.seconds,n.nanos)}(i))}function Cp(i,e){return(n=i,new Vr(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Dp(i){const e=Vr.fromString(i);return Tn(G_(e)),e}function Ll(i,e){return Cp(i.databaseId,e.path)}function Tu(i,e){const n=Dp(e);if(n.get(1)!==i.databaseId.projectId)throw new Dt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Dt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _($h(n))}function yc(i,e){return Cp(i.databaseId,e)}function Vl(i){return new Vr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function $h(i){return Tn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function jd(i,e,n){return{name:Ll(i,e),fields:n.value.mapValue.fields}}function Ap(i,e){return{documents:[yc(i,e.path)]}}function Ul(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=yc(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=yc(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(V){if(0!==V.length)return Rp(rn.create(V,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(V){if(0!==V.length)return V.map($=>{return{field:Ba((ie=$).field),direction:$_(ie.dir)};var ie})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=Xc(i,e.limit);var A,V;return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(A=e.startAt).inclusive,values:A.position}),e.endAt&&(n.structuredQuery.endAt={before:!(V=e.endAt).inclusive,values:V.position}),n}function Hh(i){let e=function Bd(i){const e=Dp(i);return 4===e.length?Vr.emptyPath():$h(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Tn(1===o);const ie=n.from[0];ie.allDescendants?u=ie.collectionId:e=e.child(ie.collectionId)}let l=[];n.where&&(l=function(ie){const Ie=Pm(ie);return Ie instanceof rn&&Ts(Ie)?Ie.getFilters():[Ie]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(ie=>{return new ft(el((Ie=ie).field),function(Ye){switch(Ye){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ie.direction));var Ie}));let A=null;n.limit&&(A=function(ie){let Ie;return Ie="object"==typeof ie?ie.value:ie,eo(Ie)?null:Ie}(n.limit));let V=null;var ie;n.startAt&&(V=new ce((ie=n.startAt).values||[],!!ie.before));let $=null;return n.endAt&&($=function(ie){return new ce(ie.values||[],!ie.before)}(n.endAt)),function Nh(i,e,n,o,u,l,f,A){return new Eu(i,e,n,o,u,l,f,A)}(e,u,f,l,A,"F",V,$)}function Pm(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=el(e.unaryFilter.field);return Lt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=el(e.unaryFilter.field);return Lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=el(e.unaryFilter.field);return Lt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=el(e.unaryFilter.field);return Lt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return an()}}(i):void 0!==i.fieldFilter?Lt.create(el((e=i).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return an()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return rn.create(e.compositeFilter.filters.map(n=>Pm(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return an()}}(e.compositeFilter.op))}(i):an();var e}function $_(i){return Fd[i]}function xp(i){return Ld[i]}function km(i){return Tp[i]}function Ba(i){return{fieldPath:i.canonicalString()}}function el(i){return N.fromServerFormat(i.fieldPath)}function Rp(i){return i instanceof Lt?function(e){if("=="===e.op){if(Lc(e.value))return{unaryFilter:{field:Ba(e.field),op:"IS_NAN"}};if(qa(e.value))return{unaryFilter:{field:Ba(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lc(e.value))return{unaryFilter:{field:Ba(e.field),op:"IS_NOT_NAN"}};if(qa(e.value))return{unaryFilter:{field:Ba(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(e.field),op:xp(e.op),value:e.value}}}(i):i instanceof rn?function(e){const n=e.getFilters().map(o=>Rp(o));return 1===n.length?n[0]:{compositeFilter:{op:km(e.op),filters:n}}}(i):an()}function H_(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function G_(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class cu{constructor(e,n,o,u,l=pn.min(),f=pn.min(),A=io.EMPTY_BYTE_STRING,V=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=A,this.expectedCount=V}withSequenceNumber(e){return new cu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Fm{constructor(e){this.fe=e}}function Gd(i){const e=Hh({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Sl(e,e.limit,"L"):e}class tl{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Ms(e.integerValue));else if("doubleValue"in e){const o=Ms(e.doubleValue);isNaN(o)?this.ye(n,13):(this.ye(n,15),w(o)?n.pe(0):n.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(n,20),"string"==typeof o?n.Ie(o):(n.Ie(`${o.seconds||""}`),n.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(ra(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(n,45),n.pe(o.latitude||0),n.pe(o.longitude||0)}else"mapValue"in e?yu(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):an()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const o=e.fields||{};this.ye(n,55);for(const u of Object.keys(o))this.Te(u,n),this.me(o[u],n)}Pe(e,n){const o=e.values||[];this.ye(n,50);for(const u of o)this.me(u,n)}ve(e,n){this.ye(n,37),_.fromName(e).path.forEach(o=>{this.ye(n,60),this.be(o,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}tl.Ve=new tl;class z_{constructor(){this.rn=new Bp}addToCollectionParentIndex(e,n){return this.rn.add(n),Fe.resolve()}getCollectionParents(e,n){return Fe.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Fe.resolve()}deleteFieldIndex(e,n){return Fe.resolve()}getDocumentsMatchingTarget(e,n){return Fe.resolve(null)}getIndexType(e,n){return Fe.resolve(0)}getFieldIndexes(e,n){return Fe.resolve([])}getNextCollectionGroupToUpdate(e){return Fe.resolve(null)}getMinOffset(e,n){return Fe.resolve($t.min())}getMinOffsetFromCollectionGroup(e,n){return Fe.resolve($t.min())}updateCollectionGroup(e,n,o){return Fe.resolve()}updateIndexEntries(e,n){return Fe.resolve()}}class Bp{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Si(Vr.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Si(Vr.comparator)).toArray()}}new Uint8Array(0);class ma{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ma(e,ma.DEFAULT_COLLECTION_PERCENTILE,ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ma.DEFAULT_COLLECTION_PERCENTILE=10,ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ma.DEFAULT=new ma(41943040,ma.DEFAULT_COLLECTION_PERCENTILE,ma.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ma.DISABLED=new ma(-1,0,0);class Da{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Da(0)}static Mn(){return new Da(-1)}}class qm{constructor(){this.changes=new Wa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,B.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Fe.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Q_{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class bc{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&Nd(o.mutation,u,da.empty(),Fi.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,_r()).next(()=>o))}getLocalViewOfDocuments(e,n,o=_r()){const u=Ua();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=qc();return l.forEach((A,V)=>{f=f.insert(A,V.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=Ua();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,_r()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,A)=>{n.set(f,A)})})}computeViews(e,n,o,u){let l=Wo();const f=xl(),A=xl();return n.forEach((V,$)=>{const ie=o.get($.key);u.has($.key)&&(void 0===ie||ie.mutation instanceof uu)?l=l.insert($.key,$):void 0!==ie?(f.set($.key,ie.mutation.getFieldMask()),Nd(ie.mutation,$,ie.mutation.getFieldMask(),Fi.now())):f.set($.key,da.empty())}),this.recalculateAndSaveOverlays(e,l).next(V=>(V.forEach(($,ie)=>f.set($,ie)),n.forEach(($,ie)=>{var Ie;return A.set($,new Q_(ie,null!==(Ie=f.get($))&&void 0!==Ie?Ie:null))}),A))}recalculateAndSaveOverlays(e,n){const o=xl();let u=new Vi((f,A)=>f-A),l=_r();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const A of f)A.keys().forEach(V=>{const $=n.get(V);if(null===$)return;let ie=o.get(V)||da.empty();ie=A.applyToLocalView($,ie),o.set(V,ie);const Ie=(u.get(A.batchId)||_r()).add(V);u=u.insert(A.batchId,Ie)})}).next(()=>{const f=[],A=u.getReverseIterator();for(;A.hasNext();){const V=A.getNext(),$=V.key,ie=V.value,Ie=Ph();ie.forEach(Ye=>{if(!l.has(Ye)){const vt=Am(n.get(Ye),o.get(Ye));null!==vt&&Ie.set(Ye,vt),l=l.add(Ye)}}),f.push(this.documentOverlayCache.saveOverlays(e,$,Ie))}return Fe.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return _.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Iu(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):Fe.resolve(Ua());let A=-1,V=l;return f.next($=>Fe.forEach($,(ie,Ie)=>(A<Ie.largestBatchId&&(A=Ie.largestBatchId),l.get(ie)?Fe.resolve():this.remoteDocumentCache.getEntry(e,ie).next(Ye=>{V=V.insert(ie,Ye)}))).next(()=>this.populateOverlays(e,$,l)).next(()=>this.computeViews(e,V,$,_r())).next(ie=>({batchId:A,changes:Ml(ie)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _(n)).next(o=>{let u=qc();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let l=qc();return this.indexManager.getCollectionParents(e,u).next(f=>Fe.forEach(f,A=>{const V=($=n,ie=A.child(u),new Eu(ie,null,$.explicitOrderBy.slice(),$.filters.slice(),$.limit,$.limitType,$.startAt,$.endAt));var $,ie;return this.getDocumentsMatchingCollectionQuery(e,V,o).next($=>{$.forEach((ie,Ie)=>{l=l.insert(ie,Ie)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(l=>(u=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,u))).next(l=>{u.forEach((A,V)=>{const $=V.getKey();null===l.get($)&&(l=l.insert($,B.newInvalidDocument($)))});let f=qc();return l.forEach((A,V)=>{const $=u.get(A);void 0!==$&&Nd($.mutation,V,da.empty(),Fi.now()),zc(n,V)&&(f=f.insert(A,V))}),f})}}class Zm{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Fe.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var o;return this.cs.set(n.id,{id:(o=n).id,version:o.version,createTime:oo(o.createTime)}),Fe.resolve()}getNamedQuery(e,n){return Fe.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(o=n).name,query:Gd(o.bundledQuery),readTime:oo(o.readTime)}),Fe.resolve();var o}}class J_{constructor(){this.overlays=new Vi(_.comparator),this.ls=new Map}getOverlay(e,n){return Fe.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Ua();return Fe.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.we(e,n,l)}),Fe.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.ls.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(o)),Fe.resolve()}getOverlaysForCollection(e,n,o){const u=Ua(),l=n.length+1,f=new _(n.child("")),A=this.overlays.getIteratorFrom(f);for(;A.hasNext();){const V=A.getNext().value,$=V.getKey();if(!n.isPrefixOf($.path))break;$.path.length===l&&V.largestBatchId>o&&u.set(V.getKey(),V)}return Fe.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new Vi(($,ie)=>$-ie);const f=this.overlays.getIterator();for(;f.hasNext();){const $=f.getNext().value;if($.getKey().getCollectionGroup()===n&&$.largestBatchId>o){let ie=l.get($.largestBatchId);null===ie&&(ie=Ua(),l=l.insert($.largestBatchId,ie)),ie.set($.getKey(),$)}}const A=Ua(),V=l.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach(($,ie)=>A.set($,ie)),!(A.size()>=u)););return Fe.resolve(A)}we(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.ls.get(u.largestBatchId).delete(o.key);this.ls.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new Qc(n,o));let l=this.ls.get(n);void 0===l&&(l=_r(),this.ls.set(n,l)),this.ls.set(n,l.add(o.key))}}class Xd{constructor(){this.fs=new Si(ko.ds),this.ws=new Si(ko._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const o=new ko(e,n);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.ys(new ko(e,n))}ps(e,n){e.forEach(o=>this.removeReference(o,n))}Is(e){const n=new _(new Vr([])),o=new ko(n,e),u=new ko(n,e+1),l=[];return this.ws.forEachInRange([o,u],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new _(new Vr([])),o=new ko(n,e),u=new ko(n,e+1);let l=_r();return this.ws.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new ko(e,0),o=this.fs.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class ko{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return _.comparator(e.key,n.key)||yn(e.As,n.As)}static _s(e,n){return yn(e.As,n.As)||_.comparator(e.key,n.key)}}class X_{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Si(ko.ds)}checkEmpty(e){return Fe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.vs;this.vs++;const f=new Zc(l,n,o,u);this.mutationQueue.push(f);for(const A of u)this.Rs=this.Rs.add(new ko(A.key,l)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return Fe.resolve(f)}lookupMutationBatch(e,n){return Fe.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.bs(n+1),l=u<0?0:u;return Fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new ko(n,0),u=new ko(n,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([o,u],f=>{const A=this.Ps(f.As);l.push(A)}),Fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Si(yn);return n.forEach(u=>{const l=new ko(u,0),f=new ko(u,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],A=>{o=o.add(A.As)})}),Fe.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;_.isDocumentKey(l)||(l=l.child(""));const f=new ko(new _(l),0);let A=new Si(yn);return this.Rs.forEachWhile(V=>{const $=V.key.path;return!!o.isPrefixOf($)&&($.length===u&&(A=A.add(V.As)),!0)},f),Fe.resolve(this.Vs(A))}Vs(e){const n=[];return e.forEach(o=>{const u=this.Ps(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Tn(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Fe.forEach(n.mutations,u=>{const l=new ko(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,n){const o=new ko(n,0),u=this.Rs.firstAfterOrEqual(o);return Fe.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Fe.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ev{constructor(e){this.Ds=e,this.docs=new Vi(_.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.Ds(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Fe.resolve(o?o.document.mutableCopy():B.newInvalidDocument(n))}getEntries(e,n){let o=Wo();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():B.newInvalidDocument(u))}),Fe.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=Wo();const f=n.path,A=new _(f.child("")),V=this.docs.getIteratorFrom(A);for(;V.hasNext();){const{key:$,value:{document:ie}}=V.getNext();if(!f.isPrefixOf($.path))break;$.path.length>f.length+1||Er(en(ie),o)<=0||(u.has(ie.key)||zc(n,ie))&&(l=l.insert(ie.key,ie.mutableCopy()))}return Fe.resolve(l)}getAllFromCollectionGroup(e,n,o,u){an()}Cs(e,n){return Fe.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new tv(this)}getSize(e){return Fe.resolve(this.size)}}class tv extends qm{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.os.addEntry(e,u)):this.os.removeEntry(o)}),Fe.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class nv{constructor(e){this.persistence=e,this.xs=new Wa(n=>ku(n),Po),this.lastRemoteSnapshotVersion=pn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Xd,this.targetCount=0,this.Ms=Da.kn()}forEachTarget(e,n){return this.xs.forEach((o,u)=>n(u)),Fe.resolve()}getLastRemoteSnapshotVersion(e){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Fe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Ns&&(this.Ns=n),Fe.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Da(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Fe.resolve()}updateTargetData(e,n){return this.Fn(n),Fe.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.xs.forEach((f,A)=>{A.sequenceNumber<=n&&null===o.get(A.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,A.targetId)),u++)}),Fe.waitFor(l).next(()=>u)}getTargetCount(e){return Fe.resolve(this.targetCount)}getTargetData(e,n){const o=this.xs.get(n)||null;return Fe.resolve(o)}addMatchingKeys(e,n,o){return this.ks.gs(n,o),Fe.resolve()}removeMatchingKeys(e,n,o){this.ks.ps(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),Fe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Fe.resolve()}getMatchingKeysForTargetId(e,n){const o=this.ks.Es(n);return Fe.resolve(o)}containsKey(e,n){return Fe.resolve(this.ks.containsKey(n))}}class tf{constructor(e,n){this.$s={},this.overlays={},this.Os=new Ci(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new nv(this),this.indexManager=new z_,this.remoteDocumentCache=new ev(o=>this.referenceDelegate.Ls(o)),this.serializer=new Fm(n),this.qs=new Zm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new J_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.$s[e.toKey()];return o||(o=new X_(n,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,o){xt("MemoryPersistence","Starting transaction:",e);const u=new _E(this.Os.next());return this.referenceDelegate.Us(),o(u).next(l=>this.referenceDelegate.Ks(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Gs(e,n){return Fe.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,n)))}}class _E extends Ht{constructor(e){super(),this.currentSequenceNumber=e}}class zp{constructor(e){this.persistence=e,this.Qs=new Xd,this.js=null}static zs(e){return new zp(e)}get Ws(){if(this.js)return this.js;throw an()}addReference(e,n,o){return this.Qs.addReference(o,n),this.Ws.delete(o.toString()),Fe.resolve()}removeReference(e,n,o){return this.Qs.removeReference(o,n),this.Ws.add(o.toString()),Fe.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Fe.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(u=>this.Ws.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Ws.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.Ws,o=>{const u=_.fromPath(o);return this.Hs(e,u).next(l=>{l||n.removeEntry(u,pn.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(o=>{o?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Fe.or([()=>Fe.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class af{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Fi=o,this.Bi=u}static Li(e,n){let o=_r(),u=_r();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new af(e,n.fromCache,o,u)}}class nh{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.Ki(e,n).next(l=>l||this.Gi(e,n,u,o)).next(l=>l||this.Qi(e,n))}Ki(e,n){if(yp(n))return Fe.resolve(null);let o=Eo(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=Sl(n,null,"F"),o=Eo(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=_r(...l);return this.Ui.getDocuments(e,f).next(A=>this.indexManager.getMinOffset(e,o).next(V=>{const $=this.ji(n,A);return this.zi(n,$,f,V.readTime)?this.Ki(e,Sl(n,null,"F")):this.Wi(e,$,n,V)}))})))}Gi(e,n,o,u){return yp(n)||u.isEqual(pn.min())?this.Qi(e,n):this.Ui.getDocuments(e,o).next(l=>{const f=this.ji(n,l);return this.zi(n,f,o,u)?this.Qi(e,n):(Ho()<=he.in.DEBUG&&xt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Md(n)),this.Wi(e,f,n,function dt(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=pn.fromTimestamp(1e9===o?new Fi(n+1,0):new Fi(n,o));return new $t(u,_.empty(),e)}(u,-1)))})}ji(e,n){let o=new Si(Al(e));return n.forEach((u,l)=>{zc(e,l)&&(o=o.add(l))}),o}zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Qi(e,n){return Ho()<=he.in.DEBUG&&xt("QueryEngine","Using full collection scan to execute query:",Md(n)),this.Ui.getDocumentsMatchingQuery(e,n,$t.min())}Wi(e,n,o,u){return this.Ui.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class vE{constructor(e,n,o,u){this.persistence=e,this.Hi=n,this.serializer=u,this.Ji=new Vi(yn),this.Yi=new Wa(l=>ku(l),Po),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bc(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Ym(i,e){return rh.apply(this,arguments)}function rh(){return rh=(0,E.Z)(function*(i,e){const n=qt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.tr(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],A=[];let V=_r();for(const $ of u){f.push($.batchId);for(const ie of $.mutations)V=V.add(ie.key)}for(const $ of l){A.push($.batchId);for(const ie of $.mutations)V=V.add(ie.key)}return n.localDocuments.getDocuments(o,V).next($=>({er:$,removedBatchIds:f,addedBatchIds:A}))})})}),rh.apply(this,arguments)}function Wp(i){const e=qt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Kp(i,e){const n=qt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function zl(i,e,n){return ih.apply(this,arguments)}function ih(){return ih=(0,E.Z)(function*(i,e,n){const o=qt(i),u=o.Ji.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!us(f))throw f;xt("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(u.target)}),ih.apply(this,arguments)}function al(i,e,n){const o=qt(i);let u=pn.min(),l=_r();return o.persistence.runTransaction("Execute query","readonly",f=>function(A,V,$){const ie=qt(A),Ie=ie.Yi.get($);return void 0!==Ie?Fe.resolve(ie.Ji.get(Ie)):ie.Bs.getTargetData(V,$)}(o,f,Eo(e)).next(A=>{if(A)return u=A.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(f,A.targetId).next(V=>{l=V})}).next(()=>o.Hi.getDocumentsMatchingQuery(f,e,n?u:pn.min(),n?l:_r())).next(A=>(function cf(i,e,n){let o=i.Xi.get(e)||pn.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Xi.set(e,o)}(o,function xd(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),A),{documents:A,ir:l})))}class sh{constructor(){this.activeTargetIds=function Ep(){return Tm}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ry{constructor(){this.Hr=new sh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,o){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new sh,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class iv{Yr(e){}shutdown(){}}class iy{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qp=null;function sy(){return null===Qp?Qp=268435456+Math.round(2147483648*Math.random()):Qp++,"0x"+Qp.toString(16)}const hf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sv{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ko="WebChannelConnection";class Jp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,o,u,l){const f=sy(),A=this.To(e,n);xt("RestConnection",`Sending RPC '${e}' ${f}:`,A,o);const V={};return this.Eo(V,u,l),this.Ao(e,A,V,o).then($=>(xt("RestConnection",`Received RPC '${e}' ${f}: `,$),$),$=>{throw _o("RestConnection",`RPC '${e}' ${f} failed with error: `,$,"url: ",A,"request:",o),$})}vo(e,n,o,u,l,f){return this.Io(e,n,o,u,l)}Eo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+di,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}To(e,n){return`${this.mo}/v1/${n}:${hf[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,o,u){const l=sy();return new Promise((f,A)=>{const V=new Or;V.setWithCredentials(!0),V.listenOnce(ii.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case fn.NO_ERROR:const ie=V.getResponseJson();xt(Ko,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(ie)),f(ie);break;case fn.TIMEOUT:xt(Ko,`RPC '${e}' ${l} timed out`),A(new Dt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case fn.HTTP_ERROR:const Ie=V.getStatus();if(xt(Ko,`RPC '${e}' ${l} failed with status:`,Ie,"response text:",V.getResponseText()),Ie>0){let Ye=V.getResponseJson();Array.isArray(Ye)&&(Ye=Ye[0]);const vt=Ye?.error;if(vt&&vt.status&&vt.message){const Gt=function(dn){const wn=dn.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(wn)>=0?wn:rt.UNKNOWN}(vt.status);A(new Dt(Gt,vt.message))}else A(new Dt(rt.UNKNOWN,"Server responded with status "+V.getStatus()))}else A(new Dt(rt.UNAVAILABLE,"Connection failed."));break;default:an()}}finally{xt(Ko,`RPC '${e}' ${l} completed.`)}});const $=JSON.stringify(u);xt(Ko,`RPC '${e}' ${l} sending request:`,u),V.send(n,"POST",$,o,15)})}Ro(e,n,o){const u=sy(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=nt(),A=Tt(),V={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},$=this.longPollingOptions.timeoutSeconds;void 0!==$&&(V.longPollingTimeout=Math.round(1e3*$)),this.useFetchStreams&&(V.xmlHttpFactory=new rr({})),this.Eo(V.initMessageHeaders,n,o),V.encodeInitMessageHeaders=!0;const ie=l.join("");xt(Ko,`Creating RPC '${e}' stream ${u}: ${ie}`,V);const Ie=f.createWebChannel(ie,V);let Ye=!1,vt=!1;const Gt=new sv({ro:wn=>{vt?xt(Ko,`Not sending because RPC '${e}' stream ${u} is closed:`,wn):(Ye||(xt(Ko,`Opening RPC '${e}' stream ${u} transport.`),Ie.open(),Ye=!0),xt(Ko,`RPC '${e}' stream ${u} sending:`,wn),Ie.send(wn))},oo:()=>Ie.close()}),dn=(wn,kr,_i)=>{wn.listen(kr,qr=>{try{_i(qr)}catch(wo){setTimeout(()=>{throw wo},0)}})};return dn(Ie,si.EventType.OPEN,()=>{vt||xt(Ko,`RPC '${e}' stream ${u} transport opened.`)}),dn(Ie,si.EventType.CLOSE,()=>{vt||(vt=!0,xt(Ko,`RPC '${e}' stream ${u} transport closed`),Gt.wo())}),dn(Ie,si.EventType.ERROR,wn=>{vt||(vt=!0,_o(Ko,`RPC '${e}' stream ${u} transport errored:`,wn),Gt.wo(new Dt(rt.UNAVAILABLE,"The operation could not be completed")))}),dn(Ie,si.EventType.MESSAGE,wn=>{var kr;if(!vt){const _i=wn.data[0];Tn(!!_i);const wo=_i.error||(null===(kr=_i[0])||void 0===kr?void 0:kr.error);if(wo){xt(Ko,`RPC '${e}' stream ${u} received error:`,wo);const uo=wo.status;let ys=function(Pc){const ap=h[Pc];if(void 0!==ap)return W(ap)}(uo),Sa=wo.message;void 0===ys&&(ys=rt.INTERNAL,Sa="Unknown error status: "+uo+" with message "+wo.message),vt=!0,Gt.wo(new Dt(ys,Sa)),Ie.close()}else xt(Ko,`RPC '${e}' stream ${u} received:`,_i),Gt._o(_i)}}),dn(A,yi.STAT_EVENT,wn=>{wn.stat===Dr.PROXY?xt(Ko,`RPC '${e}' stream ${u} detected buffering proxy`):wn.stat===Dr.NOPROXY&&xt(Ko,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Gt.fo()},0),Gt}}function Kl(){return typeof document<"u"?document:null}function ll(i){return new Vd(i,!0)}class dl{constructor(e,n,o=1e3,u=1.5,l=6e4){this.ii=e,this.timerId=n,this.Po=o,this.bo=u,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),u=Math.max(0,n-o);u>0&&xt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,u,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class oh{constructor(e,n,o,u,l,f,A,V){this.ii=e,this.$o=o,this.Oo=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=A,this.listener=V,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new dl(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,E.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,E.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var o=this;return(0,E.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():n&&n.code===rt.RESOURCE_EXHAUSTED?(Wi(n.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):n&&n.code===rt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Fo===n&&this.Zo(o,u)},o=>{e(()=>{const u=new Dt(rt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(u)})})}Zo(e,n){const o=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(u=>{o(()=>this.tu(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Go(){var e=this;this.state=5,this.qo.No((0,E.Z)(function*(){e.state=0,e.start()}))}tu(e){return xt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zl extends oh{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function B_(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(V=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:an(),u=e.targetChange.targetIds||[],l=function(V,$){return V.useProto3Json?(Tn(void 0===$||"string"==typeof $),io.fromBase64String($||"")):(Tn(void 0===$||$ instanceof Uint8Array),io.fromUint8Array($||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,A=f&&function(V){const $=void 0===V.code?rt.UNKNOWN:W(V.code);return new Dt($,V.message||"")}(f);n=new Pl(o,u,l,A||null)}else if("documentChange"in e){const o=e.documentChange,u=Tu(i,o.document.name),l=oo(o.document.updateTime),f=o.document.createTime?oo(o.document.createTime):pn.min(),A=new b({mapValue:{fields:o.document.fields}}),V=B.newFoundDocument(u,l,f,A);n=new bu(o.targetIds||[],o.removedTargetIds||[],V.key,V)}else if("documentDelete"in e){const o=e.documentDelete,u=Tu(i,o.document),l=o.readTime?oo(o.readTime):pn.min(),f=B.newNoDocument(u,l);n=new bu([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=Tu(i,o.document);n=new bu([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return an();{const o=e.filter,{count:u=0,unchangedNames:l}=o,f=new C(u,l);n=new Jc(o.targetId,f)}}var V;return n}(this.serializer,e),o=function(u){if(!("targetChange"in u))return pn.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?pn.min():l.readTime?oo(l.readTime):pn.min()}(e);return this.listener.nu(n,o)}su(e){const n={};n.database=Vl(this.serializer),n.addTarget=function(u,l){let f;const A=l.target;if(f=vu(A)?{documents:Ap(u,A)}:{query:Ul(u,A)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=Nm(u,l.resumeToken);const V=Xc(u,l.expectedCount);null!==V&&(f.expectedCount=V)}else if(l.snapshotVersion.compareTo(pn.min())>0){f.readTime=mc(u,l.snapshotVersion.toTimestamp());const V=Xc(u,l.expectedCount);null!==V&&(f.expectedCount=V)}return f}(this.serializer,e);const o=function Mp(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return an()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Wo(n)}iu(e){const n={};n.database=Vl(this.serializer),n.removeTarget=e,this.Wo(n)}}class Xp extends oh{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Tn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function j_(i,e){return i&&i.length>0?(Tn(void 0!==e),i.map(n=>function(o,u){let l=oo(o.updateTime?o.updateTime:u);return l.isEqual(pn.min())&&(l=oo(u)),new V_(l,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=oo(e.commitTime);return this.listener.cu(o,n)}return Tn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Vl(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function $d(i,e){let n;if(e instanceof Fu)n={update:jd(i,e.key,e.value)};else if(e instanceof gc)n={delete:Ll(i,e.key)};else if(e instanceof uu)n={update:jd(i,e.key,e.data),updateMask:H_(e.fieldMask)};else{if(!(e instanceof Od))return an();n={verify:Ll(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const f=l.transform;if(f instanceof hc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof fc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Kc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Nl)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw an()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Ud(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:an()),n;var u}(this.serializer,o))};this.Wo(n)}}class eg extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.lu=!1}fu(){if(this.lu)throw new Dt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.Io(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Dt(rt.UNKNOWN,u.toString())})}vo(e,n,o,u){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Dt(rt.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class tg{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Wi(n),this.mu=!1):xt("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class ah{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(A=>{o.enqueueAndForget((0,E.Z)(function*(){var V;Du(f)&&(xt("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,E.Z)(function*($){const ie=qt($);ie.vu.add(4),yield Yl(ie),ie.bu.set("Unknown"),ie.vu.delete(4),yield uh(ie)}),function($){return V.apply(this,arguments)})(f))}))}),this.bu=new tg(o,u)}}function uh(i){return pf.apply(this,arguments)}function pf(){return pf=(0,E.Z)(function*(i){if(Du(i))for(const e of i.Ru)yield e(!0)}),pf.apply(this,arguments)}function Yl(i){return ng.apply(this,arguments)}function ng(){return ng=(0,E.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),ng.apply(this,arguments)}function Ql(i,e){const n=qt(i);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),ig(n)?uy(n):fl(n).Ko()&&rg(n,e))}function Jl(i,e){const n=qt(i),o=fl(n);n.Au.delete(e),o.Ko()&&ay(n,e),0===n.Au.size&&(o.Ko()?o.jo():Du(n)&&n.bu.set("Unknown"))}function rg(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pn.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fl(i).su(e)}function ay(i,e){i.Vu.qt(e),fl(i).iu(e)}function uy(i){i.Vu=new kl({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),fl(i).start(),i.bu.gu()}function ig(i){return Du(i)&&!fl(i).Uo()&&i.Au.size>0}function Du(i){return 0===qt(i).vu.size}function gf(i){i.Vu=void 0}function ov(i){return mf.apply(this,arguments)}function mf(){return mf=(0,E.Z)(function*(i){i.Au.forEach((e,n)=>{rg(i,e)})}),mf.apply(this,arguments)}function sg(i,e){return Xl.apply(this,arguments)}function Xl(){return Xl=(0,E.Z)(function*(i,e){gf(i),ig(i)?(i.bu.Iu(e),uy(i)):i.bu.set("Unknown")}),Xl.apply(this,arguments)}function av(i,e,n){return yf.apply(this,arguments)}function yf(){return yf=(0,E.Z)(function*(i,e,n){if(i.bu.set("Online"),e instanceof Pl&&2===e.state&&e.cause)try{yield(o=(0,E.Z)(function*(u,l){const f=l.cause;for(const A of l.targetIds)u.Au.has(A)&&(yield u.remoteSyncer.rejectListen(A,f),u.Au.delete(A),u.Vu.removeTarget(A))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){xt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield _f(i,o)}else if(e instanceof bu?i.Vu.Ht(e):e instanceof Jc?i.Vu.ne(e):i.Vu.Xt(e),!n.isEqual(pn.min()))try{const o=yield Wp(i.localStore);n.compareTo(o)>=0&&(yield function(u,l){const f=u.Vu.ce(l);return f.targetChanges.forEach((A,V)=>{if(A.resumeToken.approximateByteSize()>0){const $=u.Au.get(V);$&&u.Au.set(V,$.withResumeToken(A.resumeToken,l))}}),f.targetMismatches.forEach((A,V)=>{const $=u.Au.get(A);if(!$)return;u.Au.set(A,$.withResumeToken(io.EMPTY_BYTE_STRING,$.snapshotVersion)),ay(u,A);const ie=new cu($.target,A,V,$.sequenceNumber);rg(u,ie)}),u.remoteSyncer.applyRemoteEvent(f)}(i,n))}catch(o){xt("RemoteStore","Failed to raise snapshot:",o),yield _f(i,o)}var o}),yf.apply(this,arguments)}function _f(i,e,n){return vf.apply(this,arguments)}function vf(){return vf=(0,E.Z)(function*(i,e,n){if(!us(e))throw e;i.vu.add(1),yield Yl(i),i.bu.set("Offline"),n||(n=()=>Wp(i.localStore)),i.asyncQueue.enqueueRetryable((0,E.Z)(function*(){xt("RemoteStore","Retrying IndexedDB access"),yield n(),i.vu.delete(1),yield uh(i)}))}),vf.apply(this,arguments)}function uv(i,e){return e().catch(n=>_f(i,n,e))}function ed(i){return hl.apply(this,arguments)}function hl(){return hl=(0,E.Z)(function*(i){const e=qt(i),n=Dc(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;cv(e);)try{const u=yield Kp(e.localStore,o);if(null===u){0===e.Eu.length&&n.jo();break}o=u.batchId,td(e,u)}catch(u){yield _f(e,u)}nd(e)&&cy(e)}),hl.apply(this,arguments)}function cv(i){return Du(i)&&i.Eu.length<10}function td(i,e){i.Eu.push(e);const n=Dc(i);n.Ko()&&n.ou&&n.uu(e.mutations)}function nd(i){return Du(i)&&!Dc(i).Uo()&&i.Eu.length>0}function cy(i){Dc(i).start()}function ly(i){return og.apply(this,arguments)}function og(){return og=(0,E.Z)(function*(i){Dc(i).hu()}),og.apply(this,arguments)}function lv(i){return ag.apply(this,arguments)}function ag(){return ag=(0,E.Z)(function*(i){const e=Dc(i);for(const n of i.Eu)e.uu(n.mutations)}),ag.apply(this,arguments)}function dy(i,e,n){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,E.Z)(function*(i,e,n){const o=i.Eu.shift(),u=Yc.from(o,e,n);yield uv(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield ed(i)}),Ef.apply(this,arguments)}function ug(i,e){return hy.apply(this,arguments)}function hy(){return hy=(0,E.Z)(function*(i,e){var n;e&&Dc(i).ou&&(yield(n=(0,E.Z)(function*(o,u){if(function M(i){switch(i){default:return an();case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0}}(l=u.code)&&l!==rt.ABORTED){const f=o.Eu.shift();Dc(o).Qo(),yield uv(o,()=>o.remoteSyncer.rejectFailedWrite(f.batchId,u)),yield ed(o)}var l}),function(o,u){return n.apply(this,arguments)})(i,e)),nd(i)&&cy(i)}),hy.apply(this,arguments)}function wf(i,e){return If.apply(this,arguments)}function If(){return If=(0,E.Z)(function*(i,e){const n=qt(i);n.asyncQueue.verifyOperationInProgress(),xt("RemoteStore","RemoteStore received new credentials");const o=Du(n);n.vu.add(3),yield Yl(n),o&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield uh(n)}),If.apply(this,arguments)}function lg(){return lg=(0,E.Z)(function*(i,e){const n=qt(i);e?(n.vu.delete(2),yield uh(n)):e||(n.vu.add(2),yield Yl(n),n.bu.set("Unknown"))}),lg.apply(this,arguments)}function fl(i){return i.Su||(i.Su=function(e,n,o){const u=qt(e);return u.fu(),new Zl(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:ov.bind(null,i),ao:sg.bind(null,i),nu:av.bind(null,i)}),i.Ru.push(function(){var e=(0,E.Z)(function*(n){n?(i.Su.Qo(),ig(i)?uy(i):i.bu.set("Unknown")):(yield i.Su.stop(),gf(i))});return function(n){return e.apply(this,arguments)}}())),i.Su}function Dc(i){return i.Du||(i.Du=function(e,n,o){const u=qt(e);return u.fu(),new Xp(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:ly.bind(null,i),ao:ug.bind(null,i),au:lv.bind(null,i),cu:dy.bind(null,i)}),i.Ru.push(function(){var e=(0,E.Z)(function*(n){n?(i.Du.Qo(),yield ed(i)):(yield i.Du.stop(),i.Eu.length>0&&(xt("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Du}class bf{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,A=new bf(e,n,f,u,l);return A.start(o),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Dt(rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rd(i,e){if(Wi("AsyncQueue",`${e}: ${i}`),us(i))return new Dt(rt.UNAVAILABLE,`${e}: ${i}`);throw i}class id{constructor(e){this.comparator=e?(n,o)=>e(n,o)||_.comparator(n.key,o.key):(n,o)=>_.comparator(n.key,o.key),this.keyedMap=qc(),this.sortedSet=new Vi(this.comparator)}static emptySet(e){return new id(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof id)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new id;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class dv{constructor(){this.Cu=new Vi(_.comparator)}track(e){const n=e.doc.key,o=this.Cu.get(n);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(n):1===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):an():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,o)=>{e.push(o)}),e}}class pl{constructor(e,n,o,u,l,f,A,V,$){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=A,this.excludesMetadataChanges=V,this.hasCachedResults=$}static fromInitialDocuments(e,n,o,u,l){const f=[];return n.forEach(A=>{f.push({type:0,doc:A})}),new pl(e,n,id.emptySet(n),f,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class fy{constructor(){this.Nu=void 0,this.listeners=[]}}class Su{constructor(){this.queries=new Wa(e=>Oh(e),Gc),this.onlineState="Unknown",this.ku=new Set}}function py(){return py=(0,E.Z)(function*(i,e){const n=qt(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new fy),u)try{l.Nu=yield n.onListen(o)}catch(f){const A=rd(f,`Initialization of query '${Md(e.query)}' failed`);return void e.onError(A)}n.queries.set(o,l),l.listeners.push(e),e.Mu(n.onlineState),l.Nu&&e.$u(l.Nu)&&gy(n)}),py.apply(this,arguments)}function Bu(){return Bu=(0,E.Z)(function*(i,e){const n=qt(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),Bu.apply(this,arguments)}function dg(i,e){const n=qt(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const A of f.listeners)A.$u(u)&&(o=!0);f.Nu=u}}o&&gy(n)}function hv(i,e,n){const o=qt(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function gy(i){i.ku.forEach(e=>{e.next()})}class hg{constructor(e,n,o){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new pl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class fv{constructor(e){this.key=e}}class Fo{constructor(e){this.key=e}}class _y{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=_r(),this.mutatedKeys=_r(),this.tc=Al(e),this.ec=new id(this.tc)}get nc(){return this.Yu}sc(e,n){const o=n?n.ic:new dv,u=n?n.ec:this.ec;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,A=!1;const V="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,$="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ie,Ie)=>{const Ye=u.get(ie),vt=zc(this.query,Ie)?Ie:null,Gt=!!Ye&&this.mutatedKeys.has(Ye.key),dn=!!vt&&(vt.hasLocalMutations||this.mutatedKeys.has(vt.key)&&vt.hasCommittedMutations);let wn=!1;Ye&&vt?Ye.data.isEqual(vt.data)?Gt!==dn&&(o.track({type:3,doc:vt}),wn=!0):this.rc(Ye,vt)||(o.track({type:2,doc:vt}),wn=!0,(V&&this.tc(vt,V)>0||$&&this.tc(vt,$)<0)&&(A=!0)):!Ye&&vt?(o.track({type:0,doc:vt}),wn=!0):Ye&&!vt&&(o.track({type:1,doc:Ye}),wn=!0,(V||$)&&(A=!0)),wn&&(vt?(f=f.add(vt),l=dn?l.add(ie):l.delete(ie)):(f=f.delete(ie),l=l.delete(ie)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const ie="F"===this.query.limitType?f.last():f.first();f=f.delete(ie.key),l=l.delete(ie.key),o.track({type:1,doc:ie})}return{ec:f,ic:o,zi:A,mutatedKeys:l}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort(($,ie)=>function(Ie,Ye){const vt=Gt=>{switch(Gt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return an()}};return vt(Ie)-vt(Ye)}($.type,ie.type)||this.tc($.doc,ie.doc)),this.oc(o);const f=n?this.uc():[],A=0===this.Zu.size&&this.current?1:0,V=A!==this.Xu;return this.Xu=A,0!==l.length||V?{snapshot:new pl(this.query,e.ec,u,l,e.mutatedKeys,0===A,V,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new dv,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=_r(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const n=[];return e.forEach(o=>{this.Zu.has(o)||n.push(new Fo(o))}),this.Zu.forEach(o=>{e.has(o)||n.push(new fv(o))}),n}hc(e){this.Yu=e.ir,this.Zu=_r();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return pl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class pg{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class pv{constructor(e){this.key=e,this.fc=!1}}class gv{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new Wa(A=>Oh(A),Gc),this._c=new Map,this.mc=new Set,this.gc=new Vi(_.comparator),this.yc=new Map,this.Ic=new Xd,this.Tc={},this.Ec=new Map,this.Ac=Da.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function gg(i,e){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,E.Z)(function*(i,e){const n=function Ac(i){const e=qt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ey.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ec.bind(null,e),e.dc.nu=dg.bind(null,e.eventManager),e.dc.Pc=hv.bind(null,e.eventManager),e}(i);let o,u;const l=n.wc.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.lc();else{const f=yield function Xu(i,e){const n=qt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Bs.getTargetData(o,e).next(l=>l?(u=l,Fe.resolve(u)):n.Bs.allocateTargetId(o).next(f=>(u=new cu(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.Bs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ji.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(o.targetId,o),n.Yi.set(e,o.targetId)),o})}(n.localStore,Eo(e)),A=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield function Df(i,e,n,o,u){return mg.apply(this,arguments)}(n,e,o,"current"===A,f.resumeToken),n.isPrimaryClient&&Ql(n.remoteStore,f)}return u}),Cf.apply(this,arguments)}function mg(){return mg=(0,E.Z)(function*(i,e,n,o,u){i.Rc=(Ie,Ye,vt)=>{return(Gt=(0,E.Z)(function*(dn,wn,kr,_i){let qr=wn.view.sc(kr);qr.zi&&(qr=yield al(dn.localStore,wn.query,!1).then(({documents:ys})=>wn.view.sc(ys,qr)));const wo=_i&&_i.targetChanges.get(wn.targetId),uo=wn.view.applyChanges(qr,dn.isPrimaryClient,wo);return Eg(dn,wn.targetId,uo.cc),uo.snapshot}),function(dn,wn,kr,_i){return Gt.apply(this,arguments)})(i,Ie,Ye,vt);var Gt};const l=yield al(i.localStore,e,!0),f=new _y(e,l.ir),A=f.sc(l.documents),V=Cs.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),$=f.applyChanges(A,i.isPrimaryClient,V);Eg(i,n,$.cc);const ie=new pg(e,n,f);return i.wc.set(e,ie),i._c.has(n)?i._c.get(n).push(e):i._c.set(n,[e]),$.snapshot}),mg.apply(this,arguments)}function vy(i,e){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,E.Z)(function*(i,e){const n=qt(i),o=n.wc.get(e),u=n._c.get(o.targetId);if(u.length>1)return n._c.set(o.targetId,u.filter(l=>!Gc(l,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield zl(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Jl(n.remoteStore,o.targetId),yl(n,o.targetId)}).catch(On))):(yl(n,o.targetId),yield zl(n.localStore,o.targetId,!0))}),Sf.apply(this,arguments)}function yg(){return yg=(0,E.Z)(function*(i,e,n){const o=function lh(i){const e=qt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wy.bind(null,e),e}(i);try{const u=yield function(l,f){const A=qt(l),V=Fi.now(),$=f.reduce((Ye,vt)=>Ye.add(vt.key),_r());let ie,Ie;return A.persistence.runTransaction("Locally write mutations","readwrite",Ye=>{let vt=Wo(),Gt=_r();return A.Zi.getEntries(Ye,$).next(dn=>{vt=dn,vt.forEach((wn,kr)=>{kr.isValidDocument()||(Gt=Gt.add(wn))})}).next(()=>A.localDocuments.getOverlayedDocuments(Ye,vt)).next(dn=>{ie=dn;const wn=[];for(const kr of f){const _i=xm(kr,ie.get(kr.key).overlayedDocument);null!=_i&&wn.push(new uu(kr.key,_i,O(_i.value.mapValue),ls.exists(!0)))}return A.mutationQueue.addMutationBatch(Ye,V,wn,f)}).next(dn=>{Ie=dn;const wn=dn.applyToLocalDocumentSet(ie,Gt);return A.documentOverlayCache.saveOverlays(Ye,dn.batchId,wn)})}).then(()=>({batchId:Ie.batchId,changes:Ml(ie)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,f,A){let V=l.Tc[l.currentUser.toKey()];V||(V=new Vi(yn)),V=V.insert(f,A),l.Tc[l.currentUser.toKey()]=V}(o,u.batchId,n),yield ju(o,u.changes),yield ed(o.remoteStore)}catch(u){const l=rd(u,"Failed to persist write");n.reject(l)}}),yg.apply(this,arguments)}function Ey(i,e){return Af.apply(this,arguments)}function Af(){return Af=(0,E.Z)(function*(i,e){const n=qt(i);try{const o=yield function ol(i,e){const n=qt(i),o=e.snapshotVersion;let u=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.Zi.newChangeBuffer({trackRemovals:!0});u=n.Ji;const A=[];e.targetChanges.forEach((ie,Ie)=>{const Ye=u.get(Ie);if(!Ye)return;A.push(n.Bs.removeMatchingKeys(l,ie.removedDocuments,Ie).next(()=>n.Bs.addMatchingKeys(l,ie.addedDocuments,Ie)));let vt=Ye.withSequenceNumber(l.currentSequenceNumber);var Gt,dn,wn;null!==e.targetMismatches.get(Ie)?vt=vt.withResumeToken(io.EMPTY_BYTE_STRING,pn.min()).withLastLimboFreeSnapshotVersion(pn.min()):ie.resumeToken.approximateByteSize()>0&&(vt=vt.withResumeToken(ie.resumeToken,o)),u=u.insert(Ie,vt),dn=vt,wn=ie,(0===(Gt=Ye).resumeToken.approximateByteSize()||dn.snapshotVersion.toMicroseconds()-Gt.snapshotVersion.toMicroseconds()>=3e8||wn.addedDocuments.size+wn.modifiedDocuments.size+wn.removedDocuments.size>0)&&A.push(n.Bs.updateTargetData(l,vt))});let V=Wo(),$=_r();if(e.documentUpdates.forEach(ie=>{e.resolvedLimboDocuments.has(ie)&&A.push(n.persistence.referenceDelegate.updateLimboDocument(l,ie))}),A.push(function Jm(i,e,n){let o=_r(),u=_r();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=Wo();return n.forEach((A,V)=>{const $=l.get(A);V.isFoundDocument()!==$.isFoundDocument()&&(u=u.add(A)),V.isNoDocument()&&V.version.isEqual(pn.min())?(e.removeEntry(A,V.readTime),f=f.insert(A,V)):!$.isValidDocument()||V.version.compareTo($.version)>0||0===V.version.compareTo($.version)&&$.hasPendingWrites?(e.addEntry(V),f=f.insert(A,V)):xt("LocalStore","Ignoring outdated watch update for ",A,". Current version:",$.version," Watch version:",V.version)}),{nr:f,sr:u}})}(l,f,e.documentUpdates).next(ie=>{V=ie.nr,$=ie.sr})),!o.isEqual(pn.min())){const ie=n.Bs.getLastRemoteSnapshotVersion(l).next(Ie=>n.Bs.setTargetsMetadata(l,l.currentSequenceNumber,o));A.push(ie)}return Fe.waitFor(A).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,V,$)).next(()=>V)}).then(l=>(n.Ji=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.yc.get(l);f&&(Tn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.fc=!0:u.modifiedDocuments.size>0?Tn(f.fc):u.removedDocuments.size>0&&(Tn(f.fc),f.fc=!1))}),yield ju(n,o,e)}catch(o){yield On(o)}}),Af.apply(this,arguments)}function gl(i,e,n){const o=qt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.wc.forEach((l,f)=>{const A=f.view.Mu(e);A.snapshot&&u.push(A.snapshot)}),function(l,f){const A=qt(l);A.onlineState=f;let V=!1;A.queries.forEach(($,ie)=>{for(const Ie of ie.listeners)Ie.Mu(f)&&(V=!0)}),V&&gy(A)}(o.eventManager,e),u.length&&o.dc.nu(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function ec(i,e,n){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,E.Z)(function*(i,e,n){const o=qt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.yc.get(e),l=u&&u.key;if(l){let f=new Vi(_.comparator);f=f.insert(l,B.newNoDocument(l,pn.min()));const A=_r().add(l),V=new ga(pn.min(),new Map,new Vi(yn),f,A);yield Ey(o,V),o.gc=o.gc.remove(l),o.yc.delete(e),wg(o)}else yield zl(o.localStore,e,!1).then(()=>yl(o,e,n)).catch(On)}),Sc.apply(this,arguments)}function yv(i,e){return _g.apply(this,arguments)}function _g(){return _g=(0,E.Z)(function*(i,e){const n=qt(i),o=e.batch.batchId;try{const u=yield function Qm(i,e){const n=qt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.Zi.newChangeBuffer({trackRemovals:!0});return function(f,A,V,$){const ie=V.batch,Ie=ie.keys();let Ye=Fe.resolve();return Ie.forEach(vt=>{Ye=Ye.next(()=>$.getEntry(A,vt)).next(Gt=>{const dn=V.docVersions.get(vt);Tn(null!==dn),Gt.version.compareTo(dn)<0&&(ie.applyToRemoteDocument(Gt,V),Gt.isValidDocument()&&(Gt.setReadTime(V.commitVersion),$.addEntry(Gt)))})}),Ye.next(()=>f.mutationQueue.removeMutationBatch(A,ie))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let A=_r();for(let V=0;V<f.mutationResults.length;++V)f.mutationResults[V].transformResults.length>0&&(A=A.add(f.batch.mutations[V].key));return A}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);xf(n,o,null),sd(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield ju(n,u)}catch(u){yield On(u)}}),_g.apply(this,arguments)}function wy(i,e,n){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,E.Z)(function*(i,e,n){const o=qt(i);try{const u=yield function(l,f){const A=qt(l);return A.persistence.runTransaction("Reject batch","readwrite-primary",V=>{let $;return A.mutationQueue.lookupMutationBatch(V,f).next(ie=>(Tn(null!==ie),$=ie.keys(),A.mutationQueue.removeMutationBatch(V,ie))).next(()=>A.mutationQueue.performConsistencyCheck(V)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(V,$,f)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(V,$)).next(()=>A.localDocuments.getDocuments(V,$))})}(o.localStore,e);xf(o,e,n),sd(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield ju(o,u)}catch(u){yield On(u)}}),Mf.apply(this,arguments)}function sd(i,e){(i.Ec.get(e)||[]).forEach(n=>{n.resolve()}),i.Ec.delete(e)}function xf(i,e,n){const o=qt(i);let u=o.Tc[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Tc[o.currentUser.toKey()]=u}}function yl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.wc.delete(o),n&&i.dc.Pc(o,n);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(o=>{i.Ic.containsKey(o)||Iy(i,o)})}function Iy(i,e){i.mc.delete(e.path.canonicalString());const n=i.gc.get(e);null!==n&&(Jl(i.remoteStore,n),i.gc=i.gc.remove(e),i.yc.delete(n),wg(i))}function Eg(i,e,n){for(const o of n)o instanceof fv?(i.Ic.addReference(o.key,e),_v(i,o)):o instanceof Fo?(xt("SyncEngine","Document no longer in limbo: "+o.key),i.Ic.removeReference(o.key,e),i.Ic.containsKey(o.key)||Iy(i,o.key)):an()}function _v(i,e){const n=e.key,o=n.path.canonicalString();i.gc.get(n)||i.mc.has(o)||(xt("SyncEngine","New document in limbo: "+n),i.mc.add(o),wg(i))}function wg(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const n=new _(Vr.fromString(e)),o=i.Ac.next();i.yc.set(o,new pv(n)),i.gc=i.gc.insert(n,o),Ql(i.remoteStore,new cu(Eo(dc(n.path)),o,"TargetPurposeLimboResolution",Ci.ct))}}function ju(i,e,n){return by.apply(this,arguments)}function by(){return by=(0,E.Z)(function*(i,e,n){const o=qt(i),u=[],l=[],f=[];var A;o.wc.isEmpty()||(o.wc.forEach((A,V)=>{f.push(o.Rc(V,e,n).then($=>{if(($||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(V.targetId,$?.fromCache?"not-current":"current"),$){u.push($);const ie=af.Li(V.targetId,$);l.push(ie)}}))}),yield Promise.all(f),o.dc.nu(u),yield(A=(0,E.Z)(function*(V,$){const ie=qt(V);try{yield ie.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ie=>Fe.forEach($,Ye=>Fe.forEach(Ye.Fi,vt=>ie.persistence.referenceDelegate.addReference(Ie,Ye.targetId,vt)).next(()=>Fe.forEach(Ye.Bi,vt=>ie.persistence.referenceDelegate.removeReference(Ie,Ye.targetId,vt)))))}catch(Ie){if(!us(Ie))throw Ie;xt("LocalStore","Failed to update sequence numbers: "+Ie)}for(const Ie of $){const Ye=Ie.targetId;if(!Ie.fromCache){const vt=ie.Ji.get(Ye),dn=vt.withLastLimboFreeSnapshotVersion(vt.snapshotVersion);ie.Ji=ie.Ji.insert(Ye,dn)}}}),function(V,$){return A.apply(this,arguments)})(o.localStore,l))}),by.apply(this,arguments)}function vv(i,e){return Ty.apply(this,arguments)}function Ty(){return Ty=(0,E.Z)(function*(i,e){const n=qt(i);if(!n.currentUser.isEqual(e)){xt("SyncEngine","User change. New user:",e.toKey());const o=yield Ym(n.localStore,e);n.currentUser=e,(u=n).Ec.forEach(f=>{f.forEach(A=>{A.reject(new Dt(rt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Ec.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield ju(n,o.er)}var u}),Ty.apply(this,arguments)}function EE(i,e){const n=qt(i),o=n.yc.get(e);if(o&&o.fc)return _r().add(o.key);{let u=_r();const l=n._c.get(e);if(!l)return u;for(const f of l){const A=n.wc.get(f);u=u.unionWith(A.view.nc)}return u}}class hh{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,E.Z)(function*(){n.serializer=ll(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function uf(i,e,n,o){return new vE(i,e,n,o)}(this.persistence,new nh,e.initialUser,this.serializer)}createPersistence(e){return new tf(zp.zs,this.serializer)}createSharedClientState(e){return new ry}terminate(){var e=this;return(0,E.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _l{initialize(e,n){var o=this;return(0,E.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>gl(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=vv.bind(null,o.syncEngine),yield function cg(i,e){return lg.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Su}createDatastore(e){const n=ll(e.databaseInfo.databaseId),o=new Jp(e.databaseInfo);return new eg(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,l=A=>gl(this.syncEngine,A,0),f=iy.D()?new iy:new iv,new ah(n,o,u,l,f);var n,o,u,l,f}createSyncEngine(e,n){return function(o,u,l,f,A,V,$){const ie=new gv(o,u,l,f,A,V);return $&&(ie.vc=!0),ie}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,E.Z)(function*(n){const o=qt(n);xt("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield Yl(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Vf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Tv{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=Qr.UNAUTHENTICATED,this.clientId=Ha.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,E.Z)(function*(A){xt("FirestoreClient","Received user=",A.uid),yield l.authCredentialListener(A),l.user=A});return function(A){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(xt("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,E.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Dt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,E.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=rd(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function Uf(i,e){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,E.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),xt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,E.Z)(function*(l){o.isEqual(l)||(yield Ym(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Cg.apply(this,arguments)}function Dg(i,e){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,E.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function Ag(i){return Mg.apply(this,arguments)}(i);xt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>wf(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>wf(e.remoteStore,l)),i._onlineComponents=e}),Bf.apply(this,arguments)}function Mg(){return Mg=(0,E.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){xt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Uf(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Sg(i){return"FirebaseError"===i.name?i.code===rt.FAILED_PRECONDITION||i.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),yield Uf(i,new hh)}}else xt("FirestoreClient","Using default OfflineComponentProvider"),yield Uf(i,new hh);return i._offlineComponents}),Mg.apply(this,arguments)}function ya(i){return xg.apply(this,arguments)}function xg(){return xg=(0,E.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(xt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Dg(i,i._uninitializedComponentsProvider._online)):(xt("FirestoreClient","Using default OnlineComponentProvider"),yield Dg(i,new _l))),i._onlineComponents}),xg.apply(this,arguments)}function cd(i){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,E.Z)(function*(i){const e=yield ya(i),n=e.eventManager;return n.onListen=gg.bind(null,e.syncEngine),n.onUnlisten=vy.bind(null,e.syncEngine),n}),Ng.apply(this,arguments)}function Gf(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Oy=new Map;function zf(i,e,n){if(!n)throw new Dt(rt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Og(i){if(!_.isDocumentKey(i))throw new Dt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Pg(i){if(_.isDocumentKey(i))throw new Dt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function vl(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":an()}function oi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Dt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vl(i);throw new Dt(rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class kg{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Dt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Dt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Rv(i,e,n,o){if(!0===e&&!0===o)throw new Dt(rt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Gf(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new Dt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Dt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Dt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ld{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Dt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Dt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kg(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Sr;switch(n.type){case"firstParty":return new Xa(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Dt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Oy.get(e);n&&(xt("ComponentProvider","Removing Datastore"),Oy.delete(e),n.terminate())}(this),Promise.resolve()}}class Ks{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ks(this.firestore,e,this._key)}}class Lo{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Lo(this.firestore,e,this._query)}}class Zo extends Lo{constructor(e,n,o){super(e,n,dc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ks(this.firestore,null,new _(e))}withConverter(e){return new Zo(this.firestore,e,this._path)}}function Ov(i,e,...n){if(i=(0,ue.m9)(i),zf("collection","path",e),i instanceof ld){const o=Vr.fromString(e,...n);return Pg(o),new Zo(i,null,o)}{if(!(i instanceof Ks||i instanceof Zo))throw new Dt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Vr.fromString(e,...n));return Pg(o),new Zo(i.firestore,null,o)}}function qf(i,e,...n){if(i=(0,ue.m9)(i),1===arguments.length&&(e=Ha.A()),zf("doc","path",e),i instanceof ld){const o=Vr.fromString(e,...n);return Og(o),new Ks(i,null,new _(o))}{if(!(i instanceof Ks||i instanceof Zo))throw new Dt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Vr.fromString(e,...n));return Og(o),new Ks(i.firestore,i instanceof Zo?i.converter:null,new _(o))}}class Pv{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new dl(this,"async_queue_retry"),this.Xc=()=>{const n=Kl();n&&xt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Kl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Kl();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Qi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,E.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!us(n))throw n;xt("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,Wi("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=n,n}enqueueAfterDelay(e,n,o){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const u=bf.createAndSchedule(this,e,n,o,l=>this.na(l));return this.zc.push(u),u}Zc(){this.Wc&&an()}verifyOperationInProgress(){}sa(){var e=this;return(0,E.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function dd(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class is extends ld{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new Pv,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Lg(this),this._firestoreClient.terminate()}}function Fv(i,e){const n="object"==typeof i?i:(0,Xe.getApp)(),o="string"==typeof i?i:e||"(default)",u=(0,Xe._getProvider)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,ue.P0)("firestore");l&&function Py(i,e,n,o={}){var u;const l=(i=oi(i,ld))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let A,V;if("string"==typeof o.mockUserToken)A=o.mockUserToken,V=Qr.MOCK_USER;else{A=(0,ue.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const $=o.mockUserToken.sub||o.mockUserToken.user_id;if(!$)throw new Dt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");V=new Qr($)}i._authCredentials=new $a(new ja(A,V))}}(u,...l)}return u}function ao(i){return i._firestoreClient||Lg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Lg(i){var e,n,o;const u=i._freezeSettings(),l=(A=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ou(i._databaseId,A,i._persistenceKey,($=u).host,$.ssl,$.experimentalForceLongPolling,$.experimentalAutoDetectLongPolling,Gf($.experimentalLongPollingOptions),$.useFetchStreams));var A,$;i._firestoreClient=new Tv(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}class El{constructor(e){this._byteString=e}static fromBase64String(e){try{return new El(io.fromBase64String(e))}catch(n){throw new Dt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new El(io.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class fd{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Dt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new N(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ug{constructor(e){this._methodName=e}}class Bg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Dt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Dt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yn(this._lat,e._lat)||yn(this._long,e._long)}}const jv=/^__.*__$/;class ky{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new uu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fu(e,this.data,n,this.fieldTransforms)}}class Kf{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new uu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Fy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw an()}}class wl{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new wl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.fa(e),u}da(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.ua(),u}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ka(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Fy(this.ca)&&jv.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class $v{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||ll(e)}ya(e,n,o,u=!1){return new wl({ca:e,methodName:n,ga:o,path:N.emptyPath(),la:!1,ma:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pd(i){const e=i._freezeSettings(),n=ll(i._databaseId);return new $v(i._databaseId,!!e.ignoreUndefinedProperties,n)}function jg(i,e,n,o,u,l={}){const f=i.ya(l.merge||l.mergeFields?2:0,e,n,u);Gg("Data must be an object, but it was:",f,o);const A=zv(o,f);let V,$;if(l.merge)V=new da(f.fieldMask),$=f.fieldTransforms;else if(l.mergeFields){const ie=[];for(const Ie of l.mergeFields){const Ye=yh(e,Ie,n);if(!f.contains(Ye))throw new Dt(rt.INVALID_ARGUMENT,`Field '${Ye}' is specified in your field mask but missing from your input data.`);gd(ie,Ye)||ie.push(Ye)}V=new da(ie),$=f.fieldTransforms.filter(Ie=>V.covers(Ie.field))}else V=null,$=f.fieldTransforms;return new ky(new b(A),V,$)}class gh extends Ug{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gh}}function Mc(i,e){if(mh(i=(0,ue.m9)(i)))return Gg("Unsupported field value:",e,i),zv(i,e);if(i instanceof Ug)return function(n,o){if(!Fy(o.ca))throw o._a(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,o){const u=[];let l=0;for(const f of n){let A=Mc(f,o.wa(l));null==A&&(A={nullValue:"NULL_VALUE"}),u.push(A),l++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,ue.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Cm(o.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=Fi.fromDate(n);return{timestampValue:mc(o.serializer,u)}}if(n instanceof Fi){const u=new Fi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:mc(o.serializer,u)}}if(n instanceof Bg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof El)return{bytesValue:Nm(o.serializer,n._byteString)};if(n instanceof Ks){const u=o.databaseId,l=n.firestore._databaseId;if(!l.isEqual(u))throw o._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Cp(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o._a(`Unsupported field value: ${vl(n)}`)}(i,e)}function zv(i,e){const n={};return Nu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(i,(o,u)=>{const l=Mc(u,e.ha(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function mh(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Fi||i instanceof Bg||i instanceof El||i instanceof Ks||i instanceof Ug)}function Gg(i,e,n){if(!mh(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=vl(n);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function yh(i,e,n){if((e=(0,ue.m9)(e))instanceof fd)return e._internalPath;if("string"==typeof e)return Zf(i,e);throw Ka("Field path arguments must be of type string or ",i,!1,void 0,n)}const zg=new RegExp("[~\\*/\\[\\]]");function Zf(i,e,n){if(e.search(zg)>=0)throw Ka(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new fd(...e.split("."))._internalPath}catch{throw Ka(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ka(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let A=`Function ${e}() called with invalid data`;n&&(A+=" (via `toFirestore()`)"),A+=". ";let V="";return(l||f)&&(V+=" (found",l&&(V+=` in field ${o}`),f&&(V+=` in document ${u}`),V+=")"),new Dt(rt.INVALID_ARGUMENT,A+i+V)}function gd(i,e){return i.some(n=>n.isEqual(e))}class Yo{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ks(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Il(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Il extends Yo{data(){return super.data()}}function bl(i,e){return"string"==typeof e?Zf(i,e):e instanceof fd?e._internalPath:e._delegate._internalPath}class _h{}class Tl extends _h{}function md(i,e,...n){let o=[];e instanceof _h&&o.push(e),o=o.concat(n),function(u){const l=u.filter(A=>A instanceof Mu).length,f=u.filter(A=>A instanceof Hu).length;if(l>1||l>0&&f>0)throw new Dt(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Hu extends Tl{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Hu(e,n,o)}_apply(e){const n=this._parse(e);return Xv(e._query,n),new Lo(e.firestore,e.converter,Ad(e._query,n))}_parse(e){const n=pd(e.firestore);return function(u,l,f,A,V,$,ie){let Ie;if(V.isKeyField()){if("array-contains"===$||"array-contains-any"===$)throw new Dt(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${$}' queries on documentId().`);if("in"===$||"not-in"===$){Jv(ie,$);const Ye=[];for(const vt of ie)Ye.push(jy(A,u,vt));Ie={arrayValue:{values:Ye}}}else Ie=jy(A,u,ie)}else"in"!==$&&"not-in"!==$&&"array-contains-any"!==$||Jv(ie,$),Ie=function Hg(i,e,n,o=!1){return Mc(n,i.ya(o?4:3,e))}(f,"where",ie,"in"===$||"not-in"===$);return Lt.create(V,$,Ie)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Mu extends _h{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Mu(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:rn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(o,u){let l=o;const f=u.getFlattenedFilters();for(const A of f)Xv(l,A),l=Ad(l,A)}(e._query,n),new Lo(e.firestore,e.converter,Ad(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class xc extends Tl{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new xc(e,n)}_apply(e){const n=function(o,u,l){if(null!==o.startAt)throw new Dt(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Dt(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new ft(u,l);return function(A,V){if(null===qo(A)){const $=wu(A);null!==$&&$y(0,$,V.field)}}(o,f),f}(e._query,this._field,this._direction);return new Lo(e.firestore,e.converter,function(o,u){const l=o.explicitOrderBy.concat([u]);return new Eu(o.path,o.collectionGroup,l,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function yd(i,e="asc"){const n=e,o=bl("orderBy",i);return xc._create(o,n)}function jy(i,e,n){if("string"==typeof(n=(0,ue.m9)(n))){if(""===n)throw new Dt(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iu(e)&&-1!==n.indexOf("/"))throw new Dt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Vr.fromString(n));if(!_.isDocumentKey(o))throw new Dt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return La(i,new _(o))}if(n instanceof Ks)return La(i,n._key);throw new Dt(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vl(n)}.`)}function Jv(i,e){if(!Array.isArray(i)||0===i.length)throw new Dt(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xv(i,e){if(e.isInequality()){const o=wu(i),u=e.field;if(null!==o&&!o.isEqual(u))throw new Dt(rt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const l=qo(i);null!==l&&$y(0,u,l)}const n=function(o,u){for(const l of o)for(const f of l.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Dt(rt.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function $y(i,e,n){if(!n.isEqual(e))throw new Dt(rt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class xE{convertValue(e,n="none"){switch(Ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ms(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw an()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Pa(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new Bg(Ms(e.latitude),Ms(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=kc(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(ia(e));default:return null}}convertTimestamp(e){const n=ka(e);return new Fi(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Vr.fromString(e);Tn(G_(o));const u=new Go(o.get(1),o.get(3)),l=new _(o.popFirst(5));return u.isEqual(n)||Wi(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nc extends Yo{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(bl("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Ch extends nc{data(e={}){return super.data(e)}}class Gu{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new tc(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Ch(this._firestore,this._userDataWriter,o.key,o,new tc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Dt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(f=>({type:"added",doc:new Ch(o._firestore,o._userDataWriter,f.doc.key,f.doc,new tc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||3!==f.type).map(f=>{const A=new Ch(o._firestore,o._userDataWriter,f.doc.key,f.doc,new tc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let V=-1,$=-1;return 0!==f.type&&(V=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),$=l.indexOf(f.doc.key)),{type:zy(f.type),doc:A,oldIndex:V,newIndex:$}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return an()}}class Rc extends xE{constructor(e){super(),this.firestore=e}convertBytes(e){return new El(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ks(this.firestore,null,n)}}function LE(i,e,n,...o){i=oi(i,Ks);const u=oi(i.firestore,is),l=pd(u);let f;return f="string"==typeof(e=(0,ue.m9)(e))||e instanceof fd?function Gv(i,e,n,o,u,l){const f=i.ya(1,e,n),A=[yh(e,o,n)],V=[u];if(l.length%2!=0)throw new Dt(rt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ye=0;Ye<l.length;Ye+=2)A.push(yh(e,l[Ye])),V.push(l[Ye+1]);const $=[],ie=b.empty();for(let Ye=A.length-1;Ye>=0;--Ye)if(!gd($,A[Ye])){const vt=A[Ye];let Gt=V[Ye];Gt=(0,ue.m9)(Gt);const dn=f.da(vt);if(Gt instanceof gh)$.push(vt);else{const wn=Mc(Gt,dn);null!=wn&&($.push(vt),ie.set(vt,wn))}}const Ie=new da($);return new Kf(ie,Ie,f.fieldTransforms)}(l,"updateDoc",i._key,e,n,o):function By(i,e,n,o){const u=i.ya(1,e,n);Gg("Data must be an object, but it was:",u,o);const l=[],f=b.empty();Pa(o,(V,$)=>{const ie=Zf(e,V,n);$=(0,ue.m9)($);const Ie=u.da(ie);if($ instanceof gh)l.push(ie);else{const Ye=Mc($,Ie);null!=Ye&&(l.push(ie),f.set(ie,Ye))}});const A=new da(l);return new Kf(f,A,u.fieldTransforms)}(l,"updateDoc",i._key,e),_d(u,[f.toMutation(i._key,ls.exists(!0))])}function t0(i,e){const n=oi(i.firestore,is),o=qf(i),u=function qg(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}(i.converter,e);return _d(n,[jg(pd(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,ls.exists(!1))]).then(()=>o)}function _d(i,e){return function(n,o){const u=new Qi;return n.asyncQueue.enqueueAndForget((0,E.Z)(function*(){return function mv(i,e,n){return yg.apply(this,arguments)}(yield function $f(i){return ya(i).then(e=>e.syncEngine)}(n),o,u)})),u.promise}(ao(i),e)}!function(i,e=!0){di=Xe.SDK_VERSION,(0,Xe._registerComponent)(new We.wA("firestore",(n,{instanceIdentifier:o,options:u})=>{const l=n.getProvider("app").getImmediate(),f=new is(new Ja(n.getProvider("auth-internal")),new na(n.getProvider("app-check-internal")),function(A,V){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new Dt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Go(A.options.projectId,V)}(l,o),l);return u=Object.assign({useFetchStreams:e},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),(0,Xe.registerVersion)(ws,"3.13.0",i),(0,Xe.registerVersion)(ws,"3.13.0","esm2017")}();var em=Z(5592),tm=Z(7398),np=function(){return np=Object.assign||function(e){for(var n,o=1,u=arguments.length;o<u;o++)for(var l in n=arguments[o])Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l]);return e},np.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var t_={includeMetadataChanges:!1};function ip(i,e){return void 0===e&&(e=t_),new em.y(function(n){var o=function Zg(i,...e){var n,o,u;i=(0,ue.m9)(i);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||dd(e[f])||(l=e[f],f++);const A={includeMetadataChanges:l.includeMetadataChanges};if(dd(e[f])){const Ie=e[f];e[f]=null===(n=Ie.next)||void 0===n?void 0:n.bind(Ie),e[f+1]=null===(o=Ie.error)||void 0===o?void 0:o.bind(Ie),e[f+2]=null===(u=Ie.complete)||void 0===u?void 0:u.bind(Ie)}let V,$,ie;if(i instanceof Ks)$=oi(i.firestore,is),ie=dc(i._key.path),V={next:Ie=>{e[f]&&e[f](function Yg(i,e,n){const o=n.docs.get(e._key),u=new Rc(i);return new nc(i,u,e._key,o,new tc(n.hasPendingWrites,n.fromCache),e.converter)}($,i,Ie))},error:e[f+1],complete:e[f+2]};else{const Ie=oi(i,Lo);$=oi(Ie.firestore,is),ie=Ie._query;const Ye=new Rc($);V={next:vt=>{e[f]&&e[f](new Gu($,Ye,Ie,vt))},error:e[f+1],complete:e[f+2]},function Za(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Dt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}return function(Ie,Ye,vt,Gt){const dn=new Vf(Gt),wn=new hg(Ye,dn,vt);return Ie.asyncQueue.enqueueAndForget((0,E.Z)(function*(){return function Tf(i,e){return py.apply(this,arguments)}(yield cd(Ie),wn)})),()=>{dn.Dc(),Ie.asyncQueue.enqueueAndForget((0,E.Z)(function*(){return function ch(i,e){return Bu.apply(this,arguments)}(yield cd(Ie),wn)}))}}(ao($),ie,A,V)}(i,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:o}})}function Nc(i,e){return void 0===e&&(e={}),function c_(i){return ip(i,{includeMetadataChanges:!0}).pipe((0,tm.U)(function(e){return e.docs}))}(i).pipe((0,tm.U)(function(n){return n.map(function(o){return function r_(i,e){var n;void 0===e&&(e={});var o=i.data(e);return i.exists()&&"object"==typeof o&&null!==o&&e.idField?np(np({},o),((n={})[e.idField]=i.id,n)):o}(o,e)})}))}class Ed{constructor(e){return e}}const Oc="firestore",Dh=new de.OlP("angularfire2.firestore-instances");function ZE(i){return(e,n)=>{const o=e.runOutsideAngular(()=>i(n));return new Ed(o)}}const f0={provide:class sm{constructor(){return(0,p.vb)(Oc)}},deps:[[new de.FiY,Dh]]},p0={provide:Ed,useFactory:function KE(i,e){const n=(0,p.JM)(Oc,i,e);return n&&new Ed(n)},deps:[[new de.FiY,Dh],De.Ot]};let l_=(()=>{class i{constructor(){(0,Me.KN)("angularfire",p.q4.full,"fst")}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=de.oAB({type:i}),i.\u0275inj=de.cJS({providers:[p0,f0]}),i})();function g0(i,...e){return{ngModule:l_,providers:[{provide:Dh,useFactory:ZE(i),multi:!0,deps:[de.R0b,de.zs3,p.HU,De.z6,[new de.FiY,Ee.dh],[new de.FiY,ae.nm],...e]}]}}const d_=(0,p.u3)(Nc,!0),v0=(0,p.u3)(t0,!0),h_=(0,p.u3)(Ov,!0),g_=(0,p.u3)(qf,!0),y_=(0,p.u3)(Fv,!0),__=(0,p.u3)(yd,!0),S0=(0,p.u3)(md,!0),I_=(0,p.u3)(LE,!0)},8186:(ln,pt,Z)=>{Z.d(pt,{q4:()=>kc,iC:()=>su,fc:()=>Wu,HU:()=>iu,vb:()=>Pu,JM:()=>ru,u3:()=>Uc});var p=Z(4946),de=Z(3182),Ee=Z(5861),De=Z(534),Me=Z(9058),ae=Z(4537),E=Z(7879);const Xe=(b,O)=>O.some(B=>b instanceof B);let We,he;const it=new WeakMap,Ae=new WeakMap,Nt=new WeakMap,bt=new WeakMap,Vt=new WeakMap;let Mt={get(b,O,B){if(b instanceof IDBTransaction){if("done"===O)return Ae.get(b);if("objectStoreNames"===O)return b.objectStoreNames||Nt.get(b);if("store"===O)return B.objectStoreNames[1]?void 0:B.objectStore(B.objectStoreNames[0])}return gt(b[O])},set:(b,O,B)=>(b[O]=B,!0),has:(b,O)=>b instanceof IDBTransaction&&("done"===O||"store"===O)||O in b};function Ze(b){return"function"==typeof b?function tt(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...O){return b.apply(ut(this),O),gt(it.get(this))}:function(...O){return gt(b.apply(ut(this),O))}:function(O,...B){const ce=b.call(ut(this),O,...B);return Nt.set(ce,O.sort?O.sort():[O]),gt(ce)}}(b):(b instanceof IDBTransaction&&function nn(b){if(Ae.has(b))return;const O=new Promise((B,ce)=>{const Ne=()=>{b.removeEventListener("complete",Ue),b.removeEventListener("error",ft),b.removeEventListener("abort",ft)},Ue=()=>{B(),Ne()},ft=()=>{ce(b.error||new DOMException("AbortError","AbortError")),Ne()};b.addEventListener("complete",Ue),b.addEventListener("error",ft),b.addEventListener("abort",ft)});Ae.set(b,O)}(b),Xe(b,function ue(){return We||(We=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,Mt):b)}function gt(b){if(b instanceof IDBRequest)return function St(b){const O=new Promise((B,ce)=>{const Ne=()=>{b.removeEventListener("success",Ue),b.removeEventListener("error",ft)},Ue=()=>{B(gt(b.result)),Ne()},ft=()=>{ce(b.error),Ne()};b.addEventListener("success",Ue),b.addEventListener("error",ft)});return O.then(B=>{B instanceof IDBCursor&&it.set(B,b)}).catch(()=>{}),Vt.set(O,b),O}(b);if(bt.has(b))return bt.get(b);const O=Ze(b);return O!==b&&(bt.set(b,O),Vt.set(O,b)),O}const ut=b=>Vt.get(b),vn=["get","getKey","getAll","getAllKeys","count"],kn=["put","add","delete","clear"],or=new Map;function wt(b,O){if(!(b instanceof IDBDatabase)||O in b||"string"!=typeof O)return;if(or.get(O))return or.get(O);const B=O.replace(/FromIndex$/,""),ce=O!==B,Ne=kn.includes(B);if(!(B in(ce?IDBIndex:IDBObjectStore).prototype)||!Ne&&!vn.includes(B))return;const Ue=function(){var ft=(0,Ee.Z)(function*(sn,...Jt){const Lt=this.transaction(sn,Ne?"readwrite":"readonly");let rn=Lt.store;return ce&&(rn=rn.index(Jt.shift())),(yield Promise.all([rn[B](...Jt),Ne&&Lt.done]))[0]});return function(Jt){return ft.apply(this,arguments)}}();return or.set(O,Ue),Ue}!function Ce(b){Mt=b(Mt)}(b=>({...b,get:(O,B,ce)=>wt(O,B)||b.get(O,B,ce),has:(O,B)=>!!wt(O,B)||b.has(O,B)}));const Et="@firebase/installations",In="0.6.4",Ft=1e4,Cn=`w:${In}`,$e="FIS_v2",Je="https://firebaseinstallations.googleapis.com/v1",st=36e5,ye=new Me.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ke(b){return b instanceof Me.ZR&&b.code.includes("request-failed")}function ht({projectId:b}){return`${Je}/projects/${b}/installations`}function _t(b){return{token:b.token,requestStatus:2,expiresIn:Ur(b.expiresIn),creationTime:Date.now()}}function jt(b,O){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,Ee.Z)(function*(b,O){const ce=(yield O.json()).error;return ye.create("request-failed",{requestName:b,serverCode:ce.code,serverMessage:ce.message,serverStatus:ce.status})})).apply(this,arguments)}function zn({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function ir(b){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,Ee.Z)(function*(b){const O=yield b();return O.status>=500&&O.status<600?b():O})).apply(this,arguments)}function Ur(b){return Number(b.replace("s","000"))}function sr(){return(sr=(0,Ee.Z)(function*({appConfig:b,heartbeatServiceProvider:O},{fid:B}){const ce=ht(b),Ne=zn(b),Ue=O.getImmediate({optional:!0});if(Ue){const Lt=yield Ue.getHeartbeatsHeader();Lt&&Ne.append("x-firebase-client",Lt)}const sn={method:"POST",headers:Ne,body:JSON.stringify({fid:B,authVersion:$e,appId:b.appId,sdkVersion:Cn})},Jt=yield ir(()=>fetch(ce,sn));if(Jt.ok){const Lt=yield Jt.json();return{fid:Lt.fid||B,registrationStatus:2,refreshToken:Lt.refreshToken,authToken:_t(Lt.authToken)}}throw yield jt("Create Installation",Jt)})).apply(this,arguments)}function mn(b){return new Promise(O=>{setTimeout(O,b)})}const er=/^[cdef][\w-]{21}$/,Qn="";function Pn(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const B=function Mn(b){return function fi(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return er.test(B)?B:Qn}catch{return Qn}}function cr(b){return`${b.appName}!${b.appId}`}const Br=new Map;function Zr(b,O){const B=cr(b);ai(B,O),function lr(b,O){const B=function zt(){return!ui&&"BroadcastChannel"in self&&(ui=new BroadcastChannel("[Firebase] FID Change"),ui.onmessage=b=>{ai(b.data.key,b.data.fid)}),ui}();B&&B.postMessage({key:b,fid:O}),function Zi(){0===Br.size&&ui&&(ui.close(),ui=null)}()}(B,O)}function ai(b,O){const B=Br.get(b);if(B)for(const ce of B)ce(O)}let ui=null;const Ui="firebase-installations-database",jr=1,Xr="firebase-installations-store";let fr=null;function hn(){return fr||(fr=function ct(b,O,{blocked:B,upgrade:ce,blocking:Ne,terminated:Ue}={}){const ft=indexedDB.open(b,O),sn=gt(ft);return ce&&ft.addEventListener("upgradeneeded",Jt=>{ce(gt(ft.result),Jt.oldVersion,Jt.newVersion,gt(ft.transaction))}),B&&ft.addEventListener("blocked",()=>B()),sn.then(Jt=>{Ue&&Jt.addEventListener("close",()=>Ue()),Ne&&Jt.addEventListener("versionchange",()=>Ne())}).catch(()=>{}),sn}(Ui,jr,{upgrade:(b,O)=>{0===O&&b.createObjectStore(Xr)}})),fr}function Ai(b,O){return vi.apply(this,arguments)}function vi(){return(vi=(0,Ee.Z)(function*(b,O){const B=cr(b),Ne=(yield hn()).transaction(Xr,"readwrite"),Ue=Ne.objectStore(Xr),ft=yield Ue.get(B);return yield Ue.put(O,B),yield Ne.done,(!ft||ft.fid!==O.fid)&&Zr(b,O.fid),O})).apply(this,arguments)}function bn(b){return dr.apply(this,arguments)}function dr(){return(dr=(0,Ee.Z)(function*(b){const O=cr(b),ce=(yield hn()).transaction(Xr,"readwrite");yield ce.objectStore(Xr).delete(O),yield ce.done})).apply(this,arguments)}function Fn(b,O){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,Ee.Z)(function*(b,O){const B=cr(b),Ne=(yield hn()).transaction(Xr,"readwrite"),Ue=Ne.objectStore(Xr),ft=yield Ue.get(B),sn=O(ft);return void 0===sn?yield Ue.delete(B):yield Ue.put(sn,B),yield Ne.done,sn&&(!ft||ft.fid!==sn.fid)&&Zr(b,sn.fid),sn})).apply(this,arguments)}function be(b){return X.apply(this,arguments)}function X(){return X=(0,Ee.Z)(function*(b){let O;const B=yield Fn(b.appConfig,ce=>{const Ne=function re(b){return Dn(b||{fid:Pn(),registrationStatus:0})}(ce),Ue=function ne(b,O){if(0===O.registrationStatus){if(!navigator.onLine)return{installationEntry:O,registrationPromise:Promise.reject(ye.create("app-offline"))};const B={fid:O.fid,registrationStatus:1,registrationTime:Date.now()},ce=function te(b,O){return Pe.apply(this,arguments)}(b,B);return{installationEntry:B,registrationPromise:ce}}return 1===O.registrationStatus?{installationEntry:O,registrationPromise:yt(b)}:{installationEntry:O}}(b,Ne);return O=Ue.registrationPromise,Ue.installationEntry});return B.fid===Qn?{installationEntry:yield O}:{installationEntry:B,registrationPromise:O}}),X.apply(this,arguments)}function Pe(){return Pe=(0,Ee.Z)(function*(b,O){try{const B=yield function gn(b,O){return sr.apply(this,arguments)}(b,O);return Ai(b.appConfig,B)}catch(B){throw Ke(B)&&409===B.customData.serverCode?yield bn(b.appConfig):yield Ai(b.appConfig,{fid:O.fid,registrationStatus:0}),B}}),Pe.apply(this,arguments)}function yt(b){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,Ee.Z)(function*(b){let O=yield En(b.appConfig);for(;1===O.registrationStatus;)yield mn(100),O=yield En(b.appConfig);if(0===O.registrationStatus){const{installationEntry:B,registrationPromise:ce}=yield be(b);return ce||B}return O})).apply(this,arguments)}function En(b){return Fn(b,O=>{if(!O)throw ye.create("installation-not-found");return Dn(O)})}function Dn(b){return function Kn(b){return 1===b.registrationStatus&&b.registrationTime+Ft<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function Wr(){return(Wr=(0,Ee.Z)(function*({appConfig:b,heartbeatServiceProvider:O},B){const ce=function Yr(b,{fid:O}){return`${ht(b)}/${O}/authTokens:generate`}(b,B),Ne=function Sn(b,{refreshToken:O}){const B=zn(b);return B.append("Authorization",function qn(b){return`${$e} ${b}`}(O)),B}(b,B),Ue=O.getImmediate({optional:!0});if(Ue){const Lt=yield Ue.getHeartbeatsHeader();Lt&&Ne.append("x-firebase-client",Lt)}const sn={method:"POST",headers:Ne,body:JSON.stringify({installation:{sdkVersion:Cn,appId:b.appId}})},Jt=yield ir(()=>fetch(ce,sn));if(Jt.ok)return _t(yield Jt.json());throw yield jt("Generate Auth Token",Jt)})).apply(this,arguments)}function Ei(b){return Ri.apply(this,arguments)}function Ri(){return Ri=(0,Ee.Z)(function*(b,O=!1){let B;const ce=yield Fn(b.appConfig,Ue=>{if(!Zt(Ue))throw ye.create("not-registered");const ft=Ue.authToken;if(!O&&function $n(b){return 2===b.requestStatus&&!function ei(b){const O=Date.now();return O<b.creationTime||b.creationTime+b.expiresIn<O+st}(b)}(ft))return Ue;if(1===ft.requestStatus)return B=function ot(b,O){return Be.apply(this,arguments)}(b,O),Ue;{if(!navigator.onLine)throw ye.create("app-offline");const sn=function vr(b){const O={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:O})}(Ue);return B=function Kt(b,O){return An.apply(this,arguments)}(b,sn),sn}});return B?yield B:ce.authToken}),Ri.apply(this,arguments)}function Be(){return(Be=(0,Ee.Z)(function*(b,O){let B=yield At(b.appConfig);for(;1===B.authToken.requestStatus;)yield mn(100),B=yield At(b.appConfig);const ce=B.authToken;return 0===ce.requestStatus?Ei(b,O):ce})).apply(this,arguments)}function At(b){return Fn(b,O=>{if(!Zt(O))throw ye.create("not-registered");return function Ni(b){return 1===b.requestStatus&&b.requestTime+Ft<Date.now()}(O.authToken)?Object.assign(Object.assign({},O),{authToken:{requestStatus:0}}):O})}function An(){return An=(0,Ee.Z)(function*(b,O){try{const B=yield function Xt(b,O){return Wr.apply(this,arguments)}(b,O),ce=Object.assign(Object.assign({},O),{authToken:B});return yield Ai(b.appConfig,ce),B}catch(B){if(!Ke(B)||401!==B.customData.serverCode&&404!==B.customData.serverCode){const ce=Object.assign(Object.assign({},O),{authToken:{requestStatus:0}});yield Ai(b.appConfig,ce)}else yield bn(b.appConfig);throw B}}),An.apply(this,arguments)}function Zt(b){return void 0!==b&&2===b.registrationStatus}function Rs(){return(Rs=(0,Ee.Z)(function*(b){const O=b,{installationEntry:B,registrationPromise:ce}=yield be(O);return ce?ce.catch(console.error):Ei(O).catch(console.error),B.fid})).apply(this,arguments)}function Bi(){return Bi=(0,Ee.Z)(function*(b,O=!1){const B=b;return yield function Oi(b){return wi.apply(this,arguments)}(B),(yield Ei(B,O)).token}),Bi.apply(this,arguments)}function wi(){return(wi=(0,Ee.Z)(function*(b){const{registrationPromise:O}=yield be(b);O&&(yield O)})).apply(this,arguments)}function Re(b){return ye.create("missing-app-config-values",{valueName:b})}const je="installations",kt=b=>{const O=b.getProvider("app").getImmediate(),B=function xe(b){if(!b||!b.options)throw Re("App Configuration");if(!b.name)throw Re("App Name");const O=["projectId","apiKey","appId"];for(const B of O)if(!b.options[B])throw Re(B);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(O);return{app:O,appConfig:B,heartbeatServiceProvider:(0,De._getProvider)(O,"heartbeat"),_delete:()=>Promise.resolve()}},on=b=>{const O=b.getProvider("app").getImmediate(),B=(0,De._getProvider)(O,je).getImmediate();return{getId:()=>function xs(b){return Rs.apply(this,arguments)}(B),getToken:Ne=>function gr(b){return Bi.apply(this,arguments)}(B,Ne)}};(function nr(){(0,De._registerComponent)(new ae.wA(je,kt,"PUBLIC")),(0,De._registerComponent)(new ae.wA("installations-internal",on,"PRIVATE"))})(),(0,De.registerVersion)(Et,In),(0,De.registerVersion)(Et,In,"esm2017");const Un="@firebase/remote-config",Ir=new Me.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vn{constructor(O,B,ce,Ne){this.client=O,this.storage=B,this.storageCache=ce,this.logger=Ne}isCachedDataFresh(O,B){if(!B)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ce=Date.now()-B,Ne=ce<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ce}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${Ne}.`),Ne}fetch(O){var B=this;return(0,Ee.Z)(function*(){const[ce,Ne]=yield Promise.all([B.storage.getLastSuccessfulFetchTimestampMillis(),B.storage.getLastSuccessfulFetchResponse()]);if(Ne&&B.isCachedDataFresh(O.cacheMaxAgeMillis,ce))return Ne;O.eTag=Ne&&Ne.eTag;const Ue=yield B.client.fetch(O),ft=[B.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ue.status&&ft.push(B.storage.setLastSuccessfulFetchResponse(Ue)),yield Promise.all(ft),Ue})()}}function pr(b=navigator){return b.languages&&b.languages[0]||b.language}class xn{constructor(O,B,ce,Ne,Ue,ft){this.firebaseInstallations=O,this.sdkVersion=B,this.namespace=ce,this.projectId=Ne,this.apiKey=Ue,this.appId=ft}fetch(O){var B=this;return(0,Ee.Z)(function*(){const[ce,Ne]=yield Promise.all([B.firebaseInstallations.getId(),B.firebaseInstallations.getToken()]),ft=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${B.projectId}/namespaces/${B.namespace}:fetch?key=${B.apiKey}`,sn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},Jt={sdk_version:B.sdkVersion,app_instance_id:ce,app_instance_id_token:Ne,app_id:B.appId,language_code:pr()},Lt={method:"POST",headers:sn,body:JSON.stringify(Jt)},rn=fetch(ft,Lt),Gn=new Promise((sa,ou)=>{O.signal.addEventListener(()=>{const Bc=new Error("The operation was aborted.");Bc.name="AbortError",ou(Bc)})});let Oo;try{yield Promise.race([rn,Gn]),Oo=yield rn}catch(sa){let ou="fetch-client-network";throw"AbortError"===sa?.name&&(ou="fetch-timeout"),Ir.create(ou,{originalErrorMessage:sa?.message})}let Ts=Oo.status;const Va=Oo.headers.get("ETag")||void 0;let cc,_u;if(200===Oo.status){let sa;try{sa=yield Oo.json()}catch(ou){throw Ir.create("fetch-client-parse",{originalErrorMessage:ou?.message})}cc=sa.entries,_u=sa.state}if("INSTANCE_STATE_UNSPECIFIED"===_u?Ts=500:"NO_CHANGE"===_u?Ts=304:("NO_TEMPLATE"===_u||"EMPTY_CONFIG"===_u)&&(cc={}),304!==Ts&&200!==Ts)throw Ir.create("fetch-status",{httpStatus:Ts});return{status:Ts,eTag:Va,config:cc}})()}}class ks{constructor(O,B){this.client=O,this.storage=B}fetch(O){var B=this;return(0,Ee.Z)(function*(){const ce=(yield B.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return B.attemptFetch(O,ce)})()}attemptFetch(O,{throttleEndTimeMillis:B,backoffCount:ce}){var Ne=this;return(0,Ee.Z)(function*(){yield function Yi(b,O){return new Promise((B,ce)=>{const Ne=Math.max(O-Date.now(),0),Ue=setTimeout(B,Ne);b.addEventListener(()=>{clearTimeout(Ue),ce(Ir.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,B);try{const Ue=yield Ne.client.fetch(O);return yield Ne.storage.deleteThrottleMetadata(),Ue}catch(Ue){if(!function $r(b){if(!(b instanceof Me.ZR&&b.customData))return!1;const O=Number(b.customData.httpStatus);return 429===O||500===O||503===O||504===O}(Ue))throw Ue;const ft={throttleEndTimeMillis:Date.now()+(0,Me.$s)(ce),backoffCount:ce+1};return yield Ne.storage.setThrottleMetadata(ft),Ne.attemptFetch(O,ft)}})()}}class ps{constructor(O,B,ce,Ne,Ue){this.app=O,this._client=B,this._storageCache=ce,this._storage=Ne,this._logger=Ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Fs(b,O){const B=b.target.error||void 0;return Ir.create(O,{originalErrorMessage:B&&B?.message})}const mr="app_namespace_store";class z{constructor(O,B,ce,Ne=function H(){return new Promise((b,O)=>{try{const B=indexedDB.open("firebase_remote_config",1);B.onerror=ce=>{O(Fs(ce,"storage-open"))},B.onsuccess=ce=>{b(ce.target.result)},B.onupgradeneeded=ce=>{0===ce.oldVersion&&ce.target.result.createObjectStore(mr,{keyPath:"compositeKey"})}}catch(B){O(Ir.create("storage-open",{originalErrorMessage:B?.message}))}})}()){this.appId=O,this.appName=B,this.namespace=ce,this.openDbPromise=Ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var B=this;return(0,Ee.Z)(function*(){const ce=yield B.openDbPromise;return new Promise((Ne,Ue)=>{const sn=ce.transaction([mr],"readonly").objectStore(mr),Jt=B.createCompositeKey(O);try{const Lt=sn.get(Jt);Lt.onerror=rn=>{Ue(Fs(rn,"storage-get"))},Lt.onsuccess=rn=>{const Gn=rn.target.result;Ne(Gn?Gn.value:void 0)}}catch(Lt){Ue(Ir.create("storage-get",{originalErrorMessage:Lt?.message}))}})})()}set(O,B){var ce=this;return(0,Ee.Z)(function*(){const Ne=yield ce.openDbPromise;return new Promise((Ue,ft)=>{const Jt=Ne.transaction([mr],"readwrite").objectStore(mr),Lt=ce.createCompositeKey(O);try{const rn=Jt.put({compositeKey:Lt,value:B});rn.onerror=Gn=>{ft(Fs(Gn,"storage-set"))},rn.onsuccess=()=>{Ue()}}catch(rn){ft(Ir.create("storage-set",{originalErrorMessage:rn?.message}))}})})()}delete(O){var B=this;return(0,Ee.Z)(function*(){const ce=yield B.openDbPromise;return new Promise((Ne,Ue)=>{const sn=ce.transaction([mr],"readwrite").objectStore(mr),Jt=B.createCompositeKey(O);try{const Lt=sn.delete(Jt);Lt.onerror=rn=>{Ue(Fs(rn,"storage-delete"))},Lt.onsuccess=()=>{Ne()}}catch(Lt){Ue(Ir.create("storage-delete",{originalErrorMessage:Lt?.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class pe{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,Ee.Z)(function*(){const B=O.storage.getLastFetchStatus(),ce=O.storage.getLastSuccessfulFetchTimestampMillis(),Ne=O.storage.getActiveConfig(),Ue=yield B;Ue&&(O.lastFetchStatus=Ue);const ft=yield ce;ft&&(O.lastSuccessfulFetchTimestampMillis=ft);const sn=yield Ne;sn&&(O.activeConfig=sn)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function Pt(){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,Ee.Z)(function*(){if(!(0,Me.hl)())return!1;try{return yield(0,Me.eu)()}catch{return!1}})).apply(this,arguments)}!function _e(){(0,De._registerComponent)(new ae.wA("remote-config",function b(O,{instanceIdentifier:B}){const ce=O.getProvider("app").getImmediate(),Ne=O.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ir.create("registration-window");if(!(0,Me.hl)())throw Ir.create("indexed-db-unavailable");const{projectId:Ue,apiKey:ft,appId:sn}=ce.options;if(!Ue)throw Ir.create("registration-project-id");if(!ft)throw Ir.create("registration-api-key");if(!sn)throw Ir.create("registration-app-id");const Jt=new z(sn,ce.name,B=B||"firebase"),Lt=new pe(Jt),rn=new E.Yd(Un);rn.logLevel=E.in.ERROR;const Gn=new xn(Ne,De.SDK_VERSION,B,Ue,ft,sn),Oo=new ks(Gn,Jt),Ts=new Vn(Oo,Jt,Lt,rn),Va=new ps(ce,Ts,Lt,Jt,rn);return function Ns(b){const O=(0,Me.m9)(b);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(Va),Va},"PUBLIC").setMultipleInstances(!0)),(0,De.registerVersion)(Un,"0.4.4"),(0,De.registerVersion)(Un,"0.4.4","esm2017")}();const Ct=(b,O)=>O.some(B=>b instanceof B);let Nn,Jn;const Hr=new WeakMap,yr=new WeakMap,Kr=new WeakMap,Lr=new WeakMap,ci=new WeakMap;let ur={get(b,O,B){if(b instanceof IDBTransaction){if("done"===O)return yr.get(b);if("objectStoreNames"===O)return b.objectStoreNames||Kr.get(b);if("store"===O)return B.objectStoreNames[1]?void 0:B.objectStore(B.objectStoreNames[0])}return mi(b[O])},set:(b,O,B)=>(b[O]=B,!0),has:(b,O)=>b instanceof IDBTransaction&&("done"===O||"store"===O)||O in b};function Vo(b){return"function"==typeof b?function Yn(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Zn(){return Jn||(Jn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...O){return b.apply(es(this),O),mi(Hr.get(this))}:function(...O){return mi(b.apply(es(this),O))}:function(O,...B){const ce=b.call(es(this),O,...B);return Kr.set(ce,O.sort?O.sort():[O]),mi(ce)}}(b):(b instanceof IDBTransaction&&function Gr(b){if(yr.has(b))return;const O=new Promise((B,ce)=>{const Ne=()=>{b.removeEventListener("complete",Ue),b.removeEventListener("error",ft),b.removeEventListener("abort",ft)},Ue=()=>{B(),Ne()},ft=()=>{ce(b.error||new DOMException("AbortError","AbortError")),Ne()};b.addEventListener("complete",Ue),b.addEventListener("error",ft),b.addEventListener("abort",ft)});yr.set(b,O)}(b),Ct(b,function xr(){return Nn||(Nn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,ur):b)}function mi(b){if(b instanceof IDBRequest)return function Ii(b){const O=new Promise((B,ce)=>{const Ne=()=>{b.removeEventListener("success",Ue),b.removeEventListener("error",ft)},Ue=()=>{B(mi(b.result)),Ne()},ft=()=>{ce(b.error),Ne()};b.addEventListener("success",Ue),b.addEventListener("error",ft)});return O.then(B=>{B instanceof IDBCursor&&Hr.set(B,b)}).catch(()=>{}),ci.set(O,b),O}(b);if(Lr.has(b))return Lr.get(b);const O=Vo(b);return O!==b&&(Lr.set(b,O),ci.set(O,b)),O}const es=b=>ci.get(b);function xi(b,O,{blocked:B,upgrade:ce,blocking:Ne,terminated:Ue}={}){const ft=indexedDB.open(b,O),sn=mi(ft);return ce&&ft.addEventListener("upgradeneeded",Jt=>{ce(mi(ft.result),Jt.oldVersion,Jt.newVersion,mi(ft.transaction))}),B&&ft.addEventListener("blocked",()=>B()),sn.then(Jt=>{Ue&&Jt.addEventListener("close",()=>Ue()),Ne&&Jt.addEventListener("versionchange",()=>Ne())}).catch(()=>{}),sn}function ni(b,{blocked:O}={}){const B=indexedDB.deleteDatabase(b);return O&&B.addEventListener("blocked",()=>O()),mi(B).then(()=>{})}const gs=["get","getKey","getAll","getAllKeys","count"],Qs=["put","add","delete","clear"],bi=new Map;function oa(b,O){if(!(b instanceof IDBDatabase)||O in b||"string"!=typeof O)return;if(bi.get(O))return bi.get(O);const B=O.replace(/FromIndex$/,""),ce=O!==B,Ne=Qs.includes(B);if(!(B in(ce?IDBIndex:IDBObjectStore).prototype)||!Ne&&!gs.includes(B))return;const Ue=function(){var ft=(0,Ee.Z)(function*(sn,...Jt){const Lt=this.transaction(sn,Ne?"readwrite":"readonly");let rn=Lt.store;return ce&&(rn=rn.index(Jt.shift())),(yield Promise.all([rn[B](...Jt),Ne&&Lt.done]))[0]});return function(Jt){return ft.apply(this,arguments)}}();return bi.set(O,Ue),Ue}!function ss(b){ur=b(ur)}(b=>({...b,get:(O,B,ce)=>oa(O,B)||b.get(O,B,ce),has:(O,B)=>!!oa(O,B)||b.has(O,B)}));const Pi="/firebase-messaging-sw.js",ki="/firebase-cloud-messaging-push-scope",Co="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Hs="https://fcmregistrations.googleapis.com/v1",br="google.c.a.c_id",ri="google.c.a.c_l",Jo="google.c.a.ts";var P=function(b){return b.PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",b}(P||{});function ee(b){const O=new Uint8Array(b);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Se(b){const B=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ce=atob(B),Ne=new Uint8Array(ce.length);for(let Ue=0;Ue<ce.length;++Ue)Ne[Ue]=ce.charCodeAt(Ue);return Ne}const tn="fcm_token_details_db",Bn=5,os="fcm_token_object_Store";function Js(){return Js=(0,Ee.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ue=>Ue.name).includes(tn))return null;let O=null;return(yield xi(tn,Bn,{upgrade:(ce=(0,Ee.Z)(function*(Ne,Ue,ft,sn){var Jt;if(Ue<2||!Ne.objectStoreNames.contains(os))return;const Lt=sn.objectStore(os),rn=yield Lt.index("fcmSenderId").get(b);if(yield Lt.clear(),rn)if(2===Ue){const Gn=rn;if(!Gn.auth||!Gn.p256dh||!Gn.endpoint)return;O={token:Gn.fcmToken,createTime:null!==(Jt=Gn.createTime)&&void 0!==Jt?Jt:Date.now(),subscriptionOptions:{auth:Gn.auth,p256dh:Gn.p256dh,endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:"string"==typeof Gn.vapidKey?Gn.vapidKey:ee(Gn.vapidKey)}}}else if(3===Ue){const Gn=rn;O={token:Gn.fcmToken,createTime:Gn.createTime,subscriptionOptions:{auth:ee(Gn.auth),p256dh:ee(Gn.p256dh),endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:ee(Gn.vapidKey)}}}else if(4===Ue){const Gn=rn;O={token:Gn.fcmToken,createTime:Gn.createTime,subscriptionOptions:{auth:ee(Gn.auth),p256dh:ee(Gn.p256dh),endpoint:Gn.endpoint,swScope:Gn.swScope,vapidKey:ee(Gn.vapidKey)}}}}),function(Ue,ft,sn,Jt){return ce.apply(this,arguments)})})).close(),yield ni(tn),yield ni("fcm_vapid_details_db"),yield ni("undefined"),function Uo(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:O}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}(O)?O:null;var ce}),Js.apply(this,arguments)}const Ss="firebase-messaging-database",Do=1,ts="firebase-messaging-store";let va=null;function Xo(){return va||(va=xi(Ss,Do,{upgrade:(b,O)=>{0===O&&b.createObjectStore(ts)}})),va}function Ea(b){return go.apply(this,arguments)}function go(){return go=(0,Ee.Z)(function*(b){const O=jo(b),ce=yield(yield Xo()).transaction(ts).objectStore(ts).get(O);if(ce)return ce;{const Ne=yield function Gs(b){return Js.apply(this,arguments)}(b.appConfig.senderId);if(Ne)return yield wa(b,Ne),Ne}}),go.apply(this,arguments)}function wa(b,O){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,Ee.Z)(function*(b,O){const B=jo(b),Ne=(yield Xo()).transaction(ts,"readwrite");return yield Ne.objectStore(ts).put(O,B),yield Ne.done,O})).apply(this,arguments)}function Bo(){return(Bo=(0,Ee.Z)(function*(b){const O=jo(b),ce=(yield Xo()).transaction(ts,"readwrite");yield ce.objectStore(ts).delete(O),yield ce.done})).apply(this,arguments)}function jo({appConfig:b}){return b.appId}const ms=new Me.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ia(b,O){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,Ee.Z)(function*(b,O){const B=yield ea(b),ce=Ra(O),Ne={method:"POST",headers:B,body:JSON.stringify(ce)};let Ue;try{Ue=yield(yield fetch(Es(b.appConfig),Ne)).json()}catch(ft){throw ms.create("token-subscribe-failed",{errorInfo:ft?.toString()})}if(Ue.error)throw ms.create("token-subscribe-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw ms.create("token-subscribe-no-token");return Ue.token})).apply(this,arguments)}function Ls(){return(Ls=(0,Ee.Z)(function*(b,O){const B=yield ea(b),ce=Ra(O.subscriptionOptions),Ne={method:"PATCH",headers:B,body:JSON.stringify(ce)};let Ue;try{Ue=yield(yield fetch(`${Es(b.appConfig)}/${O.token}`,Ne)).json()}catch(ft){throw ms.create("token-update-failed",{errorInfo:ft?.toString()})}if(Ue.error)throw ms.create("token-update-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw ms.create("token-update-no-token");return Ue.token})).apply(this,arguments)}function Ao(b,O){return xa.apply(this,arguments)}function xa(){return(xa=(0,Ee.Z)(function*(b,O){const ce={method:"DELETE",headers:yield ea(b)};try{const Ue=yield(yield fetch(`${Es(b.appConfig)}/${O}`,ce)).json();if(Ue.error)throw ms.create("token-unsubscribe-failed",{errorInfo:Ue.error.message})}catch(Ne){throw ms.create("token-unsubscribe-failed",{errorInfo:Ne?.toString()})}})).apply(this,arguments)}function Es({projectId:b}){return`${Hs}/projects/${b}/registrations`}function ea(b){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,Ee.Z)(function*({appConfig:b,installations:O}){const B=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${B}`})})).apply(this,arguments)}function Ra({p256dh:b,auth:O,endpoint:B,vapidKey:ce}){const Ne={web:{endpoint:B,auth:O,p256dh:b}};return ce!==Co&&(Ne.web.applicationPubKey=ce),Ne}const $o=6048e5;function aa(){return aa=(0,Ee.Z)(function*(b){const O=yield function Gi(b,O){return ta.apply(this,arguments)}(b.swRegistration,b.vapidKey),B={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:O.endpoint,auth:ee(O.getKey("auth")),p256dh:ee(O.getKey("p256dh"))},ce=yield Ea(b.firebaseDependencies);if(ce){if(function D(b,O){return O.vapidKey===b.vapidKey&&O.endpoint===b.endpoint&&O.auth===b.auth&&O.p256dh===b.p256dh}(ce.subscriptionOptions,B))return Date.now()>=ce.createTime+$o?function Mo(b,O){return xo.apply(this,arguments)}(b,{token:ce.token,createTime:Date.now(),subscriptionOptions:B}):ce.token;try{yield Ao(b.firebaseDependencies,ce.token)}catch(Ne){console.warn(Ne)}return Vs(b.firebaseDependencies,B)}return Vs(b.firebaseDependencies,B)}),aa.apply(this,arguments)}function yo(){return yo=(0,Ee.Z)(function*(b){const O=yield Ea(b.firebaseDependencies);O&&(yield Ao(b.firebaseDependencies,O.token),yield function Ma(b){return Bo.apply(this,arguments)}(b.firebaseDependencies));const B=yield b.swRegistration.pushManager.getSubscription();return!B||B.unsubscribe()}),yo.apply(this,arguments)}function xo(){return xo=(0,Ee.Z)(function*(b,O){try{const B=yield function So(b,O){return Ls.apply(this,arguments)}(b.firebaseDependencies,O),ce=Object.assign(Object.assign({},O),{token:B,createTime:Date.now()});return yield wa(b.firebaseDependencies,ce),B}catch(B){throw yield function ba(b){return yo.apply(this,arguments)}(b),B}}),xo.apply(this,arguments)}function Vs(b,O){return Us.apply(this,arguments)}function Us(){return(Us=(0,Ee.Z)(function*(b,O){const ce={token:yield Ia(b,O),createTime:Date.now(),subscriptionOptions:O};return yield wa(b,ce),ce.token})).apply(this,arguments)}function ta(){return(ta=(0,Ee.Z)(function*(b,O){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Se(O)})})).apply(this,arguments)}function K(b){const O={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function k(b,O){if(!O.notification)return;b.notification={};const B=O.notification.title;B&&(b.notification.title=B);const ce=O.notification.body;ce&&(b.notification.body=ce);const Ne=O.notification.image;Ne&&(b.notification.image=Ne);const Ue=O.notification.icon;Ue&&(b.notification.icon=Ue)}(O,b),function G(b,O){O.data&&(b.data=O.data)}(O,b),function ge(b,O){var B,ce,Ne,Ue,ft;if(!(O.fcmOptions||null!==(B=O.notification)&&void 0!==B&&B.click_action))return;b.fcmOptions={};const sn=null!==(Ne=null===(ce=O.fcmOptions)||void 0===ce?void 0:ce.link)&&void 0!==Ne?Ne:null===(Ue=O.notification)||void 0===Ue?void 0:Ue.click_action;sn&&(b.fcmOptions.link=sn);const Jt=null===(ft=O.fcmOptions)||void 0===ft?void 0:ft.analytics_label;Jt&&(b.fcmOptions.analyticsLabel=Jt)}(O,b),O}function Tt(b,O){const B=[];for(let ce=0;ce<b.length;ce++)B.push(b.charAt(ce)),ce<O.length&&B.push(O.charAt(ce));return B.join("")}function ii(b){return ms.create("missing-app-config-values",{valueName:b})}Tt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Tt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class yi{constructor(O,B,ce){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ne=function fn(b){if(!b||!b.options)throw ii("App Configuration Object");if(!b.name)throw ii("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:B}=b;for(const ce of O)if(!B[ce])throw ii(ce);return{appName:b.name,projectId:B.projectId,apiKey:B.apiKey,appId:B.appId,senderId:B.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:Ne,installations:B,analyticsProvider:ce}}_delete(){return Promise.resolve()}}function rr(){return(rr=(0,Ee.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(Pi,{scope:ki}),b.swRegistration.update().catch(()=>{})}catch(O){throw ms.create("failed-service-worker-registration",{browserErrorMessage:O?.message})}})).apply(this,arguments)}function Or(){return(Or=(0,Ee.Z)(function*(b,O){if(!O&&!b.swRegistration&&(yield function Dr(b){return rr.apply(this,arguments)}(b)),O||!b.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw ms.create("invalid-sw-registration");b.swRegistration=O}})).apply(this,arguments)}function li(){return(li=(0,Ee.Z)(function*(b,O){O?b.vapidKey=O:b.vapidKey||(b.vapidKey=Co)})).apply(this,arguments)}function Qr(){return Qr=(0,Ee.Z)(function*(b,O){if(!navigator)throw ms.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ms.create("permission-blocked");return yield function zi(b,O){return li.apply(this,arguments)}(b,O?.vapidKey),yield function si(b,O){return Or.apply(this,arguments)}(b,O?.serviceWorkerRegistration),function mo(b){return aa.apply(this,arguments)}(b)}),Qr.apply(this,arguments)}function qi(){return(qi=(0,Ee.Z)(function*(b,O,B){const ce=function Ho(b){switch(b){case P.NOTIFICATION_CLICKED:return"notification_open";case P.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(O);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(ce,{message_id:B[br],message_name:B[ri],message_time:B[Jo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xt(){return xt=(0,Ee.Z)(function*(b,O){const B=O.data;if(!B.isFirebaseMessaging)return;b.onMessageHandler&&B.messageType===P.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(K(B)):b.onMessageHandler.next(K(B)));const ce=B.data;(function nt(b){return"object"==typeof b&&!!b&&br in b})(ce)&&"1"===ce["google.c.a.e"]&&(yield function di(b,O,B){return qi.apply(this,arguments)}(b,B.messageType,ce))}),xt.apply(this,arguments)}const Wi="@firebase/messaging",ca=b=>{const O=new yi(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",B=>function ua(b,O){return xt.apply(this,arguments)}(O,B)),O},an=b=>{const O=b.getProvider("messaging").getImmediate();return{getToken:ce=>function ws(b,O){return Qr.apply(this,arguments)}(O,ce)}};function Qa(){return qt.apply(this,arguments)}function qt(){return(qt=(0,Ee.Z)(function*(){try{yield(0,Me.eu)()}catch{return!1}return typeof window<"u"&&(0,Me.hl)()&&(0,Me.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Tn(){(0,De._registerComponent)(new ae.wA("messaging",ca,"PUBLIC")),(0,De._registerComponent)(new ae.wA("messaging-internal",an,"PRIVATE")),(0,De.registerVersion)(Wi,"0.12.4"),(0,De.registerVersion)(Wi,"0.12.4","esm2017")}();const Xa="analytics",fu="firebase_id",na="origin",Ro=6e4,as="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ha="https://www.googletagmanager.com/gtag/js",yn=new E.Yd("@firebase/analytics"),bs=new Me.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Fi(b){if(!b.startsWith(Ha)){const O=bs.create("invalid-gtag-resource",{gtagURL:b});return yn.warn(O.message),""}return b}function pn(b){return Promise.all(b.map(O=>O.catch(B=>B)))}function _(){return(_=(0,Ee.Z)(function*(b,O,B,ce,Ne,Ue){const ft=ce[Ne];try{if(ft)yield O[ft];else{const Jt=(yield pn(B)).find(Lt=>Lt.measurementId===Ne);Jt&&(yield O[Jt.appId])}}catch(sn){yn.error(sn)}b("config",Ne,Ue)})).apply(this,arguments)}function x(){return(x=(0,Ee.Z)(function*(b,O,B,ce,Ne){try{let Ue=[];if(Ne&&Ne.send_to){let ft=Ne.send_to;Array.isArray(ft)||(ft=[ft]);const sn=yield pn(B);for(const Jt of ft){const Lt=sn.find(Gn=>Gn.measurementId===Jt),rn=Lt&&O[Lt.appId];if(!rn){Ue=[];break}Ue.push(rn)}}0===Ue.length&&(Ue=Object.values(O)),yield Promise.all(Ue),b("event",ce,Ne||{})}catch(Ue){yn.error(Ue)}})).apply(this,arguments)}const we=30,en=new class dt{constructor(O={},B=1e3){this.throttleMetadata=O,this.intervalMillis=B}getThrottleMetadata(O){return this.throttleMetadata[O]}setThrottleMetadata(O,B){this.throttleMetadata[O]=B}deleteThrottleMetadata(O){delete this.throttleMetadata[O]}};function $t(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function et(){return(et=(0,Ee.Z)(function*(b){var O;const{appId:B,apiKey:ce}=b,Ne={method:"GET",headers:$t(ce)},Ue=as.replace("{app-id}",B),ft=yield fetch(Ue,Ne);if(200!==ft.status&&304!==ft.status){let sn="";try{const Jt=yield ft.json();null!==(O=Jt.error)&&void 0!==O&&O.message&&(sn=Jt.error.message)}catch{}throw bs.create("config-fetch-failed",{httpStatus:ft.status,responseMessage:sn})}return ft.json()})).apply(this,arguments)}function On(){return(On=(0,Ee.Z)(function*(b,O=en,B){const{appId:ce,apiKey:Ne,measurementId:Ue}=b.options;if(!ce)throw bs.create("no-app-id");if(!Ne){if(Ue)return{measurementId:Ue,appId:ce};throw bs.create("no-api-key")}const ft=O.getThrottleMetadata(ce)||{backoffCount:0,throttleEndTimeMillis:Date.now()},sn=new Ti;return setTimeout((0,Ee.Z)(function*(){sn.abort()}),void 0!==B?B:Ro),hi({appId:ce,apiKey:Ne,measurementId:Ue},ft,sn,O)})).apply(this,arguments)}function hi(b,O,B){return Fe.apply(this,arguments)}function Fe(){return Fe=(0,Ee.Z)(function*(b,{throttleEndTimeMillis:O,backoffCount:B},ce,Ne=en){var Ue;const{appId:ft,measurementId:sn}=b;try{yield function Ki(b,O){return new Promise((B,ce)=>{const Ne=Math.max(O-Date.now(),0),Ue=setTimeout(B,Ne);b.addEventListener(()=>{clearTimeout(Ue),ce(bs.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(ce,O)}catch(Jt){if(sn)return yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${sn} provided in the "measurementId" field in the local Firebase config. [${Jt?.message}]`),{appId:ft,measurementId:sn};throw Jt}try{const Jt=yield function Er(b){return et.apply(this,arguments)}(b);return Ne.deleteThrottleMetadata(ft),Jt}catch(Jt){const Lt=Jt;if(!function zr(b){if(!(b instanceof Me.ZR&&b.customData))return!1;const O=Number(b.customData.httpStatus);return 429===O||500===O||503===O||504===O}(Lt)){if(Ne.deleteThrottleMetadata(ft),sn)return yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${sn} provided in the "measurementId" field in the local Firebase config. [${Lt?.message}]`),{appId:ft,measurementId:sn};throw Jt}const rn=503===Number(null===(Ue=Lt?.customData)||void 0===Ue?void 0:Ue.httpStatus)?(0,Me.$s)(B,Ne.intervalMillis,we):(0,Me.$s)(B,Ne.intervalMillis),Gn={throttleEndTimeMillis:Date.now()+rn,backoffCount:B+1};return Ne.setThrottleMetadata(ft,Gn),yn.debug(`Calling attemptFetch again in ${rn} millis`),hi(b,Gn,ce,Ne)}}),Fe.apply(this,arguments)}class Ti{constructor(){this.listeners=[]}addEventListener(O){this.listeners.push(O)}abort(){this.listeners.forEach(O=>O())}}let qs,S;function ns(){return(ns=(0,Ee.Z)(function*(b,O,B,ce,Ne){if(Ne&&Ne.global)b("event",B,ce);else{const Ue=yield O;b("event",B,Object.assign(Object.assign({},ce),{send_to:Ue}))}})).apply(this,arguments)}function Ge(){return(Ge=(0,Ee.Z)(function*(){if(!(0,Me.hl)())return yn.warn(bs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Me.eu)()}catch(b){return yn.warn(bs.create("indexeddb-unavailable",{errorInfo:b?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ot(){return Ot=(0,Ee.Z)(function*(b,O,B,ce,Ne,Ue,ft){var sn;const Jt=function Ht(b){return On.apply(this,arguments)}(b);Jt.then(Ts=>{B[Ts.measurementId]=Ts.appId,b.options.measurementId&&Ts.measurementId!==b.options.measurementId&&yn.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${Ts.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ts=>yn.error(Ts)),O.push(Jt);const Lt=function le(){return Ge.apply(this,arguments)}().then(Ts=>{if(Ts)return ce.getId()}),[rn,Gn]=yield Promise.all([Jt,Lt]);(function me(b){const O=window.document.getElementsByTagName("script");for(const B of Object.values(O))if(B.src&&B.src.includes(Ha)&&B.src.includes(b))return B;return null})(Ue)||function Vr(b,O){const B=function Na(b,O){let B;return window.trustedTypes&&(B=window.trustedTypes.createPolicy(b,O)),B}("firebase-js-sdk-policy",{createScriptURL:Fi}),ce=document.createElement("script"),Ne=`${Ha}?l=${b}&id=${O}`;ce.src=B?B?.createScriptURL(Ne):Ne,ce.async=!0,document.head.appendChild(ce)}(Ue,rn.measurementId),S&&(Ne("consent","default",S),function F(b){S=b}(void 0)),Ne("js",new Date);const Oo=null!==(sn=ft?.config)&&void 0!==sn?sn:{};return Oo[na]="firebase",Oo.update=!0,null!=Gn&&(Oo[fu]=Gn),Ne("config",rn.measurementId,Oo),qs&&(Ne("set",qs),function Y(b){qs=b}(void 0)),rn.measurementId}),Ot.apply(this,arguments)}class Hn{constructor(O){this.app=O}_delete(){return delete Ar[this.app.options.appId],Promise.resolve()}}let Ar={},jn=[];const As={};let Oa,no,Di="dataLayer",Bs=!1;function Id(b,O,B){!function cs(){const b=[];if((0,Me.ru)()&&b.push("This is a browser extension environment."),(0,Me.zI)()||b.push("Cookies are not available."),b.length>0){const O=b.map((ce,Ne)=>`(${Ne+1}) ${ce}`).join(" "),B=bs.create("invalid-analytics-context",{errorInfo:O});yn.warn(B.message)}}();const ce=b.options.appId;if(!ce)throw bs.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw bs.create("no-api-key");yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ar[ce])throw bs.create("already-exists",{id:ce});if(!Bs){!function pu(b){let O=[];Array.isArray(window[b])?O=window[b]:window[b]=O}(Di);const{wrappedGtag:Ue,gtagCore:ft}=function Q(b,O,B,ce,Ne){let Ue=function(...ft){window[ce].push(arguments)};return window[Ne]&&"function"==typeof window[Ne]&&(Ue=window[Ne]),window[Ne]=function L(b,O,B,ce){function Ue(){return Ue=(0,Ee.Z)(function*(ft,...sn){try{if("event"===ft){const[Jt,Lt]=sn;yield function m(b,O,B,ce,Ne){return x.apply(this,arguments)}(b,O,B,Jt,Lt)}else if("config"===ft){const[Jt,Lt]=sn;yield function N(b,O,B,ce,Ne,Ue){return _.apply(this,arguments)}(b,O,B,ce,Jt,Lt)}else if("consent"===ft){const[Jt]=sn;b("consent","update",Jt)}else if("get"===ft){const[Jt,Lt,rn]=sn;b("get",Jt,Lt,rn)}else if("set"===ft){const[Jt]=sn;b("set",Jt)}else b(ft,...sn)}catch(Jt){yn.error(Jt)}}),Ue.apply(this,arguments)}return function Ne(ft){return Ue.apply(this,arguments)}}(Ue,b,O,B),{gtagCore:Ue,wrappedGtag:window[Ne]}}(Ar,jn,As,Di,"gtag");no=Ue,Oa=ft,Bs=!0}return Ar[ce]=function qe(b,O,B,ce,Ne,Ue,ft){return Ot.apply(this,arguments)}(b,jn,As,O,Oa,Di,B),new Hn(b)}function bd(){return xu.apply(this,arguments)}function xu(){return(xu=(0,Ee.Z)(function*(){if((0,Me.ru)()||!(0,Me.zI)()||!(0,Me.hl)())return!1;try{return yield(0,Me.eu)()}catch{return!1}})).apply(this,arguments)}const tu="@firebase/analytics";!function Si(){(0,De._registerComponent)(new ae.wA(Xa,(O,{options:B})=>Id(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),B),"PUBLIC")),(0,De._registerComponent)(new ae.wA("analytics-internal",function b(O){try{const B=O.getProvider(Xa).getImmediate();return{logEvent:(ce,Ne,Ue)=>function Nu(b,O,B,ce){b=(0,Me.m9)(b),function us(b,O,B,ce,Ne){return ns.apply(this,arguments)}(no,Ar[b.app.options.appId],O,B,ce).catch(Ne=>yn.error(Ne))}(B,ce,Ne,Ue)}}catch(B){throw bs.create("interop-component-reg-failed",{reason:B})}},"PRIVATE")),(0,De.registerVersion)(tu,"0.10.0"),(0,De.registerVersion)(tu,"0.10.0","esm2017")}();var gu=Z(1954),da=Z(9931);const Cd=new class ac extends da.v{}(class mu extends gu.o{constructor(O,B){super(O,B),this.scheduler=O,this.work=B}schedule(O,B=0){return B>0?super.schedule(O,B):(this.delay=B,this.state=O,this.scheduler.flush(this),this)}execute(O,B){return B>0||this.closed?super.execute(O,B):this._execute(O,B)}requestAsyncId(O,B,ce=0){return null!=ce&&ce>0||null==ce&&this.delay>0?super.requestAsyncId(O,B,ce):(O.flush(this),0)}});var Dd=Z(6321),ka=Z(5592),Ms=Z(9397),ra=Z(3093),Ta=Z(5137);const kc=new p.GfV("7.6.1"),ia="__angularfire_symbol__analyticsIsSupportedValue",Ou="__angularfire_symbol__analyticsIsSupported",Go="__angularfire_symbol__remoteConfigIsSupportedValue",Fa="__angularfire_symbol__remoteConfigIsSupported",za="__angularfire_symbol__messagingIsSupportedValue",Ca="__angularfire_symbol__messagingIsSupported";function ru(b,O,B){if(O){if(1===O.length)return O[0];const Ue=O.filter(ft=>ft.app===B);if(1===Ue.length)return Ue[0]}return B.container.getProvider(b).getImmediate({optional:!0})}globalThis[Ou]||(globalThis[Ou]=bd().then(b=>globalThis[ia]=b).catch(()=>globalThis[ia]=!1)),globalThis[Ca]||(globalThis[Ca]=Qa().then(b=>globalThis[za]=b).catch(()=>globalThis[za]=!1)),globalThis[Fa]||(globalThis[Fa]=Pt().then(b=>globalThis[Go]=b).catch(()=>globalThis[Go]=!1));const Pu=(b,O)=>{const B=O?[O]:(0,de.C6)(),ce=[];return B.forEach(Ne=>{Ne.container.getProvider(b).instances.forEach(ft=>{ce.includes(ft)||ce.push(ft)})}),ce};function fa(){}class La{constructor(O,B=Cd){this.zone=O,this.delegate=B}now(){return this.delegate.now()}schedule(O,B,ce){const Ne=this.zone;return this.delegate.schedule(function(ft){Ne.runGuarded(()=>{O.apply(this,[ft])})},B,ce)}}class Fc{constructor(O){this.zone=O,this.task=null}call(O,B){const ce=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fa,{},fa,fa)),B.pipe((0,Ms.b)({next:ce,complete:ce,error:ce})).subscribe(O).add(ce)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let iu=(()=>{class b{constructor(B){this.ngZone=B,this.outsideAngular=B.runOutsideAngular(()=>new La(Zone.current)),this.insideAngular=B.run(()=>new La(Zone.current,Dd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(B){return new(B||b)(p.LFG(p.R0b))},b.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function qa(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function pa(b){return qa().ngZone.run(()=>b())}function Wu(b){return b.pipe((0,ra.Q)(qa().outsideAngular))}function su(b){return qa(),function Sd(b){return function(B){return(B=B.lift(new Fc(b.ngZone))).pipe((0,Ta.R)(b.outsideAngular),(0,ra.Q)(b.insideAngular))}}(qa())(b)}const Vc=(b,O)=>function(){const ce=arguments;return O&&setTimeout(()=>{"scheduled"===O.state&&O.invoke()},10),pa(()=>b.apply(void 0,ce))},Uc=(b,O)=>function(){let B;const ce=arguments;for(let Ue=0;Ue<arguments.length;Ue++)"function"==typeof ce[Ue]&&(O&&(B||(B=pa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fa,{},fa,fa)))),ce[Ue]=Vc(ce[Ue],B));const Ne=function Lc(b){return qa().ngZone.runOutsideAngular(()=>b())}(()=>b.apply(this,ce));if(!O){if(Ne instanceof ka.y){const Ue=qa();return Ne.pipe((0,Ta.R)(Ue.outsideAngular),(0,ra.Q)(Ue.insideAngular))}return pa(()=>Ne)}return Ne instanceof ka.y?Ne.pipe(su):Ne instanceof Promise?pa(()=>new Promise((Ue,ft)=>Ne.then(sn=>pa(()=>Ue(sn)),sn=>pa(()=>ft(sn))))):"function"==typeof Ne&&B?function(){return setTimeout(()=>{B&&"scheduled"===B.state&&B.invoke()},10),Ne.apply(this,arguments)}:pa(()=>Ne)}},8153:(ln,pt,Z)=>{Z.d(pt,{$Y:()=>gr,B0:()=>Xi,FN:()=>Rs,IX:()=>Re,Jt:()=>Yi,KV:()=>_a,UJ:()=>ui,Ym:()=>Vn,a1:()=>ps,aF:()=>xn,bm:()=>Qn,cF:()=>vs,g6:()=>Ds,gE:()=>In,gH:()=>vn,iH:()=>ks,oq:()=>$r,pb:()=>pr,qm:()=>Mn,sd:()=>Ps,y4:()=>or});var p=Z(5861),de=Z(534),Ee=Z(9058),De=Z(4537);const Me="firebasestorage.googleapis.com",ae="storageBucket";class he extends Ee.ZR{constructor(z,pe,_e=0){super(Ve(z),`Firebase Storage: ${pe} (${Ve(z)})`),this.status_=_e,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,he.prototype)}get status(){return this.status_}set status(z){this.status_=z}_codeEquals(z){return Ve(z)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(z){this.customData.serverResponse=z,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ue=function(H){return H.UNKNOWN="unknown",H.OBJECT_NOT_FOUND="object-not-found",H.BUCKET_NOT_FOUND="bucket-not-found",H.PROJECT_NOT_FOUND="project-not-found",H.QUOTA_EXCEEDED="quota-exceeded",H.UNAUTHENTICATED="unauthenticated",H.UNAUTHORIZED="unauthorized",H.UNAUTHORIZED_APP="unauthorized-app",H.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",H.INVALID_CHECKSUM="invalid-checksum",H.CANCELED="canceled",H.INVALID_EVENT_NAME="invalid-event-name",H.INVALID_URL="invalid-url",H.INVALID_DEFAULT_BUCKET="invalid-default-bucket",H.NO_DEFAULT_BUCKET="no-default-bucket",H.CANNOT_SLICE_BLOB="cannot-slice-blob",H.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",H.NO_DOWNLOAD_URL="no-download-url",H.INVALID_ARGUMENT="invalid-argument",H.INVALID_ARGUMENT_COUNT="invalid-argument-count",H.APP_DELETED="app-deleted",H.INVALID_ROOT_OPERATION="invalid-root-operation",H.INVALID_FORMAT="invalid-format",H.INTERNAL_ERROR="internal-error",H.UNSUPPORTED_ENVIRONMENT="unsupported-environment",H}(ue||{});function Ve(H){return"storage/"+H}function it(){return new he(ue.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function nn(){return new he(ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Mt(){return new he(ue.CANCELED,"User canceled the upload/download.")}function gt(){return new he(ue.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vn(H){return new he(ue.INVALID_ARGUMENT,H)}function kn(){return new he(ue.APP_DELETED,"The Firebase app was deleted.")}function or(H){return new he(ue.INVALID_ROOT_OPERATION,"The operation '"+H+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wt(H,z){return new he(ue.INVALID_FORMAT,"String does not match format '"+H+"': "+z)}function Et(H){throw new he(ue.INTERNAL_ERROR,"Internal error: "+H)}class In{constructor(z,pe){this.bucket=z,this.path_=pe}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const z=encodeURIComponent;return"/b/"+z(this.bucket)+"/o/"+z(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(z,pe){let _e;try{_e=In.makeFromUrl(z,pe)}catch{return new In(z,"")}if(""===_e.path)return _e;throw function tt(H){return new he(ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+H+"'.")}(z)}static makeFromUrl(z,pe){let _e=null;const Oe="([A-Za-z0-9.\\-_]+)",Wt=new RegExp("^gs://"+Oe+"(/(.*))?$","i");function Nn(ur){ur.path_=decodeURIComponent(ur.path)}const xr=pe.replace(/[.]/g,"\\."),Gr=[{regex:Wt,indices:{bucket:1,path:3},postModify:function Qe(ur){"/"===ur.path.charAt(ur.path.length-1)&&(ur.path_=ur.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${xr}/v[A-Za-z0-9_]+/b/${Oe}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Nn},{regex:new RegExp(`^https?://${pe===Me?"(?:storage.googleapis.com|storage.cloud.google.com)":pe}/${Oe}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Nn}];for(let ur=0;ur<Gr.length;ur++){const ss=Gr[ur],Yn=ss.regex.exec(z);if(Yn){let mi=Yn[ss.indices.path];mi||(mi=""),_e=new In(Yn[ss.indices.bucket],mi),ss.postModify(_e);break}}if(null==_e)throw function Ce(H){return new he(ue.INVALID_URL,"Invalid URL '"+H+"'.")}(z);return _e}}class Ft{constructor(z){this.promise_=Promise.reject(z)}getPromise(){return this.promise_}cancel(z=!1){}}function ve(H){return"string"==typeof H||H instanceof String}function oe(H){return ye()&&H instanceof Blob}function ye(){return typeof Blob<"u"&&!(0,Ee.UG)()}function Ke(H,z,pe,_e){if(_e<z)throw vn(`Invalid value for '${H}'. Expected ${z} or greater.`);if(_e>pe)throw vn(`Invalid value for '${H}'. Expected ${pe} or less.`)}function ht(H,z,pe){let _e=z;return null==pe&&(_e=`https://${z}`),`${pe}://${_e}/v0${H}`}function _t(H){const z=encodeURIComponent;let pe="?";for(const _e in H)H.hasOwnProperty(_e)&&(pe=pe+(z(_e)+"=")+z(H[_e])+"&");return pe=pe.slice(0,-1),pe}var jt=function(H){return H[H.NO_ERROR=0]="NO_ERROR",H[H.NETWORK_ERROR=1]="NETWORK_ERROR",H[H.ABORT=2]="ABORT",H}(jt||{});function Wn(H,z){const pe=H>=500&&H<600,Oe=-1!==[408,429].indexOf(H),Qe=-1!==z.indexOf(H);return pe||Oe||Qe}class zn{constructor(z,pe,_e,Oe,Qe,Pt,Wt,Ct,Nn,Jn,xr,Zn=!0){this.url_=z,this.method_=pe,this.headers_=_e,this.body_=Oe,this.successCodes_=Qe,this.additionalRetryCodes_=Pt,this.callback_=Wt,this.errorCallback_=Ct,this.timeout_=Nn,this.progressCallback_=Jn,this.connectionFactory_=xr,this.retry=Zn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Hr,yr)=>{this.resolve_=Hr,this.reject_=yr,this.start_()})}start_(){const pe=(_e,Oe)=>{const Qe=this.resolve_,Pt=this.reject_,Wt=Oe.connection;if(Oe.wasSuccessCode)try{const Ct=this.callback_(Wt,Wt.getResponse());!function Je(H){return void 0!==H}(Ct)?Qe():Qe(Ct)}catch(Ct){Pt(Ct)}else if(null!==Wt){const Ct=it();Ct.serverResponse=Wt.getErrorText(),Pt(this.errorCallback_?this.errorCallback_(Wt,Ct):Ct)}else Pt(Oe.canceled?this.appDelete_?kn():Mt():nn())};this.canceled_?pe(0,new Sn(!1,null,!0)):this.backoffId_=function Cn(H,z,pe){let _e=1,Oe=null,Qe=null,Pt=!1,Wt=0;function Ct(){return 2===Wt}let Nn=!1;function Jn(...Lr){Nn||(Nn=!0,z.apply(null,Lr))}function xr(Lr){Oe=setTimeout(()=>{Oe=null,H(Hr,Ct())},Lr)}function Zn(){Qe&&clearTimeout(Qe)}function Hr(Lr,...ci){if(Nn)return void Zn();if(Lr)return Zn(),void Jn.call(null,Lr,...ci);if(Ct()||Pt)return Zn(),void Jn.call(null,Lr,...ci);let Gr;_e<64&&(_e*=2),1===Wt?(Wt=2,Gr=0):Gr=1e3*(_e+Math.random()),xr(Gr)}let yr=!1;function Kr(Lr){yr||(yr=!0,Zn(),!Nn&&(null!==Oe?(Lr||(Wt=2),clearTimeout(Oe),xr(0)):Lr||(Wt=1)))}return xr(0),Qe=setTimeout(()=>{Pt=!0,Kr(!0)},pe),Kr}((_e,Oe)=>{if(Oe)return void _e(!1,new Sn(!1,null,!0));const Qe=this.connectionFactory_();this.pendingConnection_=Qe;const Pt=Wt=>{null!==this.progressCallback_&&this.progressCallback_(Wt.loaded,Wt.lengthComputable?Wt.total:-1)};null!==this.progressCallback_&&Qe.addUploadProgressListener(Pt),Qe.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Qe.removeUploadProgressListener(Pt),this.pendingConnection_=null;const Wt=Qe.getErrorCode()===jt.NO_ERROR,Ct=Qe.getStatus();if(!Wt||Wn(Ct,this.additionalRetryCodes_)&&this.retry){const Jn=Qe.getErrorCode()===jt.ABORT;return void _e(!1,new Sn(!1,null,Jn))}const Nn=-1!==this.successCodes_.indexOf(Ct);_e(!0,new Sn(Nn,Qe))})},pe,this.timeout_)}getPromise(){return this.promise_}cancel(z){this.canceled_=!0,this.appDelete_=z||!1,null!==this.backoffId_&&function $e(H){H(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Sn{constructor(z,pe,_e){this.wasSuccessCode=z,this.connection=pe,this.canceled=!!_e}}function mn(...H){const z=function sr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==z){const pe=new z;for(let _e=0;_e<H.length;_e++)pe.append(H[_e]);return pe.getBlob()}if(ye())return new Blob(H);throw new he(ue.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Qn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pn{constructor(z,pe){this.data=z,this.contentType=pe||null}}function Mn(H,z){switch(H){case Qn.RAW:return new Pn(cr(z));case Qn.BASE64:case Qn.BASE64URL:return new Pn(Zr(H,z));case Qn.DATA_URL:return new Pn(function Rr(H){const z=new hr(H);return z.base64?Zr(Qn.BASE64,z.rest):function Br(H){let z;try{z=decodeURIComponent(H)}catch{throw wt(Qn.DATA_URL,"Malformed data URL.")}return cr(z)}(z.rest)}(z),function ai(H){return new hr(H).contentType}(z))}throw it()}function cr(H){const z=[];for(let pe=0;pe<H.length;pe++){let _e=H.charCodeAt(pe);_e<=127?z.push(_e):_e<=2047?z.push(192|_e>>6,128|63&_e):55296==(64512&_e)?pe<H.length-1&&56320==(64512&H.charCodeAt(pe+1))?(_e=65536|(1023&_e)<<10|1023&H.charCodeAt(++pe),z.push(240|_e>>18,128|_e>>12&63,128|_e>>6&63,128|63&_e)):z.push(239,191,189):56320==(64512&_e)?z.push(239,191,189):z.push(224|_e>>12,128|_e>>6&63,128|63&_e)}return new Uint8Array(z)}function Zr(H,z){switch(H){case Qn.BASE64:{const Oe=-1!==z.indexOf("-"),Qe=-1!==z.indexOf("_");if(Oe||Qe)throw wt(H,"Invalid character '"+(Oe?"-":"_")+"' found: is it base64url encoded?");break}case Qn.BASE64URL:{const Oe=-1!==z.indexOf("+"),Qe=-1!==z.indexOf("/");if(Oe||Qe)throw wt(H,"Invalid character '"+(Oe?"+":"/")+"' found: is it base64 encoded?");z=z.replace(/-/g,"+").replace(/_/g,"/");break}}let pe;try{pe=function er(H){if(typeof atob>"u")throw function at(H){return new he(ue.UNSUPPORTED_ENVIRONMENT,`${H} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(H)}(z)}catch(Oe){throw Oe.message.includes("polyfill")?Oe:wt(H,"Invalid character found")}const _e=new Uint8Array(pe.length);for(let Oe=0;Oe<pe.length;Oe++)_e[Oe]=pe.charCodeAt(Oe);return _e}class hr{constructor(z){this.base64=!1,this.contentType=null;const pe=z.match(/^data:([^,]+)?,/);if(null===pe)throw wt(Qn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const _e=pe[1]||null;null!=_e&&(this.base64=function lr(H,z){return H.length>=z.length&&H.substring(H.length-z.length)===z}(_e,";base64"),this.contentType=this.base64?_e.substring(0,_e.length-7):_e),this.rest=z.substring(z.indexOf(",")+1)}}class ui{constructor(z,pe){let _e=0,Oe="";oe(z)?(this.data_=z,_e=z.size,Oe=z.type):z instanceof ArrayBuffer?(pe?this.data_=new Uint8Array(z):(this.data_=new Uint8Array(z.byteLength),this.data_.set(new Uint8Array(z))),_e=this.data_.length):z instanceof Uint8Array&&(pe?this.data_=z:(this.data_=new Uint8Array(z.length),this.data_.set(z)),_e=z.length),this.size_=_e,this.type_=Oe}size(){return this.size_}type(){return this.type_}slice(z,pe){if(oe(this.data_)){const Oe=function fi(H,z,pe){return H.webkitSlice?H.webkitSlice(z,pe):H.mozSlice?H.mozSlice(z,pe):H.slice?H.slice(z,pe):null}(this.data_,z,pe);return null===Oe?null:new ui(Oe)}{const _e=new Uint8Array(this.data_.buffer,z,pe-z);return new ui(_e,!0)}}static getBlob(...z){if(ye()){const pe=z.map(_e=>_e instanceof ui?_e.data_:_e);return new ui(mn.apply(null,pe))}{const pe=z.map(Pt=>ve(Pt)?Mn(Qn.RAW,Pt).data:Pt.data_);let _e=0;pe.forEach(Pt=>{_e+=Pt.byteLength});const Oe=new Uint8Array(_e);let Qe=0;return pe.forEach(Pt=>{for(let Wt=0;Wt<Pt.length;Wt++)Oe[Qe++]=Pt[Wt]}),new ui(Oe,!0)}}uploadData(){return this.data_}}function zt(H){let z;try{z=JSON.parse(H)}catch{return null}return function Te(H){return"object"==typeof H&&!Array.isArray(H)}(z)?z:null}function jr(H){const z=H.lastIndexOf("/",H.length-2);return-1===z?H:H.slice(z+1)}function Xr(H,z){return z}class fr{constructor(z,pe,_e,Oe){this.server=z,this.local=pe||z,this.writable=!!_e,this.xform=Oe||Xr}}let hn=null;function vi(){if(hn)return hn;const H=[];H.push(new fr("bucket")),H.push(new fr("generation")),H.push(new fr("metageneration")),H.push(new fr("name","fullPath",!0));const pe=new fr("name");pe.xform=function z(Qe,Pt){return function Ai(H){return!ve(H)||H.length<2?H:jr(H)}(Pt)},H.push(pe);const Oe=new fr("size");return Oe.xform=function _e(Qe,Pt){return void 0!==Pt?Number(Pt):Pt},H.push(Oe),H.push(new fr("timeCreated")),H.push(new fr("updated")),H.push(new fr("md5Hash",null,!0)),H.push(new fr("cacheControl",null,!0)),H.push(new fr("contentDisposition",null,!0)),H.push(new fr("contentEncoding",null,!0)),H.push(new fr("contentLanguage",null,!0)),H.push(new fr("contentType",null,!0)),H.push(new fr("metadata","customMetadata",!0)),hn=H,hn}function Fn(H,z,pe){const _e=zt(z);return null===_e?null:function dr(H,z,pe){const _e={type:"file"},Oe=pe.length;for(let Qe=0;Qe<Oe;Qe++){const Pt=pe[Qe];_e[Pt.local]=Pt.xform(_e,z[Pt.server])}return function bn(H,z){Object.defineProperty(H,"ref",{get:function pe(){const Qe=new In(H.bucket,H.fullPath);return z._makeStorageReference(Qe)}})}(_e,H),_e}(H,_e,pe)}function be(H,z){const pe={},_e=z.length;for(let Oe=0;Oe<_e;Oe++){const Qe=z[Oe];Qe.writable&&(pe[Qe.server]=H[Qe.local])}return JSON.stringify(pe)}const X="prefixes",re="items";class Pe{constructor(z,pe,_e,Oe){this.url=z,this.method=pe,this.handler=_e,this.timeout=Oe,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function yt(H){if(!H)throw it()}function Bt(H,z){return function pe(_e,Oe){const Qe=Fn(H,Oe,z);return yt(null!==Qe),Qe}}function Kn(H){return function z(pe,_e){let Oe;return Oe=401===pe.getStatus()?pe.getErrorText().includes("Firebase App Check token is invalid")?function Vt(){return new he(ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function bt(){return new he(ue.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===pe.getStatus()?function Nt(H){return new he(ue.QUOTA_EXCEEDED,"Quota for bucket '"+H+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(H.bucket):403===pe.getStatus()?function St(H){return new he(ue.UNAUTHORIZED,"User does not have permission to access '"+H+"'.")}(H.path):_e,Oe.status=pe.getStatus(),Oe.serverResponse=_e.serverResponse,Oe}}function Xt(H){const z=Kn(H);return function pe(_e,Oe){let Qe=z(_e,Oe);return 404===_e.getStatus()&&(Qe=function Ae(H){return new he(ue.OBJECT_NOT_FOUND,"Object '"+H+"' does not exist.")}(H.path)),Qe.serverResponse=Oe.serverResponse,Qe}}function Wr(H,z,pe){const Oe=ht(z.fullServerUrl(),H.host,H._protocol),Pt=H.maxOperationRetryTime,Wt=new Pe(Oe,"GET",Bt(H,pe),Pt);return Wt.errorHandler=Xt(z),Wt}function Yr(H,z,pe,_e,Oe){const Qe={};Qe.prefix=z.isRoot?"":z.path+"/",pe&&pe.length>0&&(Qe.delimiter=pe),_e&&(Qe.pageToken=_e),Oe&&(Qe.maxResults=Oe);const Wt=ht(z.bucketOnlyServerUrl(),H.host,H._protocol),Nn=H.maxOperationRetryTime,Jn=new Pe(Wt,"GET",function En(H,z){return function pe(_e,Oe){const Qe=function te(H,z,pe){const _e=zt(pe);return null===_e?null:function ne(H,z,pe){const _e={prefixes:[],items:[],nextPageToken:pe.nextPageToken};if(pe[X])for(const Oe of pe[X]){const Qe=Oe.replace(/\/$/,""),Pt=H._makeStorageReference(new In(z,Qe));_e.prefixes.push(Pt)}if(pe[re])for(const Oe of pe[re]){const Qe=H._makeStorageReference(new In(z,Oe.name));_e.items.push(Qe)}return _e}(H,z,_e)}(H,z,Oe);return yt(null!==Qe),Qe}}(H,z.bucket),Nn);return Jn.urlParams=Qe,Jn.errorHandler=Kn(z),Jn}function Kt(H,z,pe){const _e=Object.assign({},pe);return _e.fullPath=H.path,_e.size=z.size(),_e.contentType||(_e.contentType=function At(H,z){return H&&H.contentType||z&&z.type()||"application/octet-stream"}(null,z)),_e}function An(H,z,pe,_e,Oe){const Qe=z.bucketOnlyServerUrl(),Pt={"X-Goog-Upload-Protocol":"multipart"},Ct=function Wt(){let Gr="";for(let ur=0;ur<2;ur++)Gr+=Math.random().toString().slice(2);return Gr}();Pt["Content-Type"]="multipart/related; boundary="+Ct;const Nn=Kt(z,_e,Oe),Jn=be(Nn,pe),Hr=ui.getBlob("--"+Ct+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Jn+"\r\n--"+Ct+"\r\nContent-Type: "+Nn.contentType+"\r\n\r\n",_e,"\r\n--"+Ct+"--");if(null===Hr)throw gt();const yr={name:Nn.fullPath},Kr=ht(Qe,H.host,H._protocol),ci=H.maxUploadRetryTime,Ii=new Pe(Kr,"POST",Bt(H,pe),ci);return Ii.urlParams=yr,Ii.headers=Pt,Ii.body=Hr.uploadData(),Ii.errorHandler=Kn(z),Ii}class Zt{constructor(z,pe,_e,Oe){this.current=z,this.total=pe,this.finalized=!!_e,this.metadata=Oe||null}}function $n(H,z){let pe=null;try{pe=H.getResponseHeader("X-Goog-Upload-Status")}catch{yt(!1)}return yt(!!pe&&-1!==(z||["active"]).indexOf(pe)),pe}const Rs={STATE_CHANGED:"state_changed"},gr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Bi(H){switch(H){case"running":case"pausing":case"canceling":return gr.RUNNING;case"paused":return gr.PAUSED;case"success":return gr.SUCCESS;case"canceled":return gr.CANCELED;default:return gr.ERROR}}class Oi{constructor(z,pe,_e){if(function st(H){return"function"==typeof H}(z)||null!=pe||null!=_e)this.next=z,this.error=pe??void 0,this.complete=_e??void 0;else{const Qe=z;this.next=Qe.next,this.error=Qe.error,this.complete=Qe.complete}}}function wi(H){return(...z)=>{Promise.resolve().then(()=>H(...z))}}let tr=null;class hs{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=jt.NO_ERROR,this.sendPromise_=new Promise(z=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jt.ABORT,z()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jt.NETWORK_ERROR,z()}),this.xhr_.addEventListener("load",()=>{z()})})}send(z,pe,_e,Oe){if(this.sent_)throw Et("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(pe,z,!0),void 0!==Oe)for(const Qe in Oe)Oe.hasOwnProperty(Qe)&&this.xhr_.setRequestHeader(Qe,Oe[Qe].toString());return void 0!==_e?this.xhr_.send(_e):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Et("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Et("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Et("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Et("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(z){return this.xhr_.getResponseHeader(z)}addUploadProgressListener(z){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",z)}removeUploadProgressListener(z){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",z)}}class ti extends hs{initXhr(){this.xhr_.responseType="text"}}function pi(){return tr?tr():new ti}class Re{constructor(z,pe,_e=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=z,this._blob=pe,this._metadata=_e,this._mappings=vi(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Oe=>{if(this._request=void 0,this._chunkMultiplier=1,Oe._codeEquals(ue.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Qe=this.isExponentialBackoffExpired();if(Wn(Oe.status,[])){if(!Qe)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();Oe=nn()}this._error=Oe,this._transition("error")}},this._metadataErrorHandler=Oe=>{this._request=void 0,Oe._codeEquals(ue.CANCELED)?this.completeTransitions_():(this._error=Oe,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((Oe,Qe)=>{this._resolve=Oe,this._reject=Qe,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const z=this._transferred;return pe=>this._updateProgress(z+pe)}_shouldDoResumable(z){return z.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(z){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([pe,_e])=>{switch(this._state){case"running":z(pe,_e);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((z,pe)=>{const _e=function ei(H,z,pe,_e,Oe){const Qe=z.bucketOnlyServerUrl(),Pt=Kt(z,_e,Oe),Wt={name:Pt.fullPath},Ct=ht(Qe,H.host,H._protocol),Jn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${_e.size()}`,"X-Goog-Upload-Header-Content-Type":Pt.contentType,"Content-Type":"application/json; charset=utf-8"},xr=be(Pt,pe),yr=new Pe(Ct,"POST",function Hr(Kr){let Lr;$n(Kr);try{Lr=Kr.getResponseHeader("X-Goog-Upload-URL")}catch{yt(!1)}return yt(ve(Lr)),Lr},H.maxUploadRetryTime);return yr.urlParams=Wt,yr.headers=Jn,yr.body=xr,yr.errorHandler=Kn(z),yr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Oe=this._ref.storage._makeRequest(_e,pi,z,pe);this._request=Oe,Oe.getPromise().then(Qe=>{this._request=void 0,this._uploadUrl=Qe,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const z=this._uploadUrl;this._resolveToken((pe,_e)=>{const Oe=function vr(H,z,pe,_e){const Ct=new Pe(pe,"POST",function Qe(Nn){const Jn=$n(Nn,["active","final"]);let xr=null;try{xr=Nn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{yt(!1)}xr||yt(!1);const Zn=Number(xr);return yt(!isNaN(Zn)),new Zt(Zn,_e.size(),"final"===Jn)},H.maxUploadRetryTime);return Ct.headers={"X-Goog-Upload-Command":"query"},Ct.errorHandler=Kn(z),Ct}(this._ref.storage,this._ref._location,z,this._blob),Qe=this._ref.storage._makeRequest(Oe,pi,pe,_e);this._request=Qe,Qe.getPromise().then(Pt=>{this._request=void 0,this._updateProgress(Pt.current),this._needToFetchStatus=!1,Pt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const z=262144*this._chunkMultiplier,pe=new Zt(this._transferred,this._blob.size()),_e=this._uploadUrl;this._resolveToken((Oe,Qe)=>{let Pt;try{Pt=function xs(H,z,pe,_e,Oe,Qe,Pt,Wt){const Ct=new Zt(0,0);if(Pt?(Ct.current=Pt.current,Ct.total=Pt.total):(Ct.current=0,Ct.total=_e.size()),_e.size()!==Ct.total)throw function ut(){return new he(ue.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Nn=Ct.total-Ct.current;let Jn=Nn;Oe>0&&(Jn=Math.min(Jn,Oe));const xr=Ct.current;let Hr="";Hr=0===Jn?"finalize":Nn===Jn?"upload, finalize":"upload";const yr={"X-Goog-Upload-Command":Hr,"X-Goog-Upload-Offset":`${Ct.current}`},Kr=_e.slice(xr,xr+Jn);if(null===Kr)throw gt();const Gr=new Pe(pe,"POST",function Lr(ur,ss){const Yn=$n(ur,["active","final"]),Vo=Ct.current+Jn,mi=_e.size();let es;return es="final"===Yn?Bt(z,Qe)(ur,ss):null,new Zt(Vo,mi,"final"===Yn,es)},z.maxUploadRetryTime);return Gr.headers=yr,Gr.body=Kr.uploadData(),Gr.progressCallback=Wt||null,Gr.errorHandler=Kn(H),Gr}(this._ref._location,this._ref.storage,_e,this._blob,z,this._mappings,pe,this._makeProgressCallback())}catch(Ct){return this._error=Ct,void this._transition("error")}const Wt=this._ref.storage._makeRequest(Pt,pi,Oe,Qe,!1);this._request=Wt,Wt.getPromise().then(Ct=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Ct.current),Ct.finalized?(this._metadata=Ct.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((z,pe)=>{const _e=Wr(this._ref.storage,this._ref._location,this._mappings),Oe=this._ref.storage._makeRequest(_e,pi,z,pe);this._request=Oe,Oe.getPromise().then(Qe=>{this._request=void 0,this._metadata=Qe,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((z,pe)=>{const _e=An(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Oe=this._ref.storage._makeRequest(_e,pi,z,pe);this._request=Oe,Oe.getPromise().then(Qe=>{this._request=void 0,this._metadata=Qe,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(z){const pe=this._transferred;this._transferred=z,this._transferred!==pe&&this._notifyObservers()}_transition(z){if(this._state!==z)switch(z){case"canceling":case"pausing":this._state=z,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const pe="paused"===this._state;this._state=z,pe&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=z,this._notifyObservers();break;case"canceled":this._error=Mt(),this._state=z,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const z=Bi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:z,metadata:this._metadata,task:this,ref:this._ref}}on(z,pe,_e,Oe){const Qe=new Oi(pe||void 0,_e||void 0,Oe||void 0);return this._addObserver(Qe),()=>{this._removeObserver(Qe)}}then(z,pe){return this._promise.then(z,pe)}catch(z){return this.then(null,z)}_addObserver(z){this._observers.push(z),this._notifyObserver(z)}_removeObserver(z){const pe=this._observers.indexOf(z);-1!==pe&&this._observers.splice(pe,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(pe=>{this._notifyObserver(pe)})}_finishPromise(){if(void 0!==this._resolve){let z=!0;switch(Bi(this._state)){case gr.SUCCESS:wi(this._resolve.bind(null,this.snapshot))();break;case gr.CANCELED:case gr.ERROR:wi(this._reject.bind(null,this._error))();break;default:z=!1}z&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(z){switch(Bi(this._state)){case gr.RUNNING:case gr.PAUSED:z.next&&wi(z.next.bind(z,this.snapshot))();break;case gr.SUCCESS:z.complete&&wi(z.complete.bind(z))();break;default:z.error&&wi(z.error.bind(z,this._error))()}}resume(){const z="paused"===this._state||"pausing"===this._state;return z&&this._transition("running"),z}pause(){const z="running"===this._state;return z&&this._transition("pausing"),z}cancel(){const z="running"===this._state||"pausing"===this._state;return z&&this._transition("canceling"),z}}class je{constructor(z,pe){this._service=z,this._location=pe instanceof In?pe:In.makeFromUrl(pe,z.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(z,pe){return new je(z,pe)}get root(){const z=new In(this._location.bucket,"");return this._newRef(this._service,z)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jr(this._location.path)}get storage(){return this._service}get parent(){const z=function Zi(H){if(0===H.length)return null;const z=H.lastIndexOf("/");return-1===z?"":H.slice(0,z)}(this._location.path);if(null===z)return null;const pe=new In(this._location.bucket,z);return new je(this._service,pe)}_throwIfRoot(z){if(""===this._location.path)throw or(z)}}function ji(H,z,pe){return gi.apply(this,arguments)}function gi(){return(gi=(0,p.Z)(function*(H,z,pe){const Oe=yield Fr(H,{pageToken:pe});z.prefixes.push(...Oe.prefixes),z.items.push(...Oe.items),null!=Oe.nextPageToken&&(yield ji(H,z,Oe.nextPageToken))})).apply(this,arguments)}function Fr(H,z){null!=z&&"number"==typeof z.maxResults&&Ke("options.maxResults",1,1e3,z.maxResults);const pe=z||{},_e=Yr(H.storage,H._location,"/",pe.pageToken,pe.maxResults);return H.storage.makeRequestWithTokens(_e,pi)}function co(H){H._throwIfRoot("getDownloadURL");const z=function Ri(H,z,pe){const Oe=ht(z.fullServerUrl(),H.host,H._protocol),Pt=H.maxOperationRetryTime,Wt=new Pe(Oe,"GET",function Dn(H,z){return function pe(_e,Oe){const Qe=Fn(H,Oe,z);return yt(null!==Qe),function Nr(H,z,pe,_e){const Oe=zt(z);if(null===Oe||!ve(Oe.downloadTokens))return null;const Qe=Oe.downloadTokens;if(0===Qe.length)return null;const Pt=encodeURIComponent;return Qe.split(",").map(Nn=>{const xr=H.fullPath;return ht("/b/"+Pt(H.bucket)+"/o/"+Pt(xr),pe,_e)+_t({alt:"media",token:Nn})})[0]}(Qe,Oe,H.host,H._protocol)}}(H,pe),Pt);return Wt.errorHandler=Xt(z),Wt}(H.storage,H._location,vi());return H.storage.makeRequestWithTokens(z,pi).then(pe=>{if(null===pe)throw function ct(){return new he(ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return pe})}function Mi(H,z){const pe=function Ui(H,z){const pe=z.split("/").filter(_e=>_e.length>0).join("/");return 0===H.length?pe:H+"/"+pe}(H._location.path,z),_e=new In(H._location.bucket,pe);return new je(H.storage,_e)}function Ys(H,z){if(H instanceof Os){const pe=H;if(null==pe._bucket)throw function Ze(){return new he(ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ae+"' property when initializing the app?")}();const _e=new je(pe,pe._bucket);return null!=z?Ys(_e,z):_e}return void 0!==z?Mi(H,z):H}function Io(H,z){if(z&&function ho(H){return/^[A-Za-z]+:\/\//.test(H)}(z)){if(H instanceof Os)return function _s(H,z){return new je(H,z)}(H,z);throw vn("To use ref(service, url), the first argument must be a Storage instance.")}return Ys(H,z)}function Hi(H,z){const pe=z?.[ae];return null==pe?null:In.makeFromBucketSpec(pe,H)}class Os{constructor(z,pe,_e,Oe,Qe){this.app=z,this._authProvider=pe,this._appCheckProvider=_e,this._url=Oe,this._firebaseVersion=Qe,this._bucket=null,this._host=Me,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Oe?In.makeFromBucketSpec(Oe,this._host):Hi(this._host,this.app.options)}get host(){return this._host}set host(z){this._host=z,this._bucket=null!=this._url?In.makeFromBucketSpec(this._url,z):Hi(z,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(z){Ke("time",0,Number.POSITIVE_INFINITY,z),this._maxUploadRetryTime=z}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(z){Ke("time",0,Number.POSITIVE_INFINITY,z),this._maxOperationRetryTime=z}_getAuthToken(){var z=this;return(0,p.Z)(function*(){if(z._overrideAuthToken)return z._overrideAuthToken;const pe=z._authProvider.getImmediate({optional:!0});if(pe){const _e=yield pe.getToken();if(null!==_e)return _e.accessToken}return null})()}_getAppCheckToken(){var z=this;return(0,p.Z)(function*(){const pe=z._appCheckProvider.getImmediate({optional:!0});return pe?(yield pe.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(z=>z.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(z){return new je(this,z)}_makeRequest(z,pe,_e,Oe,Qe=!0){if(this._deleted)return new Ft(kn());{const Pt=function gn(H,z,pe,_e,Oe,Qe,Pt=!0){const Wt=_t(H.urlParams),Ct=H.url+Wt,Nn=Object.assign({},H.headers);return function Ur(H,z){z&&(H["X-Firebase-GMPID"]=z)}(Nn,z),function ir(H,z){null!==z&&z.length>0&&(H.Authorization="Firebase "+z)}(Nn,pe),function Xn(H,z){H["X-Firebase-Storage-Version"]="webjs/"+(z??"AppManager")}(Nn,Qe),function qn(H,z){null!==z&&(H["X-Firebase-AppCheck"]=z)}(Nn,_e),new zn(Ct,H.method,Nn,H.body,H.successCodes,H.additionalRetryCodes,H.handler,H.errorHandler,H.timeout,H.progressCallback,Oe,Pt)}(z,this._appId,_e,Oe,pe,this._firebaseVersion,Qe);return this._requests.add(Pt),Pt.getPromise().then(()=>this._requests.delete(Pt),()=>this._requests.delete(Pt)),Pt}}makeRequestWithTokens(z,pe){var _e=this;return(0,p.Z)(function*(){const[Oe,Qe]=yield Promise.all([_e._getAuthToken(),_e._getAppCheckToken()]);return _e._makeRequest(z,pe,Oe,Qe).getPromise()})()}}const fo="@firebase/storage",bo="storage";function _a(H,z,pe){return function on(H,z,pe){H._throwIfRoot("uploadBytes");const _e=An(H.storage,H._location,vi(),new ui(z,!0),pe);return H.storage.makeRequestWithTokens(_e,pi).then(Oe=>({metadata:Oe,ref:H}))}(H=(0,Ee.m9)(H),z,pe)}function Xi(H,z,pe){return function nr(H,z,pe){return H._throwIfRoot("uploadBytesResumable"),new Re(H,new ui(z),pe)}(H=(0,Ee.m9)(H),z,pe)}function Ps(H){return function Ir(H){H._throwIfRoot("getMetadata");const z=Wr(H.storage,H._location,vi());return H.storage.makeRequestWithTokens(z,pi)}(H=(0,Ee.m9)(H))}function Vn(H,z){return function $s(H,z){H._throwIfRoot("updateMetadata");const pe=function ot(H,z,pe,_e){const Qe=ht(z.fullServerUrl(),H.host,H._protocol),Wt=be(pe,_e),Nn=H.maxOperationRetryTime,Jn=new Pe(Qe,"PATCH",Bt(H,_e),Nn);return Jn.headers={"Content-Type":"application/json; charset=utf-8"},Jn.body=Wt,Jn.errorHandler=Xt(z),Jn}(H.storage,H._location,z,vi());return H.storage.makeRequestWithTokens(pe,pi)}(H=(0,Ee.m9)(H),z)}function pr(H,z){return Fr(H=(0,Ee.m9)(H),z)}function xn(H){return function ar(H){const z={prefixes:[],items:[]};return ji(H,z).then(()=>z)}(H=(0,Ee.m9)(H))}function Yi(H){return co(H=(0,Ee.m9)(H))}function $r(H){return function lo(H){H._throwIfRoot("deleteObject");const z=function Be(H,z){const _e=ht(z.fullServerUrl(),H.host,H._protocol),Wt=new Pe(_e,"DELETE",function Pt(Ct,Nn){},H.maxOperationRetryTime);return Wt.successCodes=[200,204],Wt.errorHandler=Xt(z),Wt}(H.storage,H._location);return H.storage.makeRequestWithTokens(z,pi)}(H=(0,Ee.m9)(H))}function ks(H,z){return Io(H=(0,Ee.m9)(H),z)}function Ds(H,z){return Mi(H,z)}function vs(H=(0,de.getApp)(),z){H=(0,Ee.m9)(H);const _e=(0,de._getProvider)(H,bo).getImmediate({identifier:z}),Oe=(0,Ee.P0)("storage");return Oe&&ps(_e,...Oe),_e}function ps(H,z,pe,_e={}){!function Ns(H,z,pe,_e={}){H.host=`${z}:${pe}`,H._protocol="http";const{mockUserToken:Oe}=_e;Oe&&(H._overrideAuthToken="string"==typeof Oe?Oe:(0,Ee.Sg)(Oe,H.app.options.projectId))}(H,z,pe,_e)}function Yt(H,{instanceIdentifier:z}){const pe=H.getProvider("app").getImmediate(),_e=H.getProvider("auth-internal"),Oe=H.getProvider("app-check-internal");return new Os(pe,_e,Oe,z,de.SDK_VERSION)}!function Rn(){(0,de._registerComponent)(new De.wA(bo,Yt,"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(fo,"0.11.2",""),(0,de.registerVersion)(fo,"0.11.2","esm2017")}()},9058:(ln,pt,Z)=>{Z.d(pt,{$s:()=>bn,BH:()=>Ze,L:()=>We,LL:()=>oe,P0:()=>Mt,Pz:()=>tt,Sg:()=>gt,UG:()=>at,US:()=>ae,ZB:()=>Ve,ZR:()=>ve,aH:()=>Ce,b$:()=>or,eu:()=>Je,hl:()=>$e,jU:()=>vn,m9:()=>Nr,ne:()=>cr,pd:()=>Pn,q4:()=>nn,r3:()=>Xn,ru:()=>kn,tV:()=>he,uI:()=>ct,vZ:()=>sr,w1:()=>Et,xO:()=>er,xb:()=>qn,z$:()=>ut,zI:()=>st,zd:()=>Qn});const De=function(be){const X=[];let re=0;for(let ne=0;ne<be.length;ne++){let te=be.charCodeAt(ne);te<128?X[re++]=te:te<2048?(X[re++]=te>>6|192,X[re++]=63&te|128):55296==(64512&te)&&ne+1<be.length&&56320==(64512&be.charCodeAt(ne+1))?(te=65536+((1023&te)<<10)+(1023&be.charCodeAt(++ne)),X[re++]=te>>18|240,X[re++]=te>>12&63|128,X[re++]=te>>6&63|128,X[re++]=63&te|128):(X[re++]=te>>12|224,X[re++]=te>>6&63|128,X[re++]=63&te|128)}return X},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(be,X){if(!Array.isArray(be))throw Error("encodeByteArray takes an array as a parameter");this.init_();const re=X?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[];for(let te=0;te<be.length;te+=3){const Pe=be[te],yt=te+1<be.length,Bt=yt?be[te+1]:0,En=te+2<be.length,Dn=En?be[te+2]:0;let Wr=(15&Bt)<<2|Dn>>6,Yr=63&Dn;En||(Yr=64,yt||(Wr=64)),ne.push(re[Pe>>2],re[(3&Pe)<<4|Bt>>4],re[Wr],re[Yr])}return ne.join("")},encodeString(be,X){return this.HAS_NATIVE_SUPPORT&&!X?btoa(be):this.encodeByteArray(De(be),X)},decodeString(be,X){return this.HAS_NATIVE_SUPPORT&&!X?atob(be):function(be){const X=[];let re=0,ne=0;for(;re<be.length;){const te=be[re++];if(te<128)X[ne++]=String.fromCharCode(te);else if(te>191&&te<224){const Pe=be[re++];X[ne++]=String.fromCharCode((31&te)<<6|63&Pe)}else if(te>239&&te<365){const En=((7&te)<<18|(63&be[re++])<<12|(63&be[re++])<<6|63&be[re++])-65536;X[ne++]=String.fromCharCode(55296+(En>>10)),X[ne++]=String.fromCharCode(56320+(1023&En))}else{const Pe=be[re++],yt=be[re++];X[ne++]=String.fromCharCode((15&te)<<12|(63&Pe)<<6|63&yt)}}return X.join("")}(this.decodeStringToByteArray(be,X))},decodeStringToByteArray(be,X){this.init_();const re=X?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[];for(let te=0;te<be.length;){const Pe=re[be.charAt(te++)],Bt=te<be.length?re[be.charAt(te)]:0;++te;const Dn=te<be.length?re[be.charAt(te)]:64;++te;const Xt=te<be.length?re[be.charAt(te)]:64;if(++te,null==Pe||null==Bt||null==Dn||null==Xt)throw new E;ne.push(Pe<<2|Bt>>4),64!==Dn&&(ne.push(Bt<<4&240|Dn>>2),64!==Xt&&ne.push(Dn<<6&192|Xt))}return ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let be=0;be<this.ENCODED_VALS.length;be++)this.byteToCharMap_[be]=this.ENCODED_VALS.charAt(be),this.charToByteMap_[this.byteToCharMap_[be]]=be,this.byteToCharMapWebSafe_[be]=this.ENCODED_VALS_WEBSAFE.charAt(be),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[be]]=be,be>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(be)]=be,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(be)]=be)}}};class E extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const We=function(be){return function(be){const X=De(be);return ae.encodeByteArray(X,!0)}(be).replace(/\./g,"")},he=function(be){try{return ae.decodeString(be,!0)}catch(X){console.error("base64Decode failed: ",X)}return null};function Ve(be,X){if(!(X instanceof Object))return X;switch(X.constructor){case Date:return new Date(X.getTime());case Object:void 0===be&&(be={});break;case Array:be=[];break;default:return X}for(const re in X)!X.hasOwnProperty(re)||!it(re)||(be[re]=Ve(be[re],X[re]));return be}function it(be){return"__proto__"!==be}const St=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const be=process.env.__FIREBASE_DEFAULTS__;return be?JSON.parse(be):void 0})()||(()=>{if(typeof document>"u")return;let be;try{be=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const X=be&&he(be[1]);return X&&JSON.parse(X)})()}catch(be){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${be}`)}},nn=be=>{var X,re;return null===(re=null===(X=St())||void 0===X?void 0:X.emulatorHosts)||void 0===re?void 0:re[be]},Mt=be=>{const X=nn(be);if(!X)return;const re=X.lastIndexOf(":");if(re<=0||re+1===X.length)throw new Error(`Invalid host ${X} with no separate hostname and port!`);const ne=parseInt(X.substring(re+1),10);return"["===X[0]?[X.substring(1,re-1),ne]:[X.substring(0,re),ne]},Ce=()=>{var be;return null===(be=St())||void 0===be?void 0:be.config},tt=be=>{var X;return null===(X=St())||void 0===X?void 0:X[`_${be}`]};class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((X,re)=>{this.resolve=X,this.reject=re})}wrapCallback(X){return(re,ne)=>{re?this.reject(re):this.resolve(ne),"function"==typeof X&&(this.promise.catch(()=>{}),1===X.length?X(re):X(re,ne))}}}function gt(be,X){if(be.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ne=X||"demo-project",te=be.iat||0,Pe=be.sub||be.user_id;if(!Pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const yt=Object.assign({iss:`https://securetoken.google.com/${ne}`,aud:ne,iat:te,exp:te+3600,auth_time:te,sub:Pe,user_id:Pe,firebase:{sign_in_provider:"custom",identities:{}}},be);return[We(JSON.stringify({alg:"none",type:"JWT"})),We(JSON.stringify(yt)),""].join(".")}function ut(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ct(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function at(){var be;const X=null===(be=St())||void 0===be?void 0:be.forceEnvironment;if("node"===X)return!0;if("browser"===X)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function vn(){return"object"==typeof self&&self.self===self}function kn(){const be="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof be&&void 0!==be.id}function or(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Et(){const be=ut();return be.indexOf("MSIE ")>=0||be.indexOf("Trident/")>=0}function $e(){try{return"object"==typeof indexedDB}catch{return!1}}function Je(){return new Promise((be,X)=>{try{let re=!0;const ne="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(ne);te.onsuccess=()=>{te.result.close(),re||self.indexedDB.deleteDatabase(ne),be(!0)},te.onupgradeneeded=()=>{re=!1},te.onerror=()=>{var Pe;X((null===(Pe=te.error)||void 0===Pe?void 0:Pe.message)||"")}}catch(re){X(re)}})}function st(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ve extends Error{constructor(X,re,ne){super(re),this.code=X,this.customData=ne,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oe.prototype.create)}}class oe{constructor(X,re,ne){this.service=X,this.serviceName=re,this.errors=ne}create(X,...re){const ne=re[0]||{},te=`${this.service}/${X}`,Pe=this.errors[X],yt=Pe?function ye(be,X){return be.replace(Ke,(re,ne)=>{const te=X[ne];return null!=te?String(te):`<${ne}?>`})}(Pe,ne):"Error";return new ve(te,`${this.serviceName}: ${yt} (${te}).`,ne)}}const Ke=/\{\$([^}]+)}/g;function Xn(be,X){return Object.prototype.hasOwnProperty.call(be,X)}function qn(be){for(const X in be)if(Object.prototype.hasOwnProperty.call(be,X))return!1;return!0}function sr(be,X){if(be===X)return!0;const re=Object.keys(be),ne=Object.keys(X);for(const te of re){if(!ne.includes(te))return!1;const Pe=be[te],yt=X[te];if(mn(Pe)&&mn(yt)){if(!sr(Pe,yt))return!1}else if(Pe!==yt)return!1}for(const te of ne)if(!re.includes(te))return!1;return!0}function mn(be){return null!==be&&"object"==typeof be}function er(be){const X=[];for(const[re,ne]of Object.entries(be))Array.isArray(ne)?ne.forEach(te=>{X.push(encodeURIComponent(re)+"="+encodeURIComponent(te))}):X.push(encodeURIComponent(re)+"="+encodeURIComponent(ne));return X.length?"&"+X.join("&"):""}function Qn(be){const X={};return be.replace(/^\?/,"").split("&").forEach(ne=>{if(ne){const[te,Pe]=ne.split("=");X[decodeURIComponent(te)]=decodeURIComponent(Pe)}}),X}function Pn(be){const X=be.indexOf("?");if(!X)return"";const re=be.indexOf("#",X);return be.substring(X,re>0?re:void 0)}function cr(be,X){const re=new Br(be,X);return re.subscribe.bind(re)}class Br{constructor(X,re){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=re,this.task.then(()=>{X(this)}).catch(ne=>{this.error(ne)})}next(X){this.forEachObserver(re=>{re.next(X)})}error(X){this.forEachObserver(re=>{re.error(X)}),this.close(X)}complete(){this.forEachObserver(X=>{X.complete()}),this.close()}subscribe(X,re,ne){let te;if(void 0===X&&void 0===re&&void 0===ne)throw new Error("Missing Observer.");te=function hr(be,X){if("object"!=typeof be||null===be)return!1;for(const re of X)if(re in be&&"function"==typeof be[re])return!0;return!1}(X,["next","error","complete"])?X:{next:X,error:re,complete:ne},void 0===te.next&&(te.next=Rr),void 0===te.error&&(te.error=Rr),void 0===te.complete&&(te.complete=Rr);const Pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch{}}),this.observers.push(te),Pe}unsubscribeOne(X){void 0===this.observers||void 0===this.observers[X]||(delete this.observers[X],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(X){if(!this.finalized)for(let re=0;re<this.observers.length;re++)this.sendOne(re,X)}sendOne(X,re){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[X])try{re(this.observers[X])}catch(ne){typeof console<"u"&&console.error&&console.error(ne)}})}close(X){this.finalized||(this.finalized=!0,void 0!==X&&(this.finalError=X),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rr(){}const fr=1e3,hn=2,Ai=144e5,vi=.5;function bn(be,X=fr,re=hn){const ne=X*Math.pow(re,be),te=Math.round(vi*ne*(Math.random()-.5)*2);return Math.min(Ai,ne+te)}function Nr(be){return be&&be._delegate?be._delegate:be}},2333:(ln,pt,Z)=>{Z.d(pt,{e:()=>De});var p=Z(5861),de=Z(5609),Ee=Z(4946);let De=(()=>{class Me{constructor(E){this.auth=E,this.email=""}ngOnInit(){}signin(E,Xe){let We;try{this.email=E,We=(0,de.e5)(this.auth,E,Xe)}catch(he){console.log("Error al loguearse: ",he),We=null}return We}signup(E,Xe){var We=this;return(0,p.Z)(function*(){let he;try{he=(0,de.Xb)(We.auth,E,Xe).then(ue=>{We.sendEmailVerificacion(ue.user).then(()=>{console.log("Enviado...")}).catch(Ve=>{console.log(Ve)})})}catch(ue){console.log("Error en register: ",ue),he=null}return he})()}logout(){let E;try{E=(0,de.w7)(this.auth),this.email=""}catch(Xe){console.log("Error al desloguarse: ",Xe),E=null}return E}sendEmailVerificacion(E){return(0,de.w$)(E)}updateUser(E){return this.auth.updateCurrentUser(E)}get_user(){return this.auth.currentUser}static#e=this.\u0275fac=function(Xe){return new(Xe||Me)(Ee.LFG(de.gx))};static#t=this.\u0275prov=Ee.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})()},8537:(ln,pt,Z)=>{Z.d(pt,{C:()=>Me});var p=Z(5861),de=Z(5723),Ee=Z(5619),De=Z(4946);let Me=(()=>{class ae{constructor(){this.dataSubject=new Ee.X([]),this.data$=this.dataSubject.asObservable()}static guardarFs(Xe,We,he){let ue=(0,de.hJ)(he,Xe);return(0,de.ET)(ue,We)}static traerFs(Xe,We,he=""){const ue=(0,de.hJ)(We,Xe);let Ve;return Ve=he?(0,de.IO)(ue,(0,de.Xo)(he,"asc")):(0,de.IO)(ue),(0,de.BS)(Ve,{idField:"id"})}static actualizarFs(Xe,We,he){return(0,p.Z)(function*(){const ue=(0,de.JU)(he,Xe,We.id);try{return yield(0,de.r7)(ue,We),"Registro actualizado correctamente."}catch(Ve){throw console.error("Error al actualizar el registro en Firestore:",Ve),Ve}})()}static#e=this.\u0275fac=function(We){return new(We||ae)};static#t=this.\u0275prov=De.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})()},5430:(ln,pt,Z)=>{var p=Z(6593),de=Z(5920),Ee=Z(5861),De=Z(95),Me=Z(6315),ae=Z(8537),E=Z(4946),Xe=Z(2333),We=Z(2788),he=Z(2425),ue=Z(5723),Ve=Z(6814),it=Z(2096),Ae=Z(5619);const Nt=new E.OlP("recaptcha-language"),bt=new E.OlP("recaptcha-base-url"),Vt=new E.OlP("recaptcha-nonce-tag"),St=new E.OlP("recaptcha-settings"),nn=new E.OlP("recaptcha-v3-site-key"),Ce_loadScript=function Mt(N,_,m,x,L){window.ng2recaptchaloaded=()=>{_(grecaptcha)};const Q=document.createElement("script");Q.innerHTML="",Q.src=`${x||"https://www.google.com/recaptcha/api.js"}?render=${N}&onload=ng2recaptchaloaded${m}`,L&&Q.setAttribute("nonce",L),Q.async=!0,Q.defer=!0,document.head.appendChild(Q)};let tt=(()=>{class N{static#e=this.ready=null;constructor(m,x,L,Q,me){this.platformId=m,this.language=x,this.baseUrl=L,this.nonce=Q,this.v3SiteKey=me,this.init(),this.ready=(0,Ve.NF)(this.platformId)?N.ready.asObservable():(0,it.of)()}init(){if(!N.ready&&(0,Ve.NF)(this.platformId)){const m=new Ae.X(null);N.ready=m,Ce_loadScript(this.v3SiteKey||"explicit",Q=>m.next(Q),this.language?"&hl="+this.language:"",this.baseUrl,this.nonce)}}static#t=this.\u0275fac=function(x){return new(x||N)(E.LFG(E.Lbi),E.LFG(Nt,8),E.LFG(bt,8),E.LFG(Vt,8),E.LFG(nn,8))};static#n=this.\u0275prov=E.Yz7({token:N,factory:N.\u0275fac})}return N})(),Ze=0,gt=(()=>{class N{constructor(m,x,L,Q){this.elementRef=m,this.loader=x,this.zone=L,this.id="ngrecaptcha-"+Ze++,this.errorMode="default",this.resolved=new E.vpe,this.error=new E.vpe,this.errored=new E.vpe,Q&&(this.siteKey=Q.siteKey,this.theme=Q.theme,this.type=Q.type,this.size=Q.size,this.badge=Q.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(m=>{null!=m&&m.render instanceof Function&&(this.grecaptcha=m,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){"invisible"===this.size&&(null!=this.widget?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){null!=this.widget&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return null!=this.widget?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(m){this.error.emit(m),this.errored.emit(m)}captchaResponseCallback(m){this.resolved.emit(m)}grecaptchaReset(){null!=this.widget&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){const m={badge:this.badge,callback:x=>{this.zone.run(()=>this.captchaResponseCallback(x))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};"handled"===this.errorMode&&(m["error-callback"]=(...x)=>{this.zone.run(()=>this.onError(x))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,m),!0===this.executeRequested&&(this.executeRequested=!1,this.execute())}static#e=this.\u0275fac=function(x){return new(x||N)(E.Y36(E.SBq),E.Y36(tt),E.Y36(E.R0b),E.Y36(St,8))};static#t=this.\u0275cmp=E.Xpm({type:N,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(x,L){2&x&&E.uIk("id",L.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(x,L){},encapsulation:2})}return N})(),ut=(()=>{class N{static#e=this.\u0275fac=function(x){return new(x||N)};static#t=this.\u0275mod=E.oAB({type:N});static#n=this.\u0275inj=E.cJS({})}return N})(),ct=(()=>{class N{static#e=this.\u0275fac=function(x){return new(x||N)};static#t=this.\u0275mod=E.oAB({type:N});static#n=this.\u0275inj=E.cJS({providers:[tt],imports:[ut]})}return N})(),kn=(()=>{class N{constructor(m){this.host=m,this.requiresControllerReset=!1}writeValue(m){m?this.host.__unsafe_widgetValue!==m&&!this.host.__unsafe_widgetValue&&(this.requiresControllerReset=!0):this.host.reset()}registerOnChange(m){this.onChange=m,this.requiresControllerReset&&(this.requiresControllerReset=!1,this.onChange(null))}registerOnTouched(m){this.onTouched=m}onResolve(m){this.onChange&&this.onChange(m),this.onTouched&&this.onTouched()}static#e=this.\u0275fac=function(x){return new(x||N)(E.Y36(gt))};static#t=this.\u0275dir=E.lG2({type:N,selectors:[["re-captcha","formControlName",""],["re-captcha","formControl",""],["re-captcha","ngModel",""]],hostBindings:function(x,L){1&x&&E.NdJ("resolved",function(me){return L.onResolve(me)})},features:[E._Bn([{multi:!0,provide:De.JU,useExisting:(0,E.Gpc)(()=>N)}])]})}return N})(),or=(()=>{class N{static#e=this.\u0275fac=function(x){return new(x||N)};static#t=this.\u0275mod=E.oAB({type:N});static#n=this.\u0275inj=E.cJS({imports:[De.u5,ut]})}return N})();function wt(N,_){if(1&N){const m=E.EpF();E.TgZ(0,"div",5)(1,"div",6),E.NdJ("click",function(){E.CHM(m);const L=E.oxw();return E.KtG(L.cambiarCheck(1))}),E._UZ(2,"img",7),E.qZA(),E.TgZ(3,"div",6),E.NdJ("click",function(){E.CHM(m);const L=E.oxw();return E.KtG(L.cambiarCheck(2))}),E._UZ(4,"img",8),E.qZA()()}}function Et(N,_){1&N&&(E.TgZ(0,"div",9)(1,"h1",10),E._uU(2,"REGISTRO"),E.qZA()())}function In(N,_){1&N&&(E.TgZ(0,"div",13),E._UZ(1,"img",14),E.qZA())}function Ft(N,_){1&N&&(E.TgZ(0,"div",13),E._UZ(1,"img",15),E.qZA())}function Cn(N,_){if(1&N&&(E.TgZ(0,"div",11),E.YNc(1,In,2,0,"div",12),E.YNc(2,Ft,2,0,"div",12),E.qZA()),2&N){const m=E.oxw();E.xp6(1),E.Q6J("ngIf",m.paciente),E.xp6(1),E.Q6J("ngIf",m.especialista)}}function $e(N,_){1&N&&(E.TgZ(0,"span",13),E._uU(1," El nombre solo debe contener letras. "),E.qZA())}function Je(N,_){1&N&&(E.TgZ(0,"span",13),E._uU(1," El nombre es requerido. "),E.qZA())}function st(N,_){1&N&&(E.TgZ(0,"span",13),E._uU(1," El apellido solo debe contener letras. "),E.qZA())}function Te(N,_){1&N&&(E.TgZ(0,"span",13),E._uU(1," El apellido es requerido. "),E.qZA())}function ve(N,_){1&N&&(E.TgZ(0,"span",13),E._uU(1," La edad debe estar entre 1 y 99 a\xf1os, inclusive. "),E.qZA())}function oe(N,_){1&N&&(E.TgZ(0,"span",13),E._uU(1," La edad debe estar entre 1 y 99 a\xf1os, inclusive. "),E.qZA())}function ye(N,_){1&N&&(E.TgZ(0,"span",13),E._uU(1," La edad solo debe contener numeros. "),E.qZA())}function Ke(N,_){1&N&&(E.TgZ(0,"span",13),E._uU(1," La edad es requerida. "),E.qZA())}function ht(N,_){1&N&&(E.TgZ(0,"span",13),E._uU(1," El DNI debe contener 7 caracteres por lo menos. "),E.qZA())}function _t(N,_){1&N&&(E.TgZ(0,"span",13),E._uU(1," El DNI debe contener 8 caracteres como m\xe1ximo. "),E.qZA())}function jt(N,_){1&N&&(E.TgZ(0,"span",13),E._uU(1," El DNI solo debe contener numeros. "),E.qZA())}function Wn(N,_){1&N&&(E.TgZ(0,"span",13),E._uU(1," El DNI es requerido. "),E.qZA())}function zn(N,_){1&N&&(E.TgZ(0,"span",13),E._uU(1," Ingrese un correo v\xe1lido. "),E.qZA())}function Sn(N,_){1&N&&(E.TgZ(0,"span",13),E._uU(1," El correo es requerido. "),E.qZA())}function ir(N,_){1&N&&(E.TgZ(0,"span",13),E._uU(1," La clave debe contener al menos 6 caracteres. "),E.qZA())}function Xn(N,_){1&N&&(E.TgZ(0,"span",13),E._uU(1," La clave es requerida. "),E.qZA())}function Ur(N,_){1&N&&(E.TgZ(0,"span",13),E._uU(1," La obra social debe contener solo letras. "),E.qZA())}function qn(N,_){1&N&&(E.TgZ(0,"span",13),E._uU(1," La obra social es requerida. "),E.qZA())}function gn(N,_){if(1&N){const m=E.EpF();E.TgZ(0,"div",9)(1,"div",13)(2,"div",13)(3,"input",29),E.NdJ("ngModelChange",function(L){E.CHM(m);const Q=E.oxw(2);return E.KtG(Q.obraSocial=L)}),E.qZA(),E.TgZ(4,"div",18),E.YNc(5,Ur,2,0,"span",12),E.YNc(6,qn,2,0,"span",12),E.qZA()()()()}if(2&N){const m=E.oxw(2);E.xp6(3),E.Q6J("ngModel",m.obraSocial),E.xp6(2),E.Q6J("ngIf",m.form.controls.obraSocial.touched&&m.form.controls.obraSocial.hasError("invalido")),E.xp6(1),E.Q6J("ngIf",m.form.controls.obraSocial.touched&&m.form.controls.obraSocial.hasError("required"))}}function sr(N,_){if(1&N){const m=E.EpF();E.TgZ(0,"div",33)(1,"div",34),E.NdJ("click",function(){const Q=E.CHM(m).$implicit,me=E.oxw(3);return E.KtG(me.especialidad=Q)}),E.TgZ(2,"label",35),E._uU(3),E.qZA()()()}if(2&N){const m=_.$implicit;E.xp6(3),E.Oqu(m)}}function mn(N,_){if(1&N&&(E.TgZ(0,"div",30)(1,"div",31),E.YNc(2,sr,4,1,"div",32),E.qZA()()),2&N){const m=E.oxw(2);E.xp6(2),E.Q6J("ngForOf",m.especialidadesMostradas)}}function fi(N,_){1&N&&(E.TgZ(0,"span",13),E._uU(1," La especialidad debe contener solo letras. "),E.qZA())}function er(N,_){1&N&&(E.TgZ(0,"span",13),E._uU(1," La especialidad es requerida. "),E.qZA())}function Qn(N,_){if(1&N){const m=E.EpF();E.TgZ(0,"div",9)(1,"div",13)(2,"div",13)(3,"input",36),E.NdJ("ngModelChange",function(L){E.CHM(m);const Q=E.oxw(2);return E.KtG(Q.especialidad=L)}),E.qZA(),E.TgZ(4,"div",18),E.YNc(5,fi,2,0,"span",12),E.YNc(6,er,2,0,"span",12),E.qZA()()(),E.TgZ(7,"div",13),E._UZ(8,"input",37),E.qZA()()}if(2&N){const m=E.oxw(2);E.xp6(3),E.Q6J("ngModel",m.especialidad),E.xp6(2),E.Q6J("ngIf",m.form.controls.especialidad.touched&&m.form.controls.especialidad.hasError("invalido")),E.xp6(1),E.Q6J("ngIf",m.form.controls.especialidad.touched&&m.form.controls.especialidad.hasError("required"))}}function Pn(N,_){1&N&&(E.TgZ(0,"div",9)(1,"div",13),E._UZ(2,"input",38),E.qZA()())}function Mn(N,_){if(1&N){const m=E.EpF();E.TgZ(0,"form",16)(1,"div",9)(2,"div",13)(3,"div",13)(4,"input",17),E.NdJ("ngModelChange",function(L){E.CHM(m);const Q=E.oxw();return E.KtG(Q.nombre=L)}),E.qZA(),E.TgZ(5,"div",18),E.YNc(6,$e,2,0,"span",12),E.YNc(7,Je,2,0,"span",12),E.qZA()()(),E.TgZ(8,"div",13)(9,"div",13)(10,"input",19),E.NdJ("ngModelChange",function(L){E.CHM(m);const Q=E.oxw();return E.KtG(Q.apellido=L)}),E.qZA(),E.TgZ(11,"div",18),E.YNc(12,st,2,0,"span",12),E.YNc(13,Te,2,0,"span",12),E.qZA()()()(),E.TgZ(14,"div",9)(15,"div",13)(16,"div",13)(17,"input",20),E.NdJ("ngModelChange",function(L){E.CHM(m);const Q=E.oxw();return E.KtG(Q.edad=L)}),E.qZA(),E.TgZ(18,"div",18),E.YNc(19,ve,2,0,"span",12),E.YNc(20,oe,2,0,"span",12),E.YNc(21,ye,2,0,"span",12),E.YNc(22,Ke,2,0,"span",12),E.qZA()()(),E.TgZ(23,"div",13)(24,"div",13)(25,"input",21),E.NdJ("ngModelChange",function(L){E.CHM(m);const Q=E.oxw();return E.KtG(Q.dni=L)}),E.qZA(),E.TgZ(26,"div",18),E.YNc(27,ht,2,0,"span",12),E.YNc(28,_t,2,0,"span",12),E.YNc(29,jt,2,0,"span",12),E.YNc(30,Wn,2,0,"span",12),E.qZA()()()(),E.TgZ(31,"div",9)(32,"div",13)(33,"div",13)(34,"input",22),E.NdJ("ngModelChange",function(L){E.CHM(m);const Q=E.oxw();return E.KtG(Q.email=L)}),E.qZA(),E.TgZ(35,"div",18),E.YNc(36,zn,2,0,"span",12),E.YNc(37,Sn,2,0,"span",12),E.qZA()()(),E.TgZ(38,"div",13)(39,"div",13)(40,"input",23),E.NdJ("ngModelChange",function(L){E.CHM(m);const Q=E.oxw();return E.KtG(Q.clave=L)}),E.qZA(),E.TgZ(41,"div",18),E.YNc(42,ir,2,0,"span",12),E.YNc(43,Xn,2,0,"span",12),E.qZA()()()(),E.YNc(44,gn,7,3,"div",2),E.YNc(45,mn,3,1,"div",24),E.YNc(46,Qn,9,3,"div",2),E.YNc(47,Pn,3,0,"div",2),E.TgZ(48,"div",25)(49,"re-captcha",26),E.NdJ("resolved",function(){E.CHM(m);const L=E.oxw();return E.KtG(L.captcha=!0)}),E.qZA()(),E.TgZ(50,"div",27)(51,"div",13)(52,"button",28),E.NdJ("click",function(){E.CHM(m);const L=E.oxw();return E.KtG(L.registrarse())}),E._uU(53,"REGISTRARSE"),E.qZA()()()()}if(2&N){const m=E.oxw();E.Q6J("formGroup",m.form),E.xp6(4),E.Q6J("ngModel",m.nombre),E.xp6(2),E.Q6J("ngIf",m.form.controls.nombre.touched&&m.form.controls.nombre.hasError("invalido")),E.xp6(1),E.Q6J("ngIf",m.form.controls.nombre.touched&&m.form.controls.nombre.hasError("required")),E.xp6(3),E.Q6J("ngModel",m.apellido),E.xp6(2),E.Q6J("ngIf",m.form.controls.apellido.touched&&m.form.controls.apellido.hasError("invalido")),E.xp6(1),E.Q6J("ngIf",m.form.controls.apellido.touched&&m.form.controls.apellido.hasError("required")),E.xp6(4),E.Q6J("ngModel",m.edad),E.xp6(2),E.Q6J("ngIf",m.form.controls.edad.touched&&m.form.controls.edad.hasError("min")),E.xp6(1),E.Q6J("ngIf",m.form.controls.edad.touched&&m.form.controls.edad.hasError("max")),E.xp6(1),E.Q6J("ngIf",m.form.controls.edad.touched&&m.form.controls.edad.hasError("pattern")),E.xp6(1),E.Q6J("ngIf",m.form.controls.edad.touched&&m.form.controls.edad.hasError("required")),E.xp6(3),E.Q6J("ngModel",m.dni),E.xp6(2),E.Q6J("ngIf",m.form.controls.dni.touched&&m.form.controls.dni.hasError("minlength")),E.xp6(1),E.Q6J("ngIf",m.form.controls.dni.touched&&m.form.controls.dni.hasError("maxlength")),E.xp6(1),E.Q6J("ngIf",m.form.controls.dni.touched&&m.form.controls.dni.hasError("pattern")),E.xp6(1),E.Q6J("ngIf",m.form.controls.dni.touched&&m.form.controls.dni.hasError("required")),E.xp6(4),E.Q6J("ngModel",m.email),E.xp6(2),E.Q6J("ngIf",m.form.controls.email.touched&&m.form.controls.email.hasError("pattern")),E.xp6(1),E.Q6J("ngIf",m.form.controls.email.touched&&m.form.controls.email.hasError("required")),E.xp6(3),E.Q6J("ngModel",m.clave),E.xp6(2),E.Q6J("ngIf",m.form.controls.clave.touched&&m.form.controls.clave.hasError("minlength")),E.xp6(1),E.Q6J("ngIf",m.form.controls.clave.touched&&m.form.controls.clave.hasError("required")),E.xp6(1),E.Q6J("ngIf",m.paciente),E.xp6(1),E.Q6J("ngIf",m.especialista),E.xp6(1),E.Q6J("ngIf",m.especialista),E.xp6(1),E.Q6J("ngIf",m.paciente),E.xp6(2),E.Q6J("siteKey","6Lc3KBEpAAAAAJM_4vwLHVnWq4JaNzo53aSL6R_8"),E.xp6(3),E.Q6J("disabled",!m.form.valid||!m.captcha)}}let cr=(()=>{class N{constructor(m,x,L,Q,me,we){this.router=m,this.auth=x,this.angularFirestorage=L,this.formBuilder=Q,this.toast=me,this.firestore=we,this.opciones=document.getElementsByName("opciones"),this.especialidades=[],this.especialidadesMostradas=[],this.nombre="",this.apellido="",this.edad="",this.dni="",this.email="",this.clave="",this.obraSocial="",this.especialidad="",this.captcha=!1,this.paciente=!1,this.especialista=!1,ae.C.traerFs("usuarios",this.firestore).subscribe(He=>{He.forEach(dt=>{"especialista"===dt.perfil&&this.especialidades.push(dt.especialidad)})}),this.form=this.formBuilder.group({nombre:["",[De.kI.required,this.letrasValidator()]],apellido:["",[De.kI.required,this.letrasValidator()]],dni:["",[De.kI.required,De.kI.minLength(7),De.kI.maxLength(8),De.kI.pattern("^[0-9]+$")]],edad:["",[De.kI.required,De.kI.pattern("^[0-9]+$"),De.kI.min(1),De.kI.max(99)]],email:["",[De.kI.required,De.kI.pattern(/^[\w-.]+@([\w-]+.)+[\w-]{2,4}$/),De.kI.email]],clave:["",[De.kI.required,De.kI.minLength(6)]],recaptcha:["",De.kI.required],especialidad:["",[this.letrasValidator()]],obraSocial:["",[this.letrasValidator()]]})}ngOnInit(){}registrarse(){let L,Q,me,x={nombre:this.nombre,apellido:this.apellido,dni:this.dni,edad:this.edad,email:this.email},we=!0===this.especialista?"especialista":"paciente";if("paciente"==we)if(""!=this.obraSocial){Q=document.getElementById("fotosPaciente");const He=Q.files;He?2===He.length?this.auth.signup(this.email,this.clave).then(()=>{L={...x,obraSocial:this.obraSocial,perfil:we};const dt=He[0],en=He[1];let $t=`pacientes/${this.dni}/${this.apellido}_fotos/${dt.name}`;this.subirFoto(dt,$t)?.then(()=>{this.angularFirestorage.ref($t).getDownloadURL().toPromise().then(et=>{$t=`pacientes/${this.dni}/${this.apellido}_fotos/${en.name}`,this.subirFoto(en,$t)?.then(()=>{this.angularFirestorage.ref($t).getDownloadURL().toPromise().then(On=>{ae.C.guardarFs("usuarios",{...L,foto:[et,On]},this.firestore),this.toast.success("Registrado correctamente, se ha enviado el correo de verificaci\xf3n.","Perfecto!"),this.router.navigate(["/home"])})})})})}).catch(dt=>{this.toast.error(dt.code,"Error")}):this.toast.error("Debe seleccionar 2 imagenes","Error"):this.toast.error("Debe subir las fotos","Error")}else this.toast.error("Complete el campo de obra social","Error");else""!=this.especialidad?(me=document.getElementById("fotoEspecialista"),me.files.length>0?this.auth.signup(this.email,this.clave).then(()=>{L={...x,perfil:we,especialidad:this.especialidad};const He=me.files[0],dt=`especialistas/${this.especialidad}/${this.dni}/${He.name}`;this.subirFoto(He,dt).then(()=>{this.angularFirestorage.ref(dt).getDownloadURL().toPromise().then($t=>{ae.C.guardarFs("usuarios",{...L,foto:$t,aprobado:"espera"},this.firestore),this.toast.success("Registrado correctamente, se encuentra en espera de aceptaci\xf3n y debe verificar el mail","Perfecto!"),this.router.navigate(["/home"])})})}):this.toast.error("Debe ingresar una foto")):this.toast.error("Debe ingresar una especialidad")}letrasValidator(){return m=>{const x=m.value;if(x){const L=x.trim();if(!/^[A-Za-z\xc1\xe1\xc9\xe9\xcd\xed\xd3\xf3\xda\xfa\xdc\xfc\xd1\xf1 \s]+$/.test(L))return{invalido:!0}}return null}}cambiarCheck(m){1===m?this.especialista=!0:this.paciente=!0,!0===this.especialista?this.obraSocial="":!0===this.paciente?this.especialidad="":this.obraSocial="",this.especialidad="",this.especialista&&this.especialidades.forEach(x=>{let L=!0;this.especialidadesMostradas.forEach(Q=>{x===Q&&(L=!1),console.log(this.especialidades),console.log(this.especialidadesMostradas)}),L&&this.especialidadesMostradas.push(x)})}subirFoto(m,x){return(0,Ee.Z)(function*(){try{const L=(0,Me.cF)(),Q=(0,Me.iH)(L,x);return(0,Me.KV)(Q,m)}catch(L){return void console.log("error"+L)}})()}static#e=this.\u0275fac=function(x){return new(x||N)(E.Y36(de.F0),E.Y36(Xe.e),E.Y36(We.Q1),E.Y36(De.qu),E.Y36(he._W),E.Y36(ue.gg))};static#t=this.\u0275cmp=E.Xpm({type:N,selectors:[["app-registro"]],decls:5,vars:4,consts:[[1,"contenedor",2,"text-align","center"],["class","imagenes",4,"ngIf"],["class","contenedor-gral row",4,"ngIf"],["style","width: 10%;","class","contenedor-gral row",4,"ngIf"],["class","row",3,"formGroup",4,"ngIf"],[1,"imagenes"],[1,"divImage",3,"click"],["src","assets/registro/cardiologo.png",1,"image-registro"],["src","assets/registro/paciente.png",1,"image-registro"],[1,"contenedor-gral","row"],[2,"text-shadow","4px 4px 10px rgba(0, 0, 0, .5)"],[1,"contenedor-gral","row",2,"width","10%"],["class","col",4,"ngIf"],[1,"col"],["id","logo","src","assets/registro/paciente.png","routerLink","/home",2,"cursor","pointer"],["id","logo","src","assets/registro/cardiologo.png","routerLink","/home",2,"cursor","pointer"],[1,"row",3,"formGroup"],["type","text","formControlName","nombre","placeholder","Ingrese su nombre",1,"col",3,"ngModel","ngModelChange"],[1,"row"],["type","text","formControlName","apellido","placeholder","Ingrese su apellido",3,"ngModel","ngModelChange"],["type","text","formControlName","edad","placeholder","Edad",3,"ngModel","ngModelChange"],["type","text","formControlName","dni","placeholder","DNI",3,"ngModel","ngModelChange"],["formControlName","email","type","email","placeholder","Email",2,"margin-bottom","5px",3,"ngModel","ngModelChange"],["formControlName","clave","type","password","placeholder","Contrase\xf1a",2,"margin-bottom","5px",3,"ngModel","ngModelChange"],["style","width: 100%; height: 20%; overflow-y: auto;","class","row",4,"ngIf"],[1,"captcha","py-2"],["formControlName","recaptcha",3,"siteKey","resolved"],[1,"contenedor-gral","row","py-4"],["id","btn",3,"disabled","click"],["type","text","formControlName","obraSocial","placeholder","Ingrese su obra social",3,"ngModel","ngModelChange"],[1,"row",2,"width","100%","height","20%","overflow-y","auto"],[1,"custom-table"],["class","custom-row",4,"ngFor","ngForOf"],[1,"custom-row"],[1,"custom-cell",3,"click"],[2,"cursor","pointer"],["type","text","formControlName","especialidad","placeholder","Ingrese su especialidad",3,"ngModel","ngModelChange"],["id","fotoEspecialista","accept",".jpg, .png, .jpeg","type","file"],["id","fotosPaciente","accept","image/*, .jpg, .png, .jpeg","type","file","multiple",""]],template:function(x,L){1&x&&(E.TgZ(0,"div",0),E.YNc(1,wt,5,0,"div",1),E.YNc(2,Et,3,0,"div",2),E.YNc(3,Cn,3,2,"div",3),E.YNc(4,Mn,54,29,"form",4),E.qZA()),2&x&&(E.xp6(1),E.Q6J("ngIf",!L.paciente&&!L.especialista),E.xp6(1),E.Q6J("ngIf",L.paciente||L.especialista),E.xp6(1),E.Q6J("ngIf",L.paciente||L.especialista),E.xp6(1),E.Q6J("ngIf",L.paciente||L.especialista))},dependencies:[Ve.sg,Ve.O5,de.rH,De._Y,De.Fj,De.JJ,De.JL,De.sg,De.u,gt,kn],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#52b788;width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#000}form[_ngcontent-%COMP%]{width:80%}.contenedor-gral[_ngcontent-%COMP%]{width:100%;align-items:center;justify-content:center;margin-bottom:5px}input[_ngcontent-%COMP%]{width:90%;padding:auto;font-size:25px;border-radius:10px;border:none;text-align:center;background-color:#d8f3dc;color:#030303;box-shadow:4px 4px 10px #00000080}input[_ngcontent-%COMP%]::placeholder{color:#000}label[_ngcontent-%COMP%]{font-size:25px;text-shadow:4px 4px 10px rgba(0,0,0,.5)}#btn[_ngcontent-%COMP%]{width:auto;padding:auto;font-size:25px;background-color:#d8f3dc;border-radius:8px;box-shadow:4px 4px 10px #00000080}.titulo[_ngcontent-%COMP%]{position:fixed;top:1%;width:100%;text-align:center}.custom-table[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:5px}.custom-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);gap:5px}.custom-cell[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px;border-radius:10px;text-align:center;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:4px 4px 10px #00000080}.custom-toast[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background-color:#333;color:#fff;border-radius:4px;padding:10px;opacity:0;transition:opacity .3s ease-in-out;z-index:1000}.custom-toast.show[_ngcontent-%COMP%]{opacity:1}[_ngcontent-%COMP%]::-webkit-scrollbar{width:20px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px gray;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#2D6A4F;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#1c4231}span[_ngcontent-%COMP%]{color:#eb7769}#logo[_ngcontent-%COMP%]{width:100%}.imagenes[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.image-registro[_ngcontent-%COMP%]{padding:auto;margin:10px}.divImage[_ngcontent-%COMP%]{border:2px solid #b0ffa2;margin:30px;border-radius:10px;cursor:pointer;box-shadow:4px 4px 10px #00000080}.divImage[_ngcontent-%COMP%]:active{background-color:#94f2b0}.captcha[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}"]})}return N})();function Br(N,_){1&N&&(E.TgZ(0,"span",4),E._uU(1," Ingrese un correo v\xe1lido. "),E.qZA())}function Zr(N,_){1&N&&(E.TgZ(0,"span",4),E._uU(1," El correo es requerido. "),E.qZA())}function hr(N,_){1&N&&(E.TgZ(0,"span",4),E._uU(1," La clave debe contener al menos 6 caracteres. "),E.qZA())}function Rr(N,_){1&N&&(E.TgZ(0,"span",4),E._uU(1," La clave es requerida. "),E.qZA())}function ai(N,_){if(1&N&&E._UZ(0,"img",22),2&N){const m=E.oxw().$implicit,x=E.oxw();E.Q6J("src",x.traerUser(m).foto,E.LSH)}}function lr(N,_){1&N&&E._UZ(0,"div",23)}function ui(N,_){if(1&N){const m=E.EpF();E.TgZ(0,"div",18)(1,"button",19),E.NdJ("click",function(){const Q=E.CHM(m).$implicit,me=E.oxw();return me.email=Q,E.KtG(me.clave="123456")}),E.YNc(2,ai,1,1,"img",20),E.YNc(3,lr,1,0,"div",21),E.qZA()()}if(2&N){const m=_.$implicit,x=E.oxw();E.xp6(1),E.Q6J("title",x.traerUser(m).perfil),E.xp6(1),E.Q6J("ngIf",x.traerUser(m)),E.xp6(1),E.Q6J("ngIf",!x.traerUser(m))}}function Ui(N,_){1&N&&(E.TgZ(0,"li",8)(1,"a",25),E._uU(2,"Usuarios"),E.qZA()())}function jr(N,_){if(1&N&&(E.TgZ(0,"li",8)(1,"a",26),E._uU(2,"Turnos"),E.qZA()()),2&N){const m=E.oxw();E.ekj("activo","/turnos"===m.rutaActual)}}function Xr(N,_){1&N&&(E.TgZ(0,"li",8)(1,"a",27),E._uU(2,"Solicitar Turno"),E.qZA()())}function fr(N,_){1&N&&(E.TgZ(0,"li",8)(1,"a",28),E._uU(2,"Mi Perfil"),E.qZA()())}function hn(N,_){if(1&N&&(E.TgZ(0,"button"),E._uU(1),E.qZA()),2&N){const m=E.oxw();E.xp6(1),E.Oqu(m.user.email.split("@")[0].toUpperCase())}}function Ai(N,_){if(1&N){const m=E.EpF();E.TgZ(0,"button",29),E.NdJ("click",function(){E.CHM(m);const L=E.oxw();return E.KtG(L.cerrarSesion())}),E._uU(1,"LOGOUT"),E.qZA()}}function vi(N,_){if(1&N&&(E.TgZ(0,"th"),E._uU(1),E.qZA()),2&N){const m=_.$implicit;E.xp6(1),E.Oqu(m.toUpperCase())}}function bn(N,_){if(1&N){const m=E.EpF();E.TgZ(0,"td",32),E.NdJ("click",function(){E.CHM(m);const L=E.oxw().$implicit,Q=E.oxw();return E.KtG(Q.mostrarAcciones(L))}),E._uU(1),E.qZA()}if(2&N){const m=_.$implicit,x=E.oxw().$implicit;E.xp6(1),E.hij(" ",("id"===m?x[m].substring(0,5):"realizado"===m?x[m]?"si":"no":"paciente"===m?x.paciente.apellido:"especialidad"===m?x.especialista.especialidad:"especialista"===m?x.especialista.apellido:x[m]).toUpperCase()," ")}}function dr(N,_){if(1&N&&(E.TgZ(0,"tr",30),E.YNc(1,bn,2,1,"td",31),E.qZA()),2&N){const m=E.oxw();E.xp6(1),E.Q6J("ngForOf",m.obtenerColumnas(m.turnos))}}function Fn(N,_){if(1&N){const m=E.EpF();E.TgZ(0,"button",42),E.NdJ("click",function(){E.CHM(m);const L=E.oxw(3);return E.KtG(L.cancelarTurno())}),E._uU(1,"CANCELAR TURNO"),E.qZA()}}function Nr(N,_){if(1&N&&(E.TgZ(0,"div",40),E.YNc(1,Fn,2,0,"button",41),E.qZA()),2&N){const m=E.oxw(2);E.xp6(1),E.Q6J("ngIf",m.evaluar(m.turno,"cancelar"))}}function be(N,_){if(1&N){const m=E.EpF();E.TgZ(0,"div",43)(1,"textarea",44),E.NdJ("ngModelChange",function(L){E.CHM(m);const Q=E.oxw(2);return E.KtG(Q.comentario=L)}),E.qZA(),E.TgZ(2,"button",42),E.NdJ("click",function(){E.CHM(m);const L=E.oxw(2);return E.KtG(L.actualizar(L.turno,"cancelado"))}),E._uU(3,"ENVIAR"),E.qZA()()}if(2&N){const m=E.oxw(2);E.xp6(1),E.Q6J("ngModel",m.comentario)}}function X(N,_){if(1&N){const m=E.EpF();E.TgZ(0,"div",33)(1,"div",34)(2,"span",35),E.NdJ("click",function(){E.CHM(m);const L=E.oxw();return E.KtG(L.closeModal())}),E._uU(3,"\xd7"),E.qZA(),E.TgZ(4,"h2",36),E._uU(5,"ACCIONES DISPONIBLES PARA ESTE TURNO"),E.qZA(),E.TgZ(6,"p",37),E._uU(7),E.qZA(),E.YNc(8,Nr,2,1,"div",38),E.YNc(9,be,4,1,"div",39),E.qZA()()}if(2&N){const m=E.oxw();E.xp6(7),E.xDo("",m.turno.id.substring(0,5).toUpperCase()," - ",m.turno.fecha," - ",m.turno.especialista.especialidad," - ",m.turno.paciente.apellido," - ",m.turno.estado.toUpperCase(),""),E.xp6(1),E.Q6J("ngIf",m.botones),E.xp6(1),E.Q6J("ngIf",!m.botones&&m.cancelar)}}const Pe=[{path:"login",component:(()=>{class N{constructor(m,x,L,Q,me){this.auth=m,this.formBuilder=x,this.toast=L,this.router=Q,this.firestore=me,this.email="",this.clave="",this.mensaje="",this.pacientes=[],this.especialistas=[],this.administradores=[],this.usuarios=[],this.usuariosRapidos=["vipaf54245@ikanid.com","fannoiffollesou-9950@yopmail.com","tuweunnuppoudu-9187@yopmail.com","xewunnubraza-2965@yopmail.com","atienzotomi@gmail.com","zekufrebraule-3628@yopmail.com"],this.form=this.formBuilder.group({email:["",[De.kI.required,De.kI.pattern(/^[\w-.]+@([\w-]+.)+[\w-]{2,4}$/),De.kI.email]],clave:["",[De.kI.required,De.kI.minLength(6)]]})}ngOnInit(){ae.C.traerFs("usuarios",this.firestore).subscribe(m=>{this.usuarios=m,m.forEach(x=>{"administrador"===x.perfil?this.administradores.push(x):"especialista"===x.perfil?this.especialistas.push(x):this.pacientes.push(x)})})}ngOnDestroy(){this.observableAdmins&&this.observableAdmins.unsubscribe(),this.observableEsp&&this.observableEsp.unsubscribe(),this.observablePac&&this.observablePac.unsubscribe()}ingresar(){this.auth.signin(this.email,this.clave)?.then(m=>{const x=m.user;let L,Q,me;this.pacientes.forEach(we=>{x.email===we.email&&(L=we)}),L?x.emailVerified?this.mostrarMensajeIngreso():(this.toast.error("Debe verificar el correo electronico para ingresar","Error"),this.auth.logout()?.then(we=>{console.log(we)})):(this.especialistas.forEach(we=>{x.email===we.email&&(Q=we)}),Q?!0===Q.aprobado&&x.emailVerified?this.mostrarMensajeIngreso():x.emailVerified?"espera"==Q.aprobado?this.toast.info("Su usuario est\xe1 pendiente de aprobacion."):Q.aprobado?this.mostrarMensajeIngreso():(this.toast.error("Ha sido rechazado por un administrador.","Error"),this.email="",this.clave="",this.auth.logout()?.then(we=>{console.log(we)})):"espera"==Q.aprobado?this.toast.info("Su usuario est\xe1 pendiente de aprobacion y debe verificar su email."):Q.aprobado?this.toast.info("Ha sido aprobado por un administrador, pero debe verificar su mail para poder ingresar"):(this.toast.error("Ha sido rechazado por un administrador.","Error"),this.email="",this.clave="",this.auth.logout()?.then(we=>{console.log(we)})):(this.administradores.forEach(we=>{x.email===we.email&&(me=we)}),me&&this.mostrarMensajeIngreso()))}).catch(m=>{switch(console.log(m),m.code){case"auth/invalid-email":this.mensaje="Correo inv\xe1lido.";break;case"auth/missing-password":this.mensaje="Contrase\xf1a inv\xe1lida.";break;case"auth/invalid-login-credentials":this.mensaje="Correo y/o contrase\xf1a incorrectos."}this.toast.error(this.mensaje,"Error")})}mostrarMensajeIngreso(){this.toast.success("Ingresando...","Perfecto"),this.email="",this.clave="",setTimeout(()=>{this.router.navigate(["/home"])},1500)}traerUser(m){let x=!1;return this.usuarios.forEach(L=>{L.email===m&&(x=L)}),x}static#e=this.\u0275fac=function(x){return new(x||N)(E.Y36(Xe.e),E.Y36(De.qu),E.Y36(he._W),E.Y36(de.F0),E.Y36(ue.gg))};static#t=this.\u0275cmp=E.Xpm({type:N,selectors:[["app-login"]],decls:29,vars:9,consts:[[1,"contenedor"],[1,"container-form","row"],[1,"contenedor-i","col",3,"formGroup"],[1,"py-3",2,"text-shadow","4px 4px 10px rgba(0, 0, 0, .5)"],[1,"col"],["src","assets/medico.png","routerLink","/home",2,"width","30%","cursor","pointer"],[1,"col","py-4"],[1,"col","py-2"],["formControlName","email","type","text","placeholder","Ingrese su correo",1,"col",3,"ngModel","ngModelChange"],[1,"row"],["class","col",4,"ngIf"],["formControlName","clave","type","password","placeholder","Ingrese su clave",1,"col",3,"ngModel","ngModelChange"],[1,"col","py-3"],["id","btn",3,"disabled","click"],["id","pregunta"],["href","/registro"],[1,"contenedor-btn","row","py-5"],["class","col-2",4,"ngFor","ngForOf"],[1,"col-2"],["data-toggle","tooltip","data-placement","top",1,"acceso",3,"title","click"],["class","image-acceso",3,"src",4,"ngIf"],["class","spinner-border","role","status",4,"ngIf"],[1,"image-acceso",3,"src"],["role","status",1,"spinner-border"]],template:function(x,L){1&x&&(E.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"h1",3),E._uU(4,"INICIAR SESION"),E.qZA(),E.TgZ(5,"div",4),E._UZ(6,"img",5),E.qZA(),E.TgZ(7,"div",6)(8,"div",7)(9,"input",8),E.NdJ("ngModelChange",function(me){return L.email=me}),E.qZA(),E.TgZ(10,"div",9),E.YNc(11,Br,2,0,"span",10),E.YNc(12,Zr,2,0,"span",10),E.qZA()(),E.TgZ(13,"div",7)(14,"div",4)(15,"input",11),E.NdJ("ngModelChange",function(me){return L.clave=me}),E.qZA(),E.TgZ(16,"div",9),E.YNc(17,hr,2,0,"span",10),E.YNc(18,Rr,2,0,"span",10),E.qZA()()()(),E.TgZ(19,"div",12)(20,"button",13),E.NdJ("click",function(){return L.ingresar()}),E._uU(21,"INGRESAR"),E.qZA()(),E.TgZ(22,"div",7)(23,"label",14),E._uU(24,"\xbfQuer\xe9s registrarte? "),E.TgZ(25,"a",15),E._uU(26,"Registrate"),E.qZA()()(),E.TgZ(27,"div",16),E.YNc(28,ui,4,3,"div",17),E.qZA()()()()),2&x&&(E.xp6(2),E.Q6J("formGroup",L.form),E.xp6(7),E.Q6J("ngModel",L.email),E.xp6(2),E.Q6J("ngIf",L.form.controls.email.touched&&L.form.controls.email.hasError("pattern")),E.xp6(1),E.Q6J("ngIf",L.form.controls.email.touched&&L.form.controls.email.hasError("required")),E.xp6(3),E.Q6J("ngModel",L.clave),E.xp6(2),E.Q6J("ngIf",L.form.controls.clave.touched&&L.form.controls.clave.hasError("minlength")),E.xp6(1),E.Q6J("ngIf",L.form.controls.clave.touched&&L.form.controls.clave.hasError("required")),E.xp6(2),E.Q6J("disabled",!L.form.valid),E.xp6(8),E.Q6J("ngForOf",L.usuariosRapidos))},dependencies:[Ve.sg,Ve.O5,de.rH,De._Y,De.Fj,De.JJ,De.JL,De.sg,De.u],styles:[".contenedor[_ngcontent-%COMP%]{background-color:#52b788;width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#000}.container-form[_ngcontent-%COMP%]{background-color:#fff2b2bf;width:40%;height:90%;border-radius:20px;display:flex;justify-content:center;align-items:center;text-align:center;box-shadow:4px 4px 4px 4px #00000080}.contenedor-i[_ngcontent-%COMP%]{width:100%;height:100%}input[_ngcontent-%COMP%]{width:80%;padding:auto;font-size:30px;margin-bottom:10px;background-color:#b7e4c7;border:none;border-radius:10px;text-align:center;box-shadow:4px 4px 10px #00000080}#btn[_ngcontent-%COMP%]{font-size:25px;border-radius:10px;background-color:#b7e4c7;width:auto;box-shadow:4px 4px 10px #00000080}.contenedor-btn[_ngcontent-%COMP%]{height:18%;text-align:center;position:fixed;bottom:1%;width:42%}.acceso[_ngcontent-%COMP%]{width:65%;height:80%;background-color:#b7e4c7;border-radius:100px;text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer;box-shadow:4px 4px 10px #00000080}#pregunta[_ngcontent-%COMP%]{font-size:18px;font-weight:700;text-shadow:4px 4px 10px rgba(0,0,0,.5)}span[_ngcontent-%COMP%]{color:#eb7769;text-shadow:4px 4px 10px rgba(0,0,0,.5)}.image-acceso[_ngcontent-%COMP%]{width:75%}"]})}return N})()},{path:"registro",component:cr},{path:"error",component:(()=>{class N{static#e=this.\u0275fac=function(x){return new(x||N)};static#t=this.\u0275cmp=E.Xpm({type:N,selectors:[["app-error"]],decls:2,vars:0,template:function(x,L){1&x&&(E.TgZ(0,"p"),E._uU(1,"error works!"),E.qZA())}})}return N})()},{path:"home",loadChildren:()=>Z.e(599).then(Z.bind(Z,6599)).then(N=>N.HomeModule)},{path:"usuarios",loadChildren:()=>Z.e(699).then(Z.bind(Z,4699)).then(N=>N.UsuariosModule)},{path:"mis-turnos",loadChildren:()=>Z.e(14).then(Z.bind(Z,8014)).then(N=>N.MisTurnosModule)},{path:"turnos",component:(()=>{class N{constructor(m,x,L,Q){this.auth=m,this.toast=x,this.firestore=L,this.router=Q,this.admins=[],this.pacientes=[],this.especialistas=[],this.turnos=[],this.busqueda="",this.comentario="",this.modal=!1,this.fechaActual=new Date,this.botones=!0,this.cancelar=!1,this.router.events.subscribe(me=>{me instanceof de.m2&&(this.rutaActual=me.url)}),ae.C.traerFs("turnos",this.firestore,"fecha").subscribe(me=>{this.turnos=me})}ngOnInit(){ae.C.traerFs("usuarios",this.firestore).subscribe(m=>{let x;m.forEach(L=>{"administrador"===L.perfil?this.admins.push(L):"especialista"===L.perfil?this.especialistas.push(L):this.pacientes.push(L)}),this.admins.forEach(L=>{this.auth.get_user()?.email===L.email&&(x=L)}),this.user=this.auth.get_user()?.emailVerified||x?this.auth.get_user():null,console.log(this.user)})}cerrarSesion(){this.toast.info("Cerrando sesion","Espera..."),this.auth.logout()?.then(()=>{setTimeout(()=>{this.toast.success("Cerraste sesion","Todo normal"),this.router.navigateByUrl("home"),this.user=null},2e3)})}estaEnArrayEmail(m,x){let L=!1;return x&&m.forEach(Q=>{Q.email===x.email&&(L=!0)}),L}obtenerColumnas(m){let x=[];return 0!==m.length&&Object.keys(m[0]).forEach(L=>{"especialista"==L?(x.push("especialidad"),x.push("especialista")):"resenia"!=L&&"comentario"!=L&&x.push(L)}),x}mostrarAcciones(m){this.modal=!0,this.turno=m}closeModal(){this.modal=!1,this.botones=!0,this.cancelar=!1}construirFecha(m){const x=m.split("/");return new Date(+x[2],+x[1]-1,+x[0])}filtrarTurnos(){const m=this.busqueda.toLowerCase().trim();return""===m?this.turnos:this.turnos.filter(x=>x.especialista.apellido?.toString().toLowerCase().includes(m)||x.especialista.especialidad?.toString().toLowerCase().includes(m))}evaluar(m,x){let L=!1;return"cancelar"===x&&this.fechaActual<this.construirFecha(m.fecha)&&"aceptado"!==m.estado&&"realizado"!==m.estado&&"rechazado"!==m.estado&&"cancelado"!==m.estado&&"finalizado"!==m.estado&&(L=!0),L}cancelarTurno(){this.botones=!1,this.cancelar=!0}actualizar(m,x){""!=this.comentario?(m.estado=x,m.resenia=this.comentario,ae.C.actualizarFs("turnos",m,this.firestore).then(()=>{this.toast.info("Turno"+x+"..."),this.closeModal()})):this.toast.error("Debe completar el campo...")}static#e=this.\u0275fac=function(x){return new(x||N)(E.Y36(Xe.e),E.Y36(he._W),E.Y36(ue.gg),E.Y36(de.F0))};static#t=this.\u0275cmp=E.Xpm({type:N,selectors:[["app-turnos"]],decls:32,vars:10,consts:[[1,"contenedor-gral"],[1,"navbar","navbar-expand-xxl"],[1,"container-fluid"],["src","assets/medico.png","width","2%","routerLink","/home",1,"navbar-brand",2,"cursor","pointer"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarsExampleXxl","aria-controls","navbarsExampleXxl","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleXxl",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-xl-0"],[1,"nav-item"],["href","/home",1,"nav-link","active"],["class","nav-item",4,"ngIf"],["class","nav-item",3,"activo",4,"ngIf"],[4,"ngIf"],["style","margin-left: 10px;",3,"click",4,"ngIf"],[1,"contenedor"],[1,"input-contenedor"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 8 8",1,"lupa"],["fill","#ffffff","d","M3.5 0C1.57 0 0 1.57 0 3.5S1.57 7 3.5 7c.59 0 1.17-.14 1.66-.41a1 1 0 0 0 .13.13l1 1a1.02 1.02 0 1 0 1.44-1.44l-1-1a1 1 0 0 0-.16-.13c.27-.49.44-1.06.44-1.66c0-1.93-1.57-3.5-3.5-3.5zm0 1C4.89 1 6 2.11 6 3.5c0 .66-.24 1.27-.66 1.72l-.03.03a1 1 0 0 0-.13.13c-.44.4-1.04.63-1.69.63c-1.39 0-2.5-1.11-2.5-2.5s1.11-2.5 2.5-2.5z"],["type","text","placeholder","Buscar por especialista o especialidad...",1,"buscador",3,"ngModel","ngModelChange"],[1,"table-contenedor"],[4,"ngFor","ngForOf"],[1,"table-contenedor",2,"overflow","auto"],[2,"overflow-y","auto"],["style","cursor: pointer;",4,"ngFor","ngForOf"],["class","modal-ventana",4,"ngIf"],["routerLink","/usuarios",1,"nav-link","active"],["routerLink","/turnos",1,"nav-link","active"],["routerLink","/solicitar-turnos",1,"nav-link","active"],["routerLink","/perfil",1,"nav-link","active"],[2,"margin-left","10px",3,"click"],[2,"cursor","pointer"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"modal-ventana"],[1,"modal-content-ventana"],[1,"close",3,"click"],[1,"py-5",2,"text-align","center"],[1,"py-2","turno"],["class","btns py-5",4,"ngIf"],["class","textarea py-2",4,"ngIf"],[1,"btns","py-5"],["class","accion",3,"click",4,"ngIf"],[1,"accion",3,"click"],[1,"textarea","py-2"],["placeholder","Ingrese el motivo por el cual cancela...",3,"ngModel","ngModelChange"]],template:function(x,L){1&x&&(E.TgZ(0,"div",0)(1,"nav",1)(2,"div",2),E._UZ(3,"img",3),E.TgZ(4,"button",4),E._UZ(5,"span",5),E.qZA(),E.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),E._uU(10,"Home"),E.qZA()(),E.YNc(11,Ui,3,0,"li",10),E.YNc(12,jr,3,2,"li",11),E.YNc(13,Xr,3,0,"li",10),E.YNc(14,fr,3,0,"li",10),E.qZA(),E.YNc(15,hn,2,1,"button",12),E.YNc(16,Ai,2,0,"button",13),E.qZA()()(),E.TgZ(17,"div",14)(18,"div",15),E.O4$(),E.TgZ(19,"svg",16),E._UZ(20,"path",17),E.qZA(),E.kcU(),E.TgZ(21,"input",18),E.NdJ("ngModelChange",function(me){return L.busqueda=me}),E.qZA()(),E.TgZ(22,"div",19)(23,"table")(24,"thead")(25,"tr"),E.YNc(26,vi,2,1,"th",20),E.qZA()()()(),E.TgZ(27,"div",21)(28,"table")(29,"tbody",22),E.YNc(30,dr,2,1,"tr",23),E.qZA()()(),E.YNc(31,X,10,7,"div",24),E.qZA()()),2&x&&(E.xp6(11),E.Q6J("ngIf",L.estaEnArrayEmail(L.admins,L.user)),E.xp6(1),E.Q6J("ngIf",L.estaEnArrayEmail(L.admins,L.user)),E.xp6(1),E.Q6J("ngIf",L.estaEnArrayEmail(L.admins,L.user)||L.estaEnArrayEmail(L.pacientes,L.user)),E.xp6(1),E.Q6J("ngIf",L.user),E.xp6(1),E.Q6J("ngIf",L.user),E.xp6(1),E.Q6J("ngIf",L.user),E.xp6(5),E.Q6J("ngModel",L.busqueda),E.xp6(5),E.Q6J("ngForOf",L.obtenerColumnas(L.turnos)),E.xp6(4),E.Q6J("ngForOf",L.filtrarTurnos()),E.xp6(1),E.Q6J("ngIf",L.modal))},dependencies:[Ve.sg,Ve.O5,de.rH,De.Fj,De.JJ,De.On],styles:['.contenedor-gral[_ngcontent-%COMP%]{width:100vw;height:100vh;background-color:#94e1af}.navbar[_ngcontent-%COMP%]{background-color:#d8f3dc;font-size:20px}button[_ngcontent-%COMP%]:hover{background-color:#78d1b6;transform:scale(1.05);color:#fff}button[_ngcontent-%COMP%]:active{background-color:#537e62}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}a[_ngcontent-%COMP%]{cursor:pointer}.activo[_ngcontent-%COMP%]{background-color:#94e1af;color:#fff;border-radius:10px}.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:10px;width:100%;height:85%}.input-contenedor[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;gap:15px}.buscador[_ngcontent-%COMP%]{width:67%;padding:10px;box-shadow:#ccdbe8 3px 3px 6px inset,#ffffff80 -3px -3px 6px 1px inset;border:none;border-radius:10px}.buscador[_ngcontent-%COMP%]:focus{outline:none}.table-contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:70%;max-height:72%;border-radius:10px}table[_ngcontent-%COMP%]{width:100%;font-weight:100;border-collapse:collapse;overflow:hidden;box-shadow:0 0 20px #0000001a;border-radius:10px;table-layout:fixed;text-align:center}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{background-color:#fff3;padding:15px;color:#000}th[_ngcontent-%COMP%]{color:#fff}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e6091}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ffffff4d}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:hover:before{content:"";position:absolute;inset:-9999px 0;z-index:-1}@media (max-width: 600px){table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{display:block;width:100%}}.lupa[_ngcontent-%COMP%]{width:2.1%}[_ngcontent-%COMP%]::-webkit-scrollbar{width:20px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px gray;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#2D6A4F;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#1c4231}.modal-ventana[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal-content-ventana[_ngcontent-%COMP%]{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:40%;height:auto;max-height:80%;border-radius:10px}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700;cursor:pointer}.close[_ngcontent-%COMP%]:hover{color:#000}.turno[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:center;font-weight:700;font-size:20px}.btns[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.accion[_ngcontent-%COMP%]{padding:15px;border-radius:10px;border:none}.accion[_ngcontent-%COMP%]:hover{box-shadow:#0000002b 0 -23px 25px inset,#00000026 0 -36px 30px inset,#0000001a 0 -79px 40px inset,#0000000f 0 2px 1px,#00000017 0 4px 2px,#00000017 0 8px 4px,#00000017 0 16px 8px,#00000017 0 32px 16px;color:#fff}.accion[_ngcontent-%COMP%]:active{box-shadow:#0000001a 0 -23px 25px inset,#00000026 0 -36px 30px inset,#0000001a 0 -79px 40px inset,#0000000f 0 2px 1px,#00000017 0 4px 2px,#00000017 0 8px 4px,#00000017 0 16px 8px,#00000017 0 32px 16px}button[_ngcontent-%COMP%]{padding:.4%;border:none;border-radius:10px;width:auto;background-color:#94e1af;font-size:18px;border:2px solid #94e1af;box-shadow:4px 4px 10px #00000080}.textarea[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;max-height:75%;width:100%;gap:10px}.textarea[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:98%;height:100%}']})}return N})()},{path:"solicitar-turnos",component:(()=>{class N{static#e=this.\u0275fac=function(x){return new(x||N)};static#t=this.\u0275cmp=E.Xpm({type:N,selectors:[["app-solicitar-turno"]],decls:2,vars:0,template:function(x,L){1&x&&(E.TgZ(0,"p"),E._uU(1,"solicitar-turno works!"),E.qZA())}})}return N})()},{path:"perfil",component:(()=>{class N{static#e=this.\u0275fac=function(x){return new(x||N)};static#t=this.\u0275cmp=E.Xpm({type:N,selectors:[["app-perfil"]],decls:2,vars:0,template:function(x,L){1&x&&(E.TgZ(0,"p"),E._uU(1,"perfil works!"),E.qZA())}})}return N})()},{path:"",redirectTo:"home",pathMatch:"full"},{path:"**",redirectTo:"error",pathMatch:"full"}];let yt=(()=>{class N{static#e=this.\u0275fac=function(x){return new(x||N)};static#t=this.\u0275mod=E.oAB({type:N});static#n=this.\u0275inj=E.cJS({imports:[de.Bz.forRoot(Pe),de.Bz]})}return N})();var Bt=Z(7142);let En=(()=>{class N{constructor(){this.title="clinica"}ngOnInit(){Bt.Z.initializeApp({projectId:"clinica-cd258",appId:"1:252489975231:web:7b94256a52773662cf4d0a",storageBucket:"clinica-cd258.appspot.com",apiKey:"AIzaSyAqXh8A0XH2BMCGSgpOYGtjrEcDb0hb9RQ",authDomain:"clinica-cd258.firebaseapp.com",messagingSenderId:"252489975231"})}static#e=this.\u0275fac=function(x){return new(x||N)};static#t=this.\u0275cmp=E.Xpm({type:N,selectors:[["app-root"]],decls:1,vars:0,template:function(x,L){1&x&&E._UZ(0,"router-outlet")},dependencies:[de.lC]})}return N})();var Dn=Z(8726),Kn=Z(5609),Xt=Z(6825);function Yr(N){return new E.vHH(3e3,!1)}function Fr(N){switch(N.length){case 0:return new Xt.ZN;case 1:return N[0];default:return new Xt.ZE(N)}}function Ir(N,_,m=new Map,x=new Map){const L=[],Q=[];let me=-1,we=null;if(_.forEach(He=>{const dt=He.get("offset"),en=dt==me,$t=en&&we||new Map;He.forEach((Er,et)=>{let Ht=et,On=Er;if("offset"!==et)switch(Ht=N.normalizePropertyName(Ht,L),On){case Xt.k1:On=m.get(et);break;case Xt.l3:On=x.get(et);break;default:On=N.normalizeStyleValue(et,Ht,On,L)}$t.set(Ht,On)}),en||Q.push($t),we=$t,me=dt}),L.length)throw function fs(N){return new E.vHH(3502,!1)}();return Q}function $s(N,_,m,x){switch(_){case"start":N.onStart(()=>x(m&&co(m,"start",N)));break;case"done":N.onDone(()=>x(m&&co(m,"done",N)));break;case"destroy":N.onDestroy(()=>x(m&&co(m,"destroy",N)))}}function co(N,_,m){const Q=lo(N.element,N.triggerName,N.fromState,N.toState,_||N.phaseName,m.totalTime??N.totalTime,!!m.disabled),me=N._data;return null!=me&&(Q._data=me),Q}function lo(N,_,m,x,L="",Q=0,me){return{element:N,triggerName:_,fromState:m,toState:x,phaseName:L,totalTime:Q,disabled:!!me}}function Mi(N,_,m){let x=N.get(_);return x||N.set(_,x=m),x}function ho(N){const _=N.indexOf(":");return[N.substring(1,_),N.slice(_+1)]}const _s=(()=>typeof document>"u"?null:document.documentElement)();function Ys(N){const _=N.parentNode||N.host||null;return _===_s?null:_}let Hi=null,Ns=!1;function bo(N,_){for(;_;){if(_===N)return!0;_=Ys(_)}return!1}function To(N,_,m){if(m)return Array.from(N.querySelectorAll(_));const x=N.querySelector(_);return x?[x]:[]}let $i=(()=>{class N{validateStyleProperty(m){return function Os(N){Hi||(Hi=function po(){return typeof document<"u"?document.body:null}()||{},Ns=!!Hi.style&&"WebkitAppearance"in Hi.style);let _=!0;return Hi.style&&!function Io(N){return"ebkit"==N.substring(1,6)}(N)&&(_=N in Hi.style,!_&&Ns&&(_="Webkit"+N.charAt(0).toUpperCase()+N.slice(1)in Hi.style)),_}(m)}matchesElement(m,x){return!1}containsElement(m,x){return bo(m,x)}getParentElement(m){return Ys(m)}query(m,x,L){return To(m,x,L)}computeStyle(m,x,L){return L||""}animate(m,x,L,Q,me,we=[],He){return new Xt.ZN(L,Q)}static#e=this.\u0275fac=function(x){return new(x||N)};static#t=this.\u0275prov=E.Yz7({token:N,factory:N.\u0275fac})}return N})(),Xi=(()=>{class N{static#e=this.NOOP=new $i}return N})();const Ps=1e3,xn="ng-enter",Yi="ng-leave",$r="ng-trigger",ks=".ng-trigger",Ds="ng-animating",vs=".ng-animating";function ps(N){if("number"==typeof N)return N;const _=N.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:Fs(parseFloat(_[1]),_[2])}function Fs(N,_){return"s"===_?N*Ps:N}function mr(N,_,m){return N.hasOwnProperty("duration")?N:function Yt(N,_,m){let L,Q=0,me="";if("string"==typeof N){const we=N.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===we)return _.push(Yr()),{duration:0,delay:0,easing:""};L=Fs(parseFloat(we[1]),we[2]);const He=we[3];null!=He&&(Q=Fs(parseFloat(He),we[4]));const dt=we[5];dt&&(me=dt)}else L=N;if(!m){let we=!1,He=_.length;L<0&&(_.push(function Ei(){return new E.vHH(3100,!1)}()),we=!0),Q<0&&(_.push(function Ri(){return new E.vHH(3101,!1)}()),we=!0),we&&_.splice(He,0,Yr())}return{duration:L,delay:Q,easing:me}}(N,_,m)}function Rn(N,_={}){return Object.keys(N).forEach(m=>{_[m]=N[m]}),_}function H(N){const _=new Map;return Object.keys(N).forEach(m=>{_.set(m,N[m])}),_}function _e(N,_=new Map,m){if(m)for(let[x,L]of m)_.set(x,L);for(let[x,L]of N)_.set(x,L);return _}function Oe(N,_,m){_.forEach((x,L)=>{const Q=Hr(L);m&&!m.has(L)&&m.set(L,N.style[Q]),N.style[Q]=x})}function Qe(N,_){_.forEach((m,x)=>{const L=Hr(x);N.style[L]=""})}function Pt(N){return Array.isArray(N)?1==N.length?N[0]:(0,Xt.vP)(N):N}const Ct=new RegExp("{{\\s*(.+?)\\s*}}","g");function Nn(N){let _=[];if("string"==typeof N){let m;for(;m=Ct.exec(N);)_.push(m[1]);Ct.lastIndex=0}return _}function Jn(N,_,m){const x=N.toString(),L=x.replace(Ct,(Q,me)=>{let we=_[me];return null==we&&(m.push(function Be(N){return new E.vHH(3003,!1)}()),we=""),we.toString()});return L==x?N:L}function xr(N){const _=[];let m=N.next();for(;!m.done;)_.push(m.value),m=N.next();return _}const Zn=/-+([a-z0-9])/g;function Hr(N){return N.replace(Zn,(..._)=>_[1].toUpperCase())}function ci(N,_,m){switch(_.type){case 7:return N.visitTrigger(_,m);case 0:return N.visitState(_,m);case 1:return N.visitTransition(_,m);case 2:return N.visitSequence(_,m);case 3:return N.visitGroup(_,m);case 4:return N.visitAnimate(_,m);case 5:return N.visitKeyframes(_,m);case 6:return N.visitStyle(_,m);case 8:return N.visitReference(_,m);case 9:return N.visitAnimateChild(_,m);case 10:return N.visitAnimateRef(_,m);case 11:return N.visitQuery(_,m);case 12:return N.visitStagger(_,m);default:throw function At(N){return new E.vHH(3004,!1)}()}}function Ii(N,_){return window.getComputedStyle(N)[_]}const es="*";function xi(N,_){const m=[];return"string"==typeof N?N.split(/\s*,\s*/).forEach(x=>function ni(N,_,m){if(":"==N[0]){const He=function gs(N,_){switch(N){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(m,x)=>parseFloat(x)>parseFloat(m);case":decrement":return(m,x)=>parseFloat(x)<parseFloat(m);default:return _.push(function hs(N){return new E.vHH(3016,!1)}()),"* => *"}}(N,m);if("function"==typeof He)return void _.push(He);N=He}const x=N.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==x||x.length<4)return m.push(function tr(N){return new E.vHH(3015,!1)}()),_;const L=x[1],Q=x[2],me=x[3];_.push(oa(L,me));"<"==Q[0]&&!(L==es&&me==es)&&_.push(oa(me,L))}(x,m,_)):m.push(N),m}const Qs=new Set(["true","1"]),bi=new Set(["false","0"]);function oa(N,_){const m=Qs.has(N)||bi.has(N),x=Qs.has(_)||bi.has(_);return(L,Q)=>{let me=N==es||N==L,we=_==es||_==Q;return!me&&m&&"boolean"==typeof L&&(me=L?Qs.has(N):bi.has(N)),!we&&x&&"boolean"==typeof Q&&(we=Q?Qs.has(_):bi.has(_)),me&&we}}const ki=new RegExp("s*:selfs*,?","g");function Co(N,_,m,x){return new br(N).build(_,m,x)}class br{constructor(_){this._driver=_}build(_,m,x){const L=new j(m);return this._resetContextStyleTimingState(L),ci(this,Pt(_),L)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles=new Map,_.collectedStyles.set("",new Map),_.currentTime=0}visitTrigger(_,m){let x=m.queryCount=0,L=m.depCount=0;const Q=[],me=[];return"@"==_.name.charAt(0)&&m.errors.push(function An(){return new E.vHH(3006,!1)}()),_.definitions.forEach(we=>{if(this._resetContextStyleTimingState(m),0==we.type){const He=we,dt=He.name;dt.toString().split(/\s*,\s*/).forEach(en=>{He.name=en,Q.push(this.visitState(He,m))}),He.name=dt}else if(1==we.type){const He=this.visitTransition(we,m);x+=He.queryCount,L+=He.depCount,me.push(He)}else m.errors.push(function Zt(){return new E.vHH(3007,!1)}())}),{type:7,name:_.name,states:Q,transitions:me,queryCount:x,depCount:L,options:null}}visitState(_,m){const x=this.visitStyle(_.styles,m),L=_.options&&_.options.params||null;if(x.containsDynamicStyles){const Q=new Set,me=L||{};x.styles.forEach(we=>{we instanceof Map&&we.forEach(He=>{Nn(He).forEach(dt=>{me.hasOwnProperty(dt)||Q.add(dt)})})}),Q.size&&(xr(Q.values()),m.errors.push(function $n(N,_){return new E.vHH(3008,!1)}()))}return{type:0,name:_.name,style:x,options:L?{params:L}:null}}visitTransition(_,m){m.queryCount=0,m.depCount=0;const x=ci(this,Pt(_.animation),m);return{type:1,matchers:xi(_.expr,m.errors),animation:x,queryCount:m.queryCount,depCount:m.depCount,options:ee(_.options)}}visitSequence(_,m){return{type:2,steps:_.steps.map(x=>ci(this,x,m)),options:ee(_.options)}}visitGroup(_,m){const x=m.currentTime;let L=0;const Q=_.steps.map(me=>{m.currentTime=x;const we=ci(this,me,m);return L=Math.max(L,m.currentTime),we});return m.currentTime=L,{type:3,steps:Q,options:ee(_.options)}}visitAnimate(_,m){const x=function P(N,_){if(N.hasOwnProperty("duration"))return N;if("number"==typeof N)return Se(mr(N,_).duration,0,"");const m=N;if(m.split(/\s+/).some(Q=>"{"==Q.charAt(0)&&"{"==Q.charAt(1))){const Q=Se(0,0,"");return Q.dynamic=!0,Q.strValue=m,Q}const L=mr(m,_);return Se(L.duration,L.delay,L.easing)}(_.timings,m.errors);m.currentAnimateTimings=x;let L,Q=_.styles?_.styles:(0,Xt.oB)({});if(5==Q.type)L=this.visitKeyframes(Q,m);else{let me=_.styles,we=!1;if(!me){we=!0;const dt={};x.easing&&(dt.easing=x.easing),me=(0,Xt.oB)(dt)}m.currentTime+=x.duration+x.delay;const He=this.visitStyle(me,m);He.isEmptyStep=we,L=He}return m.currentAnimateTimings=null,{type:4,timings:x,style:L,options:null}}visitStyle(_,m){const x=this._makeStyleAst(_,m);return this._validateStyleAst(x,m),x}_makeStyleAst(_,m){const x=[],L=Array.isArray(_.styles)?_.styles:[_.styles];for(let we of L)"string"==typeof we?we===Xt.l3?x.push(we):m.errors.push(new E.vHH(3002,!1)):x.push(H(we));let Q=!1,me=null;return x.forEach(we=>{if(we instanceof Map&&(we.has("easing")&&(me=we.get("easing"),we.delete("easing")),!Q))for(let He of we.values())if(He.toString().indexOf("{{")>=0){Q=!0;break}}),{type:6,styles:x,easing:me,offset:_.offset,containsDynamicStyles:Q,options:null}}_validateStyleAst(_,m){const x=m.currentAnimateTimings;let L=m.currentTime,Q=m.currentTime;x&&Q>0&&(Q-=x.duration+x.delay),_.styles.forEach(me=>{"string"!=typeof me&&me.forEach((we,He)=>{const dt=m.collectedStyles.get(m.currentQuerySelector),en=dt.get(He);let $t=!0;en&&(Q!=L&&Q>=en.startTime&&L<=en.endTime&&(m.errors.push(function Ni(N,_,m,x,L){return new E.vHH(3010,!1)}()),$t=!1),Q=en.startTime),$t&&dt.set(He,{startTime:Q,endTime:L}),m.options&&function Wt(N,_,m){const x=_.params||{},L=Nn(N);L.length&&L.forEach(Q=>{x.hasOwnProperty(Q)||m.push(function ot(N){return new E.vHH(3001,!1)}())})}(we,m.options,m.errors)})})}visitKeyframes(_,m){const x={type:5,styles:[],options:null};if(!m.currentAnimateTimings)return m.errors.push(function xs(){return new E.vHH(3011,!1)}()),x;let Q=0;const me=[];let we=!1,He=!1,dt=0;const en=_.steps.map(Fe=>{const Ki=this._makeStyleAst(Fe,m);let zr=null!=Ki.offset?Ki.offset:function q(N){if("string"==typeof N)return null;let _=null;if(Array.isArray(N))N.forEach(m=>{if(m instanceof Map&&m.has("offset")){const x=m;_=parseFloat(x.get("offset")),x.delete("offset")}});else if(N instanceof Map&&N.has("offset")){const m=N;_=parseFloat(m.get("offset")),m.delete("offset")}return _}(Ki.styles),Ti=0;return null!=zr&&(Q++,Ti=Ki.offset=zr),He=He||Ti<0||Ti>1,we=we||Ti<dt,dt=Ti,me.push(Ti),Ki});He&&m.errors.push(function Rs(){return new E.vHH(3012,!1)}()),we&&m.errors.push(function gr(){return new E.vHH(3200,!1)}());const $t=_.steps.length;let Er=0;Q>0&&Q<$t?m.errors.push(function Bi(){return new E.vHH(3202,!1)}()):0==Q&&(Er=1/($t-1));const et=$t-1,Ht=m.currentTime,On=m.currentAnimateTimings,hi=On.duration;return en.forEach((Fe,Ki)=>{const zr=Er>0?Ki==et?1:Er*Ki:me[Ki],Ti=zr*hi;m.currentTime=Ht+On.delay+Ti,On.duration=Ti,this._validateStyleAst(Fe,m),Fe.offset=zr,x.styles.push(Fe)}),x}visitReference(_,m){return{type:8,animation:ci(this,Pt(_.animation),m),options:ee(_.options)}}visitAnimateChild(_,m){return m.depCount++,{type:9,options:ee(_.options)}}visitAnimateRef(_,m){return{type:10,animation:this.visitReference(_.animation,m),options:ee(_.options)}}visitQuery(_,m){const x=m.currentQuerySelector,L=_.options||{};m.queryCount++,m.currentQuery=_;const[Q,me]=function ri(N){const _=!!N.split(/\s*,\s*/).find(m=>":self"==m);return _&&(N=N.replace(ki,"")),N=N.replace(/@\*/g,ks).replace(/@\w+/g,m=>ks+"-"+m.slice(1)).replace(/:animating/g,vs),[N,_]}(_.selector);m.currentQuerySelector=x.length?x+" "+Q:Q,Mi(m.collectedStyles,m.currentQuerySelector,new Map);const we=ci(this,Pt(_.animation),m);return m.currentQuery=null,m.currentQuerySelector=x,{type:11,selector:Q,limit:L.limit||0,optional:!!L.optional,includeSelf:me,animation:we,originalSelector:_.selector,options:ee(_.options)}}visitStagger(_,m){m.currentQuery||m.errors.push(function Oi(){return new E.vHH(3013,!1)}());const x="full"===_.timings?{duration:0,delay:0,easing:"full"}:mr(_.timings,m.errors,!0);return{type:12,animation:ci(this,Pt(_.animation),m),timings:x,options:null}}}class j{constructor(_){this.errors=_,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ee(N){return N?(N=Rn(N)).params&&(N.params=function Jo(N){return N?Rn(N):null}(N.params)):N={},N}function Se(N,_,m){return{duration:N,delay:_,easing:m}}function tn(N,_,m,x,L,Q,me=null,we=!1){return{type:1,element:N,keyframes:_,preStyleProps:m,postStyleProps:x,duration:L,delay:Q,totalTime:L+Q,easing:me,subTimeline:we}}class Bn{constructor(){this._map=new Map}get(_){return this._map.get(_)||[]}append(_,m){let x=this._map.get(_);x||this._map.set(_,x=[]),x.push(...m)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const Js=new RegExp(":enter","g"),Ss=new RegExp(":leave","g");function Do(N,_,m,x,L,Q=new Map,me=new Map,we,He,dt=[]){return(new ts).buildKeyframes(N,_,m,x,L,Q,me,we,He,dt)}class ts{buildKeyframes(_,m,x,L,Q,me,we,He,dt,en=[]){dt=dt||new Bn;const $t=new Xo(_,m,dt,L,Q,en,[]);$t.options=He;const Er=He.delay?ps(He.delay):0;$t.currentTimeline.delayNextStep(Er),$t.currentTimeline.setStyles([me],null,$t.errors,He),ci(this,x,$t);const et=$t.timelines.filter(Ht=>Ht.containsAnimation());if(et.length&&we.size){let Ht;for(let On=et.length-1;On>=0;On--){const hi=et[On];if(hi.element===m){Ht=hi;break}}Ht&&!Ht.allowOnlyTimelineStyles()&&Ht.setStyles([we],null,$t.errors,He)}return et.length?et.map(Ht=>Ht.buildKeyframes()):[tn(m,[],[],[],0,Er,"",!1)]}visitTrigger(_,m){}visitState(_,m){}visitTransition(_,m){}visitAnimateChild(_,m){const x=m.subInstructions.get(m.element);if(x){const L=m.createSubContext(_.options),Q=m.currentTimeline.currentTime,me=this._visitSubInstructions(x,L,L.options);Q!=me&&m.transformIntoNewTimeline(me)}m.previousNode=_}visitAnimateRef(_,m){const x=m.createSubContext(_.options);x.transformIntoNewTimeline(),this._applyAnimationRefDelays([_.options,_.animation.options],m,x),this.visitReference(_.animation,x),m.transformIntoNewTimeline(x.currentTimeline.currentTime),m.previousNode=_}_applyAnimationRefDelays(_,m,x){for(const L of _){const Q=L?.delay;if(Q){const me="number"==typeof Q?Q:ps(Jn(Q,L?.params??{},m.errors));x.delayNextStep(me)}}}_visitSubInstructions(_,m,x){let Q=m.currentTimeline.currentTime;const me=null!=x.duration?ps(x.duration):null,we=null!=x.delay?ps(x.delay):null;return 0!==me&&_.forEach(He=>{const dt=m.appendInstructionToTimeline(He,me,we);Q=Math.max(Q,dt.duration+dt.delay)}),Q}visitReference(_,m){m.updateOptions(_.options,!0),ci(this,_.animation,m),m.previousNode=_}visitSequence(_,m){const x=m.subContextCount;let L=m;const Q=_.options;if(Q&&(Q.params||Q.delay)&&(L=m.createSubContext(Q),L.transformIntoNewTimeline(),null!=Q.delay)){6==L.previousNode.type&&(L.currentTimeline.snapshotCurrentStyles(),L.previousNode=va);const me=ps(Q.delay);L.delayNextStep(me)}_.steps.length&&(_.steps.forEach(me=>ci(this,me,L)),L.currentTimeline.applyStylesToKeyframe(),L.subContextCount>x&&L.transformIntoNewTimeline()),m.previousNode=_}visitGroup(_,m){const x=[];let L=m.currentTimeline.currentTime;const Q=_.options&&_.options.delay?ps(_.options.delay):0;_.steps.forEach(me=>{const we=m.createSubContext(_.options);Q&&we.delayNextStep(Q),ci(this,me,we),L=Math.max(L,we.currentTimeline.currentTime),x.push(we.currentTimeline)}),x.forEach(me=>m.currentTimeline.mergeTimelineCollectedStyles(me)),m.transformIntoNewTimeline(L),m.previousNode=_}_visitTiming(_,m){if(_.dynamic){const x=_.strValue;return mr(m.params?Jn(x,m.params,m.errors):x,m.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,m){const x=m.currentAnimateTimings=this._visitTiming(_.timings,m),L=m.currentTimeline;x.delay&&(m.incrementTime(x.delay),L.snapshotCurrentStyles());const Q=_.style;5==Q.type?this.visitKeyframes(Q,m):(m.incrementTime(x.duration),this.visitStyle(Q,m),L.applyStylesToKeyframe()),m.currentAnimateTimings=null,m.previousNode=_}visitStyle(_,m){const x=m.currentTimeline,L=m.currentAnimateTimings;!L&&x.hasCurrentStyleProperties()&&x.forwardFrame();const Q=L&&L.easing||_.easing;_.isEmptyStep?x.applyEmptyStep(Q):x.setStyles(_.styles,Q,m.errors,m.options),m.previousNode=_}visitKeyframes(_,m){const x=m.currentAnimateTimings,L=m.currentTimeline.duration,Q=x.duration,we=m.createSubContext().currentTimeline;we.easing=x.easing,_.styles.forEach(He=>{we.forwardTime((He.offset||0)*Q),we.setStyles(He.styles,He.easing,m.errors,m.options),we.applyStylesToKeyframe()}),m.currentTimeline.mergeTimelineCollectedStyles(we),m.transformIntoNewTimeline(L+Q),m.previousNode=_}visitQuery(_,m){const x=m.currentTimeline.currentTime,L=_.options||{},Q=L.delay?ps(L.delay):0;Q&&(6===m.previousNode.type||0==x&&m.currentTimeline.hasCurrentStyleProperties())&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=va);let me=x;const we=m.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!L.optional,m.errors);m.currentQueryTotal=we.length;let He=null;we.forEach((dt,en)=>{m.currentQueryIndex=en;const $t=m.createSubContext(_.options,dt);Q&&$t.delayNextStep(Q),dt===m.element&&(He=$t.currentTimeline),ci(this,_.animation,$t),$t.currentTimeline.applyStylesToKeyframe(),me=Math.max(me,$t.currentTimeline.currentTime)}),m.currentQueryIndex=0,m.currentQueryTotal=0,m.transformIntoNewTimeline(me),He&&(m.currentTimeline.mergeTimelineCollectedStyles(He),m.currentTimeline.snapshotCurrentStyles()),m.previousNode=_}visitStagger(_,m){const x=m.parentContext,L=m.currentTimeline,Q=_.timings,me=Math.abs(Q.duration),we=me*(m.currentQueryTotal-1);let He=me*m.currentQueryIndex;switch(Q.duration<0?"reverse":Q.easing){case"reverse":He=we-He;break;case"full":He=x.currentStaggerTime}const en=m.currentTimeline;He&&en.delayNextStep(He);const $t=en.currentTime;ci(this,_.animation,m),m.previousNode=_,x.currentStaggerTime=L.currentTime-$t+(L.startTime-x.currentTimeline.startTime)}}const va={};class Xo{constructor(_,m,x,L,Q,me,we,He){this._driver=_,this.element=m,this.subInstructions=x,this._enterClassName=L,this._leaveClassName=Q,this.errors=me,this.timelines=we,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=va,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=He||new Ea(this._driver,m,0),we.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,m){if(!_)return;const x=_;let L=this.options;null!=x.duration&&(L.duration=ps(x.duration)),null!=x.delay&&(L.delay=ps(x.delay));const Q=x.params;if(Q){let me=L.params;me||(me=this.options.params={}),Object.keys(Q).forEach(we=>{(!m||!me.hasOwnProperty(we))&&(me[we]=Jn(Q[we],me,this.errors))})}}_copyOptions(){const _={};if(this.options){const m=this.options.params;if(m){const x=_.params={};Object.keys(m).forEach(L=>{x[L]=m[L]})}}return _}createSubContext(_=null,m,x){const L=m||this.element,Q=new Xo(this._driver,L,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(L,x||0));return Q.previousNode=this.previousNode,Q.currentAnimateTimings=this.currentAnimateTimings,Q.options=this._copyOptions(),Q.updateOptions(_),Q.currentQueryIndex=this.currentQueryIndex,Q.currentQueryTotal=this.currentQueryTotal,Q.parentContext=this,this.subContextCount++,Q}transformIntoNewTimeline(_){return this.previousNode=va,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,m,x){const L={duration:m??_.duration,delay:this.currentTimeline.currentTime+(x??0)+_.delay,easing:""},Q=new go(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,L,_.stretchStartingKeyframe);return this.timelines.push(Q),L}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,m,x,L,Q,me){let we=[];if(L&&we.push(this.element),_.length>0){_=(_=_.replace(Js,"."+this._enterClassName)).replace(Ss,"."+this._leaveClassName);let dt=this._driver.query(this.element,_,1!=x);0!==x&&(dt=x<0?dt.slice(dt.length+x,dt.length):dt.slice(0,x)),we.push(...dt)}return!Q&&0==we.length&&me.push(function wi(N){return new E.vHH(3014,!1)}()),we}}class Ea{constructor(_,m,x,L){this._driver=_,this.element=m,this.startTime=x,this._elementTimelineStylesLookup=L,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(m),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(m,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const m=1===this._keyframes.size&&this._pendingStyles.size;this.duration||m?(this.forwardTime(this.currentTime+_),m&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,m){return this.applyStylesToKeyframe(),new Ea(this._driver,_,m||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,m){this._localTimelineStyles.set(_,m),this._globalTimelineStyles.set(_,m),this._styleSummary.set(_,{time:this.currentTime,value:m})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&this._previousKeyframe.set("easing",_);for(let[m,x]of this._globalTimelineStyles)this._backFill.set(m,x||Xt.l3),this._currentKeyframe.set(m,Xt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,m,x,L){m&&this._previousKeyframe.set("easing",m);const Q=L&&L.params||{},me=function Aa(N,_){const m=new Map;let x;return N.forEach(L=>{if("*"===L){x=x||_.keys();for(let Q of x)m.set(Q,Xt.l3)}else _e(L,m)}),m}(_,this._globalTimelineStyles);for(let[we,He]of me){const dt=Jn(He,Q,x);this._pendingStyles.set(we,dt),this._localTimelineStyles.has(we)||this._backFill.set(we,this._globalTimelineStyles.get(we)??Xt.l3),this._updateStyle(we,dt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((_,m)=>{this._currentKeyframe.set(m,_)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((_,m)=>{this._currentKeyframe.has(m)||this._currentKeyframe.set(m,_)}))}snapshotCurrentStyles(){for(let[_,m]of this._localTimelineStyles)this._pendingStyles.set(_,m),this._updateStyle(_,m)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let m in this._currentKeyframe)_.push(m);return _}mergeTimelineCollectedStyles(_){_._styleSummary.forEach((m,x)=>{const L=this._styleSummary.get(x);(!L||m.time>L.time)&&this._updateStyle(x,m.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,m=new Set,x=1===this._keyframes.size&&0===this.duration;let L=[];this._keyframes.forEach((we,He)=>{const dt=_e(we,new Map,this._backFill);dt.forEach((en,$t)=>{en===Xt.k1?_.add($t):en===Xt.l3&&m.add($t)}),x||dt.set("offset",He/this.duration),L.push(dt)});const Q=_.size?xr(_.values()):[],me=m.size?xr(m.values()):[];if(x){const we=L[0],He=new Map(we);we.set("offset",0),He.set("offset",1),L=[we,He]}return tn(this.element,L,Q,me,this.duration,this.startTime,this.easing,!1)}}class go extends Ea{constructor(_,m,x,L,Q,me,we=!1){super(_,m,me.delay),this.keyframes=x,this.preStyleProps=L,this.postStyleProps=Q,this._stretchStartingKeyframe=we,this.timings={duration:me.duration,delay:me.delay,easing:me.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:m,duration:x,easing:L}=this.timings;if(this._stretchStartingKeyframe&&m){const Q=[],me=x+m,we=m/me,He=_e(_[0]);He.set("offset",0),Q.push(He);const dt=_e(_[0]);dt.set("offset",wa(we)),Q.push(dt);const en=_.length-1;for(let $t=1;$t<=en;$t++){let Er=_e(_[$t]);const et=Er.get("offset");Er.set("offset",wa((m+et*x)/me)),Q.push(Er)}x=me,m=0,L="",_=Q}return tn(this.element,_,this.preStyleProps,this.postStyleProps,x,m,L,!0)}}function wa(N,_=3){const m=Math.pow(10,_-1);return Math.round(N*m)/m}class Bo{}const Xs=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ms extends Bo{normalizePropertyName(_,m){return Hr(_)}normalizeStyleValue(_,m,x,L){let Q="";const me=x.toString().trim();if(Xs.has(m)&&0!==x&&"0"!==x)if("number"==typeof x)Q="px";else{const we=x.match(/^[+-]?[\d\.]+([a-z]*)$/);we&&0==we[1].length&&L.push(function Kt(N,_){return new E.vHH(3005,!1)}())}return me+Q}}function Ia(N,_,m,x,L,Q,me,we,He,dt,en,$t,Er){return{type:0,element:N,triggerName:_,isRemovalTransition:L,fromState:m,fromStyles:Q,toState:x,toStyles:me,timelines:we,queriedElements:He,preStyleProps:dt,postStyleProps:en,totalTime:$t,errors:Er}}const Tr={};class So{constructor(_,m,x){this._triggerName=_,this.ast=m,this._stateStyles=x}match(_,m,x,L){return function Ao(N,_,m,x,L){return N.some(Q=>Q(_,m,x,L))}(this.ast.matchers,_,m,x,L)}buildStyles(_,m,x){let L=this._stateStyles.get("*");return void 0!==_&&(L=this._stateStyles.get(_?.toString())||L),L?L.buildStyles(m,x):new Map}build(_,m,x,L,Q,me,we,He,dt,en){const $t=[],Er=this.ast.options&&this.ast.options.params||Tr,Ht=this.buildStyles(x,we&&we.params||Tr,$t),On=He&&He.params||Tr,hi=this.buildStyles(L,On,$t),Fe=new Set,Ki=new Map,zr=new Map,Ti="void"===L,qs={params:xa(On,Er),delay:this.ast.options?.delay},us=en?[]:Do(_,m,this.ast.animation,Q,me,Ht,hi,qs,dt,$t);let ns=0;if(us.forEach(vo=>{ns=Math.max(vo.duration+vo.delay,ns)}),$t.length)return Ia(m,this._triggerName,x,L,Ti,Ht,hi,[],[],Ki,zr,ns,$t);us.forEach(vo=>{const Li=vo.element,No=Mi(Ki,Li,new Set);vo.preStyleProps.forEach(Ci=>No.add(Ci));const Ga=Mi(zr,Li,new Set);vo.postStyleProps.forEach(Ci=>Ga.add(Ci)),Li!==m&&Fe.add(Li)});const Ws=xr(Fe.values());return Ia(m,this._triggerName,x,L,Ti,Ht,hi,us,Ws,Ki,zr,ns)}}function xa(N,_){const m=Rn(_);for(const x in N)N.hasOwnProperty(x)&&null!=N[x]&&(m[x]=N[x]);return m}class Es{constructor(_,m,x){this.styles=_,this.defaultParams=m,this.normalizer=x}buildStyles(_,m){const x=new Map,L=Rn(this.defaultParams);return Object.keys(_).forEach(Q=>{const me=_[Q];null!==me&&(L[Q]=me)}),this.styles.styles.forEach(Q=>{"string"!=typeof Q&&Q.forEach((me,we)=>{me&&(me=Jn(me,L,m));const He=this.normalizer.normalizePropertyName(we,m);me=this.normalizer.normalizeStyleValue(we,He,me,m),x.set(we,me)})}),x}}class Cr{constructor(_,m,x){this.name=_,this.ast=m,this._normalizer=x,this.transitionFactories=[],this.states=new Map,m.states.forEach(L=>{this.states.set(L.name,new Es(L.style,L.options&&L.options.params||{},x))}),$o(this.states,"true","1"),$o(this.states,"false","0"),m.transitions.forEach(L=>{this.transitionFactories.push(new So(_,L,this.states))}),this.fallbackTransition=function Ra(N,_,m){return new So(N,{type:1,animation:{type:2,steps:[],options:null},matchers:[(me,we)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,m,x,L){return this.transitionFactories.find(me=>me.match(_,m,x,L))||null}matchStyles(_,m,x){return this.fallbackTransition.buildStyles(_,m,x)}}function $o(N,_,m){N.has(_)?N.has(m)||N.set(m,N.get(_)):N.has(m)&&N.set(_,N.get(m))}const mo=new Bn;class aa{constructor(_,m,x){this.bodyNode=_,this._driver=m,this._normalizer=x,this._animations=new Map,this._playersById=new Map,this.players=[]}register(_,m){const x=[],Q=Co(this._driver,m,x,[]);if(x.length)throw function Zs(N){return new E.vHH(3503,!1)}();this._animations.set(_,Q)}_buildPlayer(_,m,x){const L=_.element,Q=Ir(this._normalizer,_.keyframes,m,x);return this._driver.animate(L,Q,_.duration,_.delay,_.easing,[],!0)}create(_,m,x={}){const L=[],Q=this._animations.get(_);let me;const we=new Map;if(Q?(me=Do(this._driver,m,Q,xn,Yi,new Map,new Map,x,mo,L),me.forEach(en=>{const $t=Mi(we,en.element,new Map);en.postStyleProps.forEach(Er=>$t.set(Er,null))})):(L.push(function xe(){return new E.vHH(3300,!1)}()),me=[]),L.length)throw function Re(N){return new E.vHH(3504,!1)}();we.forEach((en,$t)=>{en.forEach((Er,et)=>{en.set(et,this._driver.computeStyle($t,et,Xt.l3))})});const dt=Fr(me.map(en=>{const $t=we.get(en.element);return this._buildPlayer(en,new Map,$t)}));return this._playersById.set(_,dt),dt.onDestroy(()=>this.destroy(_)),this.players.push(dt),dt}destroy(_){const m=this._getPlayer(_);m.destroy(),this._playersById.delete(_);const x=this.players.indexOf(m);x>=0&&this.players.splice(x,1)}_getPlayer(_){const m=this._playersById.get(_);if(!m)throw function je(N){return new E.vHH(3301,!1)}();return m}listen(_,m,x,L){const Q=lo(m,"","","");return $s(this._getPlayer(_),x,Q,L),()=>{}}command(_,m,x,L){if("register"==x)return void this.register(_,L[0]);if("create"==x)return void this.create(_,m,L[0]||{});const Q=this._getPlayer(_);switch(x){case"play":Q.play();break;case"pause":Q.pause();break;case"reset":Q.reset();break;case"restart":Q.restart();break;case"finish":Q.finish();break;case"init":Q.init();break;case"setPosition":Q.setPosition(parseFloat(L[0]));break;case"destroy":this.destroy(_)}}}const ba="ng-animate-queued",Mo="ng-animate-disabled",Gi=[],ta={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},D={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},K="__ng_removed";class k{get params(){return this.options.params}constructor(_,m=""){this.namespaceId=m;const x=_&&_.hasOwnProperty("value");if(this.value=function yi(N){return N??null}(x?_.value:_),x){const Q=Rn(_);delete Q.value,this.options=Q}else this.options={};this.options.params||(this.options.params={})}absorbOptions(_){const m=_.params;if(m){const x=this.options.params;Object.keys(m).forEach(L=>{null==x[L]&&(x[L]=m[L])})}}}const G="void",ge=new k(G);class nt{constructor(_,m,x){this.id=_,this.hostElement=m,this._engine=x,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+_,li(m,this._hostClassName)}listen(_,m,x,L){if(!this._triggers.has(m))throw function mt(N,_){return new E.vHH(3302,!1)}();if(null==x||0==x.length)throw function kt(N){return new E.vHH(3303,!1)}();if(!function rr(N){return"start"==N||"done"==N}(x))throw function on(N,_){return new E.vHH(3400,!1)}();const Q=Mi(this._elementListeners,_,[]),me={name:m,phase:x,callback:L};Q.push(me);const we=Mi(this._engine.statesByElement,_,new Map);return we.has(m)||(li(_,$r),li(_,$r+"-"+m),we.set(m,ge)),()=>{this._engine.afterFlush(()=>{const He=Q.indexOf(me);He>=0&&Q.splice(He,1),this._triggers.has(m)||we.delete(m)})}}register(_,m){return!this._triggers.has(_)&&(this._triggers.set(_,m),!0)}_getTrigger(_){const m=this._triggers.get(_);if(!m)throw function nr(N){return new E.vHH(3401,!1)}();return m}trigger(_,m,x,L=!0){const Q=this._getTrigger(m),me=new fn(this.id,m,_);let we=this._engine.statesByElement.get(_);we||(li(_,$r),li(_,$r+"-"+m),this._engine.statesByElement.set(_,we=new Map));let He=we.get(m);const dt=new k(x,this.id);if(!(x&&x.hasOwnProperty("value"))&&He&&dt.absorbOptions(He.options),we.set(m,dt),He||(He=ge),dt.value!==G&&He.value===dt.value){if(!function Ho(N,_){const m=Object.keys(N),x=Object.keys(_);if(m.length!=x.length)return!1;for(let L=0;L<m.length;L++){const Q=m[L];if(!_.hasOwnProperty(Q)||N[Q]!==_[Q])return!1}return!0}(He.params,dt.params)){const On=[],hi=Q.matchStyles(He.value,He.params,On),Fe=Q.matchStyles(dt.value,dt.params,On);On.length?this._engine.reportError(On):this._engine.afterFlush(()=>{Qe(_,hi),Oe(_,Fe)})}return}const Er=Mi(this._engine.playersByElement,_,[]);Er.forEach(On=>{On.namespaceId==this.id&&On.triggerName==m&&On.queued&&On.destroy()});let et=Q.matchTransition(He.value,dt.value,_,dt.params),Ht=!1;if(!et){if(!L)return;et=Q.fallbackTransition,Ht=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:m,transition:et,fromState:He,toState:dt,player:me,isFallbackTransition:Ht}),Ht||(li(_,ba),me.onStart(()=>{ws(_,ba)})),me.onDone(()=>{let On=this.players.indexOf(me);On>=0&&this.players.splice(On,1);const hi=this._engine.playersByElement.get(_);if(hi){let Fe=hi.indexOf(me);Fe>=0&&hi.splice(Fe,1)}}),this.players.push(me),Er.push(me),me}deregister(_){this._triggers.delete(_),this._engine.statesByElement.forEach(m=>m.delete(_)),this._elementListeners.forEach((m,x)=>{this._elementListeners.set(x,m.filter(L=>L.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const m=this._engine.playersByElement.get(_);m&&(m.forEach(x=>x.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,m){const x=this._engine.driver.query(_,ks,!0);x.forEach(L=>{if(L[K])return;const Q=this._engine.fetchNamespacesByElement(L);Q.size?Q.forEach(me=>me.triggerLeaveAnimation(L,m,!1,!0)):this.clearElementCache(L)}),this._engine.afterFlushAnimationsDone(()=>x.forEach(L=>this.clearElementCache(L)))}triggerLeaveAnimation(_,m,x,L){const Q=this._engine.statesByElement.get(_),me=new Map;if(Q){const we=[];if(Q.forEach((He,dt)=>{if(me.set(dt,He.value),this._triggers.has(dt)){const en=this.trigger(_,dt,G,L);en&&we.push(en)}}),we.length)return this._engine.markElementAsRemoved(this.id,_,!0,m,me),x&&Fr(we).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const m=this._elementListeners.get(_),x=this._engine.statesByElement.get(_);if(m&&x){const L=new Set;m.forEach(Q=>{const me=Q.name;if(L.has(me))return;L.add(me);const He=this._triggers.get(me).fallbackTransition,dt=x.get(me)||ge,en=new k(G),$t=new fn(this.id,me,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:me,transition:He,fromState:dt,toState:en,player:$t,isFallbackTransition:!0})})}}removeNode(_,m){const x=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,m),this.triggerLeaveAnimation(_,m,!0))return;let L=!1;if(x.totalAnimations){const Q=x.players.length?x.playersByQueriedElement.get(_):[];if(Q&&Q.length)L=!0;else{let me=_;for(;me=me.parentNode;)if(x.statesByElement.get(me)){L=!0;break}}}if(this.prepareLeaveAnimationListeners(_),L)x.markElementAsRemoved(this.id,_,!1,m);else{const Q=_[K];(!Q||Q===ta)&&(x.afterFlush(()=>this.clearElementCache(_)),x.destroyInnerAnimations(_),x._onRemovalComplete(_,m))}}insertNode(_,m){li(_,this._hostClassName)}drainQueuedTransitions(_){const m=[];return this._queue.forEach(x=>{const L=x.player;if(L.destroyed)return;const Q=x.element,me=this._elementListeners.get(Q);me&&me.forEach(we=>{if(we.name==x.triggerName){const He=lo(Q,x.triggerName,x.fromState.value,x.toState.value);He._data=_,$s(x.player,we.phase,He,we.callback)}}),L.markedForDestroy?this._engine.afterFlush(()=>{L.destroy()}):m.push(x)}),this._queue=[],m.sort((x,L)=>{const Q=x.transition.ast.depCount,me=L.transition.ast.depCount;return 0==Q||0==me?Q-me:this._engine.driver.containsElement(x.element,L.element)?1:-1})}destroy(_){this.players.forEach(m=>m.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}}class Tt{_onRemovalComplete(_,m){this.onRemovalComplete(_,m)}constructor(_,m,x){this.bodyNode=_,this.driver=m,this._normalizer=x,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(L,Q)=>{}}get queuedPlayers(){const _=[];return this._namespaceList.forEach(m=>{m.players.forEach(x=>{x.queued&&_.push(x)})}),_}createNamespace(_,m){const x=new nt(_,m,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,m)?this._balanceNamespaceList(x,m):(this.newHostElements.set(m,x),this.collectEnterElement(m)),this._namespaceLookup[_]=x}_balanceNamespaceList(_,m){const x=this._namespaceList,L=this.namespacesByHostElement;if(x.length-1>=0){let me=!1,we=this.driver.getParentElement(m);for(;we;){const He=L.get(we);if(He){const dt=x.indexOf(He);x.splice(dt+1,0,_),me=!0;break}we=this.driver.getParentElement(we)}me||x.unshift(_)}else x.push(_);return L.set(m,_),_}register(_,m){let x=this._namespaceLookup[_];return x||(x=this.createNamespace(_,m)),x}registerTrigger(_,m,x){let L=this._namespaceLookup[_];L&&L.register(m,x)&&this.totalAnimations++}destroy(_,m){_&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const x=this._fetchNamespace(_);this.namespacesByHostElement.delete(x.hostElement);const L=this._namespaceList.indexOf(x);L>=0&&this._namespaceList.splice(L,1),x.destroy(m),delete this._namespaceLookup[_]}))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const m=new Set,x=this.statesByElement.get(_);if(x)for(let L of x.values())if(L.namespaceId){const Q=this._fetchNamespace(L.namespaceId);Q&&m.add(Q)}return m}trigger(_,m,x,L){if(Dr(m)){const Q=this._fetchNamespace(_);if(Q)return Q.trigger(m,x,L),!0}return!1}insertNode(_,m,x,L){if(!Dr(m))return;const Q=m[K];if(Q&&Q.setForRemoval){Q.setForRemoval=!1,Q.setForMove=!0;const me=this.collectedLeaveElements.indexOf(m);me>=0&&this.collectedLeaveElements.splice(me,1)}if(_){const me=this._fetchNamespace(_);me&&me.insertNode(m,x)}L&&this.collectEnterElement(m)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,m){m?this.disabledNodes.has(_)||(this.disabledNodes.add(_),li(_,Mo)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),ws(_,Mo))}removeNode(_,m,x){if(Dr(m)){const L=_?this._fetchNamespace(_):null;L?L.removeNode(m,x):this.markElementAsRemoved(_,m,!1,x);const Q=this.namespacesByHostElement.get(m);Q&&Q.id!==_&&Q.removeNode(m,x)}else this._onRemovalComplete(m,x)}markElementAsRemoved(_,m,x,L,Q){this.collectedLeaveElements.push(m),m[K]={namespaceId:_,setForRemoval:L,hasAnimation:x,removedBeforeQueried:!1,previousTriggersValues:Q}}listen(_,m,x,L,Q){return Dr(m)?this._fetchNamespace(_).listen(m,x,L,Q):()=>{}}_buildInstruction(_,m,x,L,Q){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,x,L,_.fromState.options,_.toState.options,m,Q)}destroyInnerAnimations(_){let m=this.driver.query(_,ks,!0);m.forEach(x=>this.destroyActiveAnimationsForElement(x)),0!=this.playersByQueriedElement.size&&(m=this.driver.query(_,vs,!0),m.forEach(x=>this.finishActiveQueriedAnimationOnElement(x)))}destroyActiveAnimationsForElement(_){const m=this.playersByElement.get(_);m&&m.forEach(x=>{x.queued?x.markedForDestroy=!0:x.destroy()})}finishActiveQueriedAnimationOnElement(_){const m=this.playersByQueriedElement.get(_);m&&m.forEach(x=>x.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return Fr(this.players).onDone(()=>_());_()})}processLeaveNode(_){const m=_[K];if(m&&m.setForRemoval){if(_[K]=ta,m.namespaceId){this.destroyInnerAnimations(_);const x=this._fetchNamespace(m.namespaceId);x&&x.clearElementCache(_)}this._onRemovalComplete(_,m.setForRemoval)}_.classList?.contains(Mo)&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(x=>{this.markElementAsDisabled(x,!1)})}flush(_=-1){let m=[];if(this.newHostElements.size&&(this.newHostElements.forEach((x,L)=>this._balanceNamespaceList(x,L)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let x=0;x<this.collectedEnterElements.length;x++)li(this.collectedEnterElements[x],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const x=[];try{m=this._flushAnimations(x,_)}finally{for(let L=0;L<x.length;L++)x[L]()}}else for(let x=0;x<this.collectedLeaveElements.length;x++)this.processLeaveNode(this.collectedLeaveElements[x]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(x=>x()),this._flushFns=[],this._whenQuietFns.length){const x=this._whenQuietFns;this._whenQuietFns=[],m.length?Fr(m).onDone(()=>{x.forEach(L=>L())}):x.forEach(L=>L())}}reportError(_){throw function Un(N){return new E.vHH(3402,!1)}()}_flushAnimations(_,m){const x=new Bn,L=[],Q=new Map,me=[],we=new Map,He=new Map,dt=new Map,en=new Set;this.disabledNodes.forEach(T=>{en.add(T);const v=this.driver.query(T,".ng-animate-queued",!0);for(let S=0;S<v.length;S++)en.add(v[S])});const $t=this.bodyNode,Er=Array.from(this.statesByElement.keys()),et=zi(Er,this.collectedEnterElements),Ht=new Map;let On=0;et.forEach((T,v)=>{const S=xn+On++;Ht.set(v,S),T.forEach(F=>li(F,S))});const hi=[],Fe=new Set,Ki=new Set;for(let T=0;T<this.collectedLeaveElements.length;T++){const v=this.collectedLeaveElements[T],S=v[K];S&&S.setForRemoval&&(hi.push(v),Fe.add(v),S.hasAnimation?this.driver.query(v,".ng-star-inserted",!0).forEach(F=>Fe.add(F)):Ki.add(v))}const zr=new Map,Ti=zi(Er,Array.from(Fe));Ti.forEach((T,v)=>{const S=Yi+On++;zr.set(v,S),T.forEach(F=>li(F,S))}),_.push(()=>{et.forEach((T,v)=>{const S=Ht.get(v);T.forEach(F=>ws(F,S))}),Ti.forEach((T,v)=>{const S=zr.get(v);T.forEach(F=>ws(F,S))}),hi.forEach(T=>{this.processLeaveNode(T)})});const qs=[],us=[];for(let T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(m).forEach(S=>{const F=S.player,Y=S.element;if(qs.push(F),this.collectedEnterElements.length){const jn=Y[K];if(jn&&jn.setForMove){if(jn.previousTriggersValues&&jn.previousTriggersValues.has(S.triggerName)){const As=jn.previousTriggersValues.get(S.triggerName),Di=this.statesByElement.get(S.element);if(Di&&Di.has(S.triggerName)){const to=Di.get(S.triggerName);to.value=As,Di.set(S.triggerName,to)}}return void F.destroy()}}const le=!$t||!this.driver.containsElement($t,Y),Ge=zr.get(Y),qe=Ht.get(Y),Ot=this._buildInstruction(S,x,qe,Ge,le);if(Ot.errors&&Ot.errors.length)return void us.push(Ot);if(le)return F.onStart(()=>Qe(Y,Ot.fromStyles)),F.onDestroy(()=>Oe(Y,Ot.toStyles)),void L.push(F);if(S.isFallbackTransition)return F.onStart(()=>Qe(Y,Ot.fromStyles)),F.onDestroy(()=>Oe(Y,Ot.toStyles)),void L.push(F);const Hn=[];Ot.timelines.forEach(jn=>{jn.stretchStartingKeyframe=!0,this.disabledNodes.has(jn.element)||Hn.push(jn)}),Ot.timelines=Hn,x.append(Y,Ot.timelines),me.push({instruction:Ot,player:F,element:Y}),Ot.queriedElements.forEach(jn=>Mi(we,jn,[]).push(F)),Ot.preStyleProps.forEach((jn,As)=>{if(jn.size){let Di=He.get(As);Di||He.set(As,Di=new Set),jn.forEach((to,Oa)=>Di.add(Oa))}}),Ot.postStyleProps.forEach((jn,As)=>{let Di=dt.get(As);Di||dt.set(As,Di=new Set),jn.forEach((to,Oa)=>Di.add(Oa))})});if(us.length){const T=[];us.forEach(v=>{T.push(function ji(N,_){return new E.vHH(3505,!1)}())}),qs.forEach(v=>v.destroy()),this.reportError(T)}const ns=new Map,Ws=new Map;me.forEach(T=>{const v=T.element;x.has(v)&&(Ws.set(v,v),this._beforeAnimationBuild(T.player.namespaceId,T.instruction,ns))}),L.forEach(T=>{const v=T.element;this._getPreviousPlayers(v,!1,T.namespaceId,T.triggerName,null).forEach(F=>{Mi(ns,v,[]).push(F),F.destroy()})});const vo=hi.filter(T=>ua(T,He,dt)),Li=new Map;Or(Li,this.driver,Ki,dt,Xt.l3).forEach(T=>{ua(T,He,dt)&&vo.push(T)});const Ga=new Map;et.forEach((T,v)=>{Or(Ga,this.driver,new Set(T),He,Xt.k1)}),vo.forEach(T=>{const v=Li.get(T),S=Ga.get(T);Li.set(T,new Map([...v?.entries()??[],...S?.entries()??[]]))});const Ci=[],eo=[],w={};me.forEach(T=>{const{element:v,player:S,instruction:F}=T;if(x.has(v)){if(en.has(v))return S.onDestroy(()=>Oe(v,F.toStyles)),S.disabled=!0,S.overrideTotalTime(F.totalTime),void L.push(S);let Y=w;if(Ws.size>1){let Ge=v;const qe=[];for(;Ge=Ge.parentNode;){const Ot=Ws.get(Ge);if(Ot){Y=Ot;break}qe.push(Ge)}qe.forEach(Ot=>Ws.set(Ot,Y))}const le=this._buildAnimation(S.namespaceId,F,ns,Q,Ga,Li);if(S.setRealPlayer(le),Y===w)Ci.push(S);else{const Ge=this.playersByElement.get(Y);Ge&&Ge.length&&(S.parentPlayer=Fr(Ge)),L.push(S)}}else Qe(v,F.fromStyles),S.onDestroy(()=>Oe(v,F.toStyles)),eo.push(S),en.has(v)&&L.push(S)}),eo.forEach(T=>{const v=Q.get(T.element);if(v&&v.length){const S=Fr(v);T.setRealPlayer(S)}}),L.forEach(T=>{T.parentPlayer?T.syncPlayerEvents(T.parentPlayer):T.destroy()});for(let T=0;T<hi.length;T++){const v=hi[T],S=v[K];if(ws(v,Yi),S&&S.hasAnimation)continue;let F=[];if(we.size){let le=we.get(v);le&&le.length&&F.push(...le);let Ge=this.driver.query(v,vs,!0);for(let qe=0;qe<Ge.length;qe++){let Ot=we.get(Ge[qe]);Ot&&Ot.length&&F.push(...Ot)}}const Y=F.filter(le=>!le.destroyed);Y.length?Qr(this,v,Y):this.processLeaveNode(v)}return hi.length=0,Ci.forEach(T=>{this.players.push(T),T.onDone(()=>{T.destroy();const v=this.players.indexOf(T);this.players.splice(v,1)}),T.play()}),Ci}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,m,x,L,Q){let me=[];if(m){const we=this.playersByQueriedElement.get(_);we&&(me=we)}else{const we=this.playersByElement.get(_);if(we){const He=!Q||Q==G;we.forEach(dt=>{dt.queued||!He&&dt.triggerName!=L||me.push(dt)})}}return(x||L)&&(me=me.filter(we=>!(x&&x!=we.namespaceId||L&&L!=we.triggerName))),me}_beforeAnimationBuild(_,m,x){const Q=m.element,me=m.isRemovalTransition?void 0:_,we=m.isRemovalTransition?void 0:m.triggerName;for(const He of m.timelines){const dt=He.element,en=dt!==Q,$t=Mi(x,dt,[]);this._getPreviousPlayers(dt,en,me,we,m.toState).forEach(et=>{const Ht=et.getRealPlayer();Ht.beforeDestroy&&Ht.beforeDestroy(),et.destroy(),$t.push(et)})}Qe(Q,m.fromStyles)}_buildAnimation(_,m,x,L,Q,me){const we=m.triggerName,He=m.element,dt=[],en=new Set,$t=new Set,Er=m.timelines.map(Ht=>{const On=Ht.element;en.add(On);const hi=On[K];if(hi&&hi.removedBeforeQueried)return new Xt.ZN(Ht.duration,Ht.delay);const Fe=On!==He,Ki=function di(N){const _=[];return qi(N,_),_}((x.get(On)||Gi).map(ns=>ns.getRealPlayer())).filter(ns=>!!ns.element&&ns.element===On),zr=Q.get(On),Ti=me.get(On),qs=Ir(this._normalizer,Ht.keyframes,zr,Ti),us=this._buildPlayer(Ht,qs,Ki);if(Ht.subTimeline&&L&&$t.add(On),Fe){const ns=new fn(_,we,On);ns.setRealPlayer(us),dt.push(ns)}return us});dt.forEach(Ht=>{Mi(this.playersByQueriedElement,Ht.element,[]).push(Ht),Ht.onDone(()=>function ii(N,_,m){let x=N.get(_);if(x){if(x.length){const L=x.indexOf(m);x.splice(L,1)}0==x.length&&N.delete(_)}return x}(this.playersByQueriedElement,Ht.element,Ht))}),en.forEach(Ht=>li(Ht,Ds));const et=Fr(Er);return et.onDestroy(()=>{en.forEach(Ht=>ws(Ht,Ds)),Oe(He,m.toStyles)}),$t.forEach(Ht=>{Mi(L,Ht,[]).push(et)}),et}_buildPlayer(_,m,x){return m.length>0?this.driver.animate(_.element,m,_.duration,_.delay,_.easing,x):new Xt.ZN(_.duration,_.delay)}}class fn{constructor(_,m,x){this.namespaceId=_,this.triggerName=m,this.element=x,this._player=new Xt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(_){this._containsRealPlayer||(this._player=_,this._queuedCallbacks.forEach((m,x)=>{m.forEach(L=>$s(_,x,void 0,L))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const m=this._player;m.triggerCallback&&_.onStart(()=>m.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,m){Mi(this._queuedCallbacks,_,[]).push(m)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const m=this._player;m.triggerCallback&&m.triggerCallback(_)}}function Dr(N){return N&&1===N.nodeType}function si(N,_){const m=N.style.display;return N.style.display=_??"none",m}function Or(N,_,m,x,L){const Q=[];m.forEach(He=>Q.push(si(He)));const me=[];x.forEach((He,dt)=>{const en=new Map;He.forEach($t=>{const Er=_.computeStyle(dt,$t,L);en.set($t,Er),(!Er||0==Er.length)&&(dt[K]=D,me.push(dt))}),N.set(dt,en)});let we=0;return m.forEach(He=>si(He,Q[we++])),me}function zi(N,_){const m=new Map;if(N.forEach(we=>m.set(we,[])),0==_.length)return m;const L=new Set(_),Q=new Map;function me(we){if(!we)return 1;let He=Q.get(we);if(He)return He;const dt=we.parentNode;return He=m.has(dt)?dt:L.has(dt)?1:me(dt),Q.set(we,He),He}return _.forEach(we=>{const He=me(we);1!==He&&m.get(He).push(we)}),m}function li(N,_){N.classList?.add(_)}function ws(N,_){N.classList?.remove(_)}function Qr(N,_,m){Fr(m).onDone(()=>N.processLeaveNode(_))}function qi(N,_){for(let m=0;m<N.length;m++){const x=N[m];x instanceof Xt.ZE?qi(x.players,_):_.push(x)}}function ua(N,_,m){const x=m.get(N);if(!x)return!1;let L=_.get(N);return L?x.forEach(Q=>L.add(Q)):_.set(N,x),m.delete(N),!0}class xt{constructor(_,m,x){this.bodyNode=_,this._driver=m,this._normalizer=x,this._triggerCache={},this.onRemovalComplete=(L,Q)=>{},this._transitionEngine=new Tt(_,m,x),this._timelineEngine=new aa(_,m,x),this._transitionEngine.onRemovalComplete=(L,Q)=>this.onRemovalComplete(L,Q)}registerTrigger(_,m,x,L,Q){const me=_+"-"+L;let we=this._triggerCache[me];if(!we){const He=[],en=Co(this._driver,Q,He,[]);if(He.length)throw function Ji(N,_){return new E.vHH(3404,!1)}();we=function ea(N,_,m){return new Cr(N,_,m)}(L,en,this._normalizer),this._triggerCache[me]=we}this._transitionEngine.registerTrigger(m,L,we)}register(_,m){this._transitionEngine.register(_,m)}destroy(_,m){this._transitionEngine.destroy(_,m)}onInsert(_,m,x,L){this._transitionEngine.insertNode(_,m,x,L)}onRemove(_,m,x){this._transitionEngine.removeNode(_,m,x)}disableAnimations(_,m){this._transitionEngine.markElementAsDisabled(_,m)}process(_,m,x,L){if("@"==x.charAt(0)){const[Q,me]=ho(x);this._timelineEngine.command(Q,m,me,L)}else this._transitionEngine.trigger(_,m,x,L)}listen(_,m,x,L,Q){if("@"==x.charAt(0)){const[me,we]=ho(x);return this._timelineEngine.listen(me,m,we,Q)}return this._transitionEngine.listen(_,m,x,L,Q)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(_){this._transitionEngine.afterFlushAnimationsDone(_)}}let _o=(()=>{class N{static#e=this.initialStylesByElement=new WeakMap;constructor(m,x,L){this._element=m,this._startStyles=x,this._endStyles=L,this._state=0;let Q=N.initialStylesByElement.get(m);Q||N.initialStylesByElement.set(m,Q=new Map),this._initialStyles=Q}start(){this._state<1&&(this._startStyles&&Oe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Oe(this._element,this._initialStyles),this._endStyles&&(Oe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(N.initialStylesByElement.delete(this._element),this._startStyles&&(Qe(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qe(this._element,this._endStyles),this._endStyles=null),Oe(this._element,this._initialStyles),this._state=3)}}return N})();function ca(N){let _=null;return N.forEach((m,x)=>{(function an(N){return"display"===N||"position"===N})(x)&&(_=_||new Map,_.set(x,m))}),_}class Tn{constructor(_,m,x,L){this.element=_,this.keyframes=m,this.options=x,this._specialStyles=L,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=x.duration,this._delay=x.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:new Map;const m=()=>this._onFinish();this.domPlayer.addEventListener("finish",m),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",m)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(_){const m=[];return _.forEach(x=>{m.push(Object.fromEntries(x))}),m}_triggerWebAnimation(_,m,x){return _.animate(this._convertKeyframesToObject(m),x)}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _=new Map;this.hasStarted()&&this._finalKeyframe.forEach((x,L)=>{"offset"!==L&&_.set(L,this._finished?x:Ii(this.element,L))}),this.currentSnapshot=_}triggerCallback(_){const m="start"===_?this._onStartFns:this._onDoneFns;m.forEach(x=>x()),m.length=0}}class Qa{validateStyleProperty(_){return!0}validateAnimatableStyleProperty(_){return!0}matchesElement(_,m){return!1}containsElement(_,m){return bo(_,m)}getParentElement(_){return Ys(_)}query(_,m,x){return To(_,m,x)}computeStyle(_,m,x){return window.getComputedStyle(_)[m]}animate(_,m,x,L,Q,me=[]){const He={duration:x,delay:L,fill:0==L?"both":"forwards"};Q&&(He.easing=Q);const dt=new Map,en=me.filter(et=>et instanceof Tn);(function Kr(N,_){return 0===N||0===_})(x,L)&&en.forEach(et=>{et.currentSnapshot.forEach((Ht,On)=>dt.set(On,Ht))});let $t=function z(N){return N.length?N[0]instanceof Map?N:N.map(_=>H(_)):[]}(m).map(et=>_e(et));$t=function Lr(N,_,m){if(m.size&&_.length){let x=_[0],L=[];if(m.forEach((Q,me)=>{x.has(me)||L.push(me),x.set(me,Q)}),L.length)for(let Q=1;Q<_.length;Q++){let me=_[Q];L.forEach(we=>me.set(we,Ii(N,we)))}}return _}(_,$t,dt);const Er=function Wi(N,_){let m=null,x=null;return Array.isArray(_)&&_.length?(m=ca(_[0]),_.length>1&&(x=ca(_[_.length-1]))):_ instanceof Map&&(m=ca(_)),m||x?new _o(N,m,x):null}(_,$t);return new Tn(_,$t,He,Er)}}let qt=(()=>{class N extends Xt._j{constructor(m,x){super(),this._nextAnimationId=0,this._renderer=m.createRenderer(x.body,{id:"0",encapsulation:E.ifc.None,styles:[],data:{animation:[]}})}build(m){const x=this._nextAnimationId.toString();this._nextAnimationId++;const L=Array.isArray(m)?(0,Xt.vP)(m):m;return Qi(this._renderer,null,x,"register",[L]),new rt(x,this._renderer)}static#e=this.\u0275fac=function(x){return new(x||N)(E.LFG(E.FYo),E.LFG(Ve.K0))};static#t=this.\u0275prov=E.Yz7({token:N,factory:N.\u0275fac})}return N})();class rt extends Xt.LC{constructor(_,m){super(),this._id=_,this._renderer=m}create(_,m){return new Dt(this._id,_,m||{},this._renderer)}}class Dt{constructor(_,m,x,L){this.id=_,this.element=m,this._renderer=L,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",x)}_listen(_,m){return this._renderer.listen(this.element,`@@${this.id}:${_}`,m)}_command(_,...m){return Qi(this._renderer,this.element,this.id,_,m)}onDone(_){this._listen("done",_)}onStart(_){this._listen("start",_)}onDestroy(_){this._listen("destroy",_)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(_){this._command("setPosition",_)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Qi(N,_,m,x,L){return N.setProperty(_,`@@${m}:${x}`,L)}const Sr="@.disabled";let $a=(()=>{class N{constructor(m,x,L){this.delegate=m,this.engine=x,this._zone=L,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,x.onRemovalComplete=(Q,me)=>{const we=me?.parentNode(Q);we&&me.removeChild(we,Q)}}createRenderer(m,x){const Q=this.delegate.createRenderer(m,x);if(!(m&&x&&x.data&&x.data.animation)){let en=this._rendererCache.get(Q);return en||(en=new Ja("",Q,this.engine,()=>this._rendererCache.delete(Q)),this._rendererCache.set(Q,en)),en}const me=x.id,we=x.id+"-"+this._currentId;this._currentId++,this.engine.register(we,m);const He=en=>{Array.isArray(en)?en.forEach(He):this.engine.registerTrigger(me,we,m,en.name,en)};return x.data.animation.forEach(He),new Is(this,we,Q,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(m,x,L){m>=0&&m<this._microtaskId?this._zone.run(()=>x(L)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Q=>{const[me,we]=Q;me(we)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([x,L]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(x){return new(x||N)(E.LFG(E.FYo),E.LFG(xt),E.LFG(E.R0b))};static#t=this.\u0275prov=E.Yz7({token:N,factory:N.\u0275fac})}return N})();class Ja{constructor(_,m,x,L){this.namespaceId=_,this.delegate=m,this.engine=x,this._onDestroy=L}get data(){return this.delegate.data}destroyNode(_){this.delegate.destroyNode?.(_)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(_,m){return this.delegate.createElement(_,m)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,m){this.delegate.appendChild(_,m),this.engine.onInsert(this.namespaceId,m,_,!1)}insertBefore(_,m,x,L=!0){this.delegate.insertBefore(_,m,x),this.engine.onInsert(this.namespaceId,m,_,L)}removeChild(_,m,x){this.engine.onRemove(this.namespaceId,m,this.delegate)}selectRootElement(_,m){return this.delegate.selectRootElement(_,m)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,m,x,L){this.delegate.setAttribute(_,m,x,L)}removeAttribute(_,m,x){this.delegate.removeAttribute(_,m,x)}addClass(_,m){this.delegate.addClass(_,m)}removeClass(_,m){this.delegate.removeClass(_,m)}setStyle(_,m,x,L){this.delegate.setStyle(_,m,x,L)}removeStyle(_,m,x){this.delegate.removeStyle(_,m,x)}setProperty(_,m,x){"@"==m.charAt(0)&&m==Sr?this.disableAnimations(_,!!x):this.delegate.setProperty(_,m,x)}setValue(_,m){this.delegate.setValue(_,m)}listen(_,m,x){return this.delegate.listen(_,m,x)}disableAnimations(_,m){this.engine.disableAnimations(_,m)}}class Is extends Ja{constructor(_,m,x,L,Q){super(m,x,L,Q),this.factory=_,this.namespaceId=m}setProperty(_,m,x){"@"==m.charAt(0)?"."==m.charAt(1)&&m==Sr?this.disableAnimations(_,x=void 0===x||!!x):this.engine.process(this.namespaceId,_,m.slice(1),x):this.delegate.setProperty(_,m,x)}listen(_,m,x){if("@"==m.charAt(0)){const L=function Xa(N){switch(N){case"body":return document.body;case"document":return document;case"window":return window;default:return N}}(_);let Q=m.slice(1),me="";return"@"!=Q.charAt(0)&&([Q,me]=function fu(N){const _=N.indexOf(".");return[N.substring(0,_),N.slice(_+1)]}(Q)),this.engine.listen(this.namespaceId,L,Q,me,we=>{this.factory.scheduleListenerCallback(we._data||-1,x,we)})}return this.delegate.listen(_,m,x)}}const Ha=[{provide:Xt._j,useClass:qt},{provide:Bo,useFactory:function Ro(){return new ms}},{provide:xt,useClass:(()=>{class N extends xt{constructor(m,x,L,Q){super(m.body,x,L)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(x){return new(x||N)(E.LFG(Ve.K0),E.LFG(Xi),E.LFG(Bo),E.LFG(E.z2F))};static#t=this.\u0275prov=E.Yz7({token:N,factory:N.\u0275fac})}return N})()},{provide:E.FYo,useFactory:function as(N,_,m){return new $a(N,_,m)},deps:[p.se,xt,E.R0b]}],yn=[{provide:Xi,useFactory:()=>new Qa},{provide:E.QbO,useValue:"BrowserAnimations"},...Ha];function Fi(){return[...yn]}var Vr=Z(6304);let pu=(()=>{class N{static#e=this.\u0275fac=function(x){return new(x||N)};static#t=this.\u0275mod=E.oAB({type:N,bootstrap:[En]});static#n=this.\u0275inj=E.cJS({providers:[Fi(),(0,he.nd)()],imports:[p.b2,yt,De.u5,De.UX,he.Rh.forRoot(),We.TE,Vr.hO.initializeApp({projectId:"clinica-cd258",appId:"1:252489975231:web:7b94256a52773662cf4d0a",storageBucket:"clinica-cd258.appspot.com",apiKey:"AIzaSyAqXh8A0XH2BMCGSgpOYGtjrEcDb0hb9RQ",authDomain:"clinica-cd258.firebaseapp.com",messagingSenderId:"252489975231"}),(0,Dn.hX)(()=>(0,Dn.ZF)({projectId:"clinica-cd258",appId:"1:252489975231:web:7b94256a52773662cf4d0a",storageBucket:"clinica-cd258.appspot.com",apiKey:"AIzaSyAqXh8A0XH2BMCGSgpOYGtjrEcDb0hb9RQ",authDomain:"clinica-cd258.firebaseapp.com",messagingSenderId:"252489975231"})),(0,Kn.AR)(()=>(0,Kn.v0)()),(0,ue.Cm)(()=>(0,ue.ad)()),ct,or]})}return N})();p.q6().bootstrapModule(pu).catch(N=>console.error(N))},5619:(ln,pt,Z)=>{Z.d(pt,{X:()=>de});var p=Z(8645);class de extends p.x{constructor(De){super(),this._value=De}get value(){return this.getValue()}_subscribe(De){const Me=super._subscribe(De);return!Me.closed&&De.next(this._value),Me}getValue(){const{hasError:De,thrownError:Me,_value:ae}=this;if(De)throw Me;return this._throwIfClosed(),ae}next(De){super.next(this._value=De)}}},5592:(ln,pt,Z)=>{Z.d(pt,{y:()=>Xe});var p=Z(305),de=Z(7394),Ee=Z(4850),De=Z(8407),Me=Z(2653),ae=Z(4674),E=Z(1441);let Xe=(()=>{class Ve{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const Nt=new Ve;return Nt.source=this,Nt.operator=Ae,Nt}subscribe(Ae,Nt,bt){const Vt=function ue(Ve){return Ve&&Ve instanceof p.Lv||function he(Ve){return Ve&&(0,ae.m)(Ve.next)&&(0,ae.m)(Ve.error)&&(0,ae.m)(Ve.complete)}(Ve)&&(0,de.Nn)(Ve)}(Ae)?Ae:new p.Hp(Ae,Nt,bt);return(0,E.x)(()=>{const{operator:St,source:nn}=this;Vt.add(St?St.call(Vt,nn):nn?this._subscribe(Vt):this._trySubscribe(Vt))}),Vt}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(Nt){Ae.error(Nt)}}forEach(Ae,Nt){return new(Nt=We(Nt))((bt,Vt)=>{const St=new p.Hp({next:nn=>{try{Ae(nn)}catch(Mt){Vt(Mt),St.unsubscribe()}},error:Vt,complete:bt});this.subscribe(St)})}_subscribe(Ae){var Nt;return null===(Nt=this.source)||void 0===Nt?void 0:Nt.subscribe(Ae)}[Ee.L](){return this}pipe(...Ae){return(0,De.U)(Ae)(this)}toPromise(Ae){return new(Ae=We(Ae))((Nt,bt)=>{let Vt;this.subscribe(St=>Vt=St,St=>bt(St),()=>Nt(Vt))})}}return Ve.create=it=>new Ve(it),Ve})();function We(Ve){var it;return null!==(it=Ve??Me.config.Promise)&&void 0!==it?it:Promise}},8645:(ln,pt,Z)=>{Z.d(pt,{x:()=>E});var p=Z(5592),de=Z(7394);const De=(0,Z(2306).d)(We=>function(){We(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Me=Z(9039),ae=Z(1441);let E=(()=>{class We extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const Ve=new Xe(this,this);return Ve.operator=ue,Ve}_throwIfClosed(){if(this.closed)throw new De}next(ue){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ve of this.currentObservers)Ve.next(ue)}})}error(ue){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:Ve}=this;for(;Ve.length;)Ve.shift().error(ue)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:Ve,isStopped:it,observers:Ae}=this;return Ve||it?de.Lc:(this.currentObservers=null,Ae.push(ue),new de.w0(()=>{this.currentObservers=null,(0,Me.P)(Ae,ue)}))}_checkFinalizedStatuses(ue){const{hasError:Ve,thrownError:it,isStopped:Ae}=this;Ve?ue.error(it):Ae&&ue.complete()}asObservable(){const ue=new p.y;return ue.source=this,ue}}return We.create=(he,ue)=>new Xe(he,ue),We})();class Xe extends E{constructor(he,ue){super(),this.destination=he,this.source=ue}next(he){var ue,Ve;null===(Ve=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===Ve||Ve.call(ue,he)}error(he){var ue,Ve;null===(Ve=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===Ve||Ve.call(ue,he)}complete(){var he,ue;null===(ue=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===ue||ue.call(he)}_subscribe(he){var ue,Ve;return null!==(Ve=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(he))&&void 0!==Ve?Ve:de.Lc}}},305:(ln,pt,Z)=>{Z.d(pt,{Hp:()=>bt,Lv:()=>Ve});var p=Z(4674),de=Z(7394),Ee=Z(2653),De=Z(3894),Me=Z(2420);const ae=We("C",void 0,void 0);function We(Ce,tt,Ze){return{kind:Ce,value:tt,error:Ze}}var he=Z(7599),ue=Z(1441);class Ve extends de.w0{constructor(tt){super(),this.isStopped=!1,tt?(this.destination=tt,(0,de.Nn)(tt)&&tt.add(this)):this.destination=Mt}static create(tt,Ze,gt){return new bt(tt,Ze,gt)}next(tt){this.isStopped?nn(function Xe(Ce){return We("N",Ce,void 0)}(tt),this):this._next(tt)}error(tt){this.isStopped?nn(function E(Ce){return We("E",void 0,Ce)}(tt),this):(this.isStopped=!0,this._error(tt))}complete(){this.isStopped?nn(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(tt){this.destination.next(tt)}_error(tt){try{this.destination.error(tt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const it=Function.prototype.bind;function Ae(Ce,tt){return it.call(Ce,tt)}class Nt{constructor(tt){this.partialObserver=tt}next(tt){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(tt)}catch(gt){Vt(gt)}}error(tt){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(tt)}catch(gt){Vt(gt)}else Vt(tt)}complete(){const{partialObserver:tt}=this;if(tt.complete)try{tt.complete()}catch(Ze){Vt(Ze)}}}class bt extends Ve{constructor(tt,Ze,gt){let ut;if(super(),(0,p.m)(tt)||!tt)ut={next:tt??void 0,error:Ze??void 0,complete:gt??void 0};else{let ct;this&&Ee.config.useDeprecatedNextContext?(ct=Object.create(tt),ct.unsubscribe=()=>this.unsubscribe(),ut={next:tt.next&&Ae(tt.next,ct),error:tt.error&&Ae(tt.error,ct),complete:tt.complete&&Ae(tt.complete,ct)}):ut=tt}this.destination=new Nt(ut)}}function Vt(Ce){Ee.config.useDeprecatedSynchronousErrorHandling?(0,ue.O)(Ce):(0,De.h)(Ce)}function nn(Ce,tt){const{onStoppedNotification:Ze}=Ee.config;Ze&&he.z.setTimeout(()=>Ze(Ce,tt))}const Mt={closed:!0,next:Me.Z,error:function St(Ce){throw Ce},complete:Me.Z}},7394:(ln,pt,Z)=>{Z.d(pt,{Lc:()=>ae,w0:()=>Me,Nn:()=>E});var p=Z(4674);const Ee=(0,Z(2306).d)(We=>function(ue){We(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((Ve,it)=>`${it+1}) ${Ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var De=Z(9039);class Me{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const Ae of ue)Ae.remove(this);else ue.remove(this);const{initialTeardown:Ve}=this;if((0,p.m)(Ve))try{Ve()}catch(Ae){he=Ae instanceof Ee?Ae.errors:[Ae]}const{_finalizers:it}=this;if(it){this._finalizers=null;for(const Ae of it)try{Xe(Ae)}catch(Nt){he=he??[],Nt instanceof Ee?he=[...he,...Nt.errors]:he.push(Nt)}}if(he)throw new Ee(he)}}add(he){var ue;if(he&&he!==this)if(this.closed)Xe(he);else{if(he instanceof Me){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(he)}}_hasParent(he){const{_parentage:ue}=this;return ue===he||Array.isArray(ue)&&ue.includes(he)}_addParent(he){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(he),ue):ue?[ue,he]:he}_removeParent(he){const{_parentage:ue}=this;ue===he?this._parentage=null:Array.isArray(ue)&&(0,De.P)(ue,he)}remove(he){const{_finalizers:ue}=this;ue&&(0,De.P)(ue,he),he instanceof Me&&he._removeParent(this)}}Me.EMPTY=(()=>{const We=new Me;return We.closed=!0,We})();const ae=Me.EMPTY;function E(We){return We instanceof Me||We&&"closed"in We&&(0,p.m)(We.remove)&&(0,p.m)(We.add)&&(0,p.m)(We.unsubscribe)}function Xe(We){(0,p.m)(We)?We():We.unsubscribe()}},2653:(ln,pt,Z)=>{Z.d(pt,{config:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(ln,pt,Z)=>{Z.d(pt,{E:()=>de});const de=new(Z(5592).y)(Me=>Me.complete())},2459:(ln,pt,Z)=>{Z.d(pt,{D:()=>tt});var p=Z(4829),de=Z(3093),Ee=Z(5137),ae=Z(5592),Xe=Z(4971),We=Z(4674),he=Z(7103);function Ve(Ze,gt){if(!Ze)throw new Error("Iterable cannot be null");return new ae.y(ut=>{(0,he.f)(ut,gt,()=>{const ct=Ze[Symbol.asyncIterator]();(0,he.f)(ut,gt,()=>{ct.next().then(at=>{at.done?ut.complete():ut.next(at.value)})},0,!0)})})}var it=Z(8382),Ae=Z(4026),Nt=Z(4266),bt=Z(3664),Vt=Z(5726),St=Z(9853),nn=Z(541);function tt(Ze,gt){return gt?function Ce(Ze,gt){if(null!=Ze){if((0,it.c)(Ze))return function De(Ze,gt){return(0,p.Xf)(Ze).pipe((0,Ee.R)(gt),(0,de.Q)(gt))}(Ze,gt);if((0,Nt.z)(Ze))return function E(Ze,gt){return new ae.y(ut=>{let ct=0;return gt.schedule(function(){ct===Ze.length?ut.complete():(ut.next(Ze[ct++]),ut.closed||this.schedule())})})}(Ze,gt);if((0,Ae.t)(Ze))return function Me(Ze,gt){return(0,p.Xf)(Ze).pipe((0,Ee.R)(gt),(0,de.Q)(gt))}(Ze,gt);if((0,Vt.D)(Ze))return Ve(Ze,gt);if((0,bt.T)(Ze))return function ue(Ze,gt){return new ae.y(ut=>{let ct;return(0,he.f)(ut,gt,()=>{ct=Ze[Xe.h](),(0,he.f)(ut,gt,()=>{let at,vn;try{({value:at,done:vn}=ct.next())}catch(kn){return void ut.error(kn)}vn?ut.complete():ut.next(at)},0,!0)}),()=>(0,We.m)(ct?.return)&&ct.return()})}(Ze,gt);if((0,nn.L)(Ze))return function Mt(Ze,gt){return Ve((0,nn.Q)(Ze),gt)}(Ze,gt)}throw(0,St.z)(Ze)}(Ze,gt):(0,p.Xf)(Ze)}},4829:(ln,pt,Z)=>{Z.d(pt,{Xf:()=>it});var p=Z(7582),de=Z(4266),Ee=Z(4026),De=Z(5592),Me=Z(8382),ae=Z(5726),E=Z(9853),Xe=Z(3664),We=Z(541),he=Z(4674),ue=Z(3894),Ve=Z(4850);function it(Ce){if(Ce instanceof De.y)return Ce;if(null!=Ce){if((0,Me.c)(Ce))return function Ae(Ce){return new De.y(tt=>{const Ze=Ce[Ve.L]();if((0,he.m)(Ze.subscribe))return Ze.subscribe(tt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ce);if((0,de.z)(Ce))return function Nt(Ce){return new De.y(tt=>{for(let Ze=0;Ze<Ce.length&&!tt.closed;Ze++)tt.next(Ce[Ze]);tt.complete()})}(Ce);if((0,Ee.t)(Ce))return function bt(Ce){return new De.y(tt=>{Ce.then(Ze=>{tt.closed||(tt.next(Ze),tt.complete())},Ze=>tt.error(Ze)).then(null,ue.h)})}(Ce);if((0,ae.D)(Ce))return St(Ce);if((0,Xe.T)(Ce))return function Vt(Ce){return new De.y(tt=>{for(const Ze of Ce)if(tt.next(Ze),tt.closed)return;tt.complete()})}(Ce);if((0,We.L)(Ce))return function nn(Ce){return St((0,We.Q)(Ce))}(Ce)}throw(0,E.z)(Ce)}function St(Ce){return new De.y(tt=>{(function Mt(Ce,tt){var Ze,gt,ut,ct;return(0,p.mG)(this,void 0,void 0,function*(){try{for(Ze=(0,p.KL)(Ce);!(gt=yield Ze.next()).done;)if(tt.next(gt.value),tt.closed)return}catch(at){ut={error:at}}finally{try{gt&&!gt.done&&(ct=Ze.return)&&(yield ct.call(Ze))}finally{if(ut)throw ut.error}}tt.complete()})})(Ce,tt).catch(Ze=>tt.error(Ze))})}},2096:(ln,pt,Z)=>{Z.d(pt,{of:()=>Ee});var p=Z(4564),de=Z(2459);function Ee(...De){const Me=(0,p.yG)(De);return(0,de.D)(De,Me)}},8251:(ln,pt,Z)=>{Z.d(pt,{x:()=>de});var p=Z(305);function de(De,Me,ae,E,Xe){return new Ee(De,Me,ae,E,Xe)}class Ee extends p.Lv{constructor(Me,ae,E,Xe,We,he){super(Me),this.onFinalize=We,this.shouldUnsubscribe=he,this._next=ae?function(ue){try{ae(ue)}catch(Ve){Me.error(Ve)}}:super._next,this._error=Xe?function(ue){try{Xe(ue)}catch(Ve){Me.error(Ve)}finally{this.unsubscribe()}}:super._error,this._complete=E?function(){try{E()}catch(ue){Me.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(Me=this.onFinalize)||void 0===Me||Me.call(this))}}}},7398:(ln,pt,Z)=>{Z.d(pt,{U:()=>Ee});var p=Z(9360),de=Z(8251);function Ee(De,Me){return(0,p.e)((ae,E)=>{let Xe=0;ae.subscribe((0,de.x)(E,We=>{E.next(De.call(Me,We,Xe++))}))})}},7537:(ln,pt,Z)=>{Z.d(pt,{J:()=>Ee});var p=Z(1631),de=Z(2737);function Ee(De=1/0){return(0,p.z)(de.y,De)}},1631:(ln,pt,Z)=>{Z.d(pt,{z:()=>Xe});var p=Z(7398),de=Z(4829),Ee=Z(9360),De=Z(7103),Me=Z(8251),E=Z(4674);function Xe(We,he,ue=1/0){return(0,E.m)(he)?Xe((Ve,it)=>(0,p.U)((Ae,Nt)=>he(Ve,Ae,it,Nt))((0,de.Xf)(We(Ve,it))),ue):("number"==typeof he&&(ue=he),(0,Ee.e)((Ve,it)=>function ae(We,he,ue,Ve,it,Ae,Nt,bt){const Vt=[];let St=0,nn=0,Mt=!1;const Ce=()=>{Mt&&!Vt.length&&!St&&he.complete()},tt=gt=>St<Ve?Ze(gt):Vt.push(gt),Ze=gt=>{Ae&&he.next(gt),St++;let ut=!1;(0,de.Xf)(ue(gt,nn++)).subscribe((0,Me.x)(he,ct=>{it?.(ct),Ae?tt(ct):he.next(ct)},()=>{ut=!0},void 0,()=>{if(ut)try{for(St--;Vt.length&&St<Ve;){const ct=Vt.shift();Nt?(0,De.f)(he,Nt,()=>Ze(ct)):Ze(ct)}Ce()}catch(ct){he.error(ct)}}))};return We.subscribe((0,Me.x)(he,tt,()=>{Mt=!0,Ce()})),()=>{bt?.()}}(Ve,it,We,ue)))}},3093:(ln,pt,Z)=>{Z.d(pt,{Q:()=>De});var p=Z(7103),de=Z(9360),Ee=Z(8251);function De(Me,ae=0){return(0,de.e)((E,Xe)=>{E.subscribe((0,Ee.x)(Xe,We=>(0,p.f)(Xe,Me,()=>Xe.next(We),ae),()=>(0,p.f)(Xe,Me,()=>Xe.complete(),ae),We=>(0,p.f)(Xe,Me,()=>Xe.error(We),ae)))})}},5137:(ln,pt,Z)=>{Z.d(pt,{R:()=>de});var p=Z(9360);function de(Ee,De=0){return(0,p.e)((Me,ae)=>{ae.add(Ee.schedule(()=>Me.subscribe(ae),De))})}},4664:(ln,pt,Z)=>{Z.d(pt,{w:()=>De});var p=Z(4829),de=Z(9360),Ee=Z(8251);function De(Me,ae){return(0,de.e)((E,Xe)=>{let We=null,he=0,ue=!1;const Ve=()=>ue&&!We&&Xe.complete();E.subscribe((0,Ee.x)(Xe,it=>{We?.unsubscribe();let Ae=0;const Nt=he++;(0,p.Xf)(Me(it,Nt)).subscribe(We=(0,Ee.x)(Xe,bt=>Xe.next(ae?ae(it,bt,Nt,Ae++):bt),()=>{We=null,Ve()}))},()=>{ue=!0,Ve()}))})}},9397:(ln,pt,Z)=>{Z.d(pt,{b:()=>Me});var p=Z(4674),de=Z(9360),Ee=Z(8251),De=Z(2737);function Me(ae,E,Xe){const We=(0,p.m)(ae)||E||Xe?{next:ae,error:E,complete:Xe}:ae;return We?(0,de.e)((he,ue)=>{var Ve;null===(Ve=We.subscribe)||void 0===Ve||Ve.call(We);let it=!0;he.subscribe((0,Ee.x)(ue,Ae=>{var Nt;null===(Nt=We.next)||void 0===Nt||Nt.call(We,Ae),ue.next(Ae)},()=>{var Ae;it=!1,null===(Ae=We.complete)||void 0===Ae||Ae.call(We),ue.complete()},Ae=>{var Nt;it=!1,null===(Nt=We.error)||void 0===Nt||Nt.call(We,Ae),ue.error(Ae)},()=>{var Ae,Nt;it&&(null===(Ae=We.unsubscribe)||void 0===Ae||Ae.call(We)),null===(Nt=We.finalize)||void 0===Nt||Nt.call(We)}))}):De.y}},1954:(ln,pt,Z)=>{Z.d(pt,{o:()=>Me});var p=Z(7394);class de extends p.w0{constructor(E,Xe){super()}schedule(E,Xe=0){return this}}const Ee={setInterval(ae,E,...Xe){const{delegate:We}=Ee;return We?.setInterval?We.setInterval(ae,E,...Xe):setInterval(ae,E,...Xe)},clearInterval(ae){const{delegate:E}=Ee;return(E?.clearInterval||clearInterval)(ae)},delegate:void 0};var De=Z(9039);class Me extends de{constructor(E,Xe){super(E,Xe),this.scheduler=E,this.work=Xe,this.pending=!1}schedule(E,Xe=0){var We;if(this.closed)return this;this.state=E;const he=this.id,ue=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(ue,he,Xe)),this.pending=!0,this.delay=Xe,this.id=null!==(We=this.id)&&void 0!==We?We:this.requestAsyncId(ue,this.id,Xe),this}requestAsyncId(E,Xe,We=0){return Ee.setInterval(E.flush.bind(E,this),We)}recycleAsyncId(E,Xe,We=0){if(null!=We&&this.delay===We&&!1===this.pending)return Xe;null!=Xe&&Ee.clearInterval(Xe)}execute(E,Xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const We=this._execute(E,Xe);if(We)return We;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(E,Xe){let he,We=!1;try{this.work(E)}catch(ue){We=!0,he=ue||new Error("Scheduled action threw falsy error")}if(We)return this.unsubscribe(),he}unsubscribe(){if(!this.closed){const{id:E,scheduler:Xe}=this,{actions:We}=Xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,De.P)(We,this),null!=E&&(this.id=this.recycleAsyncId(Xe,E,null)),this.delay=null,super.unsubscribe()}}}},9931:(ln,pt,Z)=>{Z.d(pt,{v:()=>Ee});const p={now:()=>(p.delegate||Date).now(),delegate:void 0};class de{constructor(Me,ae=de.now){this.schedulerActionCtor=Me,this.now=ae}schedule(Me,ae=0,E){return new this.schedulerActionCtor(this,Me).schedule(E,ae)}}de.now=p.now;class Ee extends de{constructor(Me,ae=de.now){super(Me,ae),this.actions=[],this._active=!1}flush(Me){const{actions:ae}=this;if(this._active)return void ae.push(Me);let E;this._active=!0;do{if(E=Me.execute(Me.state,Me.delay))break}while(Me=ae.shift());if(this._active=!1,E){for(;Me=ae.shift();)Me.unsubscribe();throw E}}}},6321:(ln,pt,Z)=>{Z.d(pt,{z:()=>Ee});var p=Z(1954);const Ee=new(Z(9931).v)(p.o)},7599:(ln,pt,Z)=>{Z.d(pt,{z:()=>p});const p={setTimeout(de,Ee,...De){const{delegate:Me}=p;return Me?.setTimeout?Me.setTimeout(de,Ee,...De):setTimeout(de,Ee,...De)},clearTimeout(de){const{delegate:Ee}=p;return(Ee?.clearTimeout||clearTimeout)(de)},delegate:void 0}},4971:(ln,pt,Z)=>{Z.d(pt,{h:()=>de});const de=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ln,pt,Z)=>{Z.d(pt,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(ln,pt,Z)=>{Z.d(pt,{_6:()=>ae,jO:()=>De,yG:()=>Me});var p=Z(4674);function Ee(E){return E[E.length-1]}function De(E){return(0,p.m)(Ee(E))?E.pop():void 0}function Me(E){return function de(E){return E&&(0,p.m)(E.schedule)}(Ee(E))?E.pop():void 0}function ae(E,Xe){return"number"==typeof Ee(E)?E.pop():Xe}},7453:(ln,pt,Z)=>{Z.d(pt,{D:()=>Me});const{isArray:p}=Array,{getPrototypeOf:de,prototype:Ee,keys:De}=Object;function Me(E){if(1===E.length){const Xe=E[0];if(p(Xe))return{args:Xe,keys:null};if(function ae(E){return E&&"object"==typeof E&&de(E)===Ee}(Xe)){const We=De(Xe);return{args:We.map(he=>Xe[he]),keys:We}}}return{args:E,keys:null}}},9039:(ln,pt,Z)=>{function p(de,Ee){if(de){const De=de.indexOf(Ee);0<=De&&de.splice(De,1)}}Z.d(pt,{P:()=>p})},2306:(ln,pt,Z)=>{function p(de){const De=de(Me=>{Error.call(Me),Me.stack=(new Error).stack});return De.prototype=Object.create(Error.prototype),De.prototype.constructor=De,De}Z.d(pt,{d:()=>p})},2714:(ln,pt,Z)=>{function p(de,Ee){return de.reduce((De,Me,ae)=>(De[Me]=Ee[ae],De),{})}Z.d(pt,{n:()=>p})},1441:(ln,pt,Z)=>{Z.d(pt,{O:()=>De,x:()=>Ee});var p=Z(2653);let de=null;function Ee(Me){if(p.config.useDeprecatedSynchronousErrorHandling){const ae=!de;if(ae&&(de={errorThrown:!1,error:null}),Me(),ae){const{errorThrown:E,error:Xe}=de;if(de=null,E)throw Xe}}else Me()}function De(Me){p.config.useDeprecatedSynchronousErrorHandling&&de&&(de.errorThrown=!0,de.error=Me)}},7103:(ln,pt,Z)=>{function p(de,Ee,De,Me=0,ae=!1){const E=Ee.schedule(function(){De(),ae?de.add(this.schedule(null,Me)):this.unsubscribe()},Me);if(de.add(E),!ae)return E}Z.d(pt,{f:()=>p})},2737:(ln,pt,Z)=>{function p(de){return de}Z.d(pt,{y:()=>p})},4266:(ln,pt,Z)=>{Z.d(pt,{z:()=>p});const p=de=>de&&"number"==typeof de.length&&"function"!=typeof de},5726:(ln,pt,Z)=>{Z.d(pt,{D:()=>de});var p=Z(4674);function de(Ee){return Symbol.asyncIterator&&(0,p.m)(Ee?.[Symbol.asyncIterator])}},4674:(ln,pt,Z)=>{function p(de){return"function"==typeof de}Z.d(pt,{m:()=>p})},8382:(ln,pt,Z)=>{Z.d(pt,{c:()=>Ee});var p=Z(4850),de=Z(4674);function Ee(De){return(0,de.m)(De[p.L])}},3664:(ln,pt,Z)=>{Z.d(pt,{T:()=>Ee});var p=Z(4971),de=Z(4674);function Ee(De){return(0,de.m)(De?.[p.h])}},4026:(ln,pt,Z)=>{Z.d(pt,{t:()=>de});var p=Z(4674);function de(Ee){return(0,p.m)(Ee?.then)}},541:(ln,pt,Z)=>{Z.d(pt,{L:()=>De,Q:()=>Ee});var p=Z(7582),de=Z(4674);function Ee(Me){return(0,p.FC)(this,arguments,function*(){const E=Me.getReader();try{for(;;){const{value:Xe,done:We}=yield(0,p.qq)(E.read());if(We)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(Xe)}}finally{E.releaseLock()}})}function De(Me){return(0,de.m)(Me?.getReader)}},9360:(ln,pt,Z)=>{Z.d(pt,{A:()=>de,e:()=>Ee});var p=Z(4674);function de(De){return(0,p.m)(De?.lift)}function Ee(De){return Me=>{if(de(Me))return Me.lift(function(ae){try{return De(ae,this)}catch(E){this.error(E)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(ln,pt,Z)=>{Z.d(pt,{Z:()=>De});var p=Z(7398);const{isArray:de}=Array;function De(Me){return(0,p.U)(ae=>function Ee(Me,ae){return de(ae)?Me(...ae):Me(ae)}(Me,ae))}},2420:(ln,pt,Z)=>{function p(){}Z.d(pt,{Z:()=>p})},8407:(ln,pt,Z)=>{Z.d(pt,{U:()=>Ee,z:()=>de});var p=Z(2737);function de(...De){return Ee(De)}function Ee(De){return 0===De.length?p.y:1===De.length?De[0]:function(ae){return De.reduce((E,Xe)=>Xe(E),ae)}}},3894:(ln,pt,Z)=>{Z.d(pt,{h:()=>Ee});var p=Z(2653),de=Z(7599);function Ee(De){de.z.setTimeout(()=>{const{onUnhandledError:Me}=p.config;if(!Me)throw De;Me(De)})}},9853:(ln,pt,Z)=>{function p(de){return new TypeError(`You provided ${null!==de&&"object"==typeof de?"an invalid object":`'${de}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Z.d(pt,{z:()=>p})},6825:(ln,pt,Z)=>{Z.d(pt,{LC:()=>de,SB:()=>We,X$:()=>De,ZE:()=>St,ZN:()=>Vt,_j:()=>p,eR:()=>ue,jt:()=>Me,k1:()=>nn,l3:()=>Ee,oB:()=>Xe,vP:()=>E});class p{}class de{}const Ee="*";function De(Mt,Ce){return{type:7,name:Mt,definitions:Ce,options:{}}}function Me(Mt,Ce=null){return{type:4,styles:Ce,timings:Mt}}function E(Mt,Ce=null){return{type:2,steps:Mt,options:Ce}}function Xe(Mt){return{type:6,styles:Mt,offset:null}}function We(Mt,Ce,tt){return{type:0,name:Mt,styles:Ce,options:tt}}function ue(Mt,Ce,tt=null){return{type:1,expr:Mt,animation:Ce,options:tt}}class Vt{constructor(Ce=0,tt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ce+tt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ce=>Ce()),this._onDoneFns=[])}onStart(Ce){this._originalOnStartFns.push(Ce),this._onStartFns.push(Ce)}onDone(Ce){this._originalOnDoneFns.push(Ce),this._onDoneFns.push(Ce)}onDestroy(Ce){this._onDestroyFns.push(Ce)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ce=>Ce()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ce=>Ce()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ce){this._position=this.totalTime?Ce*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ce){const tt="start"==Ce?this._onStartFns:this._onDoneFns;tt.forEach(Ze=>Ze()),tt.length=0}}class St{constructor(Ce){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ce;let tt=0,Ze=0,gt=0;const ut=this.players.length;0==ut?queueMicrotask(()=>this._onFinish()):this.players.forEach(ct=>{ct.onDone(()=>{++tt==ut&&this._onFinish()}),ct.onDestroy(()=>{++Ze==ut&&this._onDestroy()}),ct.onStart(()=>{++gt==ut&&this._onStart()})}),this.totalTime=this.players.reduce((ct,at)=>Math.max(ct,at.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ce=>Ce()),this._onDoneFns=[])}init(){this.players.forEach(Ce=>Ce.init())}onStart(Ce){this._onStartFns.push(Ce)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ce=>Ce()),this._onStartFns=[])}onDone(Ce){this._onDoneFns.push(Ce)}onDestroy(Ce){this._onDestroyFns.push(Ce)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ce=>Ce.play())}pause(){this.players.forEach(Ce=>Ce.pause())}restart(){this.players.forEach(Ce=>Ce.restart())}finish(){this._onFinish(),this.players.forEach(Ce=>Ce.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ce=>Ce.destroy()),this._onDestroyFns.forEach(Ce=>Ce()),this._onDestroyFns=[])}reset(){this.players.forEach(Ce=>Ce.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ce){const tt=Ce*this.totalTime;this.players.forEach(Ze=>{const gt=Ze.totalTime?Math.min(1,tt/Ze.totalTime):1;Ze.setPosition(gt)})}getPosition(){const Ce=this.players.reduce((tt,Ze)=>null===tt||Ze.totalTime>tt.totalTime?Ze:tt,null);return null!=Ce?Ce.getPosition():0}beforeDestroy(){this.players.forEach(Ce=>{Ce.beforeDestroy&&Ce.beforeDestroy()})}triggerCallback(Ce){const tt="start"==Ce?this._onStartFns:this._onDoneFns;tt.forEach(Ze=>Ze()),tt.length=0}}const nn="!"},6814:(ln,pt,Z)=>{Z.d(pt,{Do:()=>bt,EM:()=>_e,HT:()=>De,JF:()=>Wt,K0:()=>ae,Mx:()=>xs,NF:()=>Yt,O5:()=>Ji,PM:()=>Rn,S$:()=>it,V_:()=>Xe,Ye:()=>Vt,b0:()=>Nt,bD:()=>vs,ez:()=>Ds,q:()=>Ee,sg:()=>hs,w_:()=>Me});var p=Z(4946);let de=null;function Ee(){return de}function De(D){de||(de=D)}class Me{}const ae=new p.OlP("DocumentToken");let E=(()=>{class D{historyGo(k){throw new Error("Not implemented")}static#e=this.\u0275fac=function(G){return new(G||D)};static#t=this.\u0275prov=p.Yz7({token:D,factory:function(){return(0,p.f3M)(We)},providedIn:"platform"})}return D})();const Xe=new p.OlP("Location Initialized");let We=(()=>{class D extends E{constructor(){super(),this._doc=(0,p.f3M)(ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ee().getBaseHref(this._doc)}onPopState(k){const G=Ee().getGlobalEventTarget(this._doc,"window");return G.addEventListener("popstate",k,!1),()=>G.removeEventListener("popstate",k)}onHashChange(k){const G=Ee().getGlobalEventTarget(this._doc,"window");return G.addEventListener("hashchange",k,!1),()=>G.removeEventListener("hashchange",k)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(k){this._location.pathname=k}pushState(k,G,ge){this._history.pushState(k,G,ge)}replaceState(k,G,ge){this._history.replaceState(k,G,ge)}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}static#e=this.\u0275fac=function(G){return new(G||D)};static#t=this.\u0275prov=p.Yz7({token:D,factory:function(){return new D},providedIn:"platform"})}return D})();function he(D,K){if(0==D.length)return K;if(0==K.length)return D;let k=0;return D.endsWith("/")&&k++,K.startsWith("/")&&k++,2==k?D+K.substring(1):1==k?D+K:D+"/"+K}function ue(D){const K=D.match(/#|\?|$/),k=K&&K.index||D.length;return D.slice(0,k-("/"===D[k-1]?1:0))+D.slice(k)}function Ve(D){return D&&"?"!==D[0]?"?"+D:D}let it=(()=>{class D{historyGo(k){throw new Error("Not implemented")}static#e=this.\u0275fac=function(G){return new(G||D)};static#t=this.\u0275prov=p.Yz7({token:D,factory:function(){return(0,p.f3M)(Nt)},providedIn:"root"})}return D})();const Ae=new p.OlP("appBaseHref");let Nt=(()=>{class D extends it{constructor(k,G){super(),this._platformLocation=k,this._removeListenerFns=[],this._baseHref=G??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return he(this._baseHref,k)}path(k=!1){const G=this._platformLocation.pathname+Ve(this._platformLocation.search),ge=this._platformLocation.hash;return ge&&k?`${G}${ge}`:G}pushState(k,G,ge,nt){const Tt=this.prepareExternalUrl(ge+Ve(nt));this._platformLocation.pushState(k,G,Tt)}replaceState(k,G,ge,nt){const Tt=this.prepareExternalUrl(ge+Ve(nt));this._platformLocation.replaceState(k,G,Tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}static#e=this.\u0275fac=function(G){return new(G||D)(p.LFG(E),p.LFG(Ae,8))};static#t=this.\u0275prov=p.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})(),bt=(()=>{class D extends it{constructor(k,G){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=G&&(this._baseHref=G)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let G=this._platformLocation.hash;return null==G&&(G="#"),G.length>0?G.substring(1):G}prepareExternalUrl(k){const G=he(this._baseHref,k);return G.length>0?"#"+G:G}pushState(k,G,ge,nt){let Tt=this.prepareExternalUrl(ge+Ve(nt));0==Tt.length&&(Tt=this._platformLocation.pathname),this._platformLocation.pushState(k,G,Tt)}replaceState(k,G,ge,nt){let Tt=this.prepareExternalUrl(ge+Ve(nt));0==Tt.length&&(Tt=this._platformLocation.pathname),this._platformLocation.replaceState(k,G,Tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}static#e=this.\u0275fac=function(G){return new(G||D)(p.LFG(E),p.LFG(Ae,8))};static#t=this.\u0275prov=p.Yz7({token:D,factory:D.\u0275fac})}return D})(),Vt=(()=>{class D{constructor(k){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=k;const G=this._locationStrategy.getBaseHref();this._basePath=function Ce(D){if(new RegExp("^(https?:)?//").test(D)){const[,k]=D.split(/\/\/[^\/]+/);return k}return D}(ue(Mt(G))),this._locationStrategy.onPopState(ge=>{this._subject.emit({url:this.path(!0),pop:!0,state:ge.state,type:ge.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(k=!1){return this.normalize(this._locationStrategy.path(k))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(k,G=""){return this.path()==this.normalize(k+Ve(G))}normalize(k){return D.stripTrailingSlash(function nn(D,K){if(!D||!K.startsWith(D))return K;const k=K.substring(D.length);return""===k||["/",";","?","#"].includes(k[0])?k:K}(this._basePath,Mt(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._locationStrategy.prepareExternalUrl(k)}go(k,G="",ge=null){this._locationStrategy.pushState(ge,"",k,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Ve(G)),ge)}replaceState(k,G="",ge=null){this._locationStrategy.replaceState(ge,"",k,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Ve(G)),ge)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(k=0){this._locationStrategy.historyGo?.(k)}onUrlChange(k){return this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(G=>{this._notifyUrlChangeListeners(G.url,G.state)})),()=>{const G=this._urlChangeListeners.indexOf(k);this._urlChangeListeners.splice(G,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(k="",G){this._urlChangeListeners.forEach(ge=>ge(k,G))}subscribe(k,G,ge){return this._subject.subscribe({next:k,error:G,complete:ge})}static#e=this.normalizeQueryParams=Ve;static#t=this.joinWithSlash=he;static#n=this.stripTrailingSlash=ue;static#r=this.\u0275fac=function(G){return new(G||D)(p.LFG(it))};static#i=this.\u0275prov=p.Yz7({token:D,factory:function(){return function St(){return new Vt((0,p.LFG)(it))}()},providedIn:"root"})}return D})();function Mt(D){return D.replace(/\/index.html$/,"")}function xs(D,K){K=encodeURIComponent(K);for(const k of D.split(";")){const G=k.indexOf("="),[ge,nt]=-1==G?[k,""]:[k.slice(0,G),k.slice(G+1)];if(ge.trim()===K)return decodeURIComponent(nt)}return null}class tr{constructor(K,k,G,ge){this.$implicit=K,this.ngForOf=k,this.index=G,this.count=ge}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hs=(()=>{class D{set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}constructor(k,G,ge){this._viewContainer=k,this._template=G,this._differs=ge,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const G=this._viewContainer;k.forEachOperation((ge,nt,Tt)=>{if(null==ge.previousIndex)G.createEmbeddedView(this._template,new tr(ge.item,this._ngForOf,-1,-1),null===Tt?void 0:Tt);else if(null==Tt)G.remove(null===nt?void 0:nt);else if(null!==nt){const fn=G.get(nt);G.move(fn,Tt),ti(fn,ge)}});for(let ge=0,nt=G.length;ge<nt;ge++){const fn=G.get(ge).context;fn.index=ge,fn.count=nt,fn.ngForOf=this._ngForOf}k.forEachIdentityChange(ge=>{ti(G.get(ge.currentIndex),ge)})}static ngTemplateContextGuard(k,G){return!0}static#e=this.\u0275fac=function(G){return new(G||D)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))};static#t=this.\u0275dir=p.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return D})();function ti(D,K){D.context.$implicit=K.item}let Ji=(()=>{class D{constructor(k,G){this._viewContainer=k,this._context=new fs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=G}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){Zs("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){Zs("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,G){return!0}static#e=this.\u0275fac=function(G){return new(G||D)(p.Y36(p.s_b),p.Y36(p.Rgc))};static#t=this.\u0275dir=p.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return D})();class fs{constructor(){this.$implicit=null,this.ngIf=null}}function Zs(D,K){if(K&&!K.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,p.AaK)(K)}'.`)}let Ds=(()=>{class D{static#e=this.\u0275fac=function(G){return new(G||D)};static#t=this.\u0275mod=p.oAB({type:D});static#n=this.\u0275inj=p.cJS({})}return D})();const vs="browser",ps="server";function Yt(D){return D===vs}function Rn(D){return D===ps}let _e=(()=>{class D{static#e=this.\u0275prov=(0,p.Yz7)({token:D,providedIn:"root",factory:()=>new Oe((0,p.LFG)(ae),window)})}return D})();class Oe{constructor(K,k){this.document=K,this.window=k,this.offset=()=>[0,0]}setOffset(K){this.offset=Array.isArray(K)?()=>K:K}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(K){this.supportsScrolling()&&this.window.scrollTo(K[0],K[1])}scrollToAnchor(K){if(!this.supportsScrolling())return;const k=function Qe(D,K){const k=D.getElementById(K)||D.getElementsByName(K)[0];if(k)return k;if("function"==typeof D.createTreeWalker&&D.body&&"function"==typeof D.body.attachShadow){const G=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let ge=G.currentNode;for(;ge;){const nt=ge.shadowRoot;if(nt){const Tt=nt.getElementById(K)||nt.querySelector(`[name="${K}"]`);if(Tt)return Tt}ge=G.nextNode()}}return null}(this.document,K);k&&(this.scrollToElement(k),k.focus())}setHistoryScrollRestoration(K){this.supportsScrolling()&&(this.window.history.scrollRestoration=K)}scrollToElement(K){const k=K.getBoundingClientRect(),G=k.left+this.window.pageXOffset,ge=k.top+this.window.pageYOffset,nt=this.offset();this.window.scrollTo(G-nt[0],ge-nt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Wt{}},4946:(ln,pt,Z)=>{Z.d(pt,{QbO:()=>ry,tb:()=>oE,AFp:()=>Wl,ip1:()=>LI,hGG:()=>GD,z2F:()=>fp,Ojb:()=>iv,sBO:()=>AD,Sil:()=>WC,_Vd:()=>hl,EJc:()=>GC,Xts:()=>eh,SBq:()=>nd,lqb:()=>Cu,qLn:()=>Bu,vpe:()=>Au,XFs:()=>zt,OlP:()=>bn,zs3:()=>Su,ZZ4:()=>hE,aQg:()=>fE,soG:()=>R_,YKP:()=>Hw,h0i:()=>Mh,PXZ:()=>vD,R0b:()=>Fo,FiY:()=>Wa,Lbi:()=>sh,g9A:()=>df,Qsj:()=>og,FYo:()=>ly,JOm:()=>Qc,q3G:()=>bc,tp0:()=>Wo,Rgc:()=>gm,dDg:()=>gD,eoX:()=>zI,q4F:()=>Ef,GfV:()=>dy,s_b:()=>M_,ifc:()=>Oi,VuI:()=>tS,MMx:()=>zw,Lck:()=>CT,eFA:()=>ZI,Gpc:()=>ct,f3M:()=>Zt,X6Q:()=>SD,$WT:()=>Yi,MR2:()=>sl,_c5:()=>HD,qFp:()=>rS,rg0:()=>ws,c2e:()=>VI,zSh:()=>Kp,HDt:()=>UI,wAp:()=>cp,vHH:()=>Et,lri:()=>HI,rWj:()=>GI,JZr:()=>wt,EiD:()=>Gp,mCW:()=>Qd,qzn:()=>Uu,JVY:()=>Zd,pB0:()=>Gm,eBb:()=>Hm,L6k:()=>$m,LAX:()=>ma,cg1:()=>O0,kL8:()=>pw,dqk:()=>hn,Z0I:()=>cr,eJc:()=>Y0,QGY:()=>e_,F4k:()=>Xg,RDi:()=>jm,AaK:()=>Ze,z3N:()=>Vu,qOj:()=>Kf,Xq5:()=>Mc,TTD:()=>xt,_Bn:()=>$w,jDz:()=>qw,xp6:()=>bg,uIk:()=>_h,Tol:()=>g_,ekj:()=>p_,Suo:()=>mI,Xpm:()=>Os,lG2:()=>Xi,Yz7:()=>er,cJS:()=>Pn,oAB:()=>To,Yjl:()=>Ps,Y36:()=>ad,_UZ:()=>Jy,BQk:()=>Jg,ynx:()=>Qg,qZA:()=>ep,TgZ:()=>Xf,EpF:()=>l0,n5z:()=>Ne,LFG:()=>Kt,$8M:()=>Jt,$Z:()=>Pf,NdJ:()=>em,CRH:()=>yI,kcU:()=>sc,O4$:()=>Id,oxw:()=>n_,Q6J:()=>Yy,MGl:()=>vd,iGM:()=>gI,KtG:()=>hi,CHM:()=>On,oJD:()=>Zm,LSH:()=>Xd,P3R:()=>tf,Udp:()=>f_,d8E:()=>ap,YNc:()=>Wy,_uU:()=>D0,Oqu:()=>v_,hij:()=>am,HOy:()=>E_,xDo:()=>w_});var p=Z(8645),de=Z(7394),Ee=Z(5592),De=Z(7537),Me=Z(4829),ae=Z(6232),E=Z(4564),Xe=Z(2459),he=Z(5619),ue=Z(2096),Ve=Z(305),it=Z(9360);function Ae(t={}){const{connector:r=(()=>new p.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=t;return d=>{let y,I,R,U=0,J=!1,fe=!1;const ke=()=>{I?.unsubscribe(),I=void 0},ze=()=>{ke(),y=R=void 0,J=fe=!1},It=()=>{const Ut=y;ze(),Ut?.unsubscribe()};return(0,it.e)((Ut,cn)=>{U++,!fe&&!J&&ke();const Ln=R=R??r();cn.add(()=>{U--,0===U&&!fe&&!J&&(I=Nt(It,c))}),Ln.subscribe(cn),!y&&U>0&&(y=new Ve.Hp({next:Rt=>Ln.next(Rt),error:Rt=>{fe=!0,ke(),I=Nt(ze,s,Rt),Ln.error(Rt)},complete:()=>{J=!0,ke(),I=Nt(ze,a),Ln.complete()}}),(0,Me.Xf)(Ut).subscribe(y))})(d)}}function Nt(t,r,...s){if(!0===r)return void t();if(!1===r)return;const a=new Ve.Hp({next:()=>{a.unsubscribe(),t()}});return(0,Me.Xf)(r(...s)).subscribe(a)}var bt=Z(4664),Vt=Z(2737),St=Z(8251);function Mt(t,r){return t===r}function Ce(t){for(let r in t)if(t[r]===Ce)return r;throw Error("Could not find renamed property on target object.")}function tt(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function Ze(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ze).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function gt(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const ut=Ce({__forward_ref__:Ce});function ct(t){return t.__forward_ref__=ct,t.toString=function(){return Ze(this())},t}function at(t){return vn(t)?t():t}function vn(t){return"function"==typeof t&&t.hasOwnProperty(ut)&&t.__forward_ref__===ct}function kn(t){return t&&!!t.\u0275providers}const wt="https://g.co/ng/security#xss";class Et extends Error{constructor(r,s){super(function In(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function Ft(t){return"string"==typeof t?t:null==t?"":String(t)}function Te(t,r){throw new Et(-201,!1)}function qn(t,r){null==t&&function gn(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function er(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Pn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Mn(t){return Br(t,Rr)||Br(t,lr)}function cr(t){return null!==Mn(t)}function Br(t,r){return t.hasOwnProperty(r)?t[r]:null}function hr(t){return t&&(t.hasOwnProperty(ai)||t.hasOwnProperty(ui))?t[ai]:null}const Rr=Ce({\u0275prov:Ce}),ai=Ce({\u0275inj:Ce}),lr=Ce({ngInjectableDef:Ce}),ui=Ce({ngInjectorDef:Ce});var zt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(zt||{});let Zi;function jr(t){const r=Zi;return Zi=t,r}function Xr(t,r,s){const a=Mn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&zt.Optional?null:void 0!==r?r:void Te(Ze(t))}const hn=globalThis;class bn{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=er({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const En={},Dn="__NG_DI_FLAG__",Kn="ngTempTokenPath",Wr=/\n/gm,Ei="__source";let Ri;function Be(t){const r=Ri;return Ri=t,r}function At(t,r=zt.Default){if(void 0===Ri)throw new Et(-203,!1);return null===Ri?Xr(t,void 0,r):Ri.get(t,r&zt.Optional?null:void 0,r)}function Kt(t,r=zt.Default){return(function Ui(){return Zi}()||At)(at(t),r)}function Zt(t,r=zt.Default){return Kt(t,$n(r))}function $n(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ei(t){const r=[];for(let s=0;s<t.length;s++){const a=at(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Et(900,!1);let c,d=zt.Default;for(let y=0;y<a.length;y++){const I=a[y],R=Ni(I);"number"==typeof R?-1===R?c=I.token:d|=R:c=I}r.push(Kt(c,d))}else r.push(Kt(a))}return r}function vr(t,r){return t[Dn]=r,t.prototype[Dn]=r,t}function Ni(t){return t[Dn]}function gr(t){return{toString:t}.toString()}var Bi=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Bi||{}),Oi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Oi||{});const wi={},tr=[],hs=Ce({\u0275cmp:Ce}),ti=Ce({\u0275dir:Ce}),pi=Ce({\u0275pipe:Ce}),Ji=Ce({\u0275mod:Ce}),fs=Ce({\u0275fac:Ce}),Zs=Ce({__NG_ELEMENT_ID__:Ce}),xe=Ce({__NG_ENV_ID__:Ce});function Re(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}function je(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],y=s[a++],I=s[a++];t.setAttribute(r,y,I,d)}else{const d=c,y=s[++a];kt(d)?t.setProperty(r,d,y):t.setAttribute(r,d,y),a++}}return a}function mt(t){return 3===t||4===t||6===t}function kt(t){return 64===t.charCodeAt(0)}function on(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||nr(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function nr(t,r,s,a,c){let d=0,y=t.length;if(-1===r)y=-1;else for(;d<t.length;){const I=t[d++];if("number"==typeof I){if(I===r){y=-1;break}if(I>r){y=d-1;break}}}for(;d<t.length;){const I=t[d];if("number"==typeof I)break;if(I===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==y&&(t.splice(y,0,r),d=y+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const Un="ng-template";function ar(t,r,s){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const y=t[a++];if(s&&"class"===d&&-1!==Re(y.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function ji(t){return 4===t.type&&t.value!==Un}function gi(t,r,s){return r===(4!==t.type||s?t.value:Un)}function Fr(t,r,s){let a=4;const c=t.attrs||[],d=function Mi(t){for(let r=0;r<t.length;r++)if(mt(t[r]))return r;return t.length}(c);let y=!1;for(let I=0;I<r.length;I++){const R=r[I];if("number"!=typeof R){if(!y)if(4&a){if(a=2|1&a,""!==R&&!gi(t,R,s)||""===R&&1===r.length){if(Ir(a))return!1;y=!0}}else{const U=8&a?R:r[++I];if(8&a&&null!==t.attrs){if(!ar(t.attrs,U,s)){if(Ir(a))return!1;y=!0}continue}const fe=$s(8&a?"class":R,c,ji(t),s);if(-1===fe){if(Ir(a))return!1;y=!0;continue}if(""!==U){let ke;ke=fe>d?"":c[fe+1].toLowerCase();const ze=8&a?ke:null;if(ze&&-1!==Re(ze,U,0)||2&a&&U!==ke){if(Ir(a))return!1;y=!0}}}}else{if(!y&&!Ir(a)&&!Ir(R))return!1;if(y&&Ir(R))continue;y=!1,a=R|1&a}}return Ir(a)||y}function Ir(t){return 0==(1&t)}function $s(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const y=r[c];if(y===t)return c;if(3===y||6===y)d=!0;else{if(1===y||2===y){let I=r[++c];for(;"string"==typeof I;)I=r[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=d?1:2}return-1}return function ho(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function co(t,r,s=!1){for(let a=0;a<r.length;a++)if(Fr(t,r[a],s))return!0;return!1}function Ys(t,r){return t?":not("+r.trim()+")":r}function Io(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let y=t[s];if("string"==typeof y)if(2&a){const I=t[++s];c+="["+y+(I.length>0?'="'+I+'"':"")+"]"}else 8&a?c+="."+y:4&a&&(c+=" "+y);else""!==c&&!Ir(y)&&(r+=Ys(d,c),c=""),a=y,d=d||!Ir(a);s++}return""!==c&&(r+=Ys(d,c)),r}function Os(t){return gr(()=>{const r=ks(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Bi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Oi.Emulated,styles:t.styles||tr,_:null,schemas:t.schemas||null,tView:null,id:""};Ds(s);const a=t.dependencies;return s.directiveDefs=vs(a,!1),s.pipeDefs=vs(a,!0),s.id=function Fs(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function po(t){return Vn(t)||pr(t)}function bo(t){return null!==t}function To(t){return gr(()=>({type:t.type,bootstrap:t.bootstrap||tr,declarations:t.declarations||tr,imports:t.imports||tr,exports:t.exports||tr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function $i(t,r){if(null==t)return wi;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function Xi(t){return gr(()=>{const r=ks(t);return Ds(r),r})}function Ps(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Vn(t){return t[hs]||null}function pr(t){return t[ti]||null}function xn(t){return t[pi]||null}function Yi(t){const r=Vn(t)||pr(t)||xn(t);return null!==r&&r.standalone}function $r(t,r){const s=t[Ji]||null;if(!s&&!0===r)throw new Error(`Type ${Ze(t)} does not have '\u0275mod' property.`);return s}function ks(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||wi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||tr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$i(t.inputs,r),outputs:$i(t.outputs)}}function Ds(t){t.features?.forEach(r=>r(t))}function vs(t,r){if(!t)return null;const s=r?xn:po;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(bo)}const mr=0,Yt=1,Rn=2,H=3,z=4,pe=5,_e=6,Oe=7,Qe=8,Pt=9,Wt=10,Ct=11,Nn=12,Jn=13,xr=14,Zn=15,Hr=16,yr=17,Kr=18,Lr=19,ci=20,Ii=21,Gr=22,ur=23,ss=24,Yn=25,mi=1,es=2,xi=7,gs=9,bi=11;function Pi(t){return Array.isArray(t)&&"object"==typeof t[mi]}function ki(t){return Array.isArray(t)&&!0===t[mi]}function Co(t){return 0!=(4&t.flags)}function Hs(t){return t.componentOffset>-1}function br(t){return 1==(1&t.flags)}function ri(t){return!!t.template}function Jo(t){return 0!=(512&t[Rn])}function jo(t,r){return t.hasOwnProperty(fs)?t[fs]:null}let Tr=null,So=!1;function Ls(t){const r=Tr;return Tr=t,r}const Ao={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Es(t){if(!xo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!aa(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Ra(t){t.dirty=!0,function ea(t){if(void 0===t.liveConsumerNode)return;const r=So;So=!0;try{for(const s of t.liveConsumerNode)s.dirty||Ra(s)}finally{So=r}}(t),t.consumerMarkedDirty?.(t)}function $o(t){return t&&(t.nextProducerIndex=0),Ls(t)}function mo(t,r){if(Ls(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(xo(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Mo(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function aa(t){Vs(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(Es(s),a!==s.version))return!0}return!1}function ba(t){if(Vs(t),xo(t))for(let r=0;r<t.producerNode.length;r++)Mo(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Mo(t,r){if(function Us(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Vs(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Mo(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Vs(c),c.producerIndexOfThis[a]=r}}function xo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Vs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let ge=null;function ws(t){const r=Ls(null);try{return t()}finally{Ls(r)}}const di=()=>{},qi=(()=>({...Ao,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:di}))();class ua{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function xt(){return Wi}function Wi(t){return t.type.prototype.ngOnChanges&&(t.setInput=ca),_o}function _o(){const t=Tn(this),r=t?.current;if(r){const s=t.previous;if(s===wi)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function ca(t,r,s,a){const c=this.declaredInputs[s],d=Tn(t)||function Qa(t,r){return t[an]=r}(t,{previous:wi,current:null}),y=d.current||(d.current={}),I=d.previous,R=I[c];y[c]=new ua(R&&R.currentValue,r,I===wi),t[a]=r}xt.ngInherit=!0;const an="__ngSimpleChanges__";function Tn(t){return t[an]||null}const Dt=function(t,r,s){},Qi="svg";function Sr(t){for(;Array.isArray(t);)t=t[mr];return t}function Ja(t,r){return Sr(r[t])}function Is(t,r){return Sr(r[t.index])}function fu(t,r){return t.data[r]}function Ro(t,r){const s=r[t];return Pi(s)?s:s[mr]}function zs(t,r){return null==r?null:t[r]}function bs(t){t[yr]=0}function Fi(t){1024&t[Rn]||(t[Rn]|=1024,Na(t,1))}function pn(t){1024&t[Rn]&&(t[Rn]&=-1025,Na(t,-1))}function Na(t,r){let s=t[H];if(null===s)return;s[pe]+=r;let a=s;for(s=s[H];null!==s&&(1===r&&1===a[pe]||-1===r&&0===a[pe]);)s[pe]+=r,a=s,s=s[H]}const N={lFrame:jn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function me(){return N.bindingsEnabled}function et(){return N.lFrame.lView}function Ht(){return N.lFrame.tView}function On(t){return N.lFrame.contextLView=t,t[Qe]}function hi(t){return N.lFrame.contextLView=null,t}function Fe(){let t=Ki();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ki(){return N.lFrame.currentTNode}function Ti(t,r){const s=N.lFrame;s.currentTNode=t,s.isParent=r}function qs(){return N.lFrame.isParent}function us(){N.lFrame.isParent=!1}function No(){return N.lFrame.bindingIndex}function Ci(){return N.lFrame.bindingIndex++}function eo(t){const r=N.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function v(t,r){const s=N.lFrame;s.bindingIndex=s.bindingRootIndex=t,F(r)}function F(t){N.lFrame.currentDirectiveIndex=t}function Y(t){const r=N.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function le(){return N.lFrame.currentQueryIndex}function Ge(t){N.lFrame.currentQueryIndex=t}function qe(t){const r=t[Yt];return 2===r.type?r.declTNode:1===r.type?t[_e]:null}function Ot(t,r,s){if(s&zt.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&zt.Host||(c=qe(d),null===c||(d=d[xr],10&c.type))););if(null===c)return!1;r=c,t=d}const a=N.lFrame=Ar();return a.currentTNode=r,a.lView=t,!0}function Hn(t){const r=Ar(),s=t[Yt];N.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Ar(){const t=N.lFrame,r=null===t?null:t.child;return null===r?jn(t):r}function jn(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function As(){const t=N.lFrame;return N.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Di=As;function to(){const t=As();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Bs(){return N.lFrame.selectedIndex}function eu(t){N.lFrame.selectedIndex=t}function cs(){const t=N.lFrame;return fu(t.tView,t.selectedIndex)}function Id(){N.lFrame.currentNamespace=Qi}function sc(){!function bd(){N.lFrame.currentNamespace=null}()}let Td=!0;function Ru(){return Td}function la(t){Td=t}function rs(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:I,ngAfterViewInit:R,ngAfterViewChecked:U,ngOnDestroy:J}=d;y&&(t.contentHooks??=[]).push(-s,y),I&&((t.contentHooks??=[]).push(s,I),(t.contentCheckHooks??=[]).push(s,I)),R&&(t.viewHooks??=[]).push(-s,R),U&&((t.viewHooks??=[]).push(s,U),(t.viewCheckHooks??=[]).push(s,U)),null!=J&&(t.destroyHooks??=[]).push(s,J)}}function oc(t,r,s){Vi(t,r,3,s)}function Pa(t,r,s,a){(3&t[Rn])===s&&Vi(t,r,s,a)}function Nu(t,r){let s=t[Rn];(3&s)===r&&(s&=8191,s+=1,t[Rn]=s)}function Vi(t,r,s,a){const d=a??-1,y=r.length-1;let I=0;for(let R=void 0!==a?65535&t[yr]:0;R<y;R++)if("number"==typeof r[R+1]){if(I=r[R],null!=a&&I>=a)break}else r[R]<0&&(t[yr]+=65536),(I<d||-1==d)&&(ro(t,s,r,R),t[yr]=(4294901760&t[yr])+R+2),R++}function tu(t,r){Dt(4,t,r);const s=Ls(null);try{r.call(t)}finally{Ls(s),Dt(5,t,r)}}function ro(t,r,s,a){const c=s[a]<0,d=s[a+1],I=t[c?-s[a]:s[a]];c?t[Rn]>>13<t[yr]>>16&&(3&t[Rn])===r&&(t[Rn]+=8192,tu(I,d)):tu(I,d)}const Si=-1;class gu{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function ra(t){return t!==Si}function Ta(t){return 32767&t}function ia(t,r){let s=function kc(t){return t>>16}(t),a=r;for(;s>0;)a=a[xr],s--;return a}let Ou=!0;function Go(t){const r=Ou;return Ou=t,r}const za=255,Ca=5;let ha=0;const zo={};function uc(t,r){const s=Pu(t,r);if(-1!==s)return s;const a=r[Yt];a.firstCreatePass&&(t.injectorIndex=r.length,ru(a.data,t),ru(r,null),ru(a.blueprint,null));const c=fa(t,r),d=t.injectorIndex;if(ra(c)){const y=Ta(c),I=ia(c,r),R=I[Yt].data;for(let U=0;U<8;U++)r[d+U]=I[y+U]|R[y+U]}return r[d+8]=c,d}function ru(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Pu(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function fa(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=sn(c),null===a)return Si;if(s++,c=c[xr],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return Si}function La(t,r,s){!function nu(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Zs)&&(a=s[Zs]),null==a&&(a=s[Zs]=ha++);const c=a&za;r.data[t+(c>>Ca)]|=1<<c}(t,r,s)}function iu(t,r,s){if(s&zt.Optional||void 0!==t)return t;Te()}function qa(t,r,s,a){if(s&zt.Optional&&void 0===a&&(a=null),!(s&(zt.Self|zt.Host))){const c=t[Pt],d=jr(void 0);try{return c?c.get(r,a,s&zt.Optional):Xr(r,a,s&zt.Optional)}finally{jr(d)}}return iu(a,0,s)}function Lc(t,r,s,a=zt.Default,c){if(null!==t){if(2048&r[Rn]&&!(a&zt.Self)){const y=function ft(t,r,s,a,c){let d=t,y=r;for(;null!==d&&null!==y&&2048&y[Rn]&&!(512&y[Rn]);){const I=pa(d,y,s,a|zt.Self,zo);if(I!==zo)return I;let R=d.parent;if(!R){const U=y[ci];if(U){const J=U.get(s,zo,a);if(J!==zo)return J}R=sn(y),y=y[xr]}d=R}return c}(t,r,s,a,zo);if(y!==zo)return y}const d=pa(t,r,s,a,zo);if(d!==zo)return d}return qa(r,s,a,c)}function pa(t,r,s,a,c){const d=function Sd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Zs)?t[Zs]:void 0;return"number"==typeof r?r>=0?r&za:ce:r}(s);if("function"==typeof d){if(!Ot(r,t,a))return a&zt.Host?iu(c,0,a):qa(r,s,a,c);try{let y;if(y=d(a),null!=y||a&zt.Optional)return y;Te()}finally{Di()}}else if("number"==typeof d){let y=null,I=Pu(t,r),R=Si,U=a&zt.Host?r[Zn][_e]:null;for((-1===I||a&zt.SkipSelf)&&(R=-1===I?fa(t,r):r[I+8],R!==Si&&Uc(a,!1)?(y=r[Yt],I=Ta(R),r=ia(R,r)):I=-1);-1!==I;){const J=r[Yt];if(Vc(d,I,J.data)){const fe=Wu(I,r,s,y,a,U);if(fe!==zo)return fe}R=r[I+8],R!==Si&&Uc(a,r[Yt].data[I+8]===U)&&Vc(d,I,r)?(y=J,I=Ta(R),r=ia(R,r)):I=-1}}return c}function Wu(t,r,s,a,c,d){const y=r[Yt],I=y.data[t+8],J=yu(I,y,s,null==a?Hs(I)&&Ou:a!=y&&0!=(3&I.type),c&zt.Host&&d===I);return null!==J?su(r,y,J,I):zo}function yu(t,r,s,a,c){const d=t.providerIndexes,y=r.data,I=1048575&d,R=t.directiveStart,J=d>>20,ke=c?I+J:t.directiveEnd;for(let ze=a?I:I+J;ze<ke;ze++){const It=y[ze];if(ze<R&&s===It||ze>=R&&It.type===s)return ze}if(c){const ze=y[R];if(ze&&ri(ze)&&ze.type===s)return R}return null}function su(t,r,s,a){let c=t[s];const d=r.data;if(function mu(t){return t instanceof gu}(c)){const y=c;y.resolving&&function $e(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Et(-200,`Circular dependency in DI detected for ${t}${s}`)}(function Cn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ft(t)}(d[s]));const I=Go(y.canSeeViewProviders);y.resolving=!0;const U=y.injectImpl?jr(y.injectImpl):null;Ot(t,a,zt.Default);try{c=t[s]=y.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Dl(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const y=Wi(r);(s.preOrderHooks??=[]).push(t,y),(s.preOrderCheckHooks??=[]).push(t,y)}c&&(s.preOrderHooks??=[]).push(0-t,c),d&&((s.preOrderHooks??=[]).push(t,d),(s.preOrderCheckHooks??=[]).push(t,d))}(s,d[s],r)}finally{null!==U&&jr(U),Go(I),y.resolving=!1,Di()}}return c}function Vc(t,r,s){return!!(s[r+(t>>Ca)]&1<<t)}function Uc(t,r){return!(t&zt.Self||t&zt.Host&&r)}class B{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Lc(this._tNode,this._lView,r,$n(a),s)}}function ce(){return new B(Fe(),et())}function Ne(t){return gr(()=>{const r=t.prototype.constructor,s=r[fs]||Ue(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[fs]||Ue(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Ue(t){return vn(t)?()=>{const r=Ue(at(t));return r&&r()}:jo(t)}function sn(t){const r=t[Yt],s=r.type;return 2===s?r.declTNode:1===s?t[_e]:null}function Jt(t){return function Fc(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(mt(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(Fe(),t)}const rn="__parameters__";function Va(t,r,s){return gr(()=>{const a=function Ts(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const y=new c(...d);return I.annotation=y,I;function I(R,U,J){const fe=R.hasOwnProperty(rn)?R[rn]:Object.defineProperty(R,rn,{value:[]})[rn];for(;fe.length<=J;)fe.push(null);return(fe[J]=fe[J]||[]).push(y),R}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function vu(t,r){t.forEach(s=>Array.isArray(s)?vu(s,r):r(s))}function jc(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function $c(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function qo(t,r,s){let a=Iu(t,r);return a>=0?t[1|a]=s:(a=~a,function dc(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function wu(t,r){const s=Iu(t,r);if(s>=0)return t[1|s]}function Iu(t,r){return function Eo(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),y=t[d<<s];if(r===y)return d<<s;y>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const Wa=vr(Va("Optional"),8),Wo=vr(Va("SkipSelf"),4);function Zc(t){return 128==(128&t.flags)}var Qc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qc||{});const Rm=/^>|^->|<!--|-->|--!>|<!-$/g,C=/(<|>)/g,h="\u200b$1\u200b";const M=new Map;let W=0;const ga="__ngContext__";function Cs(t,r){Pi(r)?(t[ga]=r[Lr],function Le(t){M.set(t[Lr],t)}(r)):t[ga]=r}let Xc;function mc(t,r){return Xc(t,r)}function Ud(t){const r=t[H];return ki(r)?r[H]:r}function Dp(t){return Tu(t[Nn])}function Ll(t){return Tu(t[z])}function Tu(t){for(;null!==t&&!ki(t);)t=t[z];return t}function yc(t,r,s,a,c){if(null!=a){let d,y=!1;ki(a)?d=a:Pi(a)&&(y=!0,a=a[mr]);const I=Sr(a);0===t&&null!==s?null==c?el(r,s,I):Ba(r,s,I,c||null,!0):1===t&&null!==s?Ba(r,s,I,c||null,!0):2===t?function Bl(t,r,s){const a=cu(t,r);a&&function H_(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,I,y):3===t&&r.destroyNode(I),null!=d&&function zh(t,r,s,a,c){const d=s[xi];d!==Sr(s)&&yc(r,t,a,d,c);for(let I=bi;I<s.length;I++){const R=s[I];zd(R[Yt],R,t,r,a,d)}}(r,t,d,s,c)}}function $h(t,r){return t.createComment(function g(t){return t.replace(Rm,r=>r.replace(C,h))}(r))}function jd(t,r,s){return t.createElement(r,s)}function Ap(t,r){const s=t[gs],a=s.indexOf(r);pn(r),s.splice(a,1)}function Ul(t,r){if(t.length<=bi)return;const s=bi+r,a=t[s];if(a){const c=a[Hr];null!==c&&c!==t&&Ap(c,a),r>0&&(t[s-1][z]=a[z]);const d=$c(t,bi+r);!function Om(t,r){zd(t,r,r[Ct],2,null,null),r[mr]=null,r[_e]=null}(a[Yt],a);const y=d[Kr];null!==y&&y.detachView(d[Yt]),a[H]=null,a[z]=null,a[Rn]&=-129}return a}function Hh(t,r){if(!(256&r[Rn])){const s=r[Ct];r[ur]&&ba(r[ur]),r[ss]&&ba(r[ss]),s.destroyNode&&zd(t,r,s,3,null,null),function $d(t){let r=t[Nn];if(!r)return Mp(t[Yt],t);for(;r;){let s=null;if(Pi(r))s=r[Nn];else{const a=r[bi];a&&(s=a)}if(!s){for(;r&&!r[z]&&r!==t;)Pi(r)&&Mp(r[Yt],r),r=r[H];null===r&&(r=t),Pi(r)&&Mp(r[Yt],r),s=r&&r[z]}r=s}}(r)}}function Mp(t,r){if(!(256&r[Rn])){r[Rn]&=-129,r[Rn]|=256,function $_(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof gu)){const d=s[a+1];if(Array.isArray(d))for(let y=0;y<d.length;y+=2){const I=c[d[y]],R=d[y+1];Dt(4,I,R);try{R.call(I)}finally{Dt(5,I,R)}}else{Dt(4,c,d);try{d.call(c)}finally{Dt(5,c,d)}}}}}(t,r),function Pm(t,r){const s=t.cleanup,a=r[Oe];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const y=s[d+3];y>=0?a[y]():a[-y].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[Oe]=null);const c=r[Ii];if(null!==c){r[Ii]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[Yt].type&&r[Ct].destroy();const s=r[Hr];if(null!==s&&ki(r[H])){s!==r[H]&&Ap(s,r);const a=r[Kr];null!==a&&a.detachView(t)}!function Qt(t){M.delete(t[Lr])}(r)}}function xp(t,r,s){return function km(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[mr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===Oi.None||d===Oi.Emulated)return null}return Is(a,s)}}(t,r.parent,s)}function Ba(t,r,s,a,c){t.insertBefore(r,s,a,c)}function el(t,r,s){t.appendChild(r,s)}function Rp(t,r,s,a,c){null!==a?Ba(t,r,s,a,c):el(t,r,s)}function cu(t,r){return t.parentNode(r)}let Yu,qh,Vp,Hl,Hd=function Np(t,r,s){return 40&t.type?Is(t,s):null};function Lu(t,r,s,a){const c=xp(t,a,r),d=r[Ct],I=function Lm(t,r,s){return Hd(t,r,s)}(a.parent||r[_e],a,r);if(null!=c)if(Array.isArray(s))for(let R=0;R<s.length;R++)Rp(d,c,s[R],I,!1);else Rp(d,c,s,I,!1);void 0!==Yu&&Yu(d,a,r,s,c)}function Qu(t,r){if(null!==r){const s=r.type;if(3&s)return Is(r,t);if(4&s)return Gd(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return Qu(t,a);{const c=t[r.index];return ki(c)?Gd(-1,c):Sr(c)}}if(32&s)return mc(r,t)()||Sr(t[r.index]);{const a=Op(t,r);return null!==a?Array.isArray(a)?a[0]:Qu(Ud(t[Zn]),a):Qu(t,r.next)}}return null}function Op(t,r){return null!==r?t[Zn][_e].projection[r.projection]:null}function Gd(t,r){const s=bi+t+1;if(s<r.length){const a=r[s],c=a[Yt].firstChild;if(null!==c)return Qu(a,c)}return r[xi]}function Gh(t,r,s,a,c,d,y){for(;null!=s;){const I=a[s.index],R=s.type;if(y&&0===r&&(I&&Cs(Sr(I),a),s.flags|=2),32!=(32&s.flags))if(8&R)Gh(t,r,s.child,a,c,d,!1),yc(r,t,c,I,d);else if(32&R){const U=mc(s,a);let J;for(;J=U();)yc(r,t,c,J,d);yc(r,t,c,I,d)}else 16&R?kp(t,r,a,s,c,d):yc(r,t,c,I,d);s=y?s.projectionNext:s.next}}function zd(t,r,s,a,c,d){Gh(s,a,t.firstChild,r,c,d,!1)}function kp(t,r,s,a,c,d){const y=s[Zn],R=y[_e].projection[a.projection];if(Array.isArray(R))for(let U=0;U<R.length;U++)yc(r,t,c,R[U],d);else{let U=R;const J=y[H];Zc(a)&&(U.flags|=128),Gh(t,r,U,J,c,d,!0)}}function Um(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Fp(t,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&je(t,r,a),null!==c&&Um(t,r,c),null!==d&&function tl(t,r,s){t.setAttribute(r,"style",s)}(t,r,d)}function jl(t){return function Lp(){if(void 0===qh&&(qh=null,hn.trustedTypes))try{qh=hn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return qh}()?.createHTML(t)||t}function jm(t){Vp=t}function $l(){if(void 0!==Vp)return Vp;if(typeof document<"u")return document;throw new Et(210,!1)}function Kd(){if(void 0===Hl&&(Hl=null,hn.trustedTypes))try{Hl=hn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Hl}function Up(t){return Kd()?.createHTML(t)||t}function Kh(t){return Kd()?.createScriptURL(t)||t}class vc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wt})`}}class Zh extends vc{getTypeName(){return"HTML"}}class z_ extends vc{getTypeName(){return"Style"}}class Bp extends vc{getTypeName(){return"Script"}}class Yh extends vc{getTypeName(){return"URL"}}class q_ extends vc{getTypeName(){return"ResourceURL"}}function Vu(t){return t instanceof vc?t.changingThisBreaksApplicationSecurity:t}function Uu(t,r){const s=function Qh(t){return t instanceof vc&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${wt})`)}return s===r}function Zd(t){return new Zh(t)}function $m(t){return new z_(t)}function Hm(t){return new Bp(t)}function ma(t){return new Yh(t)}function Gm(t){return new q_(t)}class Jh{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(jl(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class zm{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=jl(r),s}}const Gl=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Qd(t){return(t=String(t)).match(Gl)?t:"unsafe:"+t}function Da(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function Jd(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const il=Da("area,br,col,hr,img,wbr"),jp=Da("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ju=Da("rp,rt"),$p=Jd(il,Jd(jp,Da("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jd(Ju,Da("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jd(Ju,jp)),Xh=Da("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qm=Jd(Xh,Da("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Da("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Z_=Da("script,style,template");class Wm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!$p.hasOwnProperty(s))return this.sanitizedSomething=!0,!Z_.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let c=0;c<a.length;c++){const d=a.item(c),y=d.name,I=y.toLowerCase();if(!qm.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let R=d.value;Xh[I]&&(R=Qd(R)),this.buf.push(" ",y,'="',wc(R),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();$p.hasOwnProperty(s)&&!il.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(wc(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const Y_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Km=/([^\#-~ |!])/g;function wc(t){return t.replace(/&/g,"&amp;").replace(Y_,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Km,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ic;function Gp(t,r){let s=null;try{Ic=Ic||function Yd(t){const r=new zm(t);return function Ec(){try{return!!(new window.DOMParser).parseFromString(jl(""),"text/html")}catch{return!1}}()?new Jh(r):r}(t);let a=r?String(r):"";s=Ic.getInertBodyElement(a);let c=5,d=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=d,d=s.innerHTML,s=Ic.getInertBodyElement(a)}while(a!==d);return jl((new Wm).sanitizeChildren(ef(s)||s))}finally{if(s){const a=ef(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function ef(t){return"content"in t&&function Q_(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var bc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(bc||{});function Zm(t){const r=Tc();return r?Up(r.sanitize(bc.HTML,t)||""):Uu(t,"HTML")?Up(Vu(t)):Gp($l(),Ft(t))}function Xd(t){const r=Tc();return r?r.sanitize(bc.URL,t)||"":Uu(t,"URL")?Vu(t):Qd(Ft(t))}function ko(t){const r=Tc();if(r)return Kh(r.sanitize(bc.RESOURCE_URL,t)||"");if(Uu(t,"ResourceURL"))return Kh(Vu(t));throw new Et(904,!1)}function tf(t,r,s){return function nv(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?ko:Xd}(r,s)(t)}function Tc(){const t=et();return t&&t[Wt].sanitizer}const eh=new bn("ENVIRONMENT_INITIALIZER"),qp=new bn("INJECTOR",-1),nf=new bn("INJECTOR_DEF_TYPES");class th{get(r,s=En){if(s===En){const a=new Error(`NullInjectorError: No provider for ${Ze(r)}!`);throw a.name="NullInjectorError",a}return s}}function sl(t){return{\u0275providers:t}}function rf(...t){return{\u0275providers:sf(0,t),\u0275fromNgModule:!0}}function sf(t,...r){const s=[],a=new Set;let c;const d=y=>{s.push(y)};return vu(r,y=>{const I=y;nh(I,d,[],a)&&(c||=[],c.push(I))}),void 0!==c&&af(c,d),s}function af(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:c}=t[s];uf(c,d=>{r(d,a)})}}function nh(t,r,s,a){if(!(t=at(t)))return!1;let c=null,d=hr(t);const y=!d&&Vn(t);if(d||y){if(y&&!y.standalone)return!1;c=t}else{const R=t.ngModule;if(d=hr(R),!d)return!1;c=R}const I=a.has(c);if(y){if(I)return!1;if(a.add(c),y.dependencies){const R="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const U of R)nh(U,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!I){let U;a.add(c);try{vu(d.imports,J=>{nh(J,r,s,a)&&(U||=[],U.push(J))})}finally{}void 0!==U&&af(U,r)}if(!I){const U=jo(c)||(()=>new c);r({provide:c,useFactory:U,deps:tr},c),r({provide:nf,useValue:c,multi:!0},c),r({provide:eh,useValue:()=>Kt(c),multi:!0},c)}const R=d.providers;if(null!=R&&!I){const U=t;uf(R,J=>{r(J,U)})}}}return c!==t&&void 0!==t.providers}function uf(t,r){for(let s of t)kn(s)&&(s=s.\u0275providers),Array.isArray(s)?uf(s,r):r(s)}const Ym=Ce({provide:String,useValue:Ce});function rh(t){return null!==t&&"object"==typeof t&&Ym in t}function ol(t){return"function"==typeof t}const Kp=new bn("Set Injector scope."),Xu={},zl={};let ih;function al(){return void 0===ih&&(ih=new th),ih}class Cu{}class ul extends Cu{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ql(r,y=>this.processProvider(y)),this.records.set(qp,Cc(void 0,this)),c.has("environment")&&this.records.set(Cu,Cc(void 0,this));const d=this.records.get(Kp);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(nf.multi,tr,zt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=Be(this),a=jr(void 0);try{return r()}finally{Be(s),jr(a)}}get(r,s=En,a=zt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(xe))return r[xe](this);a=$n(a);const d=Be(this),y=jr(void 0);try{if(!(a&zt.SkipSelf)){let R=this.records.get(r);if(void 0===R){const U=function Yp(t){return"function"==typeof t||"object"==typeof t&&t instanceof bn}(r)&&Mn(r);R=U&&this.injectableDefInScope(U)?Cc(cf(r),Xu):null,this.records.set(r,R)}if(null!=R)return this.hydrate(r,R)}return(a&zt.Self?al():this.parent).get(r,s=a&zt.Optional&&s===En?null:s)}catch(I){if("NullInjectorError"===I.name){if((I[Kn]=I[Kn]||[]).unshift(Ze(r)),d)throw I;return function xs(t,r,s,a){const c=t[Kn];throw r[Ei]&&c.unshift(r[Ei]),t.message=function Rs(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Ze(r);if(Array.isArray(r))c=r.map(Ze).join(" -> ");else if("object"==typeof r){let d=[];for(let y in r)if(r.hasOwnProperty(y)){let I=r[y];d.push(y+":"+("string"==typeof I?JSON.stringify(I):Ze(I)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(Wr,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[Kn]=null,t}(I,r,"R3InjectorError",this.source)}throw I}finally{jr(y),Be(d)}}resolveInjectorInitializers(){const r=Be(this),s=jr(void 0);try{const c=this.get(eh.multi,tr,zt.Self);for(const d of c)d()}finally{Be(r),jr(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Ze(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Et(205,!1)}processProvider(r){let s=ol(r=at(r))?r:at(r&&r.provide);const a=function Zp(t){return rh(t)?Cc(void 0,t.useValue):Cc(Xm(t),Xu)}(r);if(ol(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Cc(void 0,Xu,!0),c.factory=()=>ei(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Xu&&(s.value=zl,s.value=s.factory()),"object"==typeof s.value&&s.value&&function ty(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=at(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function cf(t){const r=Mn(t),s=null!==r?r.factory:jo(t);if(null!==s)return s;if(t instanceof bn)throw new Et(204,!1);if(t instanceof Function)return function rv(t){const r=t.length;if(r>0)throw function lc(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new Et(204,!1);const s=function Zr(t){return t&&(t[Rr]||t[lr])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Et(204,!1)}function Xm(t,r,s){let a;if(ol(t)){const c=at(t);return jo(c)||cf(c)}if(rh(t))a=()=>at(t.useValue);else if(function Wp(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...ei(t.deps||[]));else if(function Qm(t){return!(!t||!t.useExisting)}(t))a=()=>Kt(at(t.useExisting));else{const c=at(t&&(t.useClass||t.provide));if(!function ey(t){return!!t.deps}(t))return jo(c)||cf(c);a=()=>new c(...ei(t.deps))}return a}function Cc(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function ql(t,r){for(const s of t)Array.isArray(s)?ql(s,r):s&&kn(s)?ql(s.\u0275providers,r):r(s)}const Wl=new bn("AppId",{providedIn:"root",factory:()=>lf}),lf="ng",df=new bn("Platform Initializer"),sh=new bn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ry=new bn("AnimationModuleType"),iv=new bn("CSP nonce",{providedIn:"root",factory:()=>$l().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let pf=(t,r,s)=>null;function Ql(t,r,s=!1){return pf(t,r,s)}class av{}class yf{}class ed{resolveComponentFactory(r){throw function _f(t){const r=Error(`No component factory found for ${Ze(t)}.`);return r.ngComponent=t,r}(r)}}let hl=(()=>{class t{static#e=this.NULL=new ed}return t})();function cv(){return td(Fe(),et())}function td(t,r){return new nd(Is(t,r))}let nd=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=cv}return t})();function cy(t){return t instanceof nd?t.nativeElement:t}class ly{}let og=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function lv(){const t=et(),s=Ro(Fe().index,t);return(Pi(s)?s:t)[Ct]}()}return t})(),ag=(()=>{class t{static#e=this.\u0275prov=er({token:t,providedIn:"root",factory:()=>null})}return t})();class dy{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Ef=new dy("16.2.12"),ug={};function pl(t,r=null,s=null,a){const c=fy(t,r,s,a);return c.resolveInjectorInitializers(),c}function fy(t,r=null,s=null,a,c=new Set){const d=[s||tr,rf(t)];return a=a||("object"==typeof t?void 0:Ze(t)),new ul(d,r||al(),a||null,c)}let Su=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=En;static#t=this.NULL=new th;static create(s,a){if(Array.isArray(s))return pl({name:""},a,s,"");{const c=s.name??"";return pl({name:c},s.parent,s.providers,c)}}static#n=this.\u0275prov=er({token:t,providedIn:"any",factory:()=>Kt(qp)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function ch(t){return t.ngOriginalError}class Bu{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&ch(r);for(;s&&ch(s);)s=ch(s);return s||null}}function fg(t){return r=>{setTimeout(t,void 0,r)}}const Au=class hg extends p.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),y=a;if(r&&"object"==typeof r){const R=r;c=R.next?.bind(R),d=R.error?.bind(R),y=R.complete?.bind(R)}this.__isAsync&&(d=fg(d),c&&(c=fg(c)),y&&(y=fg(y)));const I=super.subscribe({next:c,error:d,complete:y});return r instanceof de.w0&&r.add(I),I}};function my(...t){}class Fo{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Au(!1),this.onMicrotaskEmpty=new Au(!1),this.onStable=new Au(!1),this.onError=new Au(!1),typeof Zone>"u")throw new Et(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function yy(){const t="function"==typeof hn.requestAnimationFrame;let r=hn[t?"requestAnimationFrame":"setTimeout"],s=hn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function gv(t){const r=()=>{!function pv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(hn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,gg(t),t.isCheckStableRunning=!0,pg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),gg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,y,I)=>{if(function mv(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(I))return s.invokeTask(c,d,y,I);try{return Cf(t),s.invokeTask(c,d,y,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),Df(t)}},onInvoke:(s,a,c,d,y,I,R)=>{try{return Cf(t),s.invoke(c,d,y,I,R)}finally{t.shouldCoalesceRunChangeDetection&&r(),Df(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,gg(t),pg(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fo.isInAngularZone())throw new Et(909,!1)}static assertNotInAngularZone(){if(Fo.isInAngularZone())throw new Et(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,y=d.scheduleEventTask("NgZoneEvent: "+c,r,_y,my,my);try{return d.runTask(y,s,a)}finally{d.cancelTask(y)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const _y={};function pg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Cf(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Df(t){t._nesting--,pg(t)}class mg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Au,this.onMicrotaskEmpty=new Au,this.onStable=new Au,this.onError=new Au}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const vy=new bn("",{providedIn:"root",factory:Sf});function Sf(){const t=Zt(Fo);let r=!0;return function We(...t){const r=(0,E.yG)(t),s=(0,E._6)(t,1/0),a=t;return a.length?1===a.length?(0,Me.Xf)(a[0]):(0,De.J)(s)((0,Xe.D)(a,r)):ae.E}(new Ee.y(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),new Ee.y(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{Fo.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const y=t.onUnstable.subscribe(()=>{Fo.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),y.unsubscribe()}}).pipe(Ae()))}function ec(t){return t instanceof Function?t():t}let vg=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=er({token:t,providedIn:"root",factory:()=>new t})}return t})();function ml(t){for(;t;){t[Rn]|=64;const r=Ud(t);if(Jo(t)&&!r)return t;t=r}return null}const yl=new bn("",{providedIn:"root",factory:()=>!1});let od=null;function Dy(t,r){return t[r]??Ig()}function Nf(t,r){const s=Ig();s.producerNode?.length&&(t[r]=od,s.lView=t,od=Of())}const Ev={...Ao,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ml(t.lView)},lView:null};function Of(){return Object.create(Ev)}function Ig(){return od??=Of(),od}const wr={};function bg(t){Sy(Ht(),et(),Bs()+t,!1)}function Sy(t,r,s,a){if(!a)if(3==(3&r[Rn])){const d=t.preOrderCheckHooks;null!==d&&oc(r,d,s)}else{const d=t.preOrderHooks;null!==d&&Pa(r,d,0,s)}eu(s)}function ad(t,r=zt.Default){const s=et();return null===s?Kt(t,r):Lc(Fe(),s,at(t),r)}function Pf(){throw new Error("invalid")}function ud(t,r,s,a,c,d,y,I,R,U,J){const fe=r.blueprint.slice();return fe[mr]=c,fe[Rn]=140|a,(null!==U||t&&2048&t[Rn])&&(fe[Rn]|=2048),bs(fe),fe[H]=fe[xr]=t,fe[Qe]=s,fe[Wt]=y||t&&t[Wt],fe[Ct]=I||t&&t[Ct],fe[Pt]=R||t&&t[Pt]||null,fe[_e]=d,fe[Lr]=function se(){return W++}(),fe[Gr]=J,fe[ci]=U,fe[Zn]=2==r.type?t[Zn]:fe,fe}function Ac(t,r,s,a,c){let d=t.data[r];if(null===d)d=function lh(t,r,s,a,c){const d=Ki(),y=qs(),R=t.data[r]=function Dg(t,r,s,a,c,d){let y=r?r.injectorIndex:-1,I=0;return function we(){return null!==N.skipHydrationRootTNode}()&&(I|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=R),null!==d&&(y?null==d.child&&null!==R.parent&&(d.child=R):null===d.next&&(d.next=R,R.prev=d)),R}(t,r,s,a,c),function w(){return N.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const y=function zr(){const t=N.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===y?-1:y.injectorIndex}return Ti(d,!0),d}function dh(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function hh(t,r,s,a,c){const d=Dy(r,ur),y=Bs(),I=2&a;try{eu(-1),I&&r.length>Yn&&Sy(t,r,Yn,!1),Dt(I?2:0,c);const U=I?d:null,J=$o(U);try{null!==U&&(U.dirty=!1),s(a,c)}finally{mo(U,J)}}finally{I&&null===r[ur]&&Nf(r,ur),eu(y),Dt(I?3:1,c)}}function Tg(t,r,s){if(Co(r)){const a=Ls(null);try{const d=r.directiveEnd;for(let y=r.directiveStart;y<d;y++){const I=t.data[y];I.contentQueries&&I.contentQueries(1,s[y],y)}}finally{Ls(a)}}}function kf(t,r,s){me()&&(function Ng(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;Hs(s)&&function xv(t,r,s){const a=Is(r,t),c=_l(s);let y=16;s.signals?y=4096:s.onPush&&(y=64);const I=vl(t,ud(t,c,null,y,a,r,null,t[Wt].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=I}(r,s,t.data[c+s.componentOffset]),t.firstCreatePass||uc(s,r),Cs(a,r);const y=s.initialInputs;for(let I=c;I<d;I++){const R=t.data[I],U=su(r,t,I,s);Cs(U,r),null!==y&&Oy(0,I-c,U,R,0,y),ri(R)&&(Ro(s.index,r)[Qe]=su(r,t,I,s))}}(t,r,s,Is(s,r)),64==(64&s.flags)&&Ry(t,r,s))}function Ff(t,r,s=Is){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const y=a[d+1],I=-1===y?s(r,t):t[y];t[c++]=I}}}function _l(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Lf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Lf(t,r,s,a,c,d,y,I,R,U,J){const fe=Yn+a,ke=fe+c,ze=function Vf(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:wr);return s}(fe,ke),It="function"==typeof U?U():U;return ze[Yt]={type:t,blueprint:ze,template:s,queries:null,viewQuery:I,declTNode:r,data:ze.slice().fill(null,fe),bindingStartIndex:fe,expandoStartIndex:ke,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:R,consts:It,incompleteFirstPass:!1,ssrId:J}}let Ay=t=>null;function Bf(t,r,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const d=t[c];null===a?Sg(s,r,c,d):a.hasOwnProperty(c)&&Sg(s,r,a[c],d)}return s}function Sg(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function ya(t,r,s,a,c,d,y,I){const R=Is(r,s);let J,U=r.inputs;!I&&null!=U&&(J=U[a])?(Lo(t,s,J,a,c),Hs(r)&&function xg(t,r){const s=Ro(r,t);16&s[Rn]||(s[Rn]|=64)}(s,r.index)):3&r.type&&(a=function Mg(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=y?y(c,r.value||"",a):c,d.setProperty(R,a,c))}function jf(t,r,s,a){if(me()){const c=null===a?null:{"":-1},d=function Dv(t,r){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const y=s[d];if(co(r,y.selectors,!1))if(a||(a=[]),ri(y))if(null!==y.findHostDirectiveDefs){const I=[];c=c||new Map,y.findHostDirectiveDefs(y,I,c),a.unshift(...I,y),Hf(t,r,I.length)}else a.unshift(y),Hf(t,r,0);else c=c||new Map,y.findHostDirectiveDefs?.(y,a,c),a.push(y)}return null===a?null:[a,c]}(t,s);let y,I;null===d?y=I=null:[y,I]=d,null!==y&&$f(t,r,s,y,c,I),c&&function Sv(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new Et(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=on(s.mergedAttrs,s.attrs)}function $f(t,r,s,a,c,d){for(let U=0;U<a.length;U++)La(uc(s,r),t,a[U].type);!function Av(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let U=0;U<a.length;U++){const J=a[U];J.providersResolver&&J.providersResolver(J)}let y=!1,I=!1,R=dh(t,r,a.length,null);for(let U=0;U<a.length;U++){const J=a[U];s.mergedAttrs=on(s.mergedAttrs,J.hostAttrs),Mv(t,s,r,R,J),Ny(R,J,c),null!==J.contentQueries&&(s.flags|=4),(null!==J.hostBindings||null!==J.hostAttrs||0!==J.hostVars)&&(s.flags|=64);const fe=J.type.prototype;!y&&(fe.ngOnChanges||fe.ngOnInit||fe.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),y=!0),!I&&(fe.ngOnChanges||fe.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),I=!0),R++}!function Ag(t,r,s){const c=r.directiveEnd,d=t.data,y=r.attrs,I=[];let R=null,U=null;for(let J=r.directiveStart;J<c;J++){const fe=d[J],ke=s?s.get(fe):null,It=ke?ke.outputs:null;R=Bf(fe.inputs,J,R,ke?ke.inputs:null),U=Bf(fe.outputs,J,U,It);const Ut=null===R||null===y||ji(r)?null:Rv(R,J,y);I.push(Ut)}null!==R&&(R.hasOwnProperty("class")&&(r.flags|=8),R.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=I,r.inputs=R,r.outputs=U}(t,s,d)}function Ry(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,y=function S(){return N.lFrame.currentDirectiveIndex}();try{eu(d);for(let I=a;I<c;I++){const R=t.data[I],U=r[I];F(I),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Cv(R,U)}}finally{eu(-1),F(y)}}function Cv(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Hf(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function Ny(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;ri(r)&&(s[""]=t)}}function Mv(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=jo(c.type)),y=new gu(d,ri(c),ad);t.blueprint[a]=y,s[a]=y,function xy(t,r,s,a,c){const d=c.hostBindings;if(d){let y=t.hostBindingOpCodes;null===y&&(y=t.hostBindingOpCodes=[]);const I=~r.index;(function cd(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(y)!=I&&y.push(I),y.push(s,a,d)}}(t,r,a,dh(t,s,c.hostVars,wr),c)}function $u(t,r,s,a,c,d){const y=Is(t,r);!function Gf(t,r,s,a,c,d,y){if(null==d)t.removeAttribute(r,c,s);else{const I=null==y?Ft(d):y(d,a||"",c);t.setAttribute(r,c,I,s)}}(r[Ct],y,d,t.value,s,a,c)}function Oy(t,r,s,a,c,d){const y=d[r];if(null!==y)for(let I=0;I<y.length;)zf(a,s,y[I++],y[I++],y[I++])}function zf(t,r,s,a,c){const d=Ls(null);try{const y=t.inputTransforms;null!==y&&y.hasOwnProperty(a)&&(c=y[a].call(r,c)),null!==t.setInput?t.setInput(r,c,s,a):r[a]=c}finally{Ls(d)}}function Rv(t,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const y=t[d];for(let I=0;I<y.length;I+=2)if(y[I]===r){a.push(d,y[I+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Og(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function Pg(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const y=t.data[d];Ge(s[a]),y.contentQueries(2,r[d],d)}}}function vl(t,r){return t[Nn]?t[Jn][z]=r:t[Nn]=r,t[Jn]=r,r}function oi(t,r,s){Ge(0);const a=Ls(null);try{r(t,s)}finally{Ls(a)}}function kg(t){return t[Oe]||(t[Oe]=[])}function ld(t){return t.cleanup||(t.cleanup=[])}function Py(t,r,s){return(null===t||ri(t))&&(s=function $a(t){for(;Array.isArray(t);){if("object"==typeof t[mi])return t;t=t[mr]}return null}(s[r.index])),s[Ct]}function Ks(t,r){const s=t[Pt],a=s?s.get(Bu,null):null;a&&a.handleError(r)}function Lo(t,r,s,a,c){for(let d=0;d<s.length;){const y=s[d++],I=s[d++];zf(t.data[y],r[y],a,I,c)}}function Zo(t,r,s){const a=Ja(r,t);!function Vl(t,r,s){t.setValue(r,s)}(t[Ct],a,s)}function Ov(t,r){const s=Ro(r,t),a=s[Yt];!function IE(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const c=s[mr];null!==c&&null===s[Gr]&&(s[Gr]=Ql(c,s[Pt])),qf(a,s,s[Qe])}function qf(t,r,s){Hn(r);try{const a=t.viewQuery;null!==a&&oi(1,a,s);const c=t.template;null!==c&&hh(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Pg(t,r),t.staticViewQueries&&oi(2,t.viewQuery,s);const d=t.components;null!==d&&function bE(t,r){for(let s=0;s<r.length;s++)Ov(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[Rn]&=-5,to()}}let Fg=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,y=function Qr(t,r,s){const a=Object.create(qi);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=y=>{a.cleanupFn=y};return a.ref={notify:()=>Ra(a),run:()=>{if(a.dirty=!1,a.hasRun&&!aa(a))return;a.hasRun=!0;const y=$o(a);try{a.cleanupFn(),a.cleanupFn=di,a.fn(c)}finally{mo(a,y)}},cleanup:()=>a.cleanupFn()},a.ref}(s,U=>{this.all.has(U)&&this.queue.set(U,d)},c);let I;this.all.add(y),y.notify();const R=()=>{y.cleanup(),I?.(),this.all.delete(y),this.queue.delete(y)};return I=a?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=er({token:t,providedIn:"root",factory:()=>new t})}return t})();function dd(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let y=0;y<r.length;y++){const I=r[y];"number"==typeof I?d=I:1==d?c=gt(c,I):2==d&&(a=gt(a,I+": "+r[++y]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function fh(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(Sr(d)),ki(d)&&kv(d,a);const y=s.type;if(8&y)fh(t,r,s.child,a);else if(32&y){const I=mc(s,r);let R;for(;R=I();)a.push(R)}else if(16&y){const I=Op(r,s);if(Array.isArray(I))a.push(...I);else{const R=Ud(r[Zn]);fh(R[Yt],R,I,a,!0)}}s=c?s.projectionNext:s.next}return a}function kv(t,r){for(let s=bi;s<t.length;s++){const a=t[s],c=a[Yt].firstChild;null!==c&&fh(a[Yt],a,c,r)}t[xi]!==t[mr]&&r.push(t[xi])}function is(t,r,s,a=!0){const c=r[Wt],d=c.rendererFactory,y=c.afterRenderEventManager;d.begin?.(),y?.begin();try{ao(t,r,t.template,s)}catch(R){throw a&&Ks(r,R),R}finally{d.end?.(),c.effectManager?.flush(),y?.end()}}function ao(t,r,s,a){const c=r[Rn];if(256!=(256&c)){r[Wt].effectManager?.flush(),Hn(r);try{bs(r),function Ga(t){return N.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&hh(t,r,s,2,a);const y=3==(3&c);if(y){const U=t.preOrderCheckHooks;null!==U&&oc(r,U,null)}else{const U=t.preOrderHooks;null!==U&&Pa(r,U,0,null),Nu(r,0)}if(function TE(t){for(let r=Dp(t);null!==r;r=Ll(r)){if(!r[es])continue;const s=r[gs];for(let a=0;a<s.length;a++){Fi(s[a])}}}(r),Lg(r,2),null!==t.contentQueries&&Pg(t,r),y){const U=t.contentCheckHooks;null!==U&&oc(r,U)}else{const U=t.contentHooks;null!==U&&Pa(r,U,1),Nu(r,1)}!function wv(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=Dy(r,ss);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)eu(~d);else{const y=d,I=s[++c],R=s[++c];v(I,y),a.dirty=!1;const U=$o(a);try{R(2,r[y])}finally{mo(a,U)}}}}finally{null===r[ss]&&Nf(r,ss),eu(-1)}}(t,r);const I=t.components;null!==I&&Lv(r,I,0);const R=t.viewQuery;if(null!==R&&oi(2,R,a),y){const U=t.viewCheckHooks;null!==U&&oc(r,U)}else{const U=t.viewHooks;null!==U&&Pa(r,U,2),Nu(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Rn]&=-73,pn(r)}finally{to()}}}function Lg(t,r){for(let s=Dp(t);null!==s;s=Ll(s))for(let a=bi;a<s.length;a++)Vg(s[a],r)}function CE(t,r,s){Vg(Ro(r,t),s)}function Vg(t,r){if(!function Ha(t){return 128==(128&t[Rn])}(t))return;const s=t[Yt],a=t[Rn];if(80&a&&0===r||1024&a||2===r)ao(s,t,s.template,t[Qe]);else if(t[pe]>0){Lg(t,1);const c=s.components;null!==c&&Lv(t,c,1)}}function Lv(t,r,s){for(let a=0;a<r.length;a++)CE(t,r[a],s)}class Wf{get rootNodes(){const r=this._lView,s=r[Yt];return fh(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qe]}set context(r){this._lView[Qe]=r}get destroyed(){return 256==(256&this._lView[Rn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[H];if(ki(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Ul(r,a),$c(s,a))}this._attachedToViewContainer=!1}Hh(this._lView[Yt],this._lView)}onDestroy(r){!function Vr(t,r){if(256==(256&t[Rn]))throw new Et(911,!1);null===t[Ii]&&(t[Ii]=[]),t[Ii].push(r)}(this._lView,r)}markForCheck(){ml(this._cdRefInjectingView||this._lView)}detach(){this._lView[Rn]&=-129}reattach(){this._lView[Rn]|=128}detectChanges(){is(this._lView[Yt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Et(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function B_(t,r){zd(t,r,r[Ct],2,null,null)}(this._lView[Yt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Et(902,!1);this._appRef=r}}class DE extends Wf{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;is(r[Yt],r,r[Qe],!1)}checkNoChanges(){}get context(){return null}}class Vv extends hl{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Vn(r);return new hd(s,this.ngModule)}}function Uv(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class AE{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=$n(a);const c=this.injector.get(r,ug,a);return c!==ug||s===ug?c:this.parentInjector.get(r,s,a)}}class hd extends yf{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=Uv(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return Uv(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Hi(t){return t.map(Io).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof Cu?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const y=d?new AE(r,d):r,I=y.get(ly,null);if(null===I)throw new Et(407,!1);const fe={rendererFactory:I,sanitizer:y.get(ag,null),effectManager:y.get(Fg,null),afterRenderEventManager:y.get(vg,null)},ke=I.createRenderer(null,this.componentDef),ze=this.componentDef.selectors[0][0]||"div",It=a?function Iv(t,r,s,a){const d=a.get(yl,!1)||s===Oi.ShadowDom,y=t.selectRootElement(r,d);return function bv(t){Ay(t)}(y),y}(ke,a,this.componentDef.encapsulation,y):jd(ke,ze,function SE(t){const r=t.toLowerCase();return"svg"===r?Qi:"math"===r?"math":null}(ze)),Ln=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Rt=null;null!==It&&(Rt=Ql(It,y,!0));const Mr=Lf(0,null,null,1,0,null,null,null,null,null,null),Jr=ud(null,Mr,null,Ln,null,null,fe,ke,y,null,Rt);let ds,hu;Hn(Jr);try{const Cl=this.componentDef;let pp,gE=null;Cl.findHostDirectiveDefs?(pp=[],gE=new Map,Cl.findHostDirectiveDefs(Cl,pp,gE),pp.push(Cl)):pp=[Cl];const iS=function Bv(t,r){const s=t[Yt],a=Yn;return t[a]=r,Ac(s,a,2,"#host",null)}(Jr,It),sS=function El(t,r,s,a,c,d,y){const I=c[Yt];!function fd(t,r,s,a){for(const c of t)r.mergedAttrs=on(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(dd(r,r.mergedAttrs,!0),null!==s&&Fp(a,s,r))}(a,t,r,y);let R=null;null!==r&&(R=Ql(r,c[Pt]));const U=d.rendererFactory.createRenderer(r,s);let J=16;s.signals?J=4096:s.onPush&&(J=64);const fe=ud(c,_l(s),null,J,c[t.index],t,d,U,null,null,R);return I.firstCreatePass&&Hf(I,t,a.length-1),vl(c,fe),c[t.index]=fe}(iS,It,Cl,pp,Jr,fe,ke);hu=fu(Mr,Yn),It&&function Ug(t,r,s,a){if(a)je(t,s,["ng-version",Ef.full]);else{const{attrs:c,classes:d}=function Ns(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!Ir(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&je(t,s,c),d&&d.length>0&&Um(t,s,d.join(" "))}}(ke,Cl,It,a),void 0!==s&&function Bg(t,r,s){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(hu,this.ngContentSelectors,s),ds=function ME(t,r,s,a,c,d){const y=Fe(),I=c[Yt],R=Is(y,c);$f(I,c,y,s,null,a);for(let J=0;J<s.length;J++)Cs(su(c,I,y.directiveStart+J,y),c);Ry(I,c,y),R&&Cs(R,c);const U=su(c,I,y.directiveStart+y.componentOffset,y);if(t[Qe]=c[Qe]=U,null!==d)for(const J of d)J(U,r);return Tg(I,y,t),U}(sS,Cl,pp,gE,Jr,[jv]),qf(Mr,Jr,null)}finally{to()}return new ph(this.componentType,ds,td(hu,Jr),Jr,hu)}}class ph extends av{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new DE(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;Lo(d[Yt],d,c,r,s),this.previousInputValues.set(r,s),ml(Ro(this._tNode.index,d))}}get injector(){return new B(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function jv(){const t=Fe();rs(et()[Yt],t)}function Kf(t){let r=function ky(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(ri(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Et(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const y=t;y.inputs=wl(t.inputs),y.inputTransforms=wl(t.inputTransforms),y.declaredInputs=wl(t.declaredInputs),y.outputs=wl(t.outputs);const I=c.hostBindings;I&&jg(t,I);const R=c.viewQuery,U=c.contentQueries;if(R&&$v(t,R),U&&pd(t,U),tt(t.inputs,c.inputs),tt(t.declaredInputs,c.declaredInputs),tt(t.outputs,c.outputs),null!==c.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),tt(y.inputTransforms,c.inputTransforms)),ri(c)&&c.data.animation){const J=t.data;J.animation=(J.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let y=0;y<d.length;y++){const I=d[y];I&&I.ngInherit&&I(t),I===Kf&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Fy(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=on(c.hostAttrs,s=on(s,c.hostAttrs))}}(a)}function wl(t){return t===wi?{}:t===tr?[]:t}function $v(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function pd(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function jg(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function Mc(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}t.inputTransforms=s}function mh(t){return!!zg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function zg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Yo(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function Il(t,r,s,a){const c=Yo(t,r,s);return Yo(t,r+1,a)||c}function Za(t,r,s,a,c,d){const y=Il(t,r,s,a);return Il(t,r+2,c,d)||y}function _h(t,r,s,a){const c=et();return Yo(c,Ci(),r)&&(Ht(),$u(cs(),c,t,r,s,a)),_h}function md(t,r,s,a){return Yo(t,Ci(),s)?r+Ft(s)+a:wr}function Wy(t,r,s,a,c,d,y,I){const R=et(),U=Ht(),J=t+Yn,fe=U.firstCreatePass?function BE(t,r,s,a,c,d,y,I,R){const U=r.consts,J=Ac(r,t,4,y||null,zs(U,I));jf(r,s,J,zs(U,R)),rs(r,J);const fe=J.tView=Lf(2,J,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,U,null);return null!==r.queries&&(r.queries.template(r,J),fe.queries=r.queries.embeddedTView(J)),J}(J,U,R,r,s,a,c,d,y):U.data[J];Ti(fe,!1);const ke=Ky(U,R,fe,t);Ru()&&Lu(U,R,ke,fe),Cs(ke,R),vl(R,R[J]=Og(ke,R,ke,fe)),br(fe)&&kf(U,R,fe),null!=y&&Ff(R,fe,I)}let Ky=function Zy(t,r,s,a){return la(!0),r[Ct].createComment("")};function Yy(t,r,s){const a=et();return Yo(a,Ci(),r)&&ya(Ht(),cs(),a,t,r,a[Ct],s,!1),Yy}function Qy(t,r,s,a,c){const y=c?"class":"style";Lo(t,s,r.inputs[y],y,a)}function Xf(t,r,s,a){const c=et(),d=Ht(),y=Yn+t,I=c[Ct],R=d.firstCreatePass?function s0(t,r,s,a,c,d){const y=r.consts,R=Ac(r,t,2,a,zs(y,c));return jf(r,s,R,zs(y,d)),null!==R.attrs&&dd(R,R.attrs,!1),null!==R.mergedAttrs&&dd(R,R.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,R),R}(y,d,c,r,s,a):d.data[y],U=Xy(d,c,R,I,r,t);c[y]=U;const J=br(R);return Ti(R,!0),Fp(I,U,R),32!=(32&R.flags)&&Ru()&&Lu(d,c,U,R),0===function x(){return N.lFrame.elementDepthCount}()&&Cs(U,c),function L(){N.lFrame.elementDepthCount++}(),J&&(kf(d,c,R),Tg(d,R,c)),null!==a&&Ff(c,R),Xf}function ep(){let t=Fe();qs()?us():(t=t.parent,Ti(t,!1));const r=t;(function He(t){return N.skipHydrationRootTNode===t})(r)&&function Er(){N.skipHydrationRootTNode=null}(),function Q(){N.lFrame.elementDepthCount--}();const s=Ht();return s.firstCreatePass&&(rs(s,t),Co(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function io(t){return 0!=(8&t.flags)}(r)&&Qy(s,r,et(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Dd(t){return 0!=(16&t.flags)}(r)&&Qy(s,r,et(),r.stylesWithoutHost,!1),ep}function Jy(t,r,s,a){return Xf(t,r,s,a),ep(),Jy}let Xy=(t,r,s,a,c,d)=>(la(!0),jd(a,c,function xu(){return N.lFrame.currentNamespace}()));function Qg(t,r,s){const a=et(),c=Ht(),d=t+Yn,y=c.firstCreatePass?function a0(t,r,s,a,c){const d=r.consts,y=zs(d,a),I=Ac(r,t,8,"ng-container",y);return null!==y&&dd(I,y,!0),jf(r,s,I,zs(d,c)),null!==r.queries&&r.queries.elementStart(r,I),I}(d,c,a,r,s):c.data[d];Ti(y,!0);const I=c0(c,a,y,t);return a[d]=I,Ru()&&Lu(c,a,I,y),Cs(I,a),br(y)&&(kf(c,a,y),Tg(c,y,a)),null!=s&&Ff(a,y),Qg}function Jg(){let t=Fe();const r=Ht();return qs()?us():(t=t.parent,Ti(t,!1)),r.firstCreatePass&&(rs(r,t),Co(t)&&r.queries.elementEnd(t)),Jg}let c0=(t,r,s,a)=>(la(!0),$h(r[Ct],""));function l0(){return et()}function e_(t){return!!t&&"function"==typeof t.then}function Xg(t){return!!t&&"function"==typeof t.subscribe}function em(t,r,s,a){const c=et(),d=Ht(),y=Fe();return function rp(t,r,s,a,c,d,y){const I=br(a),U=t.firstCreatePass&&ld(t),J=r[Qe],fe=kg(r);let ke=!0;if(3&a.type||y){const Ut=Is(a,r),cn=y?y(Ut):Ut,Ln=fe.length,Rt=y?Jr=>y(Sr(Jr[a.index])):a.index;let Mr=null;if(!y&&I&&(Mr=function np(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const y=c[d];if(y===s&&c[d+1]===a){const I=r[Oe],R=c[d+2];return I.length>R?I[R]:null}"string"==typeof y&&(d+=2)}return null}(t,r,c,a.index)),null!==Mr)(Mr.__ngLastListenerFn__||Mr).__ngNextListenerFn__=d,Mr.__ngLastListenerFn__=d,ke=!1;else{d=ip(a,r,J,d,!1);const Jr=s.listen(cn,c,d);fe.push(d,Jr),U&&U.push(c,Rt,Ln,Ln+1)}}else d=ip(a,r,J,d,!1);const ze=a.outputs;let It;if(ke&&null!==ze&&(It=ze[c])){const Ut=It.length;if(Ut)for(let cn=0;cn<Ut;cn+=2){const ds=r[It[cn]][It[cn+1]].subscribe(d),hu=fe.length;fe.push(d,ds),U&&U.push(c,a.index,hu,-(hu+1))}}}(d,c,c[Ct],y,t,r,a),em}function t_(t,r,s,a){try{return Dt(6,r,s),!1!==s(a)}catch(c){return Ks(t,c),!1}finally{Dt(7,r,s)}}function ip(t,r,s,a,c){return function d(y){if(y===Function)return a;ml(t.componentOffset>-1?Ro(t.index,r):r);let R=t_(r,s,a,y),U=d.__ngNextListenerFn__;for(;U;)R=t_(r,s,U,y)&&R,U=U.__ngNextListenerFn__;return c&&!1===R&&y.preventDefault(),R}}function n_(t=1){return function Oa(t){return(N.lFrame.contextLView=function no(t,r){for(;t>0;)r=r[xr],t--;return r}(t,N.lFrame.contextLView))[Qe]}(t)}function vd(t,r,s,a,c){const d=et(),y=md(d,r,s,a);return y!==wr&&ya(Ht(),cs(),d,t,y,d[Ct],c,!1),vd}function im(t,r){return t<<17|r<<2}function Nc(t){return t>>17&32767}function Ed(t){return 2|t}function Oc(t){return(131068&t)>>2}function sm(t,r){return-131069&t|r<<2}function Dh(t){return 1|t}function l_(t,r,s,a,c){const d=t[s+1],y=null===r;let I=a?Nc(d):Oc(d),R=!1;for(;0!==I&&(!1===R||y);){const J=t[I+1];g0(t[I],r)&&(R=!0,t[I+1]=a?Dh(J):Ed(J)),I=a?Nc(J):Oc(J)}R&&(t[s+1]=a?Ed(d):Dh(d))}function g0(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Iu(t,r)>=0}const Qo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function m0(t){return t.substring(Qo.key,Qo.keyEnd)}function d_(t,r){const s=Qo.textEnd;return s===r?-1:(r=Qo.keyEnd=function v0(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,Qo.key=r,s),Sh(t,r,s))}function Sh(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function f_(t,r,s){return zu(t,r,s,!1),f_}function p_(t,r){return zu(t,r,null,!0),p_}function g_(t){!function qu(t,r,s,a){const c=Ht(),d=eo(2);c.firstUpdatePass&&I0(c,null,d,a);const y=et();if(s!==wr&&Yo(y,d,s)){const I=c.data[Bs()];if(C0(I,a)&&!w0(c,d)){let R=a?I.classesWithoutHost:I.stylesWithoutHost;null!==R&&(s=gt(R,s||"")),Qy(c,I,y,s,a)}else!function uw(t,r,s,a,c,d,y,I){c===wr&&(c=tr);let R=0,U=0,J=0<c.length?c[0]:null,fe=0<d.length?d[0]:null;for(;null!==J||null!==fe;){const ke=R<c.length?c[R+1]:void 0,ze=U<d.length?d[U+1]:void 0;let Ut,It=null;J===fe?(R+=2,U+=2,ke!==ze&&(It=fe,Ut=ze)):null===fe||null!==J&&J<fe?(R+=2,It=J):(U+=2,It=fe,Ut=ze),null!==It&&b0(t,r,s,a,It,Ut,y,I),J=R<c.length?c[R]:null,fe=U<d.length?d[U]:null}}(c,I,y,y[Ct],y[d+1],y[d+1]=function ow(t,r,s){if(null==s||""===s)return tr;const a=[],c=Vu(s);if(Array.isArray(c))for(let d=0;d<c.length;d++)t(a,c[d],!0);else if("object"==typeof c)for(const d in c)c.hasOwnProperty(d)&&t(a,d,c[d]);else"string"==typeof c&&r(a,c);return a}(t,r,s),a,d)}}(aw,ic,t,!0)}function ic(t,r){for(let s=function QE(t){return function _0(t){Qo.key=0,Qo.keyEnd=0,Qo.value=0,Qo.valueEnd=0,Qo.textEnd=t.length}(t),d_(t,Sh(t,0,Qo.textEnd))}(r);s>=0;s=d_(r,s))qo(t,m0(r),!0)}function zu(t,r,s,a){const c=et(),d=Ht(),y=eo(2);d.firstUpdatePass&&I0(d,t,y,a),r!==wr&&Yo(c,y,r)&&b0(d,d.data[Bs()],c,c[Ct],t,c[y+1]=function cw(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Ze(Vu(t)))),t}(r,s),a,y)}function w0(t,r){return r>=t.expandoStartIndex}function I0(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[Bs()],y=w0(t,s);C0(d,a)&&null===r&&!y&&(r=!1),r=function nw(t,r,s,a){const c=Y(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=op(s=m_(null,t,r,s,a),r.attrs,a),d=null);else{const y=r.directiveStylingLast;if(-1===y||t[y]!==c)if(s=m_(c,t,r,s,a),null===d){let R=function rw(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Oc(a))return t[Nc(a)]}(t,r,a);void 0!==R&&Array.isArray(R)&&(R=m_(null,t,r,R[1],a),R=op(R,r.attrs,a),function iw(t,r,s,a){t[Nc(s?r.classBindings:r.styleBindings)]=a}(t,r,a,R))}else d=function sw(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=op(a,t[d].hostAttrs,s);return op(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function f0(t,r,s,a,c,d){let y=d?r.classBindings:r.styleBindings,I=Nc(y),R=Oc(y);t[a]=s;let J,U=!1;if(Array.isArray(s)?(J=s[1],(null===J||Iu(s,J)>0)&&(U=!0)):J=s,c)if(0!==R){const ke=Nc(t[I+1]);t[a+1]=im(ke,I),0!==ke&&(t[ke+1]=sm(t[ke+1],a)),t[I+1]=function qE(t,r){return 131071&t|r<<17}(t[I+1],a)}else t[a+1]=im(I,0),0!==I&&(t[I+1]=sm(t[I+1],a)),I=a;else t[a+1]=im(R,0),0===I?I=a:t[R+1]=sm(t[R+1],a),R=a;U&&(t[a+1]=Ed(t[a+1])),l_(t,J,a,!0),l_(t,J,a,!1),function p0(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&Iu(d,r)>=0&&(s[a+1]=Dh(s[a+1]))}(r,J,t,a,d),y=im(I,R),d?r.classBindings=y:r.styleBindings=y}(c,d,r,s,y,a)}}function m_(t,r,s,a,c){let d=null;const y=s.directiveEnd;let I=s.directiveStylingLast;for(-1===I?I=s.directiveStart:I++;I<y&&(d=r[I],a=op(a,d.hostAttrs,c),d!==t);)I++;return null!==t&&(s.directiveStylingLast=I),a}function op(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const y=r[d];"number"==typeof y?c=y:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),qo(t,y,!!s||r[++d]))}return void 0===t?null:t}function aw(t,r,s){const a=String(r);""!==a&&!a.includes(" ")&&qo(t,a,s)}function b0(t,r,s,a,c,d,y,I){if(!(3&r.type))return;const R=t.data,U=R[I+1],J=function WE(t){return 1==(1&t)}(U)?T0(R,r,s,c,Oc(U),y):void 0;om(J)||(om(d)||function h0(t){return 2==(2&t)}(U)&&(d=T0(R,null,s,c,I,y)),function qd(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:Qc.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Qc.Important),t.setStyle(s,a,c,d))}}(a,y,Ja(Bs(),s),c,d))}function T0(t,r,s,a,c,d){const y=null===r;let I;for(;c>0;){const R=t[c],U=Array.isArray(R),J=U?R[1]:R,fe=null===J;let ke=s[c+1];ke===wr&&(ke=fe?tr:void 0);let ze=fe?wu(ke,a):J===a?ke:void 0;if(U&&!om(ze)&&(ze=wu(R,a)),om(ze)&&(I=ze,y))return I;const It=t[c+1];c=y?Nc(It):Oc(It)}if(null!==r){let R=d?r.residualClasses:r.residualStyles;null!=R&&(I=wu(R,a))}return I}function om(t){return void 0!==t}function C0(t,r){return 0!=(t.flags&(r?8:16))}function D0(t,r=""){const s=et(),a=Ht(),c=t+Yn,d=a.firstCreatePass?Ac(a,c,1,r,null):a.data[c],y=__(a,s,d,r,t);s[c]=y,Ru()&&Lu(a,s,y,d),Ti(d,!1)}let __=(t,r,s,a,c)=>(la(!0),function Bd(t,r){return t.createText(r)}(r[Ct],a));function v_(t){return am("",t,""),v_}function am(t,r,s){const a=et(),c=md(a,t,r,s);return c!==wr&&Zo(a,Bs(),c),am}function E_(t,r,s,a,c,d,y,I,R){const U=et(),J=function Mu(t,r,s,a,c,d,y,I,R,U){const fe=Za(t,No(),s,c,y,R);return eo(4),fe?r+Ft(s)+a+Ft(c)+d+Ft(y)+I+Ft(R)+U:wr}(U,t,r,s,a,c,d,y,I,R);return J!==wr&&Zo(U,Bs(),J),E_}function w_(t,r,s,a,c,d,y,I,R,U,J){const fe=et(),ke=function Eh(t,r,s,a,c,d,y,I,R,U,J,fe){const ke=No();let ze=Za(t,ke,s,c,y,R);return ze=Yo(t,ke+4,J)||ze,eo(5),ze?r+Ft(s)+a+Ft(c)+d+Ft(y)+I+Ft(R)+U+Ft(J)+fe:wr}(fe,t,r,s,a,c,d,y,I,R,U,J);return ke!==wr&&Zo(fe,Bs(),ke),w_}function ap(t,r,s){const a=et();if(Yo(a,Ci(),r)){const d=Ht(),y=cs();ya(d,y,a,t,r,Py(Y(d.data),y,a),s,!0)}return ap}const Ah=void 0;var Cb=["en",[["a","p"],["AM","PM"],Ah],[["AM","PM"],Ah,Ah],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ah,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ah,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ah,"{1} 'at' {0}",Ah],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Tb(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let up={};function O0(t){const r=function Db(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=gw(r);if(s)return s;const a=r.split("-")[0];if(s=gw(a),s)return s;if("en"===a)return Cb;throw new Et(701,!1)}function pw(t){return O0(t)[cp.PluralCase]}function gw(t){return t in up||(up[t]=hn.ng&&hn.ng.common&&hn.ng.common.locales&&hn.ng.common.locales[t]),up[t]}var cp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(cp||{});const lp="en-US";let mw=lp;function F0(t,r,s,a,c){if(t=at(t),Array.isArray(t))for(let d=0;d<t.length;d++)F0(t[d],r,s,a,c);else{const d=Ht(),y=et(),I=Fe();let R=ol(t)?t:at(t.provide);const U=Xm(t),J=1048575&I.providerIndexes,fe=I.directiveStart,ke=I.providerIndexes>>20;if(ol(t)||!t.multi){const ze=new gu(U,c,ad),It=V0(R,r,c?J:J+ke,fe);-1===It?(La(uc(I,y),d,R),L0(d,t,r.length),r.push(R),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),s.push(ze),y.push(ze)):(s[It]=ze,y[It]=ze)}else{const ze=V0(R,r,J+ke,fe),It=V0(R,r,J,J+ke),cn=It>=0&&s[It];if(c&&!cn||!c&&!(ze>=0&&s[ze])){La(uc(I,y),d,R);const Ln=function TT(t,r,s,a,c){const d=new gu(t,s,ad);return d.multi=[],d.index=r,d.componentProviders=0,jw(d,c,a&&!s),d}(c?bT:IT,s.length,c,a,U);!c&&cn&&(s[It].providerFactory=Ln),L0(d,t,r.length,0),r.push(R),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),s.push(Ln),y.push(Ln)}else L0(d,t,ze>-1?ze:It,jw(s[c?It:ze],U,!c&&a));!c&&a&&cn&&s[It].componentProviders++}}}function L0(t,r,s,a){const c=ol(r),d=function Jm(t){return!!t.useClass}(r);if(c||d){const R=(d?at(r.useClass):r).prototype.ngOnDestroy;if(R){const U=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const J=U.indexOf(s);-1===J?U.push(s,[a,R]):U[J+1].push(a,R)}else U.push(s,R)}}}function jw(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function V0(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function IT(t,r,s,a){return U0(this.multi,[])}function bT(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const y=this.providerFactory.componentProviders,I=su(s,s[Yt],this.providerFactory.index,a);d=I.slice(0,y),U0(c,d);for(let R=y;R<I.length;R++)d.push(I[R])}else d=[],U0(c,d);return d}function U0(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function $w(t,r=[]){return s=>{s.providersResolver=(a,c)=>function wT(t,r,s){const a=Ht();if(a.firstCreatePass){const c=ri(t);F0(s,a.data,a.blueprint,c,!0),F0(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Mh{}class Hw{}function CT(t,r){return new B0(t,r??null,[])}class B0 extends Mh{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vv(this);const c=$r(r);this._bootstrapComponents=ec(c.bootstrap),this._r3Injector=fy(r,s,[{provide:Mh,useValue:this},{provide:hl,useValue:this.componentFactoryResolver},...a],Ze(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class j0 extends Hw{constructor(r){super(),this.moduleType=r}create(r){return new B0(this.moduleType,r,[])}}class Gw extends Mh{constructor(r){super(),this.componentFactoryResolver=new Vv(this),this.instance=null;const s=new ul([...r.providers,{provide:Mh,useValue:this},{provide:hl,useValue:this.componentFactoryResolver}],r.parent||al(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function zw(t,r,s=null){return new Gw({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let ST=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=sf(0,s.type),c=a.length>0?zw([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=er({token:t,providedIn:"environment",factory:()=>new t(Kt(Cu))})}return t})();function qw(t){t.getStandaloneInjector=r=>r.get(ST).getOrCreateStandaloneInjector(t)}function XT(){return this._results[Symbol.iterator]()}class H0{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Au)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=H0.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=XT)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function Po(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function ku(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function tC(t,r,s,a=!0){const c=r[Yt];if(function Sp(t,r,s,a){const c=bi+a,d=s.length;a>0&&(s[c-1][z]=r),a<d-bi?(r[z]=s[c],jc(s,bi+a,r)):(s.push(r),r[z]=null),r[H]=s;const y=r[Hr];null!==y&&s!==y&&function j_(t,r){const s=t[gs];r[Zn]!==r[H][H][Zn]&&(t[es]=!0),null===s?t[gs]=[r]:s.push(r)}(y,r);const I=r[Kr];null!==I&&I.insertView(t),r[Rn]|=128}(c,r,t,s),a){const d=Gd(s,t),y=r[Ct],I=cu(y,t[xi]);null!==I&&function U_(t,r,s,a,c,d){a[mr]=c,a[_e]=r,zd(t,a,s,1,c,d)}(c,t[_e],y,r,I,d)}}let gm=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=iC}return t})();const nC=gm,rC=class extends nC{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function eC(t,r,s,a){const c=r.tView,I=ud(t,c,s,4096&t[Rn]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);I[Hr]=t[r.index];const U=t[Kr];return null!==U&&(I[Kr]=U.createEmbeddedView(c)),qf(c,I,s),I}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new Wf(c)}};function iC(){return S_(Fe(),et())}function S_(t,r){return 4&t.type?new rC(r,t,td(t,r)):null}let M_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=lC}return t})();function lC(){return lI(Fe(),et())}const dC=M_,uI=class extends dC{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return td(this._hostTNode,this._hostLView)}get injector(){return new B(this._hostTNode,this._hostLView)}get parentInjector(){const r=fa(this._hostTNode,this._hostLView);if(ra(r)){const s=ia(r,this._hostLView),a=Ta(r);return new B(s[Yt].data[a+8],s)}return new B(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=cI(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-bi}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const I=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(I,c,false),I}createComponent(r,s,a,c,d){const y=r&&!function au(t){return"function"==typeof t}(r);let I;if(y)I=s;else{const Ut=s||{};I=Ut.index,a=Ut.injector,c=Ut.projectableNodes,d=Ut.environmentInjector||Ut.ngModuleRef}const R=y?r:new hd(Vn(r)),U=a||this.parentInjector;if(!d&&null==R.ngModule){const cn=(y?U:this.parentInjector).get(Cu,null);cn&&(d=cn)}Vn(R.componentType??{});const ze=R.create(U,c,null,d);return this.insertImpl(ze.hostView,I,false),ze}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function yn(t){return ki(t[H])}(c)){const R=this.indexOf(r);if(-1!==R)this.detach(R);else{const U=c[H],J=new uI(U,U[_e],U[H]);J.detach(J.indexOf(r))}}const y=this._adjustIndex(s),I=this._lContainer;return tC(I,c,y,!a),r.attachToViewContainerRef(),jc(G0(I),y,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=cI(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Ul(this._lContainer,s);a&&($c(G0(this._lContainer),s),Hh(a[Yt],a))}detach(r){const s=this._adjustIndex(r,-1),a=Ul(this._lContainer,s);return a&&null!=$c(G0(this._lContainer),s)?new Wf(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function cI(t){return t[8]}function G0(t){return t[8]||(t[8]=[])}function lI(t,r){let s;const a=r[t.index];return ki(a)?s=a:(s=Og(a,r,null,t),r[t.index]=s,vl(r,s)),dI(s,r,t,a),new uI(s,t,r)}let dI=function hI(t,r,s,a){if(t[xi])return;let c;c=8&s.type?Sr(a):function hC(t,r){const s=t[Ct],a=s.createComment(""),c=Is(r,t);return Ba(s,cu(s,c),a,function Fm(t,r){return t.nextSibling(r)}(s,c),!1),a}(r,s),t[xi]=c};class z0{constructor(r){this.queryList=r,this.matches=null}clone(){return new z0(this.queryList)}setDirty(){this.queryList.setDirty()}}class q0{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const y=s.getByIndex(d);c.push(this.queries[y.indexInDeclarationView].clone())}return new q0(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==EI(r,s).matches&&this.queries[s].setDirty()}}class fI{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class W0{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new W0(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class K0{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new K0(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,gC(s,d)),this.matchTNodeWithReadOption(r,s,yu(s,r,d,!1,!1))}else a===gm?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,yu(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===nd||c===M_||c===gm&&4&s.type)this.addMatch(s.index,-2);else{const d=yu(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function gC(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function yC(t,r,s,a){return-1===s?function mC(t,r){return 11&t.type?td(t,r):4&t.type?S_(t,r):null}(r,t):-2===s?function _C(t,r,s){return s===nd?td(r,t):s===gm?S_(r,t):s===M_?lI(r,t):void 0}(t,r,a):su(t,t[Yt],s,r)}function pI(t,r,s,a){const c=r[Kr].queries[a];if(null===c.matches){const d=t.data,y=s.matches,I=[];for(let R=0;R<y.length;R+=2){const U=y[R];I.push(U<0?null:yC(r,d[U],y[R+1],s.metadata.read))}c.matches=I}return c.matches}function Z0(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const y=pI(t,r,c,s);for(let I=0;I<d.length;I+=2){const R=d[I];if(R>0)a.push(y[I/2]);else{const U=d[I+1],J=r[-R];for(let fe=bi;fe<J.length;fe++){const ke=J[fe];ke[Hr]===ke[H]&&Z0(ke[Yt],ke,U,a)}if(null!==J[gs]){const fe=J[gs];for(let ke=0;ke<fe.length;ke++){const ze=fe[ke];Z0(ze[Yt],ze,U,a)}}}}}return a}function gI(t){const r=et(),s=Ht(),a=le();Ge(a+1);const c=EI(s,a);if(t.dirty&&function as(t){return 4==(4&t[Rn])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?Z0(s,r,a,[]):pI(s,r,c,a);t.reset(d,cy),t.notifyOnChanges()}return!0}return!1}function mI(t,r,s,a){const c=Ht();if(c.firstCreatePass){const d=Fe();(function vI(t,r,s){null===t.queries&&(t.queries=new W0),t.queries.track(new K0(r,s))})(c,new fI(r,s,a),d.index),function wC(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}!function _I(t,r,s){const a=new H0(4==(4&s));(function Cg(t,r,s,a){const c=kg(r);c.push(s),t.firstCreatePass&&ld(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[Kr]&&(r[Kr]=new q0),r[Kr].queries.push(new z0(a))}(c,et(),s)}function yI(){return function EC(t,r){return t[Kr].queries[r].queryList}(et(),le())}function EI(t,r){return t.queries.getByIndex(r)}function Y0(t){return!!$r(t)}const LI=new bn("Application Initializer");let tE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=Zt(LI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(e_(d))s.push(d);else if(Xg(d)){const y=new Promise((I,R)=>{d.subscribe({complete:I,error:R})});s.push(y)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=er({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),VI=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=er({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const R_=new bn("LocaleId",{providedIn:"root",factory:()=>Zt(R_,zt.Optional|zt.SkipSelf)||function HC(){return typeof $localize<"u"&&$localize.locale||lp}()}),GC=new bn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let UI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new he.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=er({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class qC{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let WC=(()=>{class t{compileModuleSync(s){return new j0(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=ec($r(s).declarations).reduce((y,I)=>{const R=Vn(I);return R&&y.push(new hd(R)),y},[]);return new qC(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=er({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const HI=new bn(""),GI=new bn("");let iE,gD=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,iE||(function mD(t){iE=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(Kt(Fo),Kt(zI),Kt(GI))};static#t=this.\u0275prov=er({token:t,factory:t.\u0275fac})}return t})(),zI=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return iE?.findTestabilityInTree(this,s,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=er({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),wd=null;const qI=new bn("AllowMultipleToken"),sE=new bn("PlatformDestroyListeners"),oE=new bn("appBootstrapListener");class vD{constructor(r,s){this.name=r,this.token=s}}function ZI(t,r,s=[]){const a=`Platform: ${r}`,c=new bn(a);return(d=[])=>{let y=aE();if(!y||y.injector.get(qI,!1)){const I=[...s,...d,{provide:c,useValue:!0}];t?t(I):function ED(t){if(wd&&!wd.get(qI,!1))throw new Et(400,!1);(function WI(){!function Tt(t){ge=t}(()=>{throw new Et(600,!1)})})(),wd=t;const r=t.get(QI);(function KI(t){t.get(df,null)?.forEach(s=>s())})(t)}(function YI(t=[],r){return Su.create({name:r,providers:[{provide:Kp,useValue:"platform"},{provide:sE,useValue:new Set([()=>wd=null])},...t]})}(I,a))}return function ID(t){const r=aE();if(!r)throw new Et(401,!1);return r}()}}function aE(){return wd?.get(QI)??null}let QI=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function bD(t="zone.js",r){return"noop"===t?new mg:"zone.js"===t?new Fo(r):t}(a?.ngZone,function JI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function DT(t,r,s){return new B0(t,r,s)}(s.moduleType,this.injector,function rb(t){return[{provide:Fo,useFactory:t},{provide:eh,multi:!0,useFactory:()=>{const r=Zt(CD,{optional:!0});return()=>r.initialize()}},{provide:nb,useFactory:TD},{provide:vy,useFactory:Sf}]}(()=>c)),y=d.injector.get(Bu,null);return c.runOutsideAngular(()=>{const I=c.onError.subscribe({next:R=>{y.handleError(R)}});d.onDestroy(()=>{O_(this._modules,d),I.unsubscribe()})}),function XI(t,r,s){try{const a=s();return e_(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(y,c,()=>{const I=d.injector.get(tE);return I.runInitializers(),I.donePromise.then(()=>(function yw(t){qn(t,"Expected localeId to be defined"),"string"==typeof t&&(mw=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(R_,lp)||lp),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=eb({},a);return function yD(t,r,s){const a=new j0(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(fp);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Et(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Et(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(sE,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(Kt(Su))};static#t=this.\u0275prov=er({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function eb(t,r){return Array.isArray(r)?r.reduce(eb,t):{...t,...r}}let fp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Zt(nb),this.zoneIsStable=Zt(vy),this.componentTypes=[],this.components=[],this.isStable=Zt(UI).hasPendingTasks.pipe((0,bt.w)(s=>s?(0,ue.of)(!1):this.zoneIsStable),function nn(t,r=Vt.y){return t=t??Mt,(0,it.e)((s,a)=>{let c,d=!0;s.subscribe((0,St.x)(a,y=>{const I=r(y);(d||!t(c,I))&&(d=!1,c=I,a.next(y))}))})}(),Ae()),this._injector=Zt(Cu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof yf;if(!this._injector.get(tE).done)throw!c&&Yi(s),new Et(405,!1);let y;y=c?s:this._injector.get(hl).resolveComponentFactory(s),this.componentTypes.push(y.componentType);const I=function _D(t){return t.isBoundToModule}(y)?void 0:this._injector.get(Mh),U=y.create(Su.NULL,[],a||y.selector,I),J=U.location.nativeElement,fe=U.injector.get(HI,null);return fe?.registerApplication(J),U.onDestroy(()=>{this.detachView(U.hostView),O_(this.components,U),fe?.unregisterApplication(J)}),this._loadComponent(U),U}tick(){if(this._runningTick)throw new Et(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;O_(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(oE,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>O_(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Et(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=er({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function O_(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const nb=new bn("",{providedIn:"root",factory:()=>Zt(Bu).handleError.bind(void 0)});function TD(){const t=Zt(Fo),r=Zt(Bu);return s=>t.runOutsideAngular(()=>r.handleError(s))}let CD=(()=>{class t{constructor(){this.zone=Zt(Fo),this.applicationRef=Zt(fp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=er({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function SD(){return!1}let AD=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=MD}return t})();function MD(t){return function xD(t,r,s){if(Hs(t)&&!s){const a=Ro(t.index,r);return new Wf(a,a)}return 47&t.type?new Wf(r[Zn],r):null}(Fe(),et(),16==(16&t))}class ab{constructor(){}supports(r){return mh(r)}create(r){return new FD(r)}}const kD=(t,r)=>r;class FD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||kD}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const y=!a||s&&s.currentIndex<cb(a,c,d)?s:a,I=cb(y,c,d),R=y.currentIndex;if(y===a)c--,a=a._nextRemoved;else if(s=s._next,null==y.previousIndex)c++;else{d||(d=[]);const U=I-c,J=R-c;if(U!=J){for(let ke=0;ke<U;ke++){const ze=ke<d.length?d[ke]:d[ke]=0,It=ze+ke;J<=It&&It<U&&(d[ke]=ze+1)}d[y.previousIndex]=J-U}}I!==R&&r(y,I,R)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!mh(r))throw new Et(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,y,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let I=0;I<this.length;I++)d=r[I],y=this._trackByFn(I,d),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,d,y,I)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,y,I),a=!0),s=s._next}else c=0,function yh(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,I=>{y=this._trackByFn(c,I),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,I,y,c)),Object.is(s.item,I)||this._addIdentityChange(s,I)):(s=this._mismatch(s,I,y,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new LD(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new ub),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ub),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class LD{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class ub{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new VD,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cb(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class lb{constructor(){}supports(r){return r instanceof Map||zg(r)}create(){return new UD}}class UD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||zg(r)))throw new Et(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,y=c._next;return d&&(d._next=y),y&&(y._prev=d),c._next=null,c._prev=null,c}const a=new BD(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class BD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function db(){return new hE([new ab])}let hE=(()=>{class t{static#e=this.\u0275prov=er({token:t,providedIn:"root",factory:db});constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||db()),deps:[[t,new Wo,new Wa]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Et(901,!1)}}return t})();function hb(){return new fE([new lb])}let fE=(()=>{class t{static#e=this.\u0275prov=er({token:t,providedIn:"root",factory:hb});constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||hb()),deps:[[t,new Wo,new Wa]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Et(901,!1)}}return t})();const HD=ZI(null,"core",[]);let GD=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(a){return new(a||t)(Kt(fp))};static#t=this.\u0275mod=To({type:t});static#n=this.\u0275inj=Pn({})}return t})();function tS(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function rS(t){const r=Vn(t);if(!r)return null;const s=new hd(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},95:(ln,pt,Z)=>{Z.d(pt,{Fj:()=>Ce,qu:()=>ki,u:()=>vs,sg:()=>Vn,u5:()=>ri,JU:()=>Nt,JJ:()=>Pn,JL:()=>Mn,On:()=>ho,UX:()=>Jo,kI:()=>at,_Y:()=>_s});var p=Z(4946),de=Z(6814),Ee=Z(2459),De=Z(5592),Me=Z(7453),ae=Z(4829),E=Z(4564),Xe=Z(8251),We=Z(7400),he=Z(2714),Ve=Z(7398);let it=(()=>{class j{constructor(P,ee){this._renderer=P,this._elementRef=ee,this.onChange=Se=>{},this.onTouched=()=>{}}setProperty(P,ee){this._renderer.setProperty(this._elementRef.nativeElement,P,ee)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}static#e=this.\u0275fac=function(ee){return new(ee||j)(p.Y36(p.Qsj),p.Y36(p.SBq))};static#t=this.\u0275dir=p.lG2({type:j})}return j})(),Ae=(()=>{class j extends it{static#e=this.\u0275fac=function(){let P;return function(Se){return(P||(P=p.n5z(j)))(Se||j)}}();static#t=this.\u0275dir=p.lG2({type:j,features:[p.qOj]})}return j})();const Nt=new p.OlP("NgValueAccessor"),St={provide:Nt,useExisting:(0,p.Gpc)(()=>Ce),multi:!0},Mt=new p.OlP("CompositionEventMode");let Ce=(()=>{class j extends it{constructor(P,ee,Se){super(P,ee),this._compositionMode=Se,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function nn(){const j=(0,de.q)()?(0,de.q)().getUserAgent():"";return/android (\d+)/.test(j.toLowerCase())}())}writeValue(P){this.setProperty("value",P??"")}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}static#e=this.\u0275fac=function(ee){return new(ee||j)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Mt,8))};static#t=this.\u0275dir=p.lG2({type:j,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ee,Se){1&ee&&p.NdJ("input",function(Bn){return Se._handleInput(Bn.target.value)})("blur",function(){return Se.onTouched()})("compositionstart",function(){return Se._compositionStart()})("compositionend",function(Bn){return Se._compositionEnd(Bn.target.value)})},features:[p._Bn([St]),p.qOj]})}return j})();function tt(j){return null==j||("string"==typeof j||Array.isArray(j))&&0===j.length}function Ze(j){return null!=j&&"number"==typeof j.length}const gt=new p.OlP("NgValidators"),ut=new p.OlP("NgAsyncValidators"),ct=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class at{static min(q){return function vn(j){return q=>{if(tt(q.value)||tt(j))return null;const P=parseFloat(q.value);return!isNaN(P)&&P<j?{min:{min:j,actual:q.value}}:null}}(q)}static max(q){return function kn(j){return q=>{if(tt(q.value)||tt(j))return null;const P=parseFloat(q.value);return!isNaN(P)&&P>j?{max:{max:j,actual:q.value}}:null}}(q)}static required(q){return function or(j){return tt(j.value)?{required:!0}:null}(q)}static requiredTrue(q){return function wt(j){return!0===j.value?null:{required:!0}}(q)}static email(q){return function Et(j){return tt(j.value)||ct.test(j.value)?null:{email:!0}}(q)}static minLength(q){return function In(j){return q=>tt(q.value)||!Ze(q.value)?null:q.value.length<j?{minlength:{requiredLength:j,actualLength:q.value.length}}:null}(q)}static maxLength(q){return function Ft(j){return q=>Ze(q.value)&&q.value.length>j?{maxlength:{requiredLength:j,actualLength:q.value.length}}:null}(q)}static pattern(q){return function Cn(j){if(!j)return $e;let q,P;return"string"==typeof j?(P="","^"!==j.charAt(0)&&(P+="^"),P+=j,"$"!==j.charAt(j.length-1)&&(P+="$"),q=new RegExp(P)):(P=j.toString(),q=j),ee=>{if(tt(ee.value))return null;const Se=ee.value;return q.test(Se)?null:{pattern:{requiredPattern:P,actualValue:Se}}}}(q)}static nullValidator(q){return null}static compose(q){return Ke(q)}static composeAsync(q){return _t(q)}}function $e(j){return null}function Je(j){return null!=j}function st(j){return(0,p.QGY)(j)?(0,Ee.D)(j):j}function Te(j){let q={};return j.forEach(P=>{q=null!=P?{...q,...P}:q}),0===Object.keys(q).length?null:q}function ve(j,q){return q.map(P=>P(j))}function ye(j){return j.map(q=>function oe(j){return!j.validate}(q)?q:P=>q.validate(P))}function Ke(j){if(!j)return null;const q=j.filter(Je);return 0==q.length?null:function(P){return Te(ve(P,q))}}function ht(j){return null!=j?Ke(ye(j)):null}function _t(j){if(!j)return null;const q=j.filter(Je);return 0==q.length?null:function(P){return function ue(...j){const q=(0,E.jO)(j),{args:P,keys:ee}=(0,Me.D)(j),Se=new De.y(tn=>{const{length:Bn}=P;if(!Bn)return void tn.complete();const os=new Array(Bn);let Gs=Bn,Js=Bn;for(let Uo=0;Uo<Bn;Uo++){let Ss=!1;(0,ae.Xf)(P[Uo]).subscribe((0,Xe.x)(tn,Do=>{Ss||(Ss=!0,Js--),os[Uo]=Do},()=>Gs--,void 0,()=>{(!Gs||!Ss)&&(Js||tn.next(ee?(0,he.n)(ee,os):os),tn.complete())}))}});return q?Se.pipe((0,We.Z)(q)):Se}(ve(P,q).map(st)).pipe((0,Ve.U)(Te))}}function jt(j){return null!=j?_t(ye(j)):null}function Wn(j,q){return null===j?[q]:Array.isArray(j)?[...j,q]:[j,q]}function zn(j){return j._rawValidators}function Sn(j){return j._rawAsyncValidators}function ir(j){return j?Array.isArray(j)?j:[j]:[]}function Xn(j,q){return Array.isArray(j)?j.includes(q):j===q}function Ur(j,q){const P=ir(q);return ir(j).forEach(Se=>{Xn(P,Se)||P.push(Se)}),P}function qn(j,q){return ir(q).filter(P=>!Xn(j,P))}class gn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(q){this._rawValidators=q||[],this._composedValidatorFn=ht(this._rawValidators)}_setAsyncValidators(q){this._rawAsyncValidators=q||[],this._composedAsyncValidatorFn=jt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(q){this._onDestroyCallbacks.push(q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(q=>q()),this._onDestroyCallbacks=[]}reset(q=void 0){this.control&&this.control.reset(q)}hasError(q,P){return!!this.control&&this.control.hasError(q,P)}getError(q,P){return this.control?this.control.getError(q,P):null}}class sr extends gn{get formDirective(){return null}get path(){return null}}class mn extends gn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fi{constructor(q){this._cd=q}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pn=(()=>{class j extends fi{constructor(P){super(P)}static#e=this.\u0275fac=function(ee){return new(ee||j)(p.Y36(mn,2))};static#t=this.\u0275dir=p.lG2({type:j,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ee,Se){2&ee&&p.ekj("ng-untouched",Se.isUntouched)("ng-touched",Se.isTouched)("ng-pristine",Se.isPristine)("ng-dirty",Se.isDirty)("ng-valid",Se.isValid)("ng-invalid",Se.isInvalid)("ng-pending",Se.isPending)},features:[p.qOj]})}return j})(),Mn=(()=>{class j extends fi{constructor(P){super(P)}static#e=this.\u0275fac=function(ee){return new(ee||j)(p.Y36(sr,10))};static#t=this.\u0275dir=p.lG2({type:j,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ee,Se){2&ee&&p.ekj("ng-untouched",Se.isUntouched)("ng-touched",Se.isTouched)("ng-pristine",Se.isPristine)("ng-dirty",Se.isDirty)("ng-valid",Se.isValid)("ng-invalid",Se.isInvalid)("ng-pending",Se.isPending)("ng-submitted",Se.isSubmitted)},features:[p.qOj]})}return j})();const bn="VALID",dr="INVALID",Fn="PENDING",Nr="DISABLED";function be(j){return(te(j)?j.validators:j)||null}function re(j,q){return(te(q)?q.asyncValidators:j)||null}function te(j){return null!=j&&!Array.isArray(j)&&"object"==typeof j}function Pe(j,q,P){const ee=j.controls;if(!(q?Object.keys(ee):ee).length)throw new p.vHH(1e3,"");if(!ee[P])throw new p.vHH(1001,"")}function yt(j,q,P){j._forEachChild((ee,Se)=>{if(void 0===P[Se])throw new p.vHH(1002,"")})}class Bt{constructor(q,P){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(q),this._assignAsyncValidators(P)}get validator(){return this._composedValidatorFn}set validator(q){this._rawValidators=this._composedValidatorFn=q}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(q){this._rawAsyncValidators=this._composedAsyncValidatorFn=q}get parent(){return this._parent}get valid(){return this.status===bn}get invalid(){return this.status===dr}get pending(){return this.status==Fn}get disabled(){return this.status===Nr}get enabled(){return this.status!==Nr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(q){this._assignValidators(q)}setAsyncValidators(q){this._assignAsyncValidators(q)}addValidators(q){this.setValidators(Ur(q,this._rawValidators))}addAsyncValidators(q){this.setAsyncValidators(Ur(q,this._rawAsyncValidators))}removeValidators(q){this.setValidators(qn(q,this._rawValidators))}removeAsyncValidators(q){this.setAsyncValidators(qn(q,this._rawAsyncValidators))}hasValidator(q){return Xn(this._rawValidators,q)}hasAsyncValidator(q){return Xn(this._rawAsyncValidators,q)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(q={}){this.touched=!0,this._parent&&!q.onlySelf&&this._parent.markAsTouched(q)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(q=>q.markAllAsTouched())}markAsUntouched(q={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(P=>{P.markAsUntouched({onlySelf:!0})}),this._parent&&!q.onlySelf&&this._parent._updateTouched(q)}markAsDirty(q={}){this.pristine=!1,this._parent&&!q.onlySelf&&this._parent.markAsDirty(q)}markAsPristine(q={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(P=>{P.markAsPristine({onlySelf:!0})}),this._parent&&!q.onlySelf&&this._parent._updatePristine(q)}markAsPending(q={}){this.status=Fn,!1!==q.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!q.onlySelf&&this._parent.markAsPending(q)}disable(q={}){const P=this._parentMarkedDirty(q.onlySelf);this.status=Nr,this.errors=null,this._forEachChild(ee=>{ee.disable({...q,onlySelf:!0})}),this._updateValue(),!1!==q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...q,skipPristineCheck:P}),this._onDisabledChange.forEach(ee=>ee(!0))}enable(q={}){const P=this._parentMarkedDirty(q.onlySelf);this.status=bn,this._forEachChild(ee=>{ee.enable({...q,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:q.emitEvent}),this._updateAncestors({...q,skipPristineCheck:P}),this._onDisabledChange.forEach(ee=>ee(!1))}_updateAncestors(q){this._parent&&!q.onlySelf&&(this._parent.updateValueAndValidity(q),q.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(q){this._parent=q}getRawValue(){return this.value}updateValueAndValidity(q={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bn||this.status===Fn)&&this._runAsyncValidator(q.emitEvent)),!1!==q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!q.onlySelf&&this._parent.updateValueAndValidity(q)}_updateTreeValidity(q={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(q)),this.updateValueAndValidity({onlySelf:!0,emitEvent:q.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nr:bn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(q){if(this.asyncValidator){this.status=Fn,this._hasOwnPendingAsyncValidator=!0;const P=st(this.asyncValidator(this));this._asyncValidationSubscription=P.subscribe(ee=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ee,{emitEvent:q})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(q,P={}){this.errors=q,this._updateControlsErrors(!1!==P.emitEvent)}get(q){let P=q;return null==P||(Array.isArray(P)||(P=P.split(".")),0===P.length)?null:P.reduce((ee,Se)=>ee&&ee._find(Se),this)}getError(q,P){const ee=P?this.get(P):this;return ee&&ee.errors?ee.errors[q]:null}hasError(q,P){return!!this.getError(q,P)}get root(){let q=this;for(;q._parent;)q=q._parent;return q}_updateControlsErrors(q){this.status=this._calculateStatus(),q&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(q)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?Nr:this.errors?dr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fn)?Fn:this._anyControlsHaveStatus(dr)?dr:bn}_anyControlsHaveStatus(q){return this._anyControls(P=>P.status===q)}_anyControlsDirty(){return this._anyControls(q=>q.dirty)}_anyControlsTouched(){return this._anyControls(q=>q.touched)}_updatePristine(q={}){this.pristine=!this._anyControlsDirty(),this._parent&&!q.onlySelf&&this._parent._updatePristine(q)}_updateTouched(q={}){this.touched=this._anyControlsTouched(),this._parent&&!q.onlySelf&&this._parent._updateTouched(q)}_registerOnCollectionChange(q){this._onCollectionChange=q}_setUpdateStrategy(q){te(q)&&null!=q.updateOn&&(this._updateOn=q.updateOn)}_parentMarkedDirty(q){return!q&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(q){return null}_assignValidators(q){this._rawValidators=Array.isArray(q)?q.slice():q,this._composedValidatorFn=function X(j){return Array.isArray(j)?ht(j):j||null}(this._rawValidators)}_assignAsyncValidators(q){this._rawAsyncValidators=Array.isArray(q)?q.slice():q,this._composedAsyncValidatorFn=function ne(j){return Array.isArray(j)?jt(j):j||null}(this._rawAsyncValidators)}}class En extends Bt{constructor(q,P,ee){super(be(P),re(ee,P)),this.controls=q,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(q,P){return this.controls[q]?this.controls[q]:(this.controls[q]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(q,P,ee={}){this.registerControl(q,P),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}removeControl(q,P={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),delete this.controls[q],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(q,P,ee={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),delete this.controls[q],P&&this.registerControl(q,P),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}contains(q){return this.controls.hasOwnProperty(q)&&this.controls[q].enabled}setValue(q,P={}){yt(this,0,q),Object.keys(q).forEach(ee=>{Pe(this,!0,ee),this.controls[ee].setValue(q[ee],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(q,P={}){null!=q&&(Object.keys(q).forEach(ee=>{const Se=this.controls[ee];Se&&Se.patchValue(q[ee],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(q={},P={}){this._forEachChild((ee,Se)=>{ee.reset(q?q[Se]:null,{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this._reduceChildren({},(q,P,ee)=>(q[ee]=P.getRawValue(),q))}_syncPendingControls(){let q=this._reduceChildren(!1,(P,ee)=>!!ee._syncPendingControls()||P);return q&&this.updateValueAndValidity({onlySelf:!0}),q}_forEachChild(q){Object.keys(this.controls).forEach(P=>{const ee=this.controls[P];ee&&q(ee,P)})}_setUpControls(){this._forEachChild(q=>{q.setParent(this),q._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(q){for(const[P,ee]of Object.entries(this.controls))if(this.contains(P)&&q(ee))return!0;return!1}_reduceValue(){return this._reduceChildren({},(P,ee,Se)=>((ee.enabled||this.disabled)&&(P[Se]=ee.value),P))}_reduceChildren(q,P){let ee=q;return this._forEachChild((Se,tn)=>{ee=P(ee,Se,tn)}),ee}_allControlsDisabled(){for(const q of Object.keys(this.controls))if(this.controls[q].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(q){return this.controls.hasOwnProperty(q)?this.controls[q]:null}}class Xt extends En{}const Yr=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ei}),Ei="always";function Ri(j,q){return[...q.path,j]}function ot(j,q,P=Ei){An(j,q),q.valueAccessor.writeValue(j.value),(j.disabled||"always"===P)&&q.valueAccessor.setDisabledState?.(j.disabled),function $n(j,q){q.valueAccessor.registerOnChange(P=>{j._pendingValue=P,j._pendingChange=!0,j._pendingDirty=!0,"change"===j.updateOn&&vr(j,q)})}(j,q),function Ni(j,q){const P=(ee,Se)=>{q.valueAccessor.writeValue(ee),Se&&q.viewToModelUpdate(ee)};j.registerOnChange(P),q._registerOnDestroy(()=>{j._unregisterOnChange(P)})}(j,q),function ei(j,q){q.valueAccessor.registerOnTouched(()=>{j._pendingTouched=!0,"blur"===j.updateOn&&j._pendingChange&&vr(j,q),"submit"!==j.updateOn&&j.markAsTouched()})}(j,q),function Kt(j,q){if(q.valueAccessor.setDisabledState){const P=ee=>{q.valueAccessor.setDisabledState(ee)};j.registerOnDisabledChange(P),q._registerOnDestroy(()=>{j._unregisterOnDisabledChange(P)})}}(j,q)}function Be(j,q,P=!0){const ee=()=>{};q.valueAccessor&&(q.valueAccessor.registerOnChange(ee),q.valueAccessor.registerOnTouched(ee)),Zt(j,q),j&&(q._invokeOnDestroyCallbacks(),j._registerOnCollectionChange(()=>{}))}function At(j,q){j.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(q)})}function An(j,q){const P=zn(j);null!==q.validator?j.setValidators(Wn(P,q.validator)):"function"==typeof P&&j.setValidators([P]);const ee=Sn(j);null!==q.asyncValidator?j.setAsyncValidators(Wn(ee,q.asyncValidator)):"function"==typeof ee&&j.setAsyncValidators([ee]);const Se=()=>j.updateValueAndValidity();At(q._rawValidators,Se),At(q._rawAsyncValidators,Se)}function Zt(j,q){let P=!1;if(null!==j){if(null!==q.validator){const Se=zn(j);if(Array.isArray(Se)&&Se.length>0){const tn=Se.filter(Bn=>Bn!==q.validator);tn.length!==Se.length&&(P=!0,j.setValidators(tn))}}if(null!==q.asyncValidator){const Se=Sn(j);if(Array.isArray(Se)&&Se.length>0){const tn=Se.filter(Bn=>Bn!==q.asyncValidator);tn.length!==Se.length&&(P=!0,j.setAsyncValidators(tn))}}}const ee=()=>{};return At(q._rawValidators,ee),At(q._rawAsyncValidators,ee),P}function vr(j,q){j._pendingDirty&&j.markAsDirty(),j.setValue(j._pendingValue,{emitModelToViewChange:!1}),q.viewToModelUpdate(j._pendingValue),j._pendingChange=!1}function hs(j,q){if(!j.hasOwnProperty("model"))return!1;const P=j.model;return!!P.isFirstChange()||!Object.is(q,P.currentValue)}function Ji(j,q){if(!q)return null;let P,ee,Se;return Array.isArray(q),q.forEach(tn=>{tn.constructor===Ce?P=tn:function ti(j){return Object.getPrototypeOf(j.constructor)===Ae}(tn)?ee=tn:Se=tn}),Se||ee||P||null}function mt(j,q){const P=j.indexOf(q);P>-1&&j.splice(P,1)}function kt(j){return"object"==typeof j&&null!==j&&2===Object.keys(j).length&&"value"in j&&"disabled"in j}const on=class extends Bt{constructor(q=null,P,ee){super(be(P),re(ee,P)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(q),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),te(P)&&(P.nonNullable||P.initialValueIsDefault)&&(this.defaultValue=kt(q)?q.value:q)}setValue(q,P={}){this.value=this._pendingValue=q,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(ee=>ee(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(q,P={}){this.setValue(q,P)}reset(q=this.defaultValue,P={}){this._applyFormState(q),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1}_updateValue(){}_anyControls(q){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(q){this._onChange.push(q)}_unregisterOnChange(q){mt(this._onChange,q)}registerOnDisabledChange(q){this._onDisabledChange.push(q)}_unregisterOnDisabledChange(q){mt(this._onDisabledChange,q)}_forEachChild(q){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(q){kt(q)?(this.value=this._pendingValue=q.value,q.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=q}},lo={provide:mn,useExisting:(0,p.Gpc)(()=>ho)},Mi=(()=>Promise.resolve())();let ho=(()=>{class j extends mn{constructor(P,ee,Se,tn,Bn,os){super(),this._changeDetectorRef=Bn,this.callSetDisabledState=os,this.control=new on,this._registered=!1,this.name="",this.update=new p.vpe,this._parent=P,this._setValidators(ee),this._setAsyncValidators(Se),this.valueAccessor=Ji(0,tn)}ngOnChanges(P){if(this._checkForErrors(),!this._registered||"name"in P){if(this._registered&&(this._checkName(),this.formDirective)){const ee=P.name.previousValue;this.formDirective.removeControl({name:ee,path:this._getPath(ee)})}this._setUpControl()}"isDisabled"in P&&this._updateDisabled(P),hs(P,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ot(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(P){Mi.then(()=>{this.control.setValue(P,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(P){const ee=P.isDisabled.currentValue,Se=0!==ee&&(0,p.VuI)(ee);Mi.then(()=>{Se&&!this.control.disabled?this.control.disable():!Se&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(P){return this._parent?Ri(P,this._parent):[P]}static#e=this.\u0275fac=function(ee){return new(ee||j)(p.Y36(sr,9),p.Y36(gt,10),p.Y36(ut,10),p.Y36(Nt,10),p.Y36(p.sBO,8),p.Y36(Yr,8))};static#t=this.\u0275dir=p.lG2({type:j,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([lo]),p.qOj,p.TTD]})}return j})(),_s=(()=>{class j{static#e=this.\u0275fac=function(ee){return new(ee||j)};static#t=this.\u0275dir=p.lG2({type:j,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return j})(),Os=(()=>{class j{static#e=this.\u0275fac=function(ee){return new(ee||j)};static#t=this.\u0275mod=p.oAB({type:j});static#n=this.\u0275inj=p.cJS({})}return j})();const _a=new p.OlP("NgModelWithFormControlWarning"),Ps={provide:sr,useExisting:(0,p.Gpc)(()=>Vn)};let Vn=(()=>{class j extends sr{constructor(P,ee,Se){super(),this.callSetDisabledState=Se,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(P),this._setAsyncValidators(ee)}ngOnChanges(P){this._checkFormPresent(),P.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(P){const ee=this.form.get(P.path);return ot(ee,P,this.callSetDisabledState),ee.updateValueAndValidity({emitEvent:!1}),this.directives.push(P),ee}getControl(P){return this.form.get(P.path)}removeControl(P){Be(P.control||null,P,!1),function fs(j,q){const P=j.indexOf(q);P>-1&&j.splice(P,1)}(this.directives,P)}addFormGroup(P){this._setUpFormContainer(P)}removeFormGroup(P){this._cleanUpFormContainer(P)}getFormGroup(P){return this.form.get(P.path)}addFormArray(P){this._setUpFormContainer(P)}removeFormArray(P){this._cleanUpFormContainer(P)}getFormArray(P){return this.form.get(P.path)}updateModel(P,ee){this.form.get(P.path).setValue(ee)}onSubmit(P){return this.submitted=!0,function pi(j,q){j._syncPendingControls(),q.forEach(P=>{const ee=P.control;"submit"===ee.updateOn&&ee._pendingChange&&(P.viewToModelUpdate(ee._pendingValue),ee._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_updateDomValue(){this.directives.forEach(P=>{const ee=P.control,Se=this.form.get(P.path);ee!==Se&&(Be(ee||null,P),(j=>j instanceof on)(Se)&&(ot(Se,P,this.callSetDisabledState),P.control=Se))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(P){const ee=this.form.get(P.path);(function xs(j,q){An(j,q)})(ee,P),ee.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(P){if(this.form){const ee=this.form.get(P.path);ee&&function Rs(j,q){return Zt(j,q)}(ee,P)&&ee.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){An(this.form,this),this._oldForm&&Zt(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(ee){return new(ee||j)(p.Y36(gt,10),p.Y36(ut,10),p.Y36(Yr,8))};static#t=this.\u0275dir=p.lG2({type:j,selectors:[["","formGroup",""]],hostBindings:function(ee,Se){1&ee&&p.NdJ("submit",function(Bn){return Se.onSubmit(Bn)})("reset",function(){return Se.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Ps]),p.qOj,p.TTD]})}return j})();const Ds={provide:mn,useExisting:(0,p.Gpc)(()=>vs)};let vs=(()=>{class j extends mn{set isDisabled(P){}static#e=this._ngModelWarningSentOnce=!1;constructor(P,ee,Se,tn,Bn){super(),this._ngModelWarningConfig=Bn,this._added=!1,this.name=null,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=P,this._setValidators(ee),this._setAsyncValidators(Se),this.valueAccessor=Ji(0,tn)}ngOnChanges(P){this._added||this._setUpControl(),hs(P,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}get path(){return Ri(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(ee){return new(ee||j)(p.Y36(sr,13),p.Y36(gt,10),p.Y36(ut,10),p.Y36(Nt,10),p.Y36(_a,8))};static#n=this.\u0275dir=p.lG2({type:j,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([Ds]),p.qOj,p.TTD]})}return j})(),gs=(()=>{class j{static#e=this.\u0275fac=function(ee){return new(ee||j)};static#t=this.\u0275mod=p.oAB({type:j});static#n=this.\u0275inj=p.cJS({imports:[Os]})}return j})();class Qs extends Bt{constructor(q,P,ee){super(be(P),re(ee,P)),this.controls=q,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(q){return this.controls[this._adjustIndex(q)]}push(q,P={}){this.controls.push(q),this._registerControl(q),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}insert(q,P,ee={}){this.controls.splice(q,0,P),this._registerControl(P),this.updateValueAndValidity({emitEvent:ee.emitEvent})}removeAt(q,P={}){let ee=this._adjustIndex(q);ee<0&&(ee=0),this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),this.controls.splice(ee,1),this.updateValueAndValidity({emitEvent:P.emitEvent})}setControl(q,P,ee={}){let Se=this._adjustIndex(q);Se<0&&(Se=0),this.controls[Se]&&this.controls[Se]._registerOnCollectionChange(()=>{}),this.controls.splice(Se,1),P&&(this.controls.splice(Se,0,P),this._registerControl(P)),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(q,P={}){yt(this,0,q),q.forEach((ee,Se)=>{Pe(this,!1,Se),this.at(Se).setValue(ee,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(q,P={}){null!=q&&(q.forEach((ee,Se)=>{this.at(Se)&&this.at(Se).patchValue(ee,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(q=[],P={}){this._forEachChild((ee,Se)=>{ee.reset(q[Se],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this.controls.map(q=>q.getRawValue())}clear(q={}){this.controls.length<1||(this._forEachChild(P=>P._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:q.emitEvent}))}_adjustIndex(q){return q<0?q+this.length:q}_syncPendingControls(){let q=this.controls.reduce((P,ee)=>!!ee._syncPendingControls()||P,!1);return q&&this.updateValueAndValidity({onlySelf:!0}),q}_forEachChild(q){this.controls.forEach((P,ee)=>{q(P,ee)})}_updateValue(){this.value=this.controls.filter(q=>q.enabled||this.disabled).map(q=>q.value)}_anyControls(q){return this.controls.some(P=>P.enabled&&q(P))}_setUpControls(){this._forEachChild(q=>this._registerControl(q))}_allControlsDisabled(){for(const q of this.controls)if(q.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(q){q.setParent(this),q._registerOnCollectionChange(this._onCollectionChange)}_find(q){return this.at(q)??null}}function Pi(j){return!!j&&(void 0!==j.asyncValidators||void 0!==j.validators||void 0!==j.updateOn)}let ki=(()=>{class j{constructor(){this.useNonNullable=!1}get nonNullable(){const P=new j;return P.useNonNullable=!0,P}group(P,ee=null){const Se=this._reduceControls(P);let tn={};return Pi(ee)?tn=ee:null!==ee&&(tn.validators=ee.validator,tn.asyncValidators=ee.asyncValidator),new En(Se,tn)}record(P,ee=null){const Se=this._reduceControls(P);return new Xt(Se,ee)}control(P,ee,Se){let tn={};return this.useNonNullable?(Pi(ee)?tn=ee:(tn.validators=ee,tn.asyncValidators=Se),new on(P,{...tn,nonNullable:!0})):new on(P,ee,Se)}array(P,ee,Se){const tn=P.map(Bn=>this._createControl(Bn));return new Qs(tn,ee,Se)}_reduceControls(P){const ee={};return Object.keys(P).forEach(Se=>{ee[Se]=this._createControl(P[Se])}),ee}_createControl(P){return P instanceof on||P instanceof Bt?P:Array.isArray(P)?this.control(P[0],P.length>1?P[1]:null,P.length>2?P[2]:null):this.control(P)}static#e=this.\u0275fac=function(ee){return new(ee||j)};static#t=this.\u0275prov=p.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})(),ri=(()=>{class j{static withConfig(P){return{ngModule:j,providers:[{provide:Yr,useValue:P.callSetDisabledState??Ei}]}}static#e=this.\u0275fac=function(ee){return new(ee||j)};static#t=this.\u0275mod=p.oAB({type:j});static#n=this.\u0275inj=p.cJS({imports:[gs]})}return j})(),Jo=(()=>{class j{static withConfig(P){return{ngModule:j,providers:[{provide:_a,useValue:P.warnOnNgModelWithFormControl??"always"},{provide:Yr,useValue:P.callSetDisabledState??Ei}]}}static#e=this.\u0275fac=function(ee){return new(ee||j)};static#t=this.\u0275mod=p.oAB({type:j});static#n=this.\u0275inj=p.cJS({imports:[gs]})}return j})()},6593:(ln,pt,Z)=>{Z.d(pt,{Dx:()=>mn,H7:()=>jr,b2:()=>Xn,q6:()=>Wn,se:()=>ct});var p=Z(4946),de=Z(6814);class Ee extends de.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class De extends Ee{static makeCurrent(){(0,de.HT)(new De)}onAndCancel(re,ne,te){return re.addEventListener(ne,te),()=>{re.removeEventListener(ne,te)}}dispatchEvent(re,ne){re.dispatchEvent(ne)}remove(re){re.parentNode&&re.parentNode.removeChild(re)}createElement(re,ne){return(ne=ne||this.getDefaultDocument()).createElement(re)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(re){return re.nodeType===Node.ELEMENT_NODE}isShadowRoot(re){return re instanceof DocumentFragment}getGlobalEventTarget(re,ne){return"window"===ne?window:"document"===ne?re:"body"===ne?re.body:null}getBaseHref(re){const ne=function ae(){return Me=Me||document.querySelector("base"),Me?Me.getAttribute("href"):null}();return null==ne?null:function Xe(X){E=E||document.createElement("a"),E.setAttribute("href",X);const re=E.pathname;return"/"===re.charAt(0)?re:`/${re}`}(ne)}resetBaseElement(){Me=null}getUserAgent(){return window.navigator.userAgent}getCookie(re){return(0,de.Mx)(document.cookie,re)}}let E,Me=null,he=(()=>{class X{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(te){return new(te||X)};static#t=this.\u0275prov=p.Yz7({token:X,factory:X.\u0275fac})}return X})();const ue=new p.OlP("EventManagerPlugins");let Ve=(()=>{class X{constructor(ne,te){this._zone=te,this._eventNameToPlugin=new Map,ne.forEach(Pe=>{Pe.manager=this}),this._plugins=ne.slice().reverse()}addEventListener(ne,te,Pe){return this._findPluginFor(te).addEventListener(ne,te,Pe)}getZone(){return this._zone}_findPluginFor(ne){let te=this._eventNameToPlugin.get(ne);if(te)return te;if(te=this._plugins.find(yt=>yt.supports(ne)),!te)throw new p.vHH(5101,!1);return this._eventNameToPlugin.set(ne,te),te}static#e=this.\u0275fac=function(te){return new(te||X)(p.LFG(ue),p.LFG(p.R0b))};static#t=this.\u0275prov=p.Yz7({token:X,factory:X.\u0275fac})}return X})();class it{constructor(re){this._doc=re}}const Ae="ng-app-id";let Nt=(()=>{class X{constructor(ne,te,Pe,yt={}){this.doc=ne,this.appId=te,this.nonce=Pe,this.platformId=yt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,de.PM)(yt),this.resetHostNodes()}addStyles(ne){for(const te of ne)1===this.changeUsageCount(te,1)&&this.onStyleAdded(te)}removeStyles(ne){for(const te of ne)this.changeUsageCount(te,-1)<=0&&this.onStyleRemoved(te)}ngOnDestroy(){const ne=this.styleNodesInDOM;ne&&(ne.forEach(te=>te.remove()),ne.clear());for(const te of this.getAllStyles())this.onStyleRemoved(te);this.resetHostNodes()}addHost(ne){this.hostNodes.add(ne);for(const te of this.getAllStyles())this.addStyleToHost(ne,te)}removeHost(ne){this.hostNodes.delete(ne)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ne){for(const te of this.hostNodes)this.addStyleToHost(te,ne)}onStyleRemoved(ne){const te=this.styleRef;te.get(ne)?.elements?.forEach(Pe=>Pe.remove()),te.delete(ne)}collectServerRenderedStyles(){const ne=this.doc.head?.querySelectorAll(`style[${Ae}="${this.appId}"]`);if(ne?.length){const te=new Map;return ne.forEach(Pe=>{null!=Pe.textContent&&te.set(Pe.textContent,Pe)}),te}return null}changeUsageCount(ne,te){const Pe=this.styleRef;if(Pe.has(ne)){const yt=Pe.get(ne);return yt.usage+=te,yt.usage}return Pe.set(ne,{usage:te,elements:[]}),te}getStyleElement(ne,te){const Pe=this.styleNodesInDOM,yt=Pe?.get(te);if(yt?.parentNode===ne)return Pe.delete(te),yt.removeAttribute(Ae),yt;{const Bt=this.doc.createElement("style");return this.nonce&&Bt.setAttribute("nonce",this.nonce),Bt.textContent=te,this.platformIsServer&&Bt.setAttribute(Ae,this.appId),Bt}}addStyleToHost(ne,te){const Pe=this.getStyleElement(ne,te);ne.appendChild(Pe);const yt=this.styleRef,Bt=yt.get(te)?.elements;Bt?Bt.push(Pe):yt.set(te,{elements:[Pe],usage:1})}resetHostNodes(){const ne=this.hostNodes;ne.clear(),ne.add(this.doc.head)}static#e=this.\u0275fac=function(te){return new(te||X)(p.LFG(de.K0),p.LFG(p.AFp),p.LFG(p.Ojb,8),p.LFG(p.Lbi))};static#t=this.\u0275prov=p.Yz7({token:X,factory:X.\u0275fac})}return X})();const bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vt=/%COMP%/g,tt=new p.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ut(X,re){return re.map(ne=>ne.replace(Vt,X))}let ct=(()=>{class X{constructor(ne,te,Pe,yt,Bt,En,Dn,Kn=null){this.eventManager=ne,this.sharedStylesHost=te,this.appId=Pe,this.removeStylesOnCompDestroy=yt,this.doc=Bt,this.platformId=En,this.ngZone=Dn,this.nonce=Kn,this.rendererByCompId=new Map,this.platformIsServer=(0,de.PM)(En),this.defaultRenderer=new at(ne,Bt,Dn,this.platformIsServer)}createRenderer(ne,te){if(!ne||!te)return this.defaultRenderer;this.platformIsServer&&te.encapsulation===p.ifc.ShadowDom&&(te={...te,encapsulation:p.ifc.Emulated});const Pe=this.getOrCreateRenderer(ne,te);return Pe instanceof In?Pe.applyToHost(ne):Pe instanceof Et&&Pe.applyStyles(),Pe}getOrCreateRenderer(ne,te){const Pe=this.rendererByCompId;let yt=Pe.get(te.id);if(!yt){const Bt=this.doc,En=this.ngZone,Dn=this.eventManager,Kn=this.sharedStylesHost,Xt=this.removeStylesOnCompDestroy,Wr=this.platformIsServer;switch(te.encapsulation){case p.ifc.Emulated:yt=new In(Dn,Kn,te,this.appId,Xt,Bt,En,Wr);break;case p.ifc.ShadowDom:return new wt(Dn,Kn,ne,te,Bt,En,this.nonce,Wr);default:yt=new Et(Dn,Kn,te,Xt,Bt,En,Wr)}Pe.set(te.id,yt)}return yt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(te){return new(te||X)(p.LFG(Ve),p.LFG(Nt),p.LFG(p.AFp),p.LFG(tt),p.LFG(de.K0),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(p.Ojb))};static#t=this.\u0275prov=p.Yz7({token:X,factory:X.\u0275fac})}return X})();class at{constructor(re,ne,te,Pe){this.eventManager=re,this.doc=ne,this.ngZone=te,this.platformIsServer=Pe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(re,ne){return ne?this.doc.createElementNS(bt[ne]||ne,re):this.doc.createElement(re)}createComment(re){return this.doc.createComment(re)}createText(re){return this.doc.createTextNode(re)}appendChild(re,ne){(or(re)?re.content:re).appendChild(ne)}insertBefore(re,ne,te){re&&(or(re)?re.content:re).insertBefore(ne,te)}removeChild(re,ne){re&&re.removeChild(ne)}selectRootElement(re,ne){let te="string"==typeof re?this.doc.querySelector(re):re;if(!te)throw new p.vHH(-5104,!1);return ne||(te.textContent=""),te}parentNode(re){return re.parentNode}nextSibling(re){return re.nextSibling}setAttribute(re,ne,te,Pe){if(Pe){ne=Pe+":"+ne;const yt=bt[Pe];yt?re.setAttributeNS(yt,ne,te):re.setAttribute(ne,te)}else re.setAttribute(ne,te)}removeAttribute(re,ne,te){if(te){const Pe=bt[te];Pe?re.removeAttributeNS(Pe,ne):re.removeAttribute(`${te}:${ne}`)}else re.removeAttribute(ne)}addClass(re,ne){re.classList.add(ne)}removeClass(re,ne){re.classList.remove(ne)}setStyle(re,ne,te,Pe){Pe&(p.JOm.DashCase|p.JOm.Important)?re.style.setProperty(ne,te,Pe&p.JOm.Important?"important":""):re.style[ne]=te}removeStyle(re,ne,te){te&p.JOm.DashCase?re.style.removeProperty(ne):re.style[ne]=""}setProperty(re,ne,te){re[ne]=te}setValue(re,ne){re.nodeValue=ne}listen(re,ne,te){if("string"==typeof re&&!(re=(0,de.q)().getGlobalEventTarget(this.doc,re)))throw new Error(`Unsupported event target ${re} for event ${ne}`);return this.eventManager.addEventListener(re,ne,this.decoratePreventDefault(te))}decoratePreventDefault(re){return ne=>{if("__ngUnwrap__"===ne)return re;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>re(ne)):re(ne))&&ne.preventDefault()}}}function or(X){return"TEMPLATE"===X.tagName&&void 0!==X.content}class wt extends at{constructor(re,ne,te,Pe,yt,Bt,En,Dn){super(re,yt,Bt,Dn),this.sharedStylesHost=ne,this.hostEl=te,this.shadowRoot=te.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Kn=ut(Pe.id,Pe.styles);for(const Xt of Kn){const Wr=document.createElement("style");En&&Wr.setAttribute("nonce",En),Wr.textContent=Xt,this.shadowRoot.appendChild(Wr)}}nodeOrShadowRoot(re){return re===this.hostEl?this.shadowRoot:re}appendChild(re,ne){return super.appendChild(this.nodeOrShadowRoot(re),ne)}insertBefore(re,ne,te){return super.insertBefore(this.nodeOrShadowRoot(re),ne,te)}removeChild(re,ne){return super.removeChild(this.nodeOrShadowRoot(re),ne)}parentNode(re){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(re)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Et extends at{constructor(re,ne,te,Pe,yt,Bt,En,Dn){super(re,yt,Bt,En),this.sharedStylesHost=ne,this.removeStylesOnCompDestroy=Pe,this.styles=Dn?ut(Dn,te.styles):te.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class In extends Et{constructor(re,ne,te,Pe,yt,Bt,En,Dn){const Kn=Pe+"-"+te.id;super(re,ne,te,yt,Bt,En,Dn,Kn),this.contentAttr=function Ze(X){return"_ngcontent-%COMP%".replace(Vt,X)}(Kn),this.hostAttr=function gt(X){return"_nghost-%COMP%".replace(Vt,X)}(Kn)}applyToHost(re){this.applyStyles(),this.setAttribute(re,this.hostAttr,"")}createElement(re,ne){const te=super.createElement(re,ne);return super.setAttribute(te,this.contentAttr,""),te}}let Ft=(()=>{class X extends it{constructor(ne){super(ne)}supports(ne){return!0}addEventListener(ne,te,Pe){return ne.addEventListener(te,Pe,!1),()=>this.removeEventListener(ne,te,Pe)}removeEventListener(ne,te,Pe){return ne.removeEventListener(te,Pe)}static#e=this.\u0275fac=function(te){return new(te||X)(p.LFG(de.K0))};static#t=this.\u0275prov=p.Yz7({token:X,factory:X.\u0275fac})}return X})();const Cn=["alt","control","meta","shift"],$e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Je={alt:X=>X.altKey,control:X=>X.ctrlKey,meta:X=>X.metaKey,shift:X=>X.shiftKey};let st=(()=>{class X extends it{constructor(ne){super(ne)}supports(ne){return null!=X.parseEventName(ne)}addEventListener(ne,te,Pe){const yt=X.parseEventName(te),Bt=X.eventCallback(yt.fullKey,Pe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,de.q)().onAndCancel(ne,yt.domEventName,Bt))}static parseEventName(ne){const te=ne.toLowerCase().split("."),Pe=te.shift();if(0===te.length||"keydown"!==Pe&&"keyup"!==Pe)return null;const yt=X._normalizeKey(te.pop());let Bt="",En=te.indexOf("code");if(En>-1&&(te.splice(En,1),Bt="code."),Cn.forEach(Kn=>{const Xt=te.indexOf(Kn);Xt>-1&&(te.splice(Xt,1),Bt+=Kn+".")}),Bt+=yt,0!=te.length||0===yt.length)return null;const Dn={};return Dn.domEventName=Pe,Dn.fullKey=Bt,Dn}static matchEventFullKeyCode(ne,te){let Pe=$e[ne.key]||ne.key,yt="";return te.indexOf("code.")>-1&&(Pe=ne.code,yt="code."),!(null==Pe||!Pe)&&(Pe=Pe.toLowerCase()," "===Pe?Pe="space":"."===Pe&&(Pe="dot"),Cn.forEach(Bt=>{Bt!==Pe&&(0,Je[Bt])(ne)&&(yt+=Bt+".")}),yt+=Pe,yt===te)}static eventCallback(ne,te,Pe){return yt=>{X.matchEventFullKeyCode(yt,ne)&&Pe.runGuarded(()=>te(yt))}}static _normalizeKey(ne){return"esc"===ne?"escape":ne}static#e=this.\u0275fac=function(te){return new(te||X)(p.LFG(de.K0))};static#t=this.\u0275prov=p.Yz7({token:X,factory:X.\u0275fac})}return X})();const Wn=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:de.bD},{provide:p.g9A,useValue:function Ke(){De.makeCurrent()},multi:!0},{provide:de.K0,useFactory:function _t(){return(0,p.RDi)(document),document},deps:[]}]),zn=new p.OlP(""),Sn=[{provide:p.rWj,useClass:class We{addToWindow(re){p.dqk.getAngularTestability=(te,Pe=!0)=>{const yt=re.findTestabilityInTree(te,Pe);if(null==yt)throw new p.vHH(5103,!1);return yt},p.dqk.getAllAngularTestabilities=()=>re.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>re.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(te=>{const Pe=p.dqk.getAllAngularTestabilities();let yt=Pe.length,Bt=!1;const En=function(Dn){Bt=Bt||Dn,yt--,0==yt&&te(Bt)};Pe.forEach(Dn=>{Dn.whenStable(En)})})}findTestabilityInTree(re,ne,te){return null==ne?null:re.getTestability(ne)??(te?(0,de.q)().isShadowRoot(ne)?this.findTestabilityInTree(re,ne.host,!0):this.findTestabilityInTree(re,ne.parentElement,!0):null)}},deps:[]},{provide:p.lri,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]}],ir=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function ht(){return new p.qLn},deps:[]},{provide:ue,useClass:Ft,multi:!0,deps:[de.K0,p.R0b,p.Lbi]},{provide:ue,useClass:st,multi:!0,deps:[de.K0]},ct,Nt,Ve,{provide:p.FYo,useExisting:ct},{provide:de.JF,useClass:he,deps:[]},[]];let Xn=(()=>{class X{constructor(ne){}static withServerTransition(ne){return{ngModule:X,providers:[{provide:p.AFp,useValue:ne.appId}]}}static#e=this.\u0275fac=function(te){return new(te||X)(p.LFG(zn,12))};static#t=this.\u0275mod=p.oAB({type:X});static#n=this.\u0275inj=p.cJS({providers:[...ir,...Sn],imports:[de.ez,p.hGG]})}return X})(),mn=(()=>{class X{constructor(ne){this._doc=ne}getTitle(){return this._doc.title}setTitle(ne){this._doc.title=ne||""}static#e=this.\u0275fac=function(te){return new(te||X)(p.LFG(de.K0))};static#t=this.\u0275prov=p.Yz7({token:X,factory:function(te){let Pe=null;return Pe=te?new te:function sr(){return new mn((0,p.LFG)(de.K0))}(),Pe},providedIn:"root"})}return X})();typeof window<"u"&&window;let jr=(()=>{class X{static#e=this.\u0275fac=function(te){return new(te||X)};static#t=this.\u0275prov=p.Yz7({token:X,factory:function(te){let Pe=null;return Pe=te?new(te||X):p.LFG(fr),Pe},providedIn:"root"})}return X})(),fr=(()=>{class X extends jr{constructor(ne){super(),this._doc=ne}sanitize(ne,te){if(null==te)return null;switch(ne){case p.q3G.NONE:return te;case p.q3G.HTML:return(0,p.qzn)(te,"HTML")?(0,p.z3N)(te):(0,p.EiD)(this._doc,String(te)).toString();case p.q3G.STYLE:return(0,p.qzn)(te,"Style")?(0,p.z3N)(te):te;case p.q3G.SCRIPT:if((0,p.qzn)(te,"Script"))return(0,p.z3N)(te);throw new p.vHH(5200,!1);case p.q3G.URL:return(0,p.qzn)(te,"URL")?(0,p.z3N)(te):(0,p.mCW)(String(te));case p.q3G.RESOURCE_URL:if((0,p.qzn)(te,"ResourceURL"))return(0,p.z3N)(te);throw new p.vHH(5201,!1);default:throw new p.vHH(5202,!1)}}bypassSecurityTrustHtml(ne){return(0,p.JVY)(ne)}bypassSecurityTrustStyle(ne){return(0,p.L6k)(ne)}bypassSecurityTrustScript(ne){return(0,p.eBb)(ne)}bypassSecurityTrustUrl(ne){return(0,p.LAX)(ne)}bypassSecurityTrustResourceUrl(ne){return(0,p.pB0)(ne)}static#e=this.\u0275fac=function(te){return new(te||X)(p.LFG(de.K0))};static#t=this.\u0275prov=p.Yz7({token:X,factory:function(te){let Pe=null;return Pe=te?new te:function Xr(X){return new fr(X.get(de.K0))}(p.LFG(p.zs3)),Pe},providedIn:"root"})}return X})()},5920:(ln,pt,Z)=>{Z.d(pt,{m2:()=>ji,F0:()=>Sr,rH:()=>Is,Bz:()=>Fe,lC:()=>pe});var p=Z(4946),de=Z(5592),Ee=Z(4674),Me=Z(2459),ae=Z(2096),E=Z(5619),Xe=Z(7453),We=Z(2737),he=Z(7400),ue=Z(4564),Ve=Z(2714),it=Z(8251),Ae=Z(7103);function Nt(...w){const T=(0,ue.yG)(w),v=(0,ue.jO)(w),{args:S,keys:F}=(0,Xe.D)(w);if(0===S.length)return(0,Me.D)([],T);const Y=new de.y(function bt(w,T,v=We.y){return S=>{Vt(T,()=>{const{length:F}=w,Y=new Array(F);let le=F,Ge=F;for(let qe=0;qe<F;qe++)Vt(T,()=>{const Ot=(0,Me.D)(w[qe],T);let Hn=!1;Ot.subscribe((0,it.x)(S,Ar=>{Y[qe]=Ar,Hn||(Hn=!0,Ge--),Ge||S.next(v(Y.slice()))},()=>{--le||S.complete()}))},S)},S)}}(S,T,F?le=>(0,Ve.n)(F,le):We.y));return v?Y.pipe((0,he.Z)(v)):Y}function Vt(w,T,v){w?(0,Ae.f)(v,w,T):T()}const nn=(0,Z(2306).d)(w=>function(){w(this),this.name="EmptyError",this.message="no elements in sequence"});var Mt=Z(7537);function tt(...w){return function Ce(){return(0,Mt.J)(1)}()((0,Me.D)(w,(0,ue.yG)(w)))}var Ze=Z(4829);function gt(w){return new de.y(T=>{(0,Ze.Xf)(w()).subscribe(T)})}var ut=Z(8407);function ct(w,T){const v=(0,Ee.m)(w)?w:()=>w,S=F=>F.error(v());return new de.y(T?F=>T.schedule(S,0,F):S)}var at=Z(6232),vn=Z(7394),kn=Z(9360);function or(){return(0,kn.e)((w,T)=>{let v=null;w._refCount++;const S=(0,it.x)(T,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(v=null);const F=w._connection,Y=v;v=null,F&&(!Y||F===Y)&&F.unsubscribe(),T.unsubscribe()});w.subscribe(S),S.closed||(v=w.connect())})}class wt extends de.y{constructor(T,v){super(),this.source=T,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,kn.A)(T)&&(this.lift=T.lift)}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:T}=this;this._subject=this._connection=null,T?.unsubscribe()}connect(){let T=this._connection;if(!T){T=this._connection=new vn.w0;const v=this.getSubject();T.add(this.source.subscribe((0,it.x)(v,void 0,()=>{this._teardown(),v.complete()},S=>{this._teardown(),v.error(S)},()=>this._teardown()))),T.closed&&(this._connection=null,T=vn.w0.EMPTY)}return T}refCount(){return or()(this)}}var Et=Z(8645),In=Z(6814),Ft=Z(7398),Cn=Z(4664);function $e(w){return w<=0?()=>at.E:(0,kn.e)((T,v)=>{let S=0;T.subscribe((0,it.x)(v,F=>{++S<=w&&(v.next(F),w<=S&&v.complete())}))})}function st(w,T){return(0,kn.e)((v,S)=>{let F=0;v.subscribe((0,it.x)(S,Y=>w.call(T,Y,F++)&&S.next(Y)))})}var Te=Z(1631);function ve(w){return(0,kn.e)((T,v)=>{let S=!1;T.subscribe((0,it.x)(v,F=>{S=!0,v.next(F)},()=>{S||v.next(w),v.complete()}))})}function oe(w=ye){return(0,kn.e)((T,v)=>{let S=!1;T.subscribe((0,it.x)(v,F=>{S=!0,v.next(F)},()=>S?v.complete():v.error(w())))})}function ye(){return new nn}function Ke(w,T){const v=arguments.length>=2;return S=>S.pipe(w?st((F,Y)=>w(F,Y,S)):We.y,$e(1),v?ve(T):oe(()=>new nn))}function ht(w,T){return(0,Ee.m)(T)?(0,Te.z)(w,T,1):(0,Te.z)(w,1)}var _t=Z(9397);function jt(w){return(0,kn.e)((T,v)=>{let Y,S=null,F=!1;S=T.subscribe((0,it.x)(v,void 0,void 0,le=>{Y=(0,Ze.Xf)(w(le,jt(w)(T))),S?(S.unsubscribe(),S=null,Y.subscribe(v)):F=!0})),F&&(S.unsubscribe(),S=null,Y.subscribe(v))})}function Sn(w){return w<=0?()=>at.E:(0,kn.e)((T,v)=>{let S=[];T.subscribe((0,it.x)(v,F=>{S.push(F),w<S.length&&S.shift()},()=>{for(const F of S)v.next(F);v.complete()},void 0,()=>{S=null}))})}function Ur(w){return(0,kn.e)((T,v)=>{try{T.subscribe(v)}finally{v.add(w)}})}var qn=Z(2420),sr=Z(6593);const mn="primary",fi=Symbol("RouteTitle");class er{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const v=this.params[T];return Array.isArray(v)?v[0]:v}return null}getAll(T){if(this.has(T)){const v=this.params[T];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function Qn(w){return new er(w)}function Pn(w,T,v){const S=v.path.split("/");if(S.length>w.length||"full"===v.pathMatch&&(T.hasChildren()||S.length<w.length))return null;const F={};for(let Y=0;Y<S.length;Y++){const le=S[Y],Ge=w[Y];if(le.startsWith(":"))F[le.substring(1)]=Ge;else if(le!==Ge.path)return null}return{consumed:w.slice(0,S.length),posParams:F}}function cr(w,T){const v=w?Object.keys(w):void 0,S=T?Object.keys(T):void 0;if(!v||!S||v.length!=S.length)return!1;let F;for(let Y=0;Y<v.length;Y++)if(F=v[Y],!Br(w[F],T[F]))return!1;return!0}function Br(w,T){if(Array.isArray(w)&&Array.isArray(T)){if(w.length!==T.length)return!1;const v=[...w].sort(),S=[...T].sort();return v.every((F,Y)=>S[Y]===F)}return w===T}function Zr(w){return w.length>0?w[w.length-1]:null}function hr(w){return function De(w){return!!w&&(w instanceof de.y||(0,Ee.m)(w.lift)&&(0,Ee.m)(w.subscribe))}(w)?w:(0,p.QGY)(w)?(0,Me.D)(Promise.resolve(w)):(0,ae.of)(w)}const Rr={exact:function zt(w,T,v){if(!bn(w.segments,T.segments)||!Xr(w.segments,T.segments,v)||w.numberOfChildren!==T.numberOfChildren)return!1;for(const S in T.children)if(!w.children[S]||!zt(w.children[S],T.children[S],v))return!1;return!0},subset:Ui},ai={exact:function ui(w,T){return cr(w,T)},subset:function Zi(w,T){return Object.keys(T).length<=Object.keys(w).length&&Object.keys(T).every(v=>Br(w[v],T[v]))},ignored:()=>!0};function lr(w,T,v){return Rr[v.paths](w.root,T.root,v.matrixParams)&&ai[v.queryParams](w.queryParams,T.queryParams)&&!("exact"===v.fragment&&w.fragment!==T.fragment)}function Ui(w,T,v){return jr(w,T,T.segments,v)}function jr(w,T,v,S){if(w.segments.length>v.length){const F=w.segments.slice(0,v.length);return!(!bn(F,v)||T.hasChildren()||!Xr(F,v,S))}if(w.segments.length===v.length){if(!bn(w.segments,v)||!Xr(w.segments,v,S))return!1;for(const F in T.children)if(!w.children[F]||!Ui(w.children[F],T.children[F],S))return!1;return!0}{const F=v.slice(0,w.segments.length),Y=v.slice(w.segments.length);return!!(bn(w.segments,F)&&Xr(w.segments,F,S)&&w.children[mn])&&jr(w.children[mn],T,Y,S)}}function Xr(w,T,v){return T.every((S,F)=>ai[v](w[F].parameters,S.parameters))}class fr{constructor(T=new hn([],{}),v={},S=null){this.root=T,this.queryParams=v,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qn(this.queryParams)),this._queryParamMap}toString(){return be.serialize(this)}}class hn{constructor(T,v){this.segments=T,this.children=v,this.parent=null,Object.values(v).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return X(this)}}class Ai{constructor(T,v){this.path=T,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=Qn(this.parameters)),this._parameterMap}toString(){return Dn(this)}}function bn(w,T){return w.length===T.length&&w.every((v,S)=>v.path===T[S].path)}let Fn=(()=>{class w{static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275prov=p.Yz7({token:w,factory:function(){return new Nr},providedIn:"root"})}return w})();class Nr{parse(T){const v=new An(T);return new fr(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(T){const v=`/${re(T.root,!0)}`,S=function Xt(w){const T=Object.keys(w).map(v=>{const S=w[v];return Array.isArray(S)?S.map(F=>`${te(v)}=${te(F)}`).join("&"):`${te(v)}=${te(S)}`}).filter(v=>!!v);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${v}${S}${"string"==typeof T.fragment?`#${function Pe(w){return encodeURI(w)}(T.fragment)}`:""}`}}const be=new Nr;function X(w){return w.segments.map(T=>Dn(T)).join("/")}function re(w,T){if(!w.hasChildren())return X(w);if(T){const v=w.children[mn]?re(w.children[mn],!1):"",S=[];return Object.entries(w.children).forEach(([F,Y])=>{F!==mn&&S.push(`${F}:${re(Y,!1)}`)}),S.length>0?`${v}(${S.join("//")})`:v}{const v=function dr(w,T){let v=[];return Object.entries(w.children).forEach(([S,F])=>{S===mn&&(v=v.concat(T(F,S)))}),Object.entries(w.children).forEach(([S,F])=>{S!==mn&&(v=v.concat(T(F,S)))}),v}(w,(S,F)=>F===mn?[re(w.children[mn],!1)]:[`${F}:${re(S,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[mn]?`${X(w)}/${v[0]}`:`${X(w)}/(${v.join("//")})`}}function ne(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function te(w){return ne(w).replace(/%3B/gi,";")}function yt(w){return ne(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bt(w){return decodeURIComponent(w)}function En(w){return Bt(w.replace(/\+/g,"%20"))}function Dn(w){return`${yt(w.path)}${function Kn(w){return Object.keys(w).map(T=>`;${yt(T)}=${yt(w[T])}`).join("")}(w.parameters)}`}const Wr=/^[^\/()?;#]+/;function Yr(w){const T=w.match(Wr);return T?T[0]:""}const Ei=/^[^\/()?;=#]+/,ot=/^[^=?&#]+/,At=/^[^&#]+/;class An{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hn([],{}):new hn([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(T.length>0||Object.keys(v).length>0)&&(S[mn]=new hn(T,v)),S}parseSegment(){const T=Yr(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(T),new Ai(Bt(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const v=function Ri(w){const T=w.match(Ei);return T?T[0]:""}(this.remaining);if(!v)return;this.capture(v);let S="";if(this.consumeOptional("=")){const F=Yr(this.remaining);F&&(S=F,this.capture(S))}T[Bt(v)]=Bt(S)}parseQueryParam(T){const v=function Be(w){const T=w.match(ot);return T?T[0]:""}(this.remaining);if(!v)return;this.capture(v);let S="";if(this.consumeOptional("=")){const le=function Kt(w){const T=w.match(At);return T?T[0]:""}(this.remaining);le&&(S=le,this.capture(S))}const F=En(v),Y=En(S);if(T.hasOwnProperty(F)){let le=T[F];Array.isArray(le)||(le=[le],T[F]=le),le.push(Y)}else T[F]=Y}parseParens(T){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=Yr(this.remaining),F=this.remaining[S.length];if("/"!==F&&")"!==F&&";"!==F)throw new p.vHH(4010,!1);let Y;S.indexOf(":")>-1?(Y=S.slice(0,S.indexOf(":")),this.capture(Y),this.capture(":")):T&&(Y=mn);const le=this.parseChildren();v[Y]=1===Object.keys(le).length?le[mn]:new hn([],le),this.consumeOptional("//")}return v}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new p.vHH(4011,!1)}}function Zt(w){return w.segments.length>0?new hn([],{[mn]:w}):w}function $n(w){const T={};for(const S of Object.keys(w.children)){const Y=$n(w.children[S]);if(S===mn&&0===Y.segments.length&&Y.hasChildren())for(const[le,Ge]of Object.entries(Y.children))T[le]=Ge;else(Y.segments.length>0||Y.hasChildren())&&(T[S]=Y)}return function ei(w){if(1===w.numberOfChildren&&w.children[mn]){const T=w.children[mn];return new hn(w.segments.concat(T.segments),T.children)}return w}(new hn(w.segments,T))}function vr(w){return w instanceof fr}function xs(w){let T;const F=Zt(function v(Y){const le={};for(const qe of Y.children){const Ot=v(qe);le[qe.outlet]=Ot}const Ge=new hn(Y.url,le);return Y===w&&(T=Ge),Ge}(w.root));return T??F}function Rs(w,T,v,S){let F=w;for(;F.parent;)F=F.parent;if(0===T.length)return Oi(F,F,F,v,S);const Y=function hs(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new tr(!0,0,w);let T=0,v=!1;const S=w.reduce((F,Y,le)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const Ge={};return Object.entries(Y.outlets).forEach(([qe,Ot])=>{Ge[qe]="string"==typeof Ot?Ot.split("/"):Ot}),[...F,{outlets:Ge}]}if(Y.segmentPath)return[...F,Y.segmentPath]}return"string"!=typeof Y?[...F,Y]:0===le?(Y.split("/").forEach((Ge,qe)=>{0==qe&&"."===Ge||(0==qe&&""===Ge?v=!0:".."===Ge?T++:""!=Ge&&F.push(Ge))}),F):[...F,Y]},[]);return new tr(v,T,S)}(T);if(Y.toRoot())return Oi(F,F,new hn([],{}),v,S);const le=function pi(w,T,v){if(w.isAbsolute)return new ti(T,!0,0);if(!v)return new ti(T,!1,NaN);if(null===v.parent)return new ti(v,!0,0);const S=gr(w.commands[0])?0:1;return function Ji(w,T,v){let S=w,F=T,Y=v;for(;Y>F;){if(Y-=F,S=S.parent,!S)throw new p.vHH(4005,!1);F=S.segments.length}return new ti(S,!1,F-Y)}(v,v.segments.length-1+S,w.numberOfDoubleDots)}(Y,F,w),Ge=le.processChildren?xe(le.segmentGroup,le.index,Y.commands):Zs(le.segmentGroup,le.index,Y.commands);return Oi(F,le.segmentGroup,Ge,v,S)}function gr(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function Bi(w){return"object"==typeof w&&null!=w&&w.outlets}function Oi(w,T,v,S,F){let le,Y={};S&&Object.entries(S).forEach(([qe,Ot])=>{Y[qe]=Array.isArray(Ot)?Ot.map(Hn=>`${Hn}`):`${Ot}`}),le=w===T?v:wi(w,T,v);const Ge=Zt($n(le));return new fr(Ge,Y,F)}function wi(w,T,v){const S={};return Object.entries(w.children).forEach(([F,Y])=>{S[F]=Y===T?v:wi(Y,T,v)}),new hn(w.segments,S)}class tr{constructor(T,v,S){if(this.isAbsolute=T,this.numberOfDoubleDots=v,this.commands=S,T&&S.length>0&&gr(S[0]))throw new p.vHH(4003,!1);const F=S.find(Bi);if(F&&F!==Zr(S))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ti{constructor(T,v,S){this.segmentGroup=T,this.processChildren=v,this.index=S}}function Zs(w,T,v){if(w||(w=new hn([],{})),0===w.segments.length&&w.hasChildren())return xe(w,T,v);const S=function Re(w,T,v){let S=0,F=T;const Y={match:!1,pathIndex:0,commandIndex:0};for(;F<w.segments.length;){if(S>=v.length)return Y;const le=w.segments[F],Ge=v[S];if(Bi(Ge))break;const qe=`${Ge}`,Ot=S<v.length-1?v[S+1]:null;if(F>0&&void 0===qe)break;if(qe&&Ot&&"object"==typeof Ot&&void 0===Ot.outlets){if(!on(qe,Ot,le))return Y;S+=2}else{if(!on(qe,{},le))return Y;S++}F++}return{match:!0,pathIndex:F,commandIndex:S}}(w,T,v),F=v.slice(S.commandIndex);if(S.match&&S.pathIndex<w.segments.length){const Y=new hn(w.segments.slice(0,S.pathIndex),{});return Y.children[mn]=new hn(w.segments.slice(S.pathIndex),w.children),xe(Y,0,F)}return S.match&&0===F.length?new hn(w.segments,{}):S.match&&!w.hasChildren()?je(w,T,v):S.match?xe(w,0,F):je(w,T,v)}function xe(w,T,v){if(0===v.length)return new hn(w.segments,{});{const S=function fs(w){return Bi(w[0])?w[0].outlets:{[mn]:w}}(v),F={};if(Object.keys(S).some(Y=>Y!==mn)&&w.children[mn]&&1===w.numberOfChildren&&0===w.children[mn].segments.length){const Y=xe(w.children[mn],T,v);return new hn(w.segments,Y.children)}return Object.entries(S).forEach(([Y,le])=>{"string"==typeof le&&(le=[le]),null!==le&&(F[Y]=Zs(w.children[Y],T,le))}),Object.entries(w.children).forEach(([Y,le])=>{void 0===S[Y]&&(F[Y]=le)}),new hn(w.segments,F)}}function je(w,T,v){const S=w.segments.slice(0,T);let F=0;for(;F<v.length;){const Y=v[F];if(Bi(Y)){const qe=mt(Y.outlets);return new hn(S,qe)}if(0===F&&gr(v[0])){S.push(new Ai(w.segments[T].path,kt(v[0]))),F++;continue}const le=Bi(Y)?Y.outlets[mn]:`${Y}`,Ge=F<v.length-1?v[F+1]:null;le&&Ge&&gr(Ge)?(S.push(new Ai(le,kt(Ge))),F+=2):(S.push(new Ai(le,{})),F++)}return new hn(S,{})}function mt(w){const T={};return Object.entries(w).forEach(([v,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(T[v]=je(new hn([],{}),0,S))}),T}function kt(w){const T={};return Object.entries(w).forEach(([v,S])=>T[v]=`${S}`),T}function on(w,T,v){return w==v.path&&cr(T,v.parameters)}const nr="imperative";class Un{constructor(T,v){this.id=T,this.url=v}}class ar extends Un{constructor(T,v,S="imperative",F=null){super(T,v),this.type=0,this.navigationTrigger=S,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ji extends Un{constructor(T,v,S){super(T,v),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gi extends Un{constructor(T,v,S,F){super(T,v),this.reason=S,this.code=F,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fr extends Un{constructor(T,v,S,F){super(T,v),this.reason=S,this.code=F,this.type=16}}class Ir extends Un{constructor(T,v,S,F){super(T,v),this.error=S,this.target=F,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $s extends Un{constructor(T,v,S,F){super(T,v),this.urlAfterRedirects=S,this.state=F,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class co extends Un{constructor(T,v,S,F){super(T,v),this.urlAfterRedirects=S,this.state=F,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lo extends Un{constructor(T,v,S,F,Y){super(T,v),this.urlAfterRedirects=S,this.state=F,this.shouldActivate=Y,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mi extends Un{constructor(T,v,S,F){super(T,v),this.urlAfterRedirects=S,this.state=F,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ho extends Un{constructor(T,v,S,F){super(T,v),this.urlAfterRedirects=S,this.state=F,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _s{constructor(T){this.route=T,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ys{constructor(T){this.route=T,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Io{constructor(T){this.snapshot=T,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hi{constructor(T){this.snapshot=T,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ns{constructor(T){this.snapshot=T,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Os{constructor(T){this.snapshot=T,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fo{constructor(T,v,S){this.routerEvent=T,this.position=v,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class po{}class bo{constructor(T){this.url=T}}class _a{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new $i,this.attachRef=null}}let $i=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(v,S){const F=this.getOrCreateContext(v);F.outlet=S,this.contexts.set(v,F)}onChildOutletDestroyed(v){const S=this.getContext(v);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let S=this.getContext(v);return S||(S=new _a,this.contexts.set(v,S)),S}getContext(v){return this.contexts.get(v)||null}static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();class Xi{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const v=this.pathFromRoot(T);return v.length>1?v[v.length-2]:null}children(T){const v=Ps(T,this._root);return v?v.children.map(S=>S.value):[]}firstChild(T){const v=Ps(T,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(T){const v=Vn(T,this._root);return v.length<2?[]:v[v.length-2].children.map(F=>F.value).filter(F=>F!==T)}pathFromRoot(T){return Vn(T,this._root).map(v=>v.value)}}function Ps(w,T){if(w===T.value)return T;for(const v of T.children){const S=Ps(w,v);if(S)return S}return null}function Vn(w,T){if(w===T.value)return[T];for(const v of T.children){const S=Vn(w,v);if(S.length)return S.unshift(T),S}return[]}class pr{constructor(T,v){this.value=T,this.children=v}toString(){return`TreeNode(${this.value})`}}function xn(w){const T={};return w&&w.children.forEach(v=>T[v.value.outlet]=v),T}class Yi extends Xi{constructor(T,v){super(T),this.snapshot=v,Yt(this,T)}toString(){return this.snapshot.toString()}}function $r(w,T){const v=function ks(w,T){const le=new Fs([],{},{},"",{},mn,T,null,{});return new mr("",new pr(le,[]))}(0,T),S=new E.X([new Ai("",{})]),F=new E.X({}),Y=new E.X({}),le=new E.X({}),Ge=new E.X(""),qe=new Ds(S,F,le,Ge,Y,mn,T,v.root);return qe.snapshot=v.root,new Yi(new pr(qe,[]),v)}class Ds{constructor(T,v,S,F,Y,le,Ge,qe){this.urlSubject=T,this.paramsSubject=v,this.queryParamsSubject=S,this.fragmentSubject=F,this.dataSubject=Y,this.outlet=le,this.component=Ge,this._futureSnapshot=qe,this.title=this.dataSubject?.pipe((0,Ft.U)(Ot=>Ot[fi]))??(0,ae.of)(void 0),this.url=T,this.params=v,this.queryParams=S,this.fragment=F,this.data=Y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ft.U)(T=>Qn(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ft.U)(T=>Qn(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vs(w,T="emptyOnly"){const v=w.pathFromRoot;let S=0;if("always"!==T)for(S=v.length-1;S>=1;){const F=v[S],Y=v[S-1];if(F.routeConfig&&""===F.routeConfig.path)S--;else{if(Y.component)break;S--}}return function ps(w){return w.reduce((T,v)=>({params:{...T.params,...v.params},data:{...T.data,...v.data},resolve:{...v.data,...T.resolve,...v.routeConfig?.data,...v._resolvedData}}),{params:{},data:{},resolve:{}})}(v.slice(S))}class Fs{get title(){return this.data?.[fi]}constructor(T,v,S,F,Y,le,Ge,qe,Ot){this.url=T,this.params=v,this.queryParams=S,this.fragment=F,this.data=Y,this.outlet=le,this.component=Ge,this.routeConfig=qe,this._resolve=Ot}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mr extends Xi{constructor(T,v){super(v),this.url=T,Yt(this,v)}toString(){return Rn(this._root)}}function Yt(w,T){T.value._routerState=w,T.children.forEach(v=>Yt(w,v))}function Rn(w){const T=w.children.length>0?` { ${w.children.map(Rn).join(", ")} } `:"";return`${w.value}${T}`}function H(w){if(w.snapshot){const T=w.snapshot,v=w._futureSnapshot;w.snapshot=v,cr(T.queryParams,v.queryParams)||w.queryParamsSubject.next(v.queryParams),T.fragment!==v.fragment&&w.fragmentSubject.next(v.fragment),cr(T.params,v.params)||w.paramsSubject.next(v.params),function Mn(w,T){if(w.length!==T.length)return!1;for(let v=0;v<w.length;++v)if(!cr(w[v],T[v]))return!1;return!0}(T.url,v.url)||w.urlSubject.next(v.url),cr(T.data,v.data)||w.dataSubject.next(v.data)}else w.snapshot=w._futureSnapshot,w.dataSubject.next(w._futureSnapshot.data)}function z(w,T){const v=cr(w.params,T.params)&&function vi(w,T){return bn(w,T)&&w.every((v,S)=>cr(v.parameters,T[S].parameters))}(w.url,T.url);return v&&!(!w.parent!=!T.parent)&&(!w.parent||z(w.parent,T.parent))}let pe=(()=>{class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=mn,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)($i),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb),this.inputBinder=(0,p.f3M)(Oe,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(v){if(v.name){const{firstChange:S,previousValue:F}=v.name;if(S)return;this.isTrackedInParentContexts(F)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(F)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(v){return this.parentContexts.getContext(v)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const v=this.parentContexts.getContext(this.name);v?.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,!1);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,S){this.activated=v,this._activatedRoute=S,this.location.insert(v.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,S){if(this.isActivated)throw new p.vHH(4013,!1);this._activatedRoute=v;const F=this.location,le=v.snapshot.component,Ge=this.parentContexts.getOrCreateContext(this.name).children,qe=new _e(v,Ge,F.injector);this.activated=F.createComponent(le,{index:F.length,injector:qe,environmentInjector:S??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275dir=p.lG2({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]})}return w})();class _e{constructor(T,v,S){this.route=T,this.childContexts=v,this.parent=S}get(T,v){return T===Ds?this.route:T===$i?this.childContexts:this.parent.get(T,v)}}const Oe=new p.OlP("");let Qe=(()=>{class w{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(v){this.unsubscribeFromRouteData(v),this.subscribeToRouteData(v)}unsubscribeFromRouteData(v){this.outletDataSubscriptions.get(v)?.unsubscribe(),this.outletDataSubscriptions.delete(v)}subscribeToRouteData(v){const{activatedRoute:S}=v,F=Nt([S.queryParams,S.params,S.data]).pipe((0,Cn.w)(([Y,le,Ge],qe)=>(Ge={...Y,...le,...Ge},0===qe?(0,ae.of)(Ge):Promise.resolve(Ge)))).subscribe(Y=>{if(!v.isActivated||!v.activatedComponentRef||v.activatedRoute!==S||null===S.component)return void this.unsubscribeFromRouteData(v);const le=(0,p.qFp)(S.component);if(le)for(const{templateName:Ge}of le.inputs)v.activatedComponentRef.setInput(Ge,Y[Ge]);else this.unsubscribeFromRouteData(v)});this.outletDataSubscriptions.set(v,F)}static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac})}return w})();function Wt(w,T,v){if(v&&w.shouldReuseRoute(T.value,v.value.snapshot)){const S=v.value;S._futureSnapshot=T.value;const F=function Ct(w,T,v){return T.children.map(S=>{for(const F of v.children)if(w.shouldReuseRoute(S.value,F.value.snapshot))return Wt(w,S,F);return Wt(w,S)})}(w,T,v);return new pr(S,F)}{if(w.shouldAttach(T.value)){const Y=w.retrieve(T.value);if(null!==Y){const le=Y.route;return le.value._futureSnapshot=T.value,le.children=T.children.map(Ge=>Wt(w,Ge)),le}}const S=function Nn(w){return new Ds(new E.X(w.url),new E.X(w.params),new E.X(w.queryParams),new E.X(w.fragment),new E.X(w.data),w.outlet,w.component,w)}(T.value),F=T.children.map(Y=>Wt(w,Y));return new pr(S,F)}}const Jn="ngNavigationCancelingError";function xr(w,T){const{redirectTo:v,navigationBehaviorOptions:S}=vr(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,F=Zn(!1,0,T);return F.url=v,F.navigationBehaviorOptions=S,F}function Zn(w,T,v){const S=new Error("NavigationCancelingError: "+(w||""));return S[Jn]=!0,S.cancellationCode=T,v&&(S.url=v),S}function yr(w){return w&&w[Jn]}let Kr=(()=>{class w{static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275cmp=p.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(S,F){1&S&&p._UZ(0,"router-outlet")},dependencies:[pe],encapsulation:2})}return w})();function es(w){const T=w.children&&w.children.map(es),v=T?{...w,children:T}:{...w};return!v.component&&!v.loadComponent&&(T||v.loadChildren)&&v.outlet&&v.outlet!==mn&&(v.component=Kr),v}function xi(w){return w.outlet||mn}function gs(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let T=w.parent;T;T=T.parent){const v=T.routeConfig;if(v?._loadedInjector)return v._loadedInjector;if(v?._injector)return v._injector}return null}class oa{constructor(T,v,S,F,Y){this.routeReuseStrategy=T,this.futureState=v,this.currState=S,this.forwardEvent=F,this.inputBindingEnabled=Y}activate(T){const v=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,S,T),H(this.futureState.root),this.activateChildRoutes(v,S,T)}deactivateChildRoutes(T,v,S){const F=xn(v);T.children.forEach(Y=>{const le=Y.value.outlet;this.deactivateRoutes(Y,F[le],S),delete F[le]}),Object.values(F).forEach(Y=>{this.deactivateRouteAndItsChildren(Y,S)})}deactivateRoutes(T,v,S){const F=T.value,Y=v?v.value:null;if(F===Y)if(F.component){const le=S.getContext(F.outlet);le&&this.deactivateChildRoutes(T,v,le.children)}else this.deactivateChildRoutes(T,v,S);else Y&&this.deactivateRouteAndItsChildren(v,S)}deactivateRouteAndItsChildren(T,v){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,v):this.deactivateRouteAndOutlet(T,v)}detachAndStoreRouteSubtree(T,v){const S=v.getContext(T.value.outlet),F=S&&T.value.component?S.children:v,Y=xn(T);for(const le of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[le],F);if(S&&S.outlet){const le=S.outlet.detach(),Ge=S.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:le,route:T,contexts:Ge})}}deactivateRouteAndOutlet(T,v){const S=v.getContext(T.value.outlet),F=S&&T.value.component?S.children:v,Y=xn(T);for(const le of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[le],F);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(T,v,S){const F=xn(v);T.children.forEach(Y=>{this.activateRoutes(Y,F[Y.value.outlet],S),this.forwardEvent(new Os(Y.value.snapshot))}),T.children.length&&this.forwardEvent(new Hi(T.value.snapshot))}activateRoutes(T,v,S){const F=T.value,Y=v?v.value:null;if(H(F),F===Y)if(F.component){const le=S.getOrCreateContext(F.outlet);this.activateChildRoutes(T,v,le.children)}else this.activateChildRoutes(T,v,S);else if(F.component){const le=S.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const Ge=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),le.children.onOutletReAttached(Ge.contexts),le.attachRef=Ge.componentRef,le.route=Ge.route.value,le.outlet&&le.outlet.attach(Ge.componentRef,Ge.route.value),H(Ge.route.value),this.activateChildRoutes(T,null,le.children)}else{const Ge=gs(F.snapshot);le.attachRef=null,le.route=F,le.injector=Ge,le.outlet&&le.outlet.activateWith(F,le.injector),this.activateChildRoutes(T,null,le.children)}}else this.activateChildRoutes(T,null,S)}}class Pi{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class ki{constructor(T,v){this.component=T,this.route=v}}function Co(w,T,v){const S=w._root;return ri(S,T?T._root:null,v,[S.value])}function br(w,T){const v=Symbol(),S=T.get(w,v);return S===v?"function"!=typeof w||(0,p.Z0I)(w)?T.get(w):w:S}function ri(w,T,v,S,F={canDeactivateChecks:[],canActivateChecks:[]}){const Y=xn(T);return w.children.forEach(le=>{(function Jo(w,T,v,S,F={canDeactivateChecks:[],canActivateChecks:[]}){const Y=w.value,le=T?T.value:null,Ge=v?v.getContext(w.value.outlet):null;if(le&&Y.routeConfig===le.routeConfig){const qe=function j(w,T,v){if("function"==typeof v)return v(w,T);switch(v){case"pathParamsChange":return!bn(w.url,T.url);case"pathParamsOrQueryParamsChange":return!bn(w.url,T.url)||!cr(w.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!z(w,T)||!cr(w.queryParams,T.queryParams);default:return!z(w,T)}}(le,Y,Y.routeConfig.runGuardsAndResolvers);qe?F.canActivateChecks.push(new Pi(S)):(Y.data=le.data,Y._resolvedData=le._resolvedData),ri(w,T,Y.component?Ge?Ge.children:null:v,S,F),qe&&Ge&&Ge.outlet&&Ge.outlet.isActivated&&F.canDeactivateChecks.push(new ki(Ge.outlet.component,le))}else le&&q(T,Ge,F),F.canActivateChecks.push(new Pi(S)),ri(w,null,Y.component?Ge?Ge.children:null:v,S,F)})(le,Y[le.value.outlet],v,S.concat([le.value]),F),delete Y[le.value.outlet]}),Object.entries(Y).forEach(([le,Ge])=>q(Ge,v.getContext(le),F)),F}function q(w,T,v){const S=xn(w),F=w.value;Object.entries(S).forEach(([Y,le])=>{q(le,F.component?T?T.children.getContext(Y):null:T,v)}),v.canDeactivateChecks.push(new ki(F.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,F))}function P(w){return"function"==typeof w}function Ss(w){return w instanceof nn||"EmptyError"===w?.name}const Do=Symbol("INITIAL_VALUE");function ts(){return(0,Cn.w)(w=>Nt(w.map(T=>T.pipe($e(1),function Je(...w){const T=(0,ue.yG)(w);return(0,kn.e)((v,S)=>{(T?tt(w,v,T):tt(w,v)).subscribe(S)})}(Do)))).pipe((0,Ft.U)(T=>{for(const v of T)if(!0!==v){if(v===Do)return Do;if(!1===v||v instanceof fr)return v}return!0}),st(T=>T!==Do),$e(1)))}function Xs(w){return(0,ut.z)((0,_t.b)(T=>{if(vr(T))throw xr(0,T)}),(0,Ft.U)(T=>!0===T))}class Ia{constructor(T){this.segmentGroup=T||null}}class Tr{constructor(T){this.urlTree=T}}function So(w){return ct(new Ia(w))}function Ls(w){return ct(new Tr(w))}class Es{constructor(T,v){this.urlSerializer=T,this.urlTree=v}noMatchError(T){return new p.vHH(4002,!1)}lineralizeSegments(T,v){let S=[],F=v.root;for(;;){if(S=S.concat(F.segments),0===F.numberOfChildren)return(0,ae.of)(S);if(F.numberOfChildren>1||!F.children[mn])return ct(new p.vHH(4e3,!1));F=F.children[mn]}}applyRedirectCommands(T,v,S){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),T,S)}applyRedirectCreateUrlTree(T,v,S,F){const Y=this.createSegmentGroup(T,v.root,S,F);return new fr(Y,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(T,v){const S={};return Object.entries(T).forEach(([F,Y])=>{if("string"==typeof Y&&Y.startsWith(":")){const Ge=Y.substring(1);S[F]=v[Ge]}else S[F]=Y}),S}createSegmentGroup(T,v,S,F){const Y=this.createSegments(T,v.segments,S,F);let le={};return Object.entries(v.children).forEach(([Ge,qe])=>{le[Ge]=this.createSegmentGroup(T,qe,S,F)}),new hn(Y,le)}createSegments(T,v,S,F){return v.map(Y=>Y.path.startsWith(":")?this.findPosParam(T,Y,F):this.findOrReturn(Y,S))}findPosParam(T,v,S){const F=S[v.path.substring(1)];if(!F)throw new p.vHH(4001,!1);return F}findOrReturn(T,v){let S=0;for(const F of v){if(F.path===T.path)return v.splice(S),F;S++}return T}}const ea={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Cr(w,T,v,S,F){const Y=Ra(w,T,v);return Y.matched?(S=function Lr(w,T){return w.providers&&!w._injector&&(w._injector=(0,p.MMx)(w.providers,T,`Route: ${w.path}`)),w._injector??T}(T,S),function ms(w,T,v,S){const F=T.canMatch;if(!F||0===F.length)return(0,ae.of)(!0);const Y=F.map(le=>{const Ge=br(le,w);return hr(function Gs(w){return w&&P(w.canMatch)}(Ge)?Ge.canMatch(T,v):w.runInContext(()=>Ge(T,v)))});return(0,ae.of)(Y).pipe(ts(),Xs())}(S,T,v).pipe((0,Ft.U)(le=>!0===le?Y:{...ea}))):(0,ae.of)(Y)}function Ra(w,T,v){if(""===T.path)return"full"===T.pathMatch&&(w.hasChildren()||v.length>0)?{...ea}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const F=(T.matcher||Pn)(v,w,T);if(!F)return{...ea};const Y={};Object.entries(F.posParams??{}).forEach(([Ge,qe])=>{Y[Ge]=qe.path});const le=F.consumed.length>0?{...Y,...F.consumed[F.consumed.length-1].parameters}:Y;return{matched:!0,consumedSegments:F.consumed,remainingSegments:v.slice(F.consumed.length),parameters:le,positionalParamSegments:F.posParams??{}}}function $o(w,T,v,S){return v.length>0&&function ba(w,T,v){return v.some(S=>Mo(w,T,S)&&xi(S)!==mn)}(w,v,S)?{segmentGroup:new hn(T,aa(S,new hn(v,w.children))),slicedSegments:[]}:0===v.length&&function yo(w,T,v){return v.some(S=>Mo(w,T,S))}(w,v,S)?{segmentGroup:new hn(w.segments,mo(w,0,v,S,w.children)),slicedSegments:v}:{segmentGroup:new hn(w.segments,w.children),slicedSegments:v}}function mo(w,T,v,S,F){const Y={};for(const le of S)if(Mo(w,v,le)&&!F[xi(le)]){const Ge=new hn([],{});Y[xi(le)]=Ge}return{...F,...Y}}function aa(w,T){const v={};v[mn]=T;for(const S of w)if(""===S.path&&xi(S)!==mn){const F=new hn([],{});v[xi(S)]=F}return v}function Mo(w,T,v){return(!(w.hasChildren()||T.length>0)||"full"!==v.pathMatch)&&""===v.path}class Gi{constructor(T,v,S,F,Y,le,Ge){this.injector=T,this.configLoader=v,this.rootComponentType=S,this.config=F,this.urlTree=Y,this.paramsInheritanceStrategy=le,this.urlSerializer=Ge,this.allowRedirects=!0,this.applyRedirects=new Es(this.urlSerializer,this.urlTree)}noMatchError(T){return new p.vHH(4002,!1)}recognize(){const T=$o(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,T,mn).pipe(jt(v=>{if(v instanceof Tr)return this.allowRedirects=!1,this.urlTree=v.urlTree,this.match(v.urlTree);throw v instanceof Ia?this.noMatchError(v):v}),(0,Ft.U)(v=>{const S=new Fs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},mn,this.rootComponentType,null,{}),F=new pr(S,v),Y=new mr("",F),le=function Ni(w,T,v=null,S=null){return Rs(xs(w),T,v,S)}(S,[],this.urlTree.queryParams,this.urlTree.fragment);return le.queryParams=this.urlTree.queryParams,Y.url=this.urlSerializer.serialize(le),this.inheritParamsAndData(Y._root),{state:Y,tree:le}}))}match(T){return this.processSegmentGroup(this.injector,this.config,T.root,mn).pipe(jt(S=>{throw S instanceof Ia?this.noMatchError(S):S}))}inheritParamsAndData(T){const v=T.value,S=vs(v,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data),T.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(T,v,S,F){return 0===S.segments.length&&S.hasChildren()?this.processChildren(T,v,S):this.processSegment(T,v,S,S.segments,F,!0)}processChildren(T,v,S){const F=[];for(const Y of Object.keys(S.children))"primary"===Y?F.unshift(Y):F.push(Y);return(0,Me.D)(F).pipe(ht(Y=>{const le=S.children[Y],Ge=function ni(w,T){const v=w.filter(S=>xi(S)===T);return v.push(...w.filter(S=>xi(S)!==T)),v}(v,Y);return this.processSegmentGroup(T,Ge,le,Y)}),function zn(w,T){return(0,kn.e)(function Wn(w,T,v,S,F){return(Y,le)=>{let Ge=v,qe=T,Ot=0;Y.subscribe((0,it.x)(le,Hn=>{const Ar=Ot++;qe=Ge?w(qe,Hn,Ar):(Ge=!0,Hn),S&&le.next(qe)},F&&(()=>{Ge&&le.next(qe),le.complete()})))}}(w,T,arguments.length>=2,!0))}((Y,le)=>(Y.push(...le),Y)),ve(null),function ir(w,T){const v=arguments.length>=2;return S=>S.pipe(w?st((F,Y)=>w(F,Y,S)):We.y,Sn(1),v?ve(T):oe(()=>new nn))}(),(0,Te.z)(Y=>{if(null===Y)return So(S);const le=K(Y);return function ta(w){w.sort((T,v)=>T.value.outlet===mn?-1:v.value.outlet===mn?1:T.value.outlet.localeCompare(v.value.outlet))}(le),(0,ae.of)(le)}))}processSegment(T,v,S,F,Y,le){return(0,Me.D)(v).pipe(ht(Ge=>this.processSegmentAgainstRoute(Ge._injector??T,v,Ge,S,F,Y,le).pipe(jt(qe=>{if(qe instanceof Ia)return(0,ae.of)(null);throw qe}))),Ke(Ge=>!!Ge),jt(Ge=>{if(Ss(Ge))return function Vs(w,T,v){return 0===T.length&&!w.children[v]}(S,F,Y)?(0,ae.of)([]):So(S);throw Ge}))}processSegmentAgainstRoute(T,v,S,F,Y,le,Ge){return function xo(w,T,v,S){return!!(xi(w)===S||S!==mn&&Mo(T,v,w))&&("**"===w.path||Ra(T,w,v).matched)}(S,F,Y,le)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(T,F,S,Y,le,Ge):Ge&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,F,v,S,Y,le):So(F):So(F)}expandSegmentAgainstRouteUsingRedirect(T,v,S,F,Y,le){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,S,F,le):this.expandRegularSegmentAgainstRouteUsingRedirect(T,v,S,F,Y,le)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,v,S,F){const Y=this.applyRedirects.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?Ls(Y):this.applyRedirects.lineralizeSegments(S,Y).pipe((0,Te.z)(le=>{const Ge=new hn(le,{});return this.processSegment(T,v,Ge,le,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,v,S,F,Y,le){const{matched:Ge,consumedSegments:qe,remainingSegments:Ot,positionalParamSegments:Hn}=Ra(v,F,Y);if(!Ge)return So(v);const Ar=this.applyRedirects.applyRedirectCommands(qe,F.redirectTo,Hn);return F.redirectTo.startsWith("/")?Ls(Ar):this.applyRedirects.lineralizeSegments(F,Ar).pipe((0,Te.z)(jn=>this.processSegment(T,S,v,jn.concat(Ot),le,!1)))}matchSegmentAgainstRoute(T,v,S,F,Y,le){let Ge;if("**"===S.path){const qe=F.length>0?Zr(F).parameters:{},Ot=new Fs(F,qe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,G(S),xi(S),S.component??S._loadedComponent??null,S,ge(S));Ge=(0,ae.of)({snapshot:Ot,consumedSegments:[],remainingSegments:[]}),v.children={}}else Ge=Cr(v,S,F,T).pipe((0,Ft.U)(({matched:qe,consumedSegments:Ot,remainingSegments:Hn,parameters:Ar})=>qe?{snapshot:new Fs(Ot,Ar,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,G(S),xi(S),S.component??S._loadedComponent??null,S,ge(S)),consumedSegments:Ot,remainingSegments:Hn}:null));return Ge.pipe((0,Cn.w)(qe=>null===qe?So(v):this.getChildConfig(T=S._injector??T,S,F).pipe((0,Cn.w)(({routes:Ot})=>{const Hn=S._loadedInjector??T,{snapshot:Ar,consumedSegments:jn,remainingSegments:As}=qe,{segmentGroup:Di,slicedSegments:to}=$o(v,jn,As,Ot);if(0===to.length&&Di.hasChildren())return this.processChildren(Hn,Ot,Di).pipe((0,Ft.U)(no=>null===no?null:[new pr(Ar,no)]));if(0===Ot.length&&0===to.length)return(0,ae.of)([new pr(Ar,[])]);const Oa=xi(S)===Y;return this.processSegment(Hn,Ot,Di,to,Oa?mn:Y,!0).pipe((0,Ft.U)(no=>[new pr(Ar,no)]))}))))}getChildConfig(T,v,S){return v.children?(0,ae.of)({routes:v.children,injector:T}):v.loadChildren?void 0!==v._loadedRoutes?(0,ae.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function jo(w,T,v,S){const F=T.canLoad;if(void 0===F||0===F.length)return(0,ae.of)(!0);const Y=F.map(le=>{const Ge=br(le,w);return hr(function Se(w){return w&&P(w.canLoad)}(Ge)?Ge.canLoad(T,v):w.runInContext(()=>Ge(T,v)))});return(0,ae.of)(Y).pipe(ts(),Xs())}(T,v,S).pipe((0,Te.z)(F=>F?this.configLoader.loadChildren(T,v).pipe((0,_t.b)(Y=>{v._loadedRoutes=Y.routes,v._loadedInjector=Y.injector})):function xa(w){return ct(Zn(!1,3))}())):(0,ae.of)({routes:[],injector:T})}}function D(w){const T=w.value.routeConfig;return T&&""===T.path}function K(w){const T=[],v=new Set;for(const S of w){if(!D(S)){T.push(S);continue}const F=T.find(Y=>S.value.routeConfig===Y.value.routeConfig);void 0!==F?(F.children.push(...S.children),v.add(F)):T.push(S)}for(const S of v){const F=K(S.children);T.push(new pr(S.value,F))}return T.filter(S=>!v.has(S))}function G(w){return w.data||{}}function ge(w){return w.resolve||{}}function rr(w){return"string"==typeof w.title||null===w.title}function si(w){return(0,Cn.w)(T=>{const v=w(T);return v?(0,Me.D)(v).pipe((0,Ft.U)(()=>T)):(0,ae.of)(T)})}const Or=new p.OlP("ROUTES");let zi=(()=>{class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,ae.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const S=hr(v.loadComponent()).pipe((0,Ft.U)(Qr),(0,_t.b)(Y=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=Y}),Ur(()=>{this.componentLoaders.delete(v)})),F=new wt(S,()=>new Et.x).pipe(or());return this.componentLoaders.set(v,F),F}loadChildren(v,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,ae.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const Y=function li(w,T,v,S){return hr(w.loadChildren()).pipe((0,Ft.U)(Qr),(0,Te.z)(F=>F instanceof p.YKP||Array.isArray(F)?(0,ae.of)(F):(0,Me.D)(T.compileModuleAsync(F))),(0,Ft.U)(F=>{S&&S(w);let Y,le,Ge=!1;return Array.isArray(F)?(le=F,!0):(Y=F.create(v).injector,le=Y.get(Or,[],{optional:!0,self:!0}).flat()),{routes:le.map(es),injector:Y}}))}(S,this.compiler,v,this.onLoadEndListener).pipe(Ur(()=>{this.childrenLoaders.delete(S)})),le=new wt(Y,()=>new Et.x).pipe(or());return this.childrenLoaders.set(S,le),le}static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function Qr(w){return function ws(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let di=(()=>{class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Et.x,this.transitionAbortSubject=new Et.x,this.configLoader=(0,p.f3M)(zi),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(Fn),this.rootContexts=(0,p.f3M)($i),this.inputBindingEnabled=null!==(0,p.f3M)(Oe,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=F=>this.events.next(new Ys(F)),this.configLoader.onLoadStartListener=F=>this.events.next(new _s(F))}complete(){this.transitions?.complete()}handleNavigationRequest(v){const S=++this.navigationId;this.transitions?.next({...this.transitions.value,...v,id:S})}setupNavigations(v,S,F){return this.transitions=new E.X({id:0,currentUrlTree:S,currentRawUrl:S,currentBrowserUrl:S,extractedUrl:v.urlHandlingStrategy.extract(S),urlAfterRedirects:v.urlHandlingStrategy.extract(S),rawUrl:S,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:nr,restoredState:null,currentSnapshot:F.snapshot,targetSnapshot:null,currentRouterState:F,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(st(Y=>0!==Y.id),(0,Ft.U)(Y=>({...Y,extractedUrl:v.urlHandlingStrategy.extract(Y.rawUrl)})),(0,Cn.w)(Y=>{this.currentTransition=Y;let le=!1,Ge=!1;return(0,ae.of)(Y).pipe((0,_t.b)(qe=>{this.currentNavigation={id:qe.id,initialUrl:qe.rawUrl,extractedUrl:qe.extractedUrl,trigger:qe.source,extras:qe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Cn.w)(qe=>{const Ot=qe.currentBrowserUrl.toString(),Hn=!v.navigated||qe.extractedUrl.toString()!==Ot||Ot!==qe.currentUrlTree.toString();if(!Hn&&"reload"!==(qe.extras.onSameUrlNavigation??v.onSameUrlNavigation)){const jn="";return this.events.next(new Fr(qe.id,this.urlSerializer.serialize(qe.rawUrl),jn,0)),qe.resolve(null),at.E}if(v.urlHandlingStrategy.shouldProcessUrl(qe.rawUrl))return(0,ae.of)(qe).pipe((0,Cn.w)(jn=>{const As=this.transitions?.getValue();return this.events.next(new ar(jn.id,this.urlSerializer.serialize(jn.extractedUrl),jn.source,jn.restoredState)),As!==this.transitions?.getValue()?at.E:Promise.resolve(jn)}),function nt(w,T,v,S,F,Y){return(0,Te.z)(le=>function Us(w,T,v,S,F,Y,le="emptyOnly"){return new Gi(w,T,v,S,F,le,Y).recognize()}(w,T,v,S,le.extractedUrl,F,Y).pipe((0,Ft.U)(({state:Ge,tree:qe})=>({...le,targetSnapshot:Ge,urlAfterRedirects:qe}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,v.config,this.urlSerializer,v.paramsInheritanceStrategy),(0,_t.b)(jn=>{Y.targetSnapshot=jn.targetSnapshot,Y.urlAfterRedirects=jn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:jn.urlAfterRedirects};const As=new $s(jn.id,this.urlSerializer.serialize(jn.extractedUrl),this.urlSerializer.serialize(jn.urlAfterRedirects),jn.targetSnapshot);this.events.next(As)}));if(Hn&&v.urlHandlingStrategy.shouldProcessUrl(qe.currentRawUrl)){const{id:jn,extractedUrl:As,source:Di,restoredState:to,extras:Oa}=qe,no=new ar(jn,this.urlSerializer.serialize(As),Di,to);this.events.next(no);const Bs=$r(0,this.rootComponentType).snapshot;return this.currentTransition=Y={...qe,targetSnapshot:Bs,urlAfterRedirects:As,extras:{...Oa,skipLocationChange:!1,replaceUrl:!1}},(0,ae.of)(Y)}{const jn="";return this.events.next(new Fr(qe.id,this.urlSerializer.serialize(qe.extractedUrl),jn,1)),qe.resolve(null),at.E}}),(0,_t.b)(qe=>{const Ot=new co(qe.id,this.urlSerializer.serialize(qe.extractedUrl),this.urlSerializer.serialize(qe.urlAfterRedirects),qe.targetSnapshot);this.events.next(Ot)}),(0,Ft.U)(qe=>(this.currentTransition=Y={...qe,guards:Co(qe.targetSnapshot,qe.currentSnapshot,this.rootContexts)},Y)),function va(w,T){return(0,Te.z)(v=>{const{targetSnapshot:S,currentSnapshot:F,guards:{canActivateChecks:Y,canDeactivateChecks:le}}=v;return 0===le.length&&0===Y.length?(0,ae.of)({...v,guardsResult:!0}):function Xo(w,T,v,S){return(0,Me.D)(w).pipe((0,Te.z)(F=>function Bo(w,T,v,S,F){const Y=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!Y||0===Y.length)return(0,ae.of)(!0);const le=Y.map(Ge=>{const qe=gs(T)??F,Ot=br(Ge,qe);return hr(function os(w){return w&&P(w.canDeactivate)}(Ot)?Ot.canDeactivate(w,T,v,S):qe.runInContext(()=>Ot(w,T,v,S))).pipe(Ke())});return(0,ae.of)(le).pipe(ts())}(F.component,F.route,v,T,S)),Ke(F=>!0!==F,!0))}(le,S,F,w).pipe((0,Te.z)(Ge=>Ge&&function ee(w){return"boolean"==typeof w}(Ge)?function Ea(w,T,v,S){return(0,Me.D)(T).pipe(ht(F=>tt(function wa(w,T){return null!==w&&T&&T(new Io(w)),(0,ae.of)(!0)}(F.route.parent,S),function go(w,T){return null!==w&&T&&T(new Ns(w)),(0,ae.of)(!0)}(F.route,S),function Ma(w,T,v){const S=T[T.length-1],Y=T.slice(0,T.length-1).reverse().map(le=>function Hs(w){const T=w.routeConfig?w.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:w,guards:T}:null}(le)).filter(le=>null!==le).map(le=>gt(()=>{const Ge=le.guards.map(qe=>{const Ot=gs(le.node)??v,Hn=br(qe,Ot);return hr(function Bn(w){return w&&P(w.canActivateChild)}(Hn)?Hn.canActivateChild(S,w):Ot.runInContext(()=>Hn(S,w))).pipe(Ke())});return(0,ae.of)(Ge).pipe(ts())}));return(0,ae.of)(Y).pipe(ts())}(w,F.path,v),function Aa(w,T,v){const S=T.routeConfig?T.routeConfig.canActivate:null;if(!S||0===S.length)return(0,ae.of)(!0);const F=S.map(Y=>gt(()=>{const le=gs(T)??v,Ge=br(Y,le);return hr(function tn(w){return w&&P(w.canActivate)}(Ge)?Ge.canActivate(T,w):le.runInContext(()=>Ge(T,w))).pipe(Ke())}));return(0,ae.of)(F).pipe(ts())}(w,F.route,v))),Ke(F=>!0!==F,!0))}(S,Y,w,T):(0,ae.of)(Ge)),(0,Ft.U)(Ge=>({...v,guardsResult:Ge})))})}(this.environmentInjector,qe=>this.events.next(qe)),(0,_t.b)(qe=>{if(Y.guardsResult=qe.guardsResult,vr(qe.guardsResult))throw xr(0,qe.guardsResult);const Ot=new lo(qe.id,this.urlSerializer.serialize(qe.extractedUrl),this.urlSerializer.serialize(qe.urlAfterRedirects),qe.targetSnapshot,!!qe.guardsResult);this.events.next(Ot)}),st(qe=>!!qe.guardsResult||(this.cancelNavigationTransition(qe,"",3),!1)),si(qe=>{if(qe.guards.canActivateChecks.length)return(0,ae.of)(qe).pipe((0,_t.b)(Ot=>{const Hn=new Mi(Ot.id,this.urlSerializer.serialize(Ot.extractedUrl),this.urlSerializer.serialize(Ot.urlAfterRedirects),Ot.targetSnapshot);this.events.next(Hn)}),(0,Cn.w)(Ot=>{let Hn=!1;return(0,ae.of)(Ot).pipe(function Tt(w,T){return(0,Te.z)(v=>{const{targetSnapshot:S,guards:{canActivateChecks:F}}=v;if(!F.length)return(0,ae.of)(v);let Y=0;return(0,Me.D)(F).pipe(ht(le=>function fn(w,T,v,S){const F=w.routeConfig,Y=w._resolve;return void 0!==F?.title&&!rr(F)&&(Y[fi]=F.title),function ii(w,T,v,S){const F=function yi(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===F.length)return(0,ae.of)({});const Y={};return(0,Me.D)(F).pipe((0,Te.z)(le=>function Dr(w,T,v,S){const F=gs(T)??S,Y=br(w,F);return hr(Y.resolve?Y.resolve(T,v):F.runInContext(()=>Y(T,v)))}(w[le],T,v,S).pipe(Ke(),(0,_t.b)(Ge=>{Y[le]=Ge}))),Sn(1),function Xn(w){return(0,Ft.U)(()=>w)}(Y),jt(le=>Ss(le)?at.E:ct(le)))}(Y,w,T,S).pipe((0,Ft.U)(le=>(w._resolvedData=le,w.data=vs(w,v).resolve,F&&rr(F)&&(w.data[fi]=F.title),null)))}(le.route,S,w,T)),(0,_t.b)(()=>Y++),Sn(1),(0,Te.z)(le=>Y===F.length?(0,ae.of)(v):at.E))})}(v.paramsInheritanceStrategy,this.environmentInjector),(0,_t.b)({next:()=>Hn=!0,complete:()=>{Hn||this.cancelNavigationTransition(Ot,"",2)}}))}),(0,_t.b)(Ot=>{const Hn=new ho(Ot.id,this.urlSerializer.serialize(Ot.extractedUrl),this.urlSerializer.serialize(Ot.urlAfterRedirects),Ot.targetSnapshot);this.events.next(Hn)}))}),si(qe=>{const Ot=Hn=>{const Ar=[];Hn.routeConfig?.loadComponent&&!Hn.routeConfig._loadedComponent&&Ar.push(this.configLoader.loadComponent(Hn.routeConfig).pipe((0,_t.b)(jn=>{Hn.component=jn}),(0,Ft.U)(()=>{})));for(const jn of Hn.children)Ar.push(...Ot(jn));return Ar};return Nt(Ot(qe.targetSnapshot.root)).pipe(ve(),$e(1))}),si(()=>this.afterPreactivation()),(0,Ft.U)(qe=>{const Ot=function Pt(w,T,v){const S=Wt(w,T._root,v?v._root:void 0);return new Yi(S,T)}(v.routeReuseStrategy,qe.targetSnapshot,qe.currentRouterState);return this.currentTransition=Y={...qe,targetRouterState:Ot},Y}),(0,_t.b)(()=>{this.events.next(new po)}),((w,T,v,S)=>(0,Ft.U)(F=>(new oa(T,F.targetRouterState,F.currentRouterState,v,S).activate(w),F)))(this.rootContexts,v.routeReuseStrategy,qe=>this.events.next(qe),this.inputBindingEnabled),$e(1),(0,_t.b)({next:qe=>{le=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ji(qe.id,this.urlSerializer.serialize(qe.extractedUrl),this.urlSerializer.serialize(qe.urlAfterRedirects))),v.titleStrategy?.updateTitle(qe.targetRouterState.snapshot),qe.resolve(!0)},complete:()=>{le=!0}}),function gn(w){return(0,kn.e)((T,v)=>{(0,Ze.Xf)(w).subscribe((0,it.x)(v,()=>v.complete(),qn.Z)),!v.closed&&T.subscribe(v)})}(this.transitionAbortSubject.pipe((0,_t.b)(qe=>{throw qe}))),Ur(()=>{le||Ge||this.cancelNavigationTransition(Y,"",1),this.currentNavigation?.id===Y.id&&(this.currentNavigation=null)}),jt(qe=>{if(Ge=!0,yr(qe))this.events.next(new gi(Y.id,this.urlSerializer.serialize(Y.extractedUrl),qe.message,qe.cancellationCode)),function Hr(w){return yr(w)&&vr(w.url)}(qe)?this.events.next(new bo(qe.url)):Y.resolve(!1);else{this.events.next(new Ir(Y.id,this.urlSerializer.serialize(Y.extractedUrl),qe,Y.targetSnapshot??void 0));try{Y.resolve(v.errorHandler(qe))}catch(Ot){Y.reject(Ot)}}return at.E}))}))}cancelNavigationTransition(v,S,F){const Y=new gi(v.id,this.urlSerializer.serialize(v.extractedUrl),S,F);this.events.next(Y),v.resolve(!1)}static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function qi(w){return w!==nr}let Ho=(()=>{class w{buildTitle(v){let S,F=v.root;for(;void 0!==F;)S=this.getResolvedTitleForRoute(F)??S,F=F.children.find(Y=>Y.outlet===mn);return S}getResolvedTitleForRoute(v){return v.data[fi]}static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275prov=p.Yz7({token:w,factory:function(){return(0,p.f3M)(ua)},providedIn:"root"})}return w})(),ua=(()=>{class w extends Ho{constructor(v){super(),this.title=v}updateTitle(v){const S=this.buildTitle(v);void 0!==S&&this.title.setTitle(S)}static#e=this.\u0275fac=function(S){return new(S||w)(p.LFG(sr.Dx))};static#t=this.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),xt=(()=>{class w{static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275prov=p.Yz7({token:w,factory:function(){return(0,p.f3M)(_o)},providedIn:"root"})}return w})();class Wi{shouldDetach(T){return!1}store(T,v){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,v){return T.routeConfig===v.routeConfig}}let _o=(()=>{class w extends Wi{static#e=this.\u0275fac=function(){let v;return function(F){return(v||(v=p.n5z(w)))(F||w)}}();static#t=this.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const ca=new p.OlP("",{providedIn:"root",factory:()=>({})});let an=(()=>{class w{static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275prov=p.Yz7({token:w,factory:function(){return(0,p.f3M)(Tn)},providedIn:"root"})}return w})(),Tn=(()=>{class w{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,S){return v}static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();var Qa=function(w){return w[w.COMPLETE=0]="COMPLETE",w[w.FAILED=1]="FAILED",w[w.REDIRECTING=2]="REDIRECTING",w}(Qa||{});function qt(w,T){w.events.pipe(st(v=>v instanceof ji||v instanceof gi||v instanceof Ir||v instanceof Fr),(0,Ft.U)(v=>v instanceof ji||v instanceof Fr?Qa.COMPLETE:v instanceof gi&&(0===v.code||1===v.code)?Qa.REDIRECTING:Qa.FAILED),st(v=>v!==Qa.REDIRECTING),$e(1)).subscribe(()=>{T()})}function rt(w){throw w}function Dt(w,T,v){return T.parse("/")}const Qi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ja={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Sr=(()=>{class w{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this._events=new Et.x,this.options=(0,p.f3M)(ca,{optional:!0})||{},this.pendingTasks=(0,p.f3M)(p.HDt),this.errorHandler=this.options.errorHandler||rt,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Dt,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(an),this.routeReuseStrategy=(0,p.f3M)(xt),this.titleStrategy=(0,p.f3M)(Ho),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,p.f3M)(Or,{optional:!0})?.flat()??[],this.navigationTransitions=(0,p.f3M)(di),this.urlSerializer=(0,p.f3M)(Fn),this.location=(0,p.f3M)(In.Ye),this.componentInputBindingEnabled=!!(0,p.f3M)(Oe,{optional:!0}),this.eventsSubscription=new vn.w0,this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new fr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$r(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(v=>{this.lastSuccessfulId=v.id,this.currentPageId=this.browserPageId},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const v=this.navigationTransitions.events.subscribe(S=>{try{const{currentTransition:F}=this.navigationTransitions;if(null===F)return void(Ja(S)&&this._events.next(S));if(S instanceof ar)qi(F.source)&&(this.browserUrlTree=F.extractedUrl);else if(S instanceof Fr)this.rawUrlTree=F.rawUrl;else if(S instanceof $s){if("eager"===this.urlUpdateStrategy){if(!F.extras.skipLocationChange){const Y=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl);this.setBrowserUrl(Y,F)}this.browserUrlTree=F.urlAfterRedirects}}else if(S instanceof po)this.currentUrlTree=F.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl),this.routerState=F.targetRouterState,"deferred"===this.urlUpdateStrategy&&(F.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,F),this.browserUrlTree=F.urlAfterRedirects);else if(S instanceof gi)0!==S.code&&1!==S.code&&(this.navigated=!0),(3===S.code||2===S.code)&&this.restoreHistory(F);else if(S instanceof bo){const Y=this.urlHandlingStrategy.merge(S.url,F.currentRawUrl),le={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qi(F.source)};this.scheduleNavigation(Y,nr,null,le,{resolve:F.resolve,reject:F.reject,promise:F.promise})}S instanceof Ir&&this.restoreHistory(F,!0),S instanceof ji&&(this.navigated=!0),Ja(S)&&this._events.next(S)}catch(F){this.navigationTransitions.transitionAbortSubject.next(F)}});this.eventsSubscription.add(v)}resetRootComponentType(v){this.routerState.root.component=v,this.navigationTransitions.rootComponentType=v}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const v=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),nr,v)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const S="popstate"===v.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{this.navigateToSyncWithBrowser(v.url,S,v.state)},0)}))}navigateToSyncWithBrowser(v,S,F){const Y={replaceUrl:!0},le=F?.navigationId?F:null;if(F){const qe={...F};delete qe.navigationId,delete qe.\u0275routerPageId,0!==Object.keys(qe).length&&(Y.state=qe)}const Ge=this.parseUrl(v);this.scheduleNavigation(Ge,S,le,Y)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(v){this.config=v.map(es),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(v,S={}){const{relativeTo:F,queryParams:Y,fragment:le,queryParamsHandling:Ge,preserveFragment:qe}=S,Ot=qe?this.currentUrlTree.fragment:le;let Ar,Hn=null;switch(Ge){case"merge":Hn={...this.currentUrlTree.queryParams,...Y};break;case"preserve":Hn=this.currentUrlTree.queryParams;break;default:Hn=Y||null}null!==Hn&&(Hn=this.removeEmptyProps(Hn));try{Ar=xs(F?F.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof v[0]||!v[0].startsWith("/"))&&(v=[]),Ar=this.currentUrlTree.root}return Rs(Ar,v,Hn,Ot??null)}navigateByUrl(v,S={skipLocationChange:!1}){const F=vr(v)?v:this.parseUrl(v),Y=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(Y,nr,null,S)}navigate(v,S={skipLocationChange:!1}){return function $a(w){for(let T=0;T<w.length;T++)if(null==w[T])throw new p.vHH(4008,!1)}(v),this.navigateByUrl(this.createUrlTree(v,S),S)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let S;try{S=this.urlSerializer.parse(v)}catch(F){S=this.malformedUriErrorHandler(F,this.urlSerializer,v)}return S}isActive(v,S){let F;if(F=!0===S?{...Qi}:!1===S?{...ja}:S,vr(v))return lr(this.currentUrlTree,v,F);const Y=this.parseUrl(v);return lr(this.currentUrlTree,Y,F)}removeEmptyProps(v){return Object.keys(v).reduce((S,F)=>{const Y=v[F];return null!=Y&&(S[F]=Y),S},{})}scheduleNavigation(v,S,F,Y,le){if(this.disposed)return Promise.resolve(!1);let Ge,qe,Ot;le?(Ge=le.resolve,qe=le.reject,Ot=le.promise):Ot=new Promise((Ar,jn)=>{Ge=Ar,qe=jn});const Hn=this.pendingTasks.add();return qt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Hn))}),this.navigationTransitions.handleNavigationRequest({source:S,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:v,extras:Y,resolve:Ge,reject:qe,promise:Ot,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ot.catch(Ar=>Promise.reject(Ar))}setBrowserUrl(v,S){const F=this.urlSerializer.serialize(v);if(this.location.isCurrentPathEqualTo(F)||S.extras.replaceUrl){const le={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(F,"",le)}else{const Y={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId+1)};this.location.go(F,"",Y)}}restoreHistory(v,S=!1){if("computed"===this.canceledNavigationResolution){const Y=this.currentPageId-this.browserPageId;0!==Y?this.location.historyGo(Y):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Y&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(v,S){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:S}:{navigationId:v}}static#e=this.\u0275fac=function(S){return new(S||w)};static#t=this.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function Ja(w){return!(w instanceof po||w instanceof bo)}let Is=(()=>{class w{constructor(v,S,F,Y,le,Ge){this.router=v,this.route=S,this.tabIndexAttribute=F,this.renderer=Y,this.el=le,this.locationStrategy=Ge,this.href=null,this.commands=null,this.onChanges=new Et.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const qe=le.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===qe||"area"===qe,this.isAnchorElement?this.subscription=v.events.subscribe(Ot=>{Ot instanceof ji&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(v){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",v)}ngOnChanges(v){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(v){null!=v?(this.commands=Array.isArray(v)?v:[v],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(v,S,F,Y,le){return!!(null===this.urlTree||this.isAnchorElement&&(0!==v||S||F||Y||le||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const v=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",v)}applyAttributeValue(v,S){const F=this.renderer,Y=this.el.nativeElement;null!==S?F.setAttribute(Y,v,S):F.removeAttribute(Y,v)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(S){return new(S||w)(p.Y36(Sr),p.Y36(Ds),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(In.S$))};static#t=this.\u0275dir=p.lG2({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,F){1&S&&p.NdJ("click",function(le){return F.onClick(le.button,le.ctrlKey,le.shiftKey,le.altKey,le.metaKey)}),2&S&&p.uIk("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",p.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",p.VuI],replaceUrl:["replaceUrl","replaceUrl",p.VuI],routerLink:"routerLink"},standalone:!0,features:[p.Xq5,p.TTD]})}return w})();class na{}let Ha=(()=>{class w{constructor(v,S,F,Y,le){this.router=v,this.injector=F,this.preloadingStrategy=Y,this.loader=le}setUpPreloading(){this.subscription=this.router.events.pipe(st(v=>v instanceof ji),ht(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,S){const F=[];for(const Y of S){Y.providers&&!Y._injector&&(Y._injector=(0,p.MMx)(Y.providers,v,`Route: ${Y.path}`));const le=Y._injector??v,Ge=Y._loadedInjector??le;(Y.loadChildren&&!Y._loadedRoutes&&void 0===Y.canLoad||Y.loadComponent&&!Y._loadedComponent)&&F.push(this.preloadConfig(le,Y)),(Y.children||Y._loadedRoutes)&&F.push(this.processRoutes(Ge,Y.children??Y._loadedRoutes))}return(0,Me.D)(F).pipe((0,Mt.J)())}preloadConfig(v,S){return this.preloadingStrategy.preload(S,()=>{let F;F=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(v,S):(0,ae.of)(null);const Y=F.pipe((0,Te.z)(le=>null===le?(0,ae.of)(void 0):(S._loadedRoutes=le.routes,S._loadedInjector=le.injector,this.processRoutes(le.injector??v,le.routes))));if(S.loadComponent&&!S._loadedComponent){const le=this.loader.loadComponent(S);return(0,Me.D)([Y,le]).pipe((0,Mt.J)())}return Y})}static#e=this.\u0275fac=function(S){return new(S||w)(p.LFG(Sr),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(na),p.LFG(zi))};static#t=this.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();const yn=new p.OlP("");let zs=(()=>{class w{constructor(v,S,F,Y,le={}){this.urlSerializer=v,this.transitions=S,this.viewportScroller=F,this.zone=Y,this.options=le,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},le.scrollPositionRestoration=le.scrollPositionRestoration||"disabled",le.anchorScrolling=le.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof ar?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof ji?(this.lastId=v.id,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.urlAfterRedirects).fragment)):v instanceof Fr&&0===v.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof fo&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,S){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fo(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(S){p.$Z()};static#t=this.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac})}return w})();function pn(w,T){return{\u0275kind:w,\u0275providers:T}}function _(){const w=(0,p.f3M)(p.zs3);return T=>{const v=w.get(p.z2F);if(T!==v.components[0])return;const S=w.get(Sr),F=w.get(m);1===w.get(x)&&S.initialNavigation(),w.get(we,null,p.XFs.Optional)?.setUpPreloading(),w.get(yn,null,p.XFs.Optional)?.init(),S.resetRootComponentType(v.componentTypes[0]),F.closed||(F.next(),F.complete(),F.unsubscribe())}}const m=new p.OlP("",{factory:()=>new Et.x}),x=new p.OlP("",{providedIn:"root",factory:()=>1}),we=new p.OlP("");function He(w){return pn(0,[{provide:we,useExisting:Ha},{provide:na,useExisting:w}])}const Ht=new p.OlP("ROUTER_FORROOT_GUARD"),On=[In.Ye,{provide:Fn,useClass:Nr},Sr,$i,{provide:Ds,useFactory:function Fi(w){return w.routerState.root},deps:[Sr]},zi,[]];function hi(){return new p.PXZ("Router",Sr)}let Fe=(()=>{class w{constructor(v){}static forRoot(v,S){return{ngModule:w,providers:[On,[],{provide:Or,multi:!0,useValue:v},{provide:Ht,useFactory:qs,deps:[[Sr,new p.FiY,new p.tp0]]},{provide:ca,useValue:S||{}},S?.useHash?{provide:In.S$,useClass:In.Do}:{provide:In.S$,useClass:In.b0},{provide:yn,useFactory:()=>{const w=(0,p.f3M)(In.EM),T=(0,p.f3M)(p.R0b),v=(0,p.f3M)(ca),S=(0,p.f3M)(di),F=(0,p.f3M)(Fn);return v.scrollOffset&&w.setOffset(v.scrollOffset),new zs(F,S,w,T,v)}},S?.preloadingStrategy?He(S.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:hi},S?.initialNavigation?us(S):[],S?.bindToComponentInputs?pn(8,[Qe,{provide:Oe,useExisting:Qe}]).\u0275providers:[],[{provide:ns,useFactory:_},{provide:p.tb,multi:!0,useExisting:ns}]]}}static forChild(v){return{ngModule:w,providers:[{provide:Or,multi:!0,useValue:v}]}}static#e=this.\u0275fac=function(S){return new(S||w)(p.LFG(Ht,8))};static#t=this.\u0275mod=p.oAB({type:w});static#n=this.\u0275inj=p.cJS({})}return w})();function qs(w){return"guarded"}function us(w){return["disabled"===w.initialNavigation?pn(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const T=(0,p.f3M)(Sr);return()=>{T.setUpLocationChangeListener()}}},{provide:x,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?pn(2,[{provide:x,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:T=>{const v=T.get(In.V_,Promise.resolve());return()=>v.then(()=>new Promise(S=>{const F=T.get(Sr),Y=T.get(m);qt(F,()=>{S(!0)}),T.get(di).afterPreactivation=()=>(S(!0),Y.closed?(0,ae.of)(void 0):Y),F.initialNavigation()}))}}]).\u0275providers:[]]}const ns=new p.OlP("")},3106:(ln,pt,Z)=>{Z.d(pt,{Z:()=>Nt});var p=Z(9058),de=Z(4537),Ee=Z(534),De=Z(7879);class Me{constructor(Vt,St){this._delegate=Vt,this.firebase=St,(0,Ee._addComponent)(Vt,new de.wA("app-compat",()=>this,"PUBLIC")),this.container=Vt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Vt){this._delegate.automaticDataCollectionEnabled=Vt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Vt=>{this._delegate.checkDestroyed(),Vt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Ee.deleteApp)(this._delegate)))}_getService(Vt,St=Ee._DEFAULT_ENTRY_NAME){var nn;this._delegate.checkDestroyed();const Mt=this._delegate.container.getProvider(Vt);return!Mt.isInitialized()&&"EXPLICIT"===(null===(nn=Mt.getComponent())||void 0===nn?void 0:nn.instantiationMode)&&Mt.initialize(),Mt.getImmediate({identifier:St})}_removeServiceInstance(Vt,St=Ee._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Vt).clearInstance(St)}_addComponent(Vt){(0,Ee._addComponent)(this._delegate,Vt)}_addOrOverwriteComponent(Vt){(0,Ee._addOrOverwriteComponent)(this._delegate,Vt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const E=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),he=function We(){const bt=function Xe(bt){const Vt={},St={__esModule:!0,initializeApp:function Ce(ut,ct={}){const at=Ee.initializeApp(ut,ct);if((0,p.r3)(Vt,at.name))return Vt[at.name];const vn=new bt(at,St);return Vt[at.name]=vn,vn},app:Mt,registerVersion:Ee.registerVersion,setLogLevel:Ee.setLogLevel,onLog:Ee.onLog,apps:null,SDK_VERSION:Ee.SDK_VERSION,INTERNAL:{registerComponent:function Ze(ut){const ct=ut.name,at=ct.replace("-compat","");if(Ee._registerComponent(ut)&&"PUBLIC"===ut.type){const vn=(kn=Mt())=>{if("function"!=typeof kn[at])throw E.create("invalid-app-argument",{appName:ct});return kn[at]()};void 0!==ut.serviceProps&&(0,p.ZB)(vn,ut.serviceProps),St[at]=vn,bt.prototype[at]=function(...kn){return this._getService.bind(this,ct).apply(this,ut.multipleInstances?kn:[])}}return"PUBLIC"===ut.type?St[at]:null},removeApp:function nn(ut){delete Vt[ut]},useAsService:function gt(ut,ct){return"serverAuth"===ct?null:ct},modularAPIs:Ee}};function Mt(ut){if(!(0,p.r3)(Vt,ut=ut||Ee._DEFAULT_ENTRY_NAME))throw E.create("no-app",{appName:ut});return Vt[ut]}return St.default=St,Object.defineProperty(St,"apps",{get:function tt(){return Object.keys(Vt).map(ut=>Vt[ut])}}),Mt.App=bt,St}(Me);return bt.INTERNAL=Object.assign(Object.assign({},bt.INTERNAL),{createFirebaseNamespace:We,extendNamespace:function Vt(St){(0,p.ZB)(bt,St)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),bt}(),ue=new De.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const bt=self.firebase.SDK_VERSION;bt&&bt.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Nt=he;!function Ae(bt){(0,Ee.registerVersion)("@firebase/app-compat","0.2.13",bt)}()},534:(ln,pt,Z)=>{Z.r(pt),Z.d(pt,{FirebaseError:()=>De.ZR,SDK_VERSION:()=>Ui,_DEFAULT_ENTRY_NAME:()=>Qn,_addComponent:()=>Br,_addOrOverwriteComponent:()=>Zr,_apps:()=>Mn,_clearComponents:()=>lr,_components:()=>cr,_getProvider:()=>Rr,_registerComponent:()=>hr,_removeServiceInstance:()=>ai,deleteApp:()=>hn,getApp:()=>Xr,getApps:()=>fr,initializeApp:()=>jr,onLog:()=>bn,registerVersion:()=>vi,setLogLevel:()=>dr});var p=Z(5861),de=Z(4537),Ee=Z(7879),De=Z(9058);const Me=(ot,Be)=>Be.some(At=>ot instanceof At);let ae,E;const he=new WeakMap,ue=new WeakMap,Ve=new WeakMap,it=new WeakMap,Ae=new WeakMap;let Vt={get(ot,Be,At){if(ot instanceof IDBTransaction){if("done"===Be)return ue.get(ot);if("objectStoreNames"===Be)return ot.objectStoreNames||Ve.get(ot);if("store"===Be)return At.objectStoreNames[1]?void 0:At.objectStore(At.objectStoreNames[0])}return Ce(ot[Be])},set:(ot,Be,At)=>(ot[Be]=At,!0),has:(ot,Be)=>ot instanceof IDBTransaction&&("done"===Be||"store"===Be)||Be in ot};function Mt(ot){return"function"==typeof ot?function nn(ot){return ot!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function We(){return E||(E=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ot)?function(...Be){return ot.apply(tt(this),Be),Ce(he.get(this))}:function(...Be){return Ce(ot.apply(tt(this),Be))}:function(Be,...At){const Kt=ot.call(tt(this),Be,...At);return Ve.set(Kt,Be.sort?Be.sort():[Be]),Ce(Kt)}}(ot):(ot instanceof IDBTransaction&&function bt(ot){if(ue.has(ot))return;const Be=new Promise((At,Kt)=>{const An=()=>{ot.removeEventListener("complete",Zt),ot.removeEventListener("error",$n),ot.removeEventListener("abort",$n)},Zt=()=>{At(),An()},$n=()=>{Kt(ot.error||new DOMException("AbortError","AbortError")),An()};ot.addEventListener("complete",Zt),ot.addEventListener("error",$n),ot.addEventListener("abort",$n)});ue.set(ot,Be)}(ot),Me(ot,function Xe(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ot,Vt):ot)}function Ce(ot){if(ot instanceof IDBRequest)return function Nt(ot){const Be=new Promise((At,Kt)=>{const An=()=>{ot.removeEventListener("success",Zt),ot.removeEventListener("error",$n)},Zt=()=>{At(Ce(ot.result)),An()},$n=()=>{Kt(ot.error),An()};ot.addEventListener("success",Zt),ot.addEventListener("error",$n)});return Be.then(At=>{At instanceof IDBCursor&&he.set(At,ot)}).catch(()=>{}),Ae.set(Be,ot),Be}(ot);if(it.has(ot))return it.get(ot);const Be=Mt(ot);return Be!==ot&&(it.set(ot,Be),Ae.set(Be,ot)),Be}const tt=ot=>Ae.get(ot),ut=["get","getKey","getAll","getAllKeys","count"],ct=["put","add","delete","clear"],at=new Map;function vn(ot,Be){if(!(ot instanceof IDBDatabase)||Be in ot||"string"!=typeof Be)return;if(at.get(Be))return at.get(Be);const At=Be.replace(/FromIndex$/,""),Kt=Be!==At,An=ct.includes(At);if(!(At in(Kt?IDBIndex:IDBObjectStore).prototype)||!An&&!ut.includes(At))return;const Zt=function(){var $n=(0,p.Z)(function*(ei,...vr){const Ni=this.transaction(ei,An?"readwrite":"readonly");let xs=Ni.store;return Kt&&(xs=xs.index(vr.shift())),(yield Promise.all([xs[At](...vr),An&&Ni.done]))[0]});return function(vr){return $n.apply(this,arguments)}}();return at.set(Be,Zt),Zt}!function St(ot){Vt=ot(Vt)}(ot=>({...ot,get:(Be,At,Kt)=>vn(Be,At)||ot.get(Be,At,Kt),has:(Be,At)=>!!vn(Be,At)||ot.has(Be,At)}));class kn{constructor(Be){this.container=Be}getPlatformInfoString(){return this.container.getProviders().map(At=>{if(function or(ot){const Be=ot.getComponent();return"VERSION"===Be?.type}(At)){const Kt=At.getImmediate();return`${Kt.library}/${Kt.version}`}return null}).filter(At=>At).join(" ")}}const wt="@firebase/app",In=new Ee.Yd("@firebase/app"),Qn="[DEFAULT]",Pn={[wt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mn=new Map,cr=new Map;function Br(ot,Be){try{ot.container.addComponent(Be)}catch(At){In.debug(`Component ${Be.name} failed to register with FirebaseApp ${ot.name}`,At)}}function Zr(ot,Be){ot.container.addOrOverwriteComponent(Be)}function hr(ot){const Be=ot.name;if(cr.has(Be))return In.debug(`There were multiple attempts to register component ${Be}.`),!1;cr.set(Be,ot);for(const At of Mn.values())Br(At,ot);return!0}function Rr(ot,Be){const At=ot.container.getProvider("heartbeat").getImmediate({optional:!0});return At&&At.triggerHeartbeat(),ot.container.getProvider(Be)}function ai(ot,Be,At=Qn){Rr(ot,Be).clearInstance(At)}function lr(){cr.clear()}const zt=new De.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zi{constructor(Be,At,Kt){this._isDeleted=!1,this._options=Object.assign({},Be),this._config=Object.assign({},At),this._name=At.name,this._automaticDataCollectionEnabled=At.automaticDataCollectionEnabled,this._container=Kt,this.container.addComponent(new de.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this.checkDestroyed(),this._automaticDataCollectionEnabled=Be}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Be){this._isDeleted=Be}checkDestroyed(){if(this.isDeleted)throw zt.create("app-deleted",{appName:this._name})}}const Ui="9.23.0";function jr(ot,Be={}){let At=ot;"object"!=typeof Be&&(Be={name:Be});const Kt=Object.assign({name:Qn,automaticDataCollectionEnabled:!1},Be),An=Kt.name;if("string"!=typeof An||!An)throw zt.create("bad-app-name",{appName:String(An)});if(At||(At=(0,De.aH)()),!At)throw zt.create("no-options");const Zt=Mn.get(An);if(Zt){if((0,De.vZ)(At,Zt.options)&&(0,De.vZ)(Kt,Zt.config))return Zt;throw zt.create("duplicate-app",{appName:An})}const $n=new de.H0(An);for(const vr of cr.values())$n.addComponent(vr);const ei=new Zi(At,Kt,$n);return Mn.set(An,ei),ei}function Xr(ot=Qn){const Be=Mn.get(ot);if(!Be&&ot===Qn&&(0,De.aH)())return jr();if(!Be)throw zt.create("no-app",{appName:ot});return Be}function fr(){return Array.from(Mn.values())}function hn(ot){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,p.Z)(function*(ot){const Be=ot.name;Mn.has(Be)&&(Mn.delete(Be),yield Promise.all(ot.container.getProviders().map(At=>At.delete())),ot.isDeleted=!0)})).apply(this,arguments)}function vi(ot,Be,At){var Kt;let An=null!==(Kt=Pn[ot])&&void 0!==Kt?Kt:ot;At&&(An+=`-${At}`);const Zt=An.match(/\s|\//),$n=Be.match(/\s|\//);if(Zt||$n){const ei=[`Unable to register library "${An}" with version "${Be}":`];return Zt&&ei.push(`library name "${An}" contains illegal characters (whitespace or "/")`),Zt&&$n&&ei.push("and"),$n&&ei.push(`version name "${Be}" contains illegal characters (whitespace or "/")`),void In.warn(ei.join(" "))}hr(new de.wA(`${An}-version`,()=>({library:An,version:Be}),"VERSION"))}function bn(ot,Be){if(null!==ot&&"function"!=typeof ot)throw zt.create("invalid-log-argument");(0,Ee.Am)(ot,Be)}function dr(ot){(0,Ee.Ub)(ot)}const Fn="firebase-heartbeat-database",Nr=1,be="firebase-heartbeat-store";let X=null;function re(){return X||(X=function Ze(ot,Be,{blocked:At,upgrade:Kt,blocking:An,terminated:Zt}={}){const $n=indexedDB.open(ot,Be),ei=Ce($n);return Kt&&$n.addEventListener("upgradeneeded",vr=>{Kt(Ce($n.result),vr.oldVersion,vr.newVersion,Ce($n.transaction),vr)}),At&&$n.addEventListener("blocked",vr=>At(vr.oldVersion,vr.newVersion,vr)),ei.then(vr=>{Zt&&vr.addEventListener("close",()=>Zt()),An&&vr.addEventListener("versionchange",Ni=>An(Ni.oldVersion,Ni.newVersion,Ni))}).catch(()=>{}),ei}(Fn,Nr,{upgrade:(ot,Be)=>{0===Be&&ot.createObjectStore(be)}}).catch(ot=>{throw zt.create("idb-open",{originalErrorMessage:ot.message})})),X}function te(){return(te=(0,p.Z)(function*(ot){try{return yield(yield re()).transaction(be).objectStore(be).get(Bt(ot))}catch(Be){if(Be instanceof De.ZR)In.warn(Be.message);else{const At=zt.create("idb-get",{originalErrorMessage:Be?.message});In.warn(At.message)}}})).apply(this,arguments)}function Pe(ot,Be){return yt.apply(this,arguments)}function yt(){return(yt=(0,p.Z)(function*(ot,Be){try{const Kt=(yield re()).transaction(be,"readwrite");yield Kt.objectStore(be).put(Be,Bt(ot)),yield Kt.done}catch(At){if(At instanceof De.ZR)In.warn(At.message);else{const Kt=zt.create("idb-set",{originalErrorMessage:At?.message});In.warn(Kt.message)}}})).apply(this,arguments)}function Bt(ot){return`${ot.name}!${ot.options.appId}`}class Kn{constructor(Be){this.container=Be,this._heartbeatsCache=null;const At=this.container.getProvider("app").getImmediate();this._storage=new Yr(At),this._heartbeatsCachePromise=this._storage.read().then(Kt=>(this._heartbeatsCache=Kt,Kt))}triggerHeartbeat(){var Be=this;return(0,p.Z)(function*(){const Kt=Be.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),An=Xt();if(null===Be._heartbeatsCache&&(Be._heartbeatsCache=yield Be._heartbeatsCachePromise),Be._heartbeatsCache.lastSentHeartbeatDate!==An&&!Be._heartbeatsCache.heartbeats.some(Zt=>Zt.date===An))return Be._heartbeatsCache.heartbeats.push({date:An,agent:Kt}),Be._heartbeatsCache.heartbeats=Be._heartbeatsCache.heartbeats.filter(Zt=>{const $n=new Date(Zt.date).valueOf();return Date.now()-$n<=2592e6}),Be._storage.overwrite(Be._heartbeatsCache)})()}getHeartbeatsHeader(){var Be=this;return(0,p.Z)(function*(){if(null===Be._heartbeatsCache&&(yield Be._heartbeatsCachePromise),null===Be._heartbeatsCache||0===Be._heartbeatsCache.heartbeats.length)return"";const At=Xt(),{heartbeatsToSend:Kt,unsentEntries:An}=function Wr(ot,Be=1024){const At=[];let Kt=ot.slice();for(const An of ot){const Zt=At.find($n=>$n.agent===An.agent);if(Zt){if(Zt.dates.push(An.date),Ei(At)>Be){Zt.dates.pop();break}}else if(At.push({agent:An.agent,dates:[An.date]}),Ei(At)>Be){At.pop();break}Kt=Kt.slice(1)}return{heartbeatsToSend:At,unsentEntries:Kt}}(Be._heartbeatsCache.heartbeats),Zt=(0,De.L)(JSON.stringify({version:2,heartbeats:Kt}));return Be._heartbeatsCache.lastSentHeartbeatDate=At,An.length>0?(Be._heartbeatsCache.heartbeats=An,yield Be._storage.overwrite(Be._heartbeatsCache)):(Be._heartbeatsCache.heartbeats=[],Be._storage.overwrite(Be._heartbeatsCache)),Zt})()}}function Xt(){return(new Date).toISOString().substring(0,10)}class Yr{constructor(Be){this.app=Be,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,De.hl)()&&(0,De.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Be=this;return(0,p.Z)(function*(){return(yield Be._canUseIndexedDBPromise)&&(yield function ne(ot){return te.apply(this,arguments)}(Be.app))||{heartbeats:[]}})()}overwrite(Be){var At=this;return(0,p.Z)(function*(){var Kt;if(yield At._canUseIndexedDBPromise){const Zt=yield At.read();return Pe(At.app,{lastSentHeartbeatDate:null!==(Kt=Be.lastSentHeartbeatDate)&&void 0!==Kt?Kt:Zt.lastSentHeartbeatDate,heartbeats:Be.heartbeats})}})()}add(Be){var At=this;return(0,p.Z)(function*(){var Kt;if(yield At._canUseIndexedDBPromise){const Zt=yield At.read();return Pe(At.app,{lastSentHeartbeatDate:null!==(Kt=Be.lastSentHeartbeatDate)&&void 0!==Kt?Kt:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...Be.heartbeats]})}})()}}function Ei(ot){return(0,De.L)(JSON.stringify({version:2,heartbeats:ot})).length}!function Ri(ot){hr(new de.wA("platform-logger",Be=>new kn(Be),"PRIVATE")),hr(new de.wA("heartbeat",Be=>new Kn(Be),"PRIVATE")),vi(wt,"0.9.13",ot),vi(wt,"0.9.13","esm2017"),vi("fire-js","")}("")},4537:(ln,pt,Z)=>{Z.d(pt,{H0:()=>Xe,wA:()=>Ee});var p=Z(5861),de=Z(9058);class Ee{constructor(he,ue,Ve){this.name=he,this.instanceFactory=ue,this.type=Ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const De="[DEFAULT]";class Me{constructor(he,ue){this.name=he,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const ue=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(ue)){const Ve=new de.BH;if(this.instancesDeferred.set(ue,Ve),this.isInitialized(ue)||this.shouldAutoInitialize())try{const it=this.getOrInitializeService({instanceIdentifier:ue});it&&Ve.resolve(it)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(he){var ue;const Ve=this.normalizeInstanceIdentifier(he?.identifier),it=null!==(ue=he?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(Ve)&&!this.shouldAutoInitialize()){if(it)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ve})}catch(Ae){if(it)return null;throw Ae}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function E(We){return"EAGER"===We.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:De})}catch{}for(const[ue,Ve]of this.instancesDeferred.entries()){const it=this.normalizeInstanceIdentifier(ue);try{const Ae=this.getOrInitializeService({instanceIdentifier:it});Ve.resolve(Ae)}catch{}}}}clearInstance(he=De){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,p.Z)(function*(){const ue=Array.from(he.instances.values());yield Promise.all([...ue.filter(Ve=>"INTERNAL"in Ve).map(Ve=>Ve.INTERNAL.delete()),...ue.filter(Ve=>"_delete"in Ve).map(Ve=>Ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=De){return this.instances.has(he)}getOptions(he=De){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:ue={}}=he,Ve=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(Ve))throw Error(`${this.name}(${Ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const it=this.getOrInitializeService({instanceIdentifier:Ve,options:ue});for(const[Ae,Nt]of this.instancesDeferred.entries())Ve===this.normalizeInstanceIdentifier(Ae)&&Nt.resolve(it);return it}onInit(he,ue){var Ve;const it=this.normalizeInstanceIdentifier(ue),Ae=null!==(Ve=this.onInitCallbacks.get(it))&&void 0!==Ve?Ve:new Set;Ae.add(he),this.onInitCallbacks.set(it,Ae);const Nt=this.instances.get(it);return Nt&&he(Nt,it),()=>{Ae.delete(he)}}invokeOnInitCallbacks(he,ue){const Ve=this.onInitCallbacks.get(ue);if(Ve)for(const it of Ve)try{it(he,ue)}catch{}}getOrInitializeService({instanceIdentifier:he,options:ue={}}){let Ve=this.instances.get(he);if(!Ve&&this.component&&(Ve=this.component.instanceFactory(this.container,{instanceIdentifier:(We=he,We===De?void 0:We),options:ue}),this.instances.set(he,Ve),this.instancesOptions.set(he,ue),this.invokeOnInitCallbacks(Ve,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,Ve)}catch{}var We;return Ve||null}normalizeInstanceIdentifier(he=De){return this.component?this.component.multipleInstances?he:De:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Xe{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const ue=this.getProvider(he.name);if(ue.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);ue.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const ue=new Me(he,this);return this.providers.set(he,ue),ue}getProviders(){return Array.from(this.providers.values())}}},7879:(ln,pt,Z)=>{Z.d(pt,{Am:()=>We,Ub:()=>Xe,Yd:()=>E,in:()=>de});const p=[];var de=function(he){return he[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",he}(de||{});const Ee={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},De=de.INFO,Me={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},ae=(he,ue,...Ve)=>{if(ue<he.logLevel)return;const it=(new Date).toISOString(),Ae=Me[ue];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[Ae](`[${it}]  ${he.name}:`,...Ve)};class E{constructor(ue){this.name=ue,this._logLevel=De,this._logHandler=ae,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in de))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?Ee[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...ue),this._logHandler(this,de.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...ue),this._logHandler(this,de.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,de.INFO,...ue),this._logHandler(this,de.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,de.WARN,...ue),this._logHandler(this,de.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...ue),this._logHandler(this,de.ERROR,...ue)}}function Xe(he){p.forEach(ue=>{ue.setLogLevel(he)})}function We(he,ue){for(const Ve of p){let it=null;ue&&ue.level&&(it=Ee[ue.level]),Ve.userLogHandler=null===he?null:(Ae,Nt,...bt)=>{const Vt=bt.map(St=>{if(null==St)return null;if("string"==typeof St)return St;if("number"==typeof St||"boolean"==typeof St)return St.toString();if(St instanceof Error)return St.message;try{return JSON.stringify(St)}catch{return null}}).filter(St=>St).join(" ");Nt>=(it??Ae.logLevel)&&he({level:de[Nt].toLowerCase(),message:Vt,args:bt,type:Ae.name})}}}},3182:(ln,pt,Z)=>{Z.d(pt,{C6:()=>p.getApps,KN:()=>p.registerVersion,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=Z(534);(0,p.registerVersion)("firebase","9.23.0","app")},7142:(ln,pt,Z)=>{Z.d(pt,{Z:()=>p.Z});var p=Z(3106);p.Z.registerVersion("firebase","9.23.0","app-compat")},6315:(ln,pt,Z)=>{Z.d(pt,{KV:()=>p.KV,cF:()=>p.cF,iH:()=>p.iH});var p=Z(8153)},2425:(ln,pt,Z)=>{Z.d(pt,{Rh:()=>Ft,_W:()=>or,nd:()=>In});var p=Z(4946),de=Z(6825),Ee=Z(6814),De=Z(8645),Me=Z(6593);const ae=["toast-component",""];function E(Te,ve){if(1&Te){const oe=p.EpF();p.TgZ(0,"button",5),p.NdJ("click",function(){p.CHM(oe);const Ke=p.oxw();return p.KtG(Ke.remove())}),p.TgZ(1,"span",6),p._uU(2,"\xd7"),p.qZA()()}}function Xe(Te,ve){if(1&Te&&(p.ynx(0),p._uU(1),p.BQk()),2&Te){const oe=p.oxw(2);p.xp6(1),p.hij("[",oe.duplicatesCount+1,"]")}}function We(Te,ve){if(1&Te&&(p.TgZ(0,"div"),p._uU(1),p.YNc(2,Xe,2,1,"ng-container",4),p.qZA()),2&Te){const oe=p.oxw();p.Tol(oe.options.titleClass),p.uIk("aria-label",oe.title),p.xp6(1),p.hij(" ",oe.title," "),p.xp6(1),p.Q6J("ngIf",oe.duplicatesCount)}}function he(Te,ve){if(1&Te&&p._UZ(0,"div",7),2&Te){const oe=p.oxw();p.Tol(oe.options.messageClass),p.Q6J("innerHTML",oe.message,p.oJD)}}function ue(Te,ve){if(1&Te&&(p.TgZ(0,"div",8),p._uU(1),p.qZA()),2&Te){const oe=p.oxw();p.Tol(oe.options.messageClass),p.uIk("aria-label",oe.message),p.xp6(1),p.hij(" ",oe.message," ")}}function Ve(Te,ve){if(1&Te&&(p.TgZ(0,"div"),p._UZ(1,"div",9),p.qZA()),2&Te){const oe=p.oxw();p.xp6(1),p.Udp("width",oe.width+"%")}}class Mt{_attachedHost;component;viewContainerRef;injector;constructor(ve,oe){this.component=ve,this.injector=oe}attach(ve,oe){return this._attachedHost=ve,ve.attach(this,oe)}detach(){const ve=this._attachedHost;if(ve)return this._attachedHost=void 0,ve.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(ve){this._attachedHost=ve}}class Ce{_attachedPortal;_disposeFn;attach(ve,oe){return this._attachedPortal=ve,this.attachComponentPortal(ve,oe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(ve){this._disposeFn=ve}}class tt{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new De.x;_activate=new De.x;_manualClose=new De.x;_resetTimeout=new De.x;_countDuplicate=new De.x;constructor(ve){this._overlayRef=ve}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(ve,oe){ve&&this._resetTimeout.next(),oe&&this._countDuplicate.next(++this.duplicatesCount)}}class Ze{toastId;config;message;title;toastType;toastRef;_onTap=new De.x;_onAction=new De.x;constructor(ve,oe,ye,Ke,ht,_t){this.toastId=ve,this.config=oe,this.message=ye,this.title=Ke,this.toastType=ht,this.toastRef=_t,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(ve){this._onAction.next(ve)}onAction(){return this._onAction.asObservable()}}const ut=new p.OlP("ToastConfig");class ct extends Ce{_hostDomElement;_componentFactoryResolver;_appRef;constructor(ve,oe,ye){super(),this._hostDomElement=ve,this._componentFactoryResolver=oe,this._appRef=ye}attachComponentPortal(ve,oe){const ye=this._componentFactoryResolver.resolveComponentFactory(ve.component);let Ke;return Ke=ye.create(ve.injector),this._appRef.attachView(Ke.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Ke.hostView),Ke.destroy()}),oe?this._hostDomElement.insertBefore(this._getComponentRootNode(Ke),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Ke)),Ke}_getComponentRootNode(ve){return ve.hostView.rootNodes[0]}}let at=(()=>{class Te{_document=(0,p.f3M)(Ee.K0);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const oe=this._document.createElement("div");oe.classList.add("overlay-container"),oe.setAttribute("aria-live","polite"),this._document.body.appendChild(oe),this._containerElement=oe}static \u0275fac=function(ye){return new(ye||Te)};static \u0275prov=p.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})();class vn{_portalHost;constructor(ve){this._portalHost=ve}attach(ve,oe=!0){return this._portalHost.attach(ve,oe)}detach(){return this._portalHost.detach()}}let kn=(()=>{class Te{_overlayContainer=(0,p.f3M)(at);_componentFactoryResolver=(0,p.f3M)(p._Vd);_appRef=(0,p.f3M)(p.z2F);_document=(0,p.f3M)(Ee.K0);_paneElements=new Map;create(oe,ye){return this._createOverlayRef(this.getPaneElement(oe,ye))}getPaneElement(oe="",ye){return this._paneElements.get(ye)||this._paneElements.set(ye,{}),this._paneElements.get(ye)[oe]||(this._paneElements.get(ye)[oe]=this._createPaneElement(oe,ye)),this._paneElements.get(ye)[oe]}_createPaneElement(oe,ye){const Ke=this._document.createElement("div");return Ke.id="toast-container",Ke.classList.add(oe),Ke.classList.add("toast-container"),ye?ye.getContainerElement().appendChild(Ke):this._overlayContainer.getContainerElement().appendChild(Ke),Ke}_createPortalHost(oe){return new ct(oe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(oe){return new vn(this._createPortalHost(oe))}static \u0275fac=function(ye){return new(ye||Te)};static \u0275prov=p.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})(),or=(()=>{class Te{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(oe,ye,Ke,ht,_t){this.overlay=ye,this._injector=Ke,this.sanitizer=ht,this.ngZone=_t,this.toastrConfig={...oe.default,...oe.config},oe.config.iconClasses&&(this.toastrConfig.iconClasses={...oe.default.iconClasses,...oe.config.iconClasses})}show(oe,ye,Ke={},ht=""){return this._preBuildNotification(ht,oe,ye,this.applyConfig(Ke))}success(oe,ye,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",oe,ye,this.applyConfig(Ke))}error(oe,ye,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",oe,ye,this.applyConfig(Ke))}info(oe,ye,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",oe,ye,this.applyConfig(Ke))}warning(oe,ye,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",oe,ye,this.applyConfig(Ke))}clear(oe){for(const ye of this.toasts)if(void 0!==oe){if(ye.toastId===oe)return void ye.toastRef.manualClose()}else ye.toastRef.manualClose()}remove(oe){const ye=this._findToast(oe);if(!ye||(ye.activeToast.toastRef.close(),this.toasts.splice(ye.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ke=this.toasts[this.currentlyActive].toastRef;Ke.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ke.activate())}return!0}findDuplicate(oe="",ye="",Ke,ht){const{includeTitleDuplicates:_t}=this.toastrConfig;for(const jt of this.toasts)if((!_t||_t&&jt.title===oe)&&jt.message===ye)return jt.toastRef.onDuplicate(Ke,ht),jt;return null}applyConfig(oe={}){return{...this.toastrConfig,...oe}}_findToast(oe){for(let ye=0;ye<this.toasts.length;ye++)if(this.toasts[ye].toastId===oe)return{index:ye,activeToast:this.toasts[ye]};return null}_preBuildNotification(oe,ye,Ke,ht){return ht.onActivateTick?this.ngZone.run(()=>this._buildNotification(oe,ye,Ke,ht)):this._buildNotification(oe,ye,Ke,ht)}_buildNotification(oe,ye,Ke,ht){if(!ht.toastComponent)throw new Error("toastComponent required");const _t=this.findDuplicate(Ke,ye,this.toastrConfig.resetTimeoutOnDuplicate&&ht.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Ke||ye)&&this.toastrConfig.preventDuplicates&&null!==_t)return _t;this.previousToastMessage=ye;let jt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(jt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Wn=this.overlay.create(ht.positionClass,this.overlayContainer);this.index=this.index+1;let zn=ye;ye&&ht.enableHtml&&(zn=this.sanitizer.sanitize(p.q3G.HTML,ye));const Sn=new tt(Wn),ir=new Ze(this.index,ht,zn,Ke,oe,Sn),Ur=p.zs3.create({providers:[{provide:Ze,useValue:ir}],parent:this._injector}),qn=new Mt(ht.toastComponent,Ur),gn=Wn.attach(qn,ht.newestOnTop);Sn.componentInstance=gn.instance;const sr={toastId:this.index,title:Ke||"",message:ye||"",toastRef:Sn,onShown:Sn.afterActivate(),onHidden:Sn.afterClosed(),onTap:ir.onTap(),onAction:ir.onAction(),portal:gn};return jt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{sr.toastRef.activate()})),this.toasts.push(sr),sr}static \u0275fac=function(ye){return new(ye||Te)(p.LFG(ut),p.LFG(kn),p.LFG(p.zs3),p.LFG(Me.H7),p.LFG(p.R0b))};static \u0275prov=p.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})();const Et={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class Te{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(oe,ye,Ke){this.toastrService=oe,this.toastPackage=ye,this.ngZone=Ke,this.message=ye.message,this.title=ye.title,this.options=ye.config,this.originalTimeout=ye.config.timeOut,this.toastClasses=`${ye.toastType} ${ye.config.toastClass}`,this.sub=ye.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=ye.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=ye.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=ye.toastRef.countDuplicate().subscribe(ht=>{this.duplicatesCount=ht}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const oe=(new Date).getTime();this.width=(this.hideTime-oe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(oe,ye){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(oe),ye)):this.timeout=setTimeout(()=>oe(),ye)}outsideInterval(oe,ye){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(oe),ye)):this.intervalId=setInterval(()=>oe(),ye)}runInsideAngular(oe){this.ngZone?this.ngZone.run(()=>oe()):oe()}static \u0275fac=function(ye){return new(ye||Te)(p.Y36(or),p.Y36(Ze),p.Y36(p.R0b))};static \u0275cmp=p.Xpm({type:Te,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(ye,Ke){1&ye&&p.NdJ("click",function(){return Ke.tapToast()})("mouseenter",function(){return Ke.stickAround()})("mouseleave",function(){return Ke.delayedHideToast()}),2&ye&&(p.d8E("@flyInOut",Ke.state),p.Tol(Ke.toastClasses),p.Udp("display",Ke.displayStyle))},standalone:!0,features:[p.jDz],attrs:ae,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(ye,Ke){1&ye&&(p.YNc(0,E,3,0,"button",0),p.YNc(1,We,3,5,"div",1),p.YNc(2,he,1,3,"div",2),p.YNc(3,ue,2,4,"div",3),p.YNc(4,Ve,2,2,"div",4)),2&ye&&(p.Q6J("ngIf",Ke.options.closeButton),p.xp6(1),p.Q6J("ngIf",Ke.title),p.xp6(1),p.Q6J("ngIf",Ke.message&&Ke.options.enableHtml),p.xp6(1),p.Q6J("ngIf",Ke.message&&!Ke.options.enableHtml),p.xp6(1),p.Q6J("ngIf",Ke.options.progressBar))},dependencies:[Ee.O5],encapsulation:2,data:{animation:[(0,de.X$)("flyInOut",[(0,de.SB)("inactive",(0,de.oB)({opacity:0})),(0,de.SB)("active",(0,de.oB)({opacity:1})),(0,de.SB)("removed",(0,de.oB)({opacity:0})),(0,de.eR)("inactive => active",(0,de.jt)("{{ easeTime }}ms {{ easing }}")),(0,de.eR)("active => removed",(0,de.jt)("{{ easeTime }}ms {{ easing }}"))])]}})}return Te})()},In=(Te={})=>(0,p.MR2)([{provide:ut,useValue:{default:Et,config:Te}}]);let Ft=(()=>{class Te{static forRoot(oe={}){return{ngModule:Te,providers:[In(oe)]}}static \u0275fac=function(ye){return new(ye||Te)};static \u0275mod=p.oAB({type:Te});static \u0275inj=p.cJS({})}return Te})()},5861:(ln,pt,Z)=>{function p(Ee,De,Me,ae,E,Xe,We){try{var he=Ee[Xe](We),ue=he.value}catch(Ve){return void Me(Ve)}he.done?De(ue):Promise.resolve(ue).then(ae,E)}function de(Ee){return function(){var De=this,Me=arguments;return new Promise(function(ae,E){var Xe=Ee.apply(De,Me);function We(ue){p(Xe,ae,E,We,he,"next",ue)}function he(ue){p(Xe,ae,E,We,he,"throw",ue)}We(void 0)})}}Z.d(pt,{Z:()=>de})},7582:(ln,pt,Z)=>{function De($e,Je){var st={};for(var Te in $e)Object.prototype.hasOwnProperty.call($e,Te)&&Je.indexOf(Te)<0&&(st[Te]=$e[Te]);if(null!=$e&&"function"==typeof Object.getOwnPropertySymbols){var ve=0;for(Te=Object.getOwnPropertySymbols($e);ve<Te.length;ve++)Je.indexOf(Te[ve])<0&&Object.prototype.propertyIsEnumerable.call($e,Te[ve])&&(st[Te[ve]]=$e[Te[ve]])}return st}function Ve($e,Je,st,Te){return new(st||(st=Promise))(function(oe,ye){function Ke(jt){try{_t(Te.next(jt))}catch(Wn){ye(Wn)}}function ht(jt){try{_t(Te.throw(jt))}catch(Wn){ye(Wn)}}function _t(jt){jt.done?oe(jt.value):function ve(oe){return oe instanceof st?oe:new st(function(ye){ye(oe)})}(jt.value).then(Ke,ht)}_t((Te=Te.apply($e,Je||[])).next())})}function Ce($e){return this instanceof Ce?(this.v=$e,this):new Ce($e)}function tt($e,Je,st){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,Te=st.apply($e,Je||[]),oe=[];return ve={},ye("next"),ye("throw"),ye("return"),ve[Symbol.asyncIterator]=function(){return this},ve;function ye(zn){Te[zn]&&(ve[zn]=function(Sn){return new Promise(function(ir,Xn){oe.push([zn,Sn,ir,Xn])>1||Ke(zn,Sn)})})}function Ke(zn,Sn){try{!function ht(zn){zn.value instanceof Ce?Promise.resolve(zn.value.v).then(_t,jt):Wn(oe[0][2],zn)}(Te[zn](Sn))}catch(ir){Wn(oe[0][3],ir)}}function _t(zn){Ke("next",zn)}function jt(zn){Ke("throw",zn)}function Wn(zn,Sn){zn(Sn),oe.shift(),oe.length&&Ke(oe[0][0],oe[0][1])}}function gt($e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var st,Je=$e[Symbol.asyncIterator];return Je?Je.call($e):($e=function bt($e){var Je="function"==typeof Symbol&&Symbol.iterator,st=Je&&$e[Je],Te=0;if(st)return st.call($e);if($e&&"number"==typeof $e.length)return{next:function(){return $e&&Te>=$e.length&&($e=void 0),{value:$e&&$e[Te++],done:!$e}}};throw new TypeError(Je?"Object is not iterable.":"Symbol.iterator is not defined.")}($e),st={},Te("next"),Te("throw"),Te("return"),st[Symbol.asyncIterator]=function(){return this},st);function Te(oe){st[oe]=$e[oe]&&function(ye){return new Promise(function(Ke,ht){!function ve(oe,ye,Ke,ht){Promise.resolve(ht).then(function(_t){oe({value:_t,done:Ke})},ye)}(Ke,ht,(ye=$e[oe](ye)).done,ye.value)})}}}Z.d(pt,{FC:()=>tt,KL:()=>gt,_T:()=>De,mG:()=>Ve,qq:()=>Ce}),"function"==typeof SuppressedError&&SuppressedError}},ln=>{ln(ln.s=5430)}]);